(function(){var e={5358:function(e,a,t){var s={"./af":2190,"./af.js":2190,"./ar":7218,"./ar-dz":5785,"./ar-dz.js":5785,"./ar-kw":9417,"./ar-kw.js":9417,"./ar-ly":6904,"./ar-ly.js":6904,"./ar-ma":8617,"./ar-ma.js":8617,"./ar-ps":1318,"./ar-ps.js":1318,"./ar-sa":2699,"./ar-sa.js":2699,"./ar-tn":6789,"./ar-tn.js":6789,"./ar.js":7218,"./az":3050,"./az.js":3050,"./be":8316,"./be.js":8316,"./bg":310,"./bg.js":310,"./bm":8884,"./bm.js":8884,"./bn":3469,"./bn-bd":6672,"./bn-bd.js":6672,"./bn.js":3469,"./bo":9118,"./bo.js":9118,"./br":3113,"./br.js":3113,"./bs":3626,"./bs.js":3626,"./ca":921,"./ca.js":921,"./cs":7799,"./cs.js":7799,"./cv":2828,"./cv.js":2828,"./cy":3521,"./cy.js":3521,"./da":6962,"./da.js":6962,"./de":3294,"./de-at":6158,"./de-at.js":6158,"./de-ch":5960,"./de-ch.js":5960,"./de.js":3294,"./dv":7963,"./dv.js":7963,"./el":3432,"./el.js":3432,"./en-au":998,"./en-au.js":998,"./en-ca":5931,"./en-ca.js":5931,"./en-gb":5930,"./en-gb.js":5930,"./en-ie":8081,"./en-ie.js":8081,"./en-il":1594,"./en-il.js":1594,"./en-in":3904,"./en-in.js":3904,"./en-nz":1507,"./en-nz.js":1507,"./en-sg":9409,"./en-sg.js":9409,"./eo":2177,"./eo.js":2177,"./es":4805,"./es-do":9155,"./es-do.js":9155,"./es-mx":9791,"./es-mx.js":9791,"./es-us":6098,"./es-us.js":6098,"./es.js":4805,"./et":6240,"./et.js":6240,"./eu":391,"./eu.js":391,"./fa":612,"./fa.js":612,"./fi":4220,"./fi.js":4220,"./fil":5570,"./fil.js":5570,"./fo":5466,"./fo.js":5466,"./fr":4461,"./fr-ca":6306,"./fr-ca.js":6306,"./fr-ch":7081,"./fr-ch.js":7081,"./fr.js":4461,"./fy":3484,"./fy.js":3484,"./ga":6957,"./ga.js":6957,"./gd":2978,"./gd.js":2978,"./gl":9866,"./gl.js":9866,"./gom-deva":5011,"./gom-deva.js":5011,"./gom-latn":4724,"./gom-latn.js":4724,"./gu":1601,"./gu.js":1601,"./he":9802,"./he.js":9802,"./hi":9358,"./hi.js":9358,"./hr":3907,"./hr.js":3907,"./hu":218,"./hu.js":218,"./hy-am":533,"./hy-am.js":533,"./id":2844,"./id.js":2844,"./is":7353,"./is.js":7353,"./it":6364,"./it-ch":774,"./it-ch.js":774,"./it.js":6364,"./ja":6008,"./ja.js":6008,"./jv":8221,"./jv.js":8221,"./ka":2417,"./ka.js":2417,"./kk":2071,"./kk.js":2071,"./km":6149,"./km.js":6149,"./kn":4572,"./kn.js":4572,"./ko":659,"./ko.js":659,"./ku":6285,"./ku-kmr":9398,"./ku-kmr.js":9398,"./ku.js":6285,"./ky":1609,"./ky.js":1609,"./lb":119,"./lb.js":119,"./lo":1748,"./lo.js":1748,"./lt":1973,"./lt.js":1973,"./lv":1347,"./lv.js":1347,"./me":3023,"./me.js":3023,"./mi":5747,"./mi.js":5747,"./mk":4341,"./mk.js":4341,"./ml":3840,"./ml.js":3840,"./mn":2058,"./mn.js":2058,"./mr":9182,"./mr.js":9182,"./ms":5197,"./ms-my":9136,"./ms-my.js":9136,"./ms.js":5197,"./mt":6408,"./mt.js":6408,"./my":1683,"./my.js":1683,"./nb":3141,"./nb.js":3141,"./ne":9344,"./ne.js":9344,"./nl":4703,"./nl-be":4641,"./nl-be.js":4641,"./nl.js":4703,"./nn":9873,"./nn.js":9873,"./oc-lnc":1217,"./oc-lnc.js":1217,"./pa-in":4612,"./pa-in.js":4612,"./pl":4457,"./pl.js":4457,"./pt":1089,"./pt-br":9146,"./pt-br.js":9146,"./pt.js":1089,"./ro":5950,"./ro.js":5950,"./ru":7292,"./ru.js":7292,"./sd":6774,"./sd.js":6774,"./se":7493,"./se.js":7493,"./si":3761,"./si.js":3761,"./sk":9711,"./sk.js":9711,"./sl":8558,"./sl.js":8558,"./sq":8633,"./sq.js":8633,"./sr":688,"./sr-cyrl":7903,"./sr-cyrl.js":7903,"./sr.js":688,"./ss":1991,"./ss.js":1991,"./sv":7020,"./sv.js":7020,"./sw":5891,"./sw.js":5891,"./ta":5714,"./ta.js":5714,"./te":206,"./te.js":206,"./tet":4768,"./tet.js":4768,"./tg":8276,"./tg.js":8276,"./th":7977,"./th.js":7977,"./tk":6928,"./tk.js":6928,"./tl-ph":8046,"./tl-ph.js":8046,"./tlh":1361,"./tlh.js":1361,"./tr":4367,"./tr.js":4367,"./tzl":627,"./tzl.js":627,"./tzm":2636,"./tzm-latn":8148,"./tzm-latn.js":8148,"./tzm.js":2636,"./ug-cn":8823,"./ug-cn.js":8823,"./uk":461,"./uk.js":461,"./ur":1366,"./ur.js":1366,"./uz":3454,"./uz-latn":8374,"./uz-latn.js":8374,"./uz.js":3454,"./vi":8572,"./vi.js":8572,"./x-pseudo":464,"./x-pseudo.js":464,"./yo":3709,"./yo.js":3709,"./zh-cn":5873,"./zh-cn.js":5873,"./zh-hk":7549,"./zh-hk.js":7549,"./zh-mo":2240,"./zh-mo.js":2240,"./zh-tw":405,"./zh-tw.js":405};function r(e){var a=l(e);return t(a)}function l(e){if(!t.o(s,e)){var a=new Error("Cannot find module '"+e+"'");throw a.code="MODULE_NOT_FOUND",a}return s[e]}r.keys=function(){return Object.keys(s)},r.resolve=l,e.exports=r,r.id=5358},1062:function(e,a,t){"use strict";var s=t(5130),r=t(6768);const l={key:0},i={class:"main main-app p-3 p-lg-4"},o={key:1};function d(e,a,t,s,d,n){const c=(0,r.g2)("Menu"),u=(0,r.g2)("Header"),_=(0,r.g2)("router-view");return e.$store.getters.user?((0,r.uX)(),(0,r.CE)("div",l,[(0,r.bF)(c),(0,r.bF)(u),(0,r.Lk)("div",i,[(0,r.bF)(_)])])):((0,r.uX)(),(0,r.CE)("div",o,[(0,r.bF)(_)]))}var n=t(4232),c=t.p+"img/jsw.23e74a16.png",u=t.p+"img/default_avatar.f0ab42c4.png";const _={class:"sidebar sidebar-light"},p={class:"sidebar-header"},m={id:"sidebarMenu",class:"sidebar-body"},b={class:"nav-group show"},k={class:"nav nav-sidebar"},v={class:"nav-item"},h={class:"nav nav-sidebar"},y={class:"nav-item"},g={class:"nav-item"},f={class:"nav-item"},L={class:"nav nav-sidebar"},C={class:"nav-item"},w={class:"nav-item"},E={class:"nav-item"},x={class:"nav-item"},X={class:"nav-item"},P={class:"nav-item"},S={class:"nav-group show"},A={class:"nav nav-sidebar"},D={class:"nav-item"},T={class:"nav nav-sidebar"},Q={class:"nav-item"},V={class:"nav-item"},F={class:"nav-item"},U={class:"nav-item"},j={class:"nav-item"},z={class:"nav-item"},W={class:"nav-item"},R={class:"nav-item"},q={class:"nav nav-sidebar"},I={class:"nav-item"},N={class:"nav-item"},M={class:"nav-item"},K={class:"nav-item"},J={class:"nav-item"},B={class:"nav-item"},O={class:"nav-item"},H={class:"nav nav-sidebar"},Y={class:"nav-item"},Z={class:"nav-item"},G={class:"nav-item"},ee={class:"nav-item"},ae={class:"nav-item"},te={class:"nav-group show"},se={class:"nav nav-sidebar"},re={class:"nav-item"},le={class:"nav-group show"},ie={class:"nav nav-sidebar"},oe={class:"nav-item"},de={class:"nav nav-sidebar"},ne={class:"nav-item"},ce={class:"nav-item"},ue={class:"nav-item"},_e={class:"nav-item"},pe={class:"nav-item"},me={class:"nav-item"},be={class:"nav-item"},ke={class:"nav nav-sidebar"},ve={class:"nav-item"},he={class:"nav-item"},ye={class:"nav-item"},ge={class:"nav-item"},fe={class:"nav-item"},Le={class:"nav-item"},Ce={class:"nav-item"},we={class:"nav-item"},Ee={class:"nav-item"},xe={class:"nav nav-sidebar"},Xe={class:"nav-item"},Pe={class:"nav-item"},$e={class:"nav-item"},Se={class:"nav-item"},Ae={class:"nav-item"},De={class:"nav-item"},Te={class:"nav-item"},Qe={class:"nav nav-sidebar"},Ve={class:"nav-item"},Fe={class:"nav-item"},Ue={class:"nav-group show"},je={class:"nav nav-sidebar"},ze={class:"nav-item"},We={class:"nav-group show"},Re={class:"nav nav-sidebar"},qe={class:"nav-item"},Ie={class:"sidebar-footer"},Ne={class:"sidebar-footer-top"},Me={class:"sidebar-footer-thumb"},Ke={key:0,class:"avatar online"},Je=["src"],Be={key:1,class:"avatar online"},Oe={class:"sidebar-footer-body"};function He(e,a,t,s,l,i){const o=(0,r.g2)("router-link"),d=(0,r.gN)("can");return(0,r.uX)(),(0,r.CE)("div",_,[(0,r.Lk)("div",p,[(0,r.bF)(o,{to:"/dashboard",class:"sidebar-logo"},{default:(0,r.k6)((()=>a[15]||(a[15]=[(0,r.Lk)("img",{src:c,width:"150"},null,-1),(0,r.Lk)("span",{class:"version-number"},"v1.3.3",-1)]))),_:1})]),(0,r.Lk)("div",m,[(0,r.Lk)("div",b,[(0,r.Lk)("ul",k,[(0,r.Lk)("li",v,[(0,r.bF)(o,{to:"/dashboard",style:(0,n.Tr)({color:l.dashboardActive}),onClick:a[0]||(a[0]=e=>i.showTab("Dashboard")),class:"nav-link"},{default:(0,r.k6)((()=>a[16]||(a[16]=[(0,r.Lk)("i",{class:"ri-command-line"},null,-1),(0,r.eW)(),(0,r.Lk)("span",null,"Dashboard",-1)]))),_:1},8,["style"])])])]),i.permission("UserManagement")?((0,r.uX)(),(0,r.CE)("div",{key:0,class:(0,n.C4)(["nav-group",{show:l.showUser}]),onClick:a[1]||(a[1]=e=>i.showTab("UserManagement"))},[(0,r.Lk)("a",{href:"javascript:void(0)",style:(0,n.Tr)({color:l.userManagementColor}),class:"nav-label"},a[17]||(a[17]=[(0,r.Lk)("i",{class:"ri-user-settings-line icn"},null,-1),(0,r.eW)(" User Management")]),4),(0,r.Lk)("ul",h,[(0,r.bo)(((0,r.uX)(),(0,r.CE)("li",y,[(0,r.bF)(o,{to:"/role",class:(0,n.C4)([{active:"/role"===e.$route.path},"nav-link pl-15"])},{default:(0,r.k6)((()=>a[18]||(a[18]=[(0,r.Lk)("i",{class:"ri-database-2-fill"},null,-1),(0,r.eW)(),(0,r.Lk)("span",null,"Roles",-1)]))),_:1},8,["class"])])),[[d,"roles.view"]]),(0,r.bo)(((0,r.uX)(),(0,r.CE)("li",g,[(0,r.bF)(o,{to:"/users",class:(0,n.C4)([{active:"/users"===e.$route.path||"Users.Create"===e.$route.name||"Users.Edit"===e.$route.path},"nav-link pl-15"])},{default:(0,r.k6)((()=>a[19]||(a[19]=[(0,r.Lk)("i",{class:"ri-user-line"},null,-1),(0,r.eW)(),(0,r.Lk)("span",null,"Users",-1)]))),_:1},8,["class"])])),[[d,"users.view"]]),(0,r.bo)(((0,r.uX)(),(0,r.CE)("li",f,[(0,r.bF)(o,{to:"/permissions",class:(0,n.C4)([{active:"/permissions"===e.$route.path},"nav-link pl-15"])},{default:(0,r.k6)((()=>a[20]||(a[20]=[(0,r.Lk)("i",{class:"ri-sensor-fill"},null,-1),(0,r.eW)(),(0,r.Lk)("span",null,"Permissions",-1)]))),_:1},8,["class"])])),[[d,"permissions.view"]])])],2)):(0,r.Q3)("",!0),i.permission("LineageParameters")?((0,r.uX)(),(0,r.CE)("div",{key:1,class:(0,n.C4)(["nav-group",{show:l.showLinage}]),onClick:a[2]||(a[2]=e=>i.showTab("LineageParameters"))},[(0,r.Lk)("a",{href:"javascript:void(0)",style:(0,n.Tr)({color:l.color}),class:"nav-label"},a[21]||(a[21]=[(0,r.Lk)("i",{class:"ri-equalizer-line icn"},null,-1),(0,r.eW)(" Lineage parameters")]),4),(0,r.Lk)("ul",L,[(0,r.bo)(((0,r.uX)(),(0,r.CE)("li",C,[(0,r.bF)(o,{to:"/phases",class:(0,n.C4)([{active:"/phases"===e.$route.path},"nav-link pl-15"])},{default:(0,r.k6)((()=>a[22]||(a[22]=[(0,r.Lk)("i",{class:"ri-flag-line"},null,-1),(0,r.eW)(),(0,r.Lk)("span",null,"Phases",-1)]))),_:1},8,["class"])])),[[d,"phases.view"]]),(0,r.bo)(((0,r.uX)(),(0,r.CE)("li",w,[(0,r.bF)(o,{to:"/areas",class:(0,n.C4)([{active:"/areas"===e.$route.path},"nav-link pl-15"])},{default:(0,r.k6)((()=>a[23]||(a[23]=[(0,r.Lk)("i",{class:"ri-command-line"},null,-1),(0,r.eW)(),(0,r.Lk)("span",null,"Areas",-1)]))),_:1},8,["class"])])),[[d,"areas.view"]]),(0,r.bo)(((0,r.uX)(),(0,r.CE)("li",E,[(0,r.bF)(o,{to:"/plants",class:(0,n.C4)([{active:"/plants"===e.$route.path},"nav-link pl-15"])},{default:(0,r.k6)((()=>a[24]||(a[24]=[(0,r.Lk)("i",{class:"ri-building-fill"},null,-1),(0,r.eW)(),(0,r.Lk)("span",null,"Shops",-1)]))),_:1},8,["class"])])),[[d,"shops.view"]]),(0,r.bo)(((0,r.uX)(),(0,r.CE)("li",x,[(0,r.bF)(o,{to:"/section",class:(0,n.C4)([{active:"/section"===e.$route.path},"nav-link pl-15"])},{default:(0,r.k6)((()=>a[25]||(a[25]=[(0,r.Lk)("i",{class:"ri-stack-line"},null,-1),(0,r.eW)(),(0,r.Lk)("span",null,"Section",-1)]))),_:1},8,["class"])])),[[d,"sections.view"]]),(0,r.bo)(((0,r.uX)(),(0,r.CE)("li",X,[(0,r.bF)(o,{to:"/department",class:(0,n.C4)([{active:"/department"===e.$route.path},"nav-link pl-15"])},{default:(0,r.k6)((()=>a[26]||(a[26]=[(0,r.Lk)("i",{class:"ri-government-line"},null,-1),(0,r.Lk)("span",null,"Department",-1)]))),_:1},8,["class"])])),[[d,"departments.view"]]),(0,r.bo)(((0,r.uX)(),(0,r.CE)("li",P,[(0,r.bF)(o,{to:"/functional",class:(0,n.C4)([{active:"/functional"===e.$route.path},"nav-link pl-15"])},{default:(0,r.k6)((()=>a[27]||(a[27]=[(0,r.Lk)("i",{class:"ri-rfid-line"},null,-1),(0,r.eW)(),(0,r.Lk)("span",null,"Functional",-1)]))),_:1},8,["class"])])),[[d,"functionals.view"]])])],2)):(0,r.Q3)("",!0),(0,r.Lk)("div",S,[(0,r.Lk)("ul",A,[(0,r.bo)(((0,r.uX)(),(0,r.CE)("li",D,[(0,r.bF)(o,{to:"/list_parameters",style:(0,n.Tr)({color:e.listActive}),onClick:a[3]||(a[3]=e=>i.showTab("List")),class:"nav-link"},{default:(0,r.k6)((()=>a[28]||(a[28]=[(0,r.Lk)("i",{class:"ri-command-line"},null,-1),(0,r.eW)(),(0,r.Lk)("span",null,"List Parameters",-1)]))),_:1},8,["style"])])),[[d,"list_parameters.view"]])])]),i.permission("TypeParameters")?((0,r.uX)(),(0,r.CE)("div",{key:2,class:(0,n.C4)(["nav-group",{show:l.showType}]),onClick:a[4]||(a[4]=e=>i.showTab("TypeParameters"))},[(0,r.Lk)("a",{href:"javascript:void(0)",style:(0,n.Tr)({color:l.typeParameterColor}),class:"nav-label"},a[29]||(a[29]=[(0,r.Lk)("i",{class:"ri-corner-up-right-double-line icn"},null,-1),(0,r.eW)(" Type Parameters")]),4),(0,r.Lk)("ul",T,[(0,r.bo)(((0,r.uX)(),(0,r.CE)("li",Q,[(0,r.bF)(o,{to:"/asset_types",class:(0,n.C4)([{active:"/asset_types"===e.$route.path},"nav-link pl-15"])},{default:(0,r.k6)((()=>a[30]||(a[30]=[(0,r.Lk)("i",{class:"ri-building-3-line"},null,-1),(0,r.eW)(),(0,r.Lk)("span",null,"Asset Types",-1)]))),_:1},8,["class"])])),[[d,"asset_types.view"]]),(0,r.bo)(((0,r.uX)(),(0,r.CE)("li",V,[(0,r.bF)(o,{to:"/service_types",class:(0,n.C4)([{active:"/service_types"===e.$route.path},"nav-link pl-15"])},{default:(0,r.k6)((()=>a[31]||(a[31]=[(0,r.Lk)("i",{class:"ri-layout-fill"},null,-1),(0,r.eW)(),(0,r.Lk)("span",null,"Service Types",-1)]))),_:1},8,["class"])])),[[d,"service_types.view"]]),(0,r.bo)(((0,r.uX)(),(0,r.CE)("li",F,[(0,r.bF)(o,{to:"/spare_types",class:(0,n.C4)([{active:"/spare_types"===e.$route.path},"nav-link pl-15"])},{default:(0,r.k6)((()=>a[32]||(a[32]=[(0,r.Lk)("i",{class:"ri-shapes-line"},null,-1),(0,r.eW)(),(0,r.Lk)("span",null,"Spare Types",-1)]))),_:1},8,["class"])])),[[d,"spare_types.view"]]),(0,r.bo)(((0,r.uX)(),(0,r.CE)("li",U,[(0,r.bF)(o,{to:"/activity_types",class:(0,n.C4)([{active:"/activity_types"===e.$route.path},"nav-link pl-15"])},{default:(0,r.k6)((()=>a[33]||(a[33]=[(0,r.Lk)("i",{class:"ri-color-filter-line"},null,-1),(0,r.eW)(),(0,r.Lk)("span",null,"Activity Types",-1)]))),_:1},8,["class"])])),[[d,"activity_types.view"]]),(0,r.bo)(((0,r.uX)(),(0,r.CE)("li",j,[(0,r.bF)(o,{to:"/data_source_type",class:(0,n.C4)([{active:"/data_source_type"===e.$route.path},"nav-link pl-15"])},{default:(0,r.k6)((()=>a[34]||(a[34]=[(0,r.Lk)("i",{class:"ri-line-chart-line"},null,-1),(0,r.eW)(),(0,r.Lk)("span",null,"Data Source Types",-1)]))),_:1},8,["class"])])),[[d,"data_source_types.view"]]),(0,r.bo)(((0,r.uX)(),(0,r.CE)("li",z,[(0,r.bF)(o,{to:"/break_down_type",class:(0,n.C4)([{active:"/break_down_type"===e.$route.path},"nav-link pl-15"])},{default:(0,r.k6)((()=>a[35]||(a[35]=[(0,r.Lk)("i",{class:"ri-bubble-chart-line"},null,-1),(0,r.eW)(),(0,r.Lk)("span",null,"Break Down Types",-1)]))),_:1},8,["class"])])),[[d,"break_down_types.view"]]),(0,r.bo)(((0,r.uX)(),(0,r.CE)("li",W,[(0,r.bF)(o,{to:"/accessory_type",class:(0,n.C4)([{active:"/accessory_type"===e.$route.path},"nav-link pl-15"])},{default:(0,r.k6)((()=>a[36]||(a[36]=[(0,r.Lk)("i",{class:"ri-briefcase-line"},null,-1),(0,r.eW)(),(0,r.Lk)("span",null,"Accessory Types",-1)]))),_:1},8,["class"])])),[[d,"accessory_types.view"]]),(0,r.bo)(((0,r.uX)(),(0,r.CE)("li",R,[(0,r.bF)(o,{to:"/variable_type",class:(0,n.C4)([{active:"/variable_type"===e.$route.path},"nav-link pl-15"])},{default:(0,r.k6)((()=>a[37]||(a[37]=[(0,r.Lk)("i",{class:"ri-infinity-line"},null,-1),(0,r.eW)(),(0,r.Lk)("span",null,"Variable Types",-1)]))),_:1},8,["class"])])),[[d,"variable_types.view"]])])],2)):(0,r.Q3)("",!0),i.permission("Attributes")?((0,r.uX)(),(0,r.CE)("div",{key:3,class:(0,n.C4)(["nav-group",{show:l.showAttributes}]),onClick:a[5]||(a[5]=e=>i.showTab("Attributes"))},[(0,r.Lk)("a",{href:"javascript:void(0)",class:"nav-label",style:(0,n.Tr)({color:l.AttributesColor})},a[38]||(a[38]=[(0,r.Lk)("i",{class:"ri-stack-fill icn"},null,-1),(0,r.eW)(" Attributes")]),4),(0,r.Lk)("ul",q,[(0,r.bo)(((0,r.uX)(),(0,r.CE)("li",I,[(0,r.bF)(o,{to:"/asset_attributes",class:(0,n.C4)([{active:"/asset_attributes"===e.$route.path||"AssetAttributes.Create"===e.$route.name||"AssetAttributes.Edit"===e.$route.path},"nav-link pl-15"])},{default:(0,r.k6)((()=>a[39]||(a[39]=[(0,r.Lk)("i",{class:"ri-building-3-line"},null,-1),(0,r.eW)(),(0,r.Lk)("span",null,"Asset Attribute",-1)]))),_:1},8,["class"])])),[[d,"asset_attributes.view"]]),(0,r.bo)(((0,r.uX)(),(0,r.CE)("li",N,[(0,r.bF)(o,{to:"/spare_attributes",class:(0,n.C4)([{active:"/spare_attributes"===e.$route.path||"SpareAttributes.Create"===e.$route.name||"SpareAttributes.Edit"===e.$route.path},"nav-link pl-15"])},{default:(0,r.k6)((()=>a[40]||(a[40]=[(0,r.Lk)("i",{class:"ri-shapes-line"},null,-1),(0,r.eW)(),(0,r.Lk)("span",null,"Spare Attribute",-1)]))),_:1},8,["class"])])),[[d,"spare_attributes.view"]]),(0,r.bo)(((0,r.uX)(),(0,r.CE)("li",M,[(0,r.bF)(o,{to:"/data_source_attributes",class:(0,n.C4)([{active:"/data_source_attributes"===e.$route.path||"DataSourceAttributes.Create"===e.$route.name||"DataSourceAttributes.Edit"===e.$route.path},"nav-link pl-15"])},{default:(0,r.k6)((()=>a[41]||(a[41]=[(0,r.Lk)("i",{class:"ri-line-chart-line"},null,-1),(0,r.eW)(),(0,r.Lk)("span",null,"Data Source Attribute",-1)]))),_:1},8,["class"])])),[[d,"data_source_attributes.view"]]),(0,r.bo)(((0,r.uX)(),(0,r.CE)("li",K,[(0,r.bF)(o,{to:"/variable_attributes",class:(0,n.C4)([{active:"/variable_attributes"===e.$route.path||"VariableAttributes.Create"===e.$route.name||"VariableAttributes.Edit"===e.$route.path},"nav-link pl-15"])},{default:(0,r.k6)((()=>a[42]||(a[42]=[(0,r.Lk)("i",{class:"ri-infinity-line"},null,-1),(0,r.eW)(),(0,r.Lk)("span",null,"Variable Attribute",-1)]))),_:1},8,["class"])])),[[d,"variable_attributes.view"]]),(0,r.bo)(((0,r.uX)(),(0,r.CE)("li",J,[(0,r.bF)(o,{to:"/service_attributes",class:(0,n.C4)([{active:"/service_attributes"===e.$route.path||"ServiceAttributes.Create"===e.$route.name||"ServiceAttributes.Edit"===e.$route.path},"nav-link pl-15"])},{default:(0,r.k6)((()=>a[43]||(a[43]=[(0,r.Lk)("i",{class:"ri-layout-fill"},null,-1),(0,r.eW)(),(0,r.Lk)("span",null,"Service Attribute",-1)]))),_:1},8,["class"])])),[[d,"service_attributes.view"]]),(0,r.bo)(((0,r.uX)(),(0,r.CE)("li",B,[(0,r.bF)(o,{to:"/break_down_attributes",class:(0,n.C4)([{active:"/break_down_attributes"===e.$route.path||"BreakDownAttributes.Create"===e.$route.name||"BreakDownAttributes.Edit"===e.$route.path},"nav-link pl-15"])},{default:(0,r.k6)((()=>a[44]||(a[44]=[(0,r.Lk)("i",{class:"ri-bubble-chart-line"},null,-1),(0,r.eW)(),(0,r.Lk)("span",null,"Breakdown Attribute",-1)]))),_:1},8,["class"])])),[[d,"break_down_attributes.view"]]),(0,r.bo)(((0,r.uX)(),(0,r.CE)("li",O,[(0,r.bF)(o,{to:"/activity_attributes",class:(0,n.C4)([{active:"/activity_attributes"===e.$route.path||"ActivityAttributes.Create"===e.$route.name||"ActivityAttributes.Edit"===e.$route.path},"nav-link pl-15"])},{default:(0,r.k6)((()=>a[45]||(a[45]=[(0,r.Lk)("i",{class:"ri-color-filter-line"},null,-1),(0,r.eW)(),(0,r.Lk)("span",null,"Activity Attribute",-1)]))),_:1},8,["class"])])),[[d,"activity_attributes.view"]])])],2)):(0,r.Q3)("",!0),i.permission("Masters")?((0,r.uX)(),(0,r.CE)("div",{key:4,class:(0,n.C4)(["nav-group",{show:l.showList}]),onClick:a[6]||(a[6]=e=>i.showTab("ListParameters"))},[(0,r.Lk)("a",{href:"javascript:void(0)",style:(0,n.Tr)({color:l.listParameterColor}),class:"nav-label"},a[46]||(a[46]=[(0,r.Lk)("i",{class:"ri-list-settings-line icn"},null,-1),(0,r.eW)(" Masters")]),4),(0,r.Lk)("ul",H,[(0,r.bo)(((0,r.uX)(),(0,r.CE)("li",Y,[(0,r.bF)(o,{to:"/checks",class:(0,n.C4)([{active:"/checks"===e.$route.path||"Checks.Create"===e.$route.name||"Checks.Edit"===e.$route.path},"nav-link pl-15"])},{default:(0,r.k6)((()=>a[47]||(a[47]=[(0,r.Lk)("i",{class:"ri-command-line"},null,-1),(0,r.eW)(),(0,r.Lk)("span",null,"Checks",-1)]))),_:1},8,["class"])])),[[d,"checks.view"]]),(0,r.bo)(((0,r.uX)(),(0,r.CE)("li",Z,[(0,r.bF)(o,{to:"/spares",class:(0,n.C4)([{active:"/spares"===e.$route.path||"Spares.Create"===e.$route.name||"Spares.Edit"===e.$route.path},"nav-link pl-15"])},{default:(0,r.k6)((()=>a[48]||(a[48]=[(0,r.Lk)("i",{class:"ri-align-left"},null,-1),(0,r.eW)(),(0,r.Lk)("span",null,"Spares",-1)]))),_:1},8,["class"])])),[[d,"spares.view"]]),(0,r.bo)(((0,r.uX)(),(0,r.CE)("li",G,[(0,r.bF)(o,{to:"/services",class:(0,n.C4)([{active:"/services"===e.$route.path||"Services.Create"===e.$route.name||"Services.Edit"===e.$route.path},"nav-link pl-15"])},{default:(0,r.k6)((()=>a[49]||(a[49]=[(0,r.Lk)("i",{class:"ri-drag-move-2-line"},null,-1),(0,r.Lk)("span",null,"Services",-1)]))),_:1},8,["class"])])),[[d,"services.view"]]),(0,r.bo)(((0,r.uX)(),(0,r.CE)("li",ee,[(0,r.bF)(o,{to:"/variables",class:(0,n.C4)([{active:"/variables"===e.$route.path||"Variables.Create"===e.$route.name||"Variables.Edit"===e.$route.path},"nav-link pl-15"])},{default:(0,r.k6)((()=>a[50]||(a[50]=[(0,r.Lk)("i",{class:"ri-archive-drawer-line"},null,-1),(0,r.Lk)("span",null,"Variables",-1)]))),_:1},8,["class"])])),[[d,"variables.view"]]),(0,r.bo)(((0,r.uX)(),(0,r.CE)("li",ae,[(0,r.bF)(o,{to:"/data_sources",class:(0,n.C4)([{active:"/data_sources"===e.$route.path||"DataSources.Create"===e.$route.name||"DataSources.Edit"===e.$route.path},"nav-link pl-15"])},{default:(0,r.k6)((()=>a[51]||(a[51]=[(0,r.Lk)("i",{class:"ri-line-chart-line"},null,-1),(0,r.eW)(),(0,r.Lk)("span",null,"Data Source",-1)]))),_:1},8,["class"])])),[[d,"data_sources.view"]])])],2)):(0,r.Q3)("",!0),(0,r.Lk)("div",te,[(0,r.Lk)("ul",se,[(0,r.bo)(((0,r.uX)(),(0,r.CE)("li",re,[(0,r.bF)(o,{to:"/asset_templates",style:(0,n.Tr)({color:l.assetTemplateActive}),onClick:a[7]||(a[7]=e=>i.showTab("AssetTemplate")),class:(0,n.C4)([{active:"/asset_templates"===e.$route.path||"/asset_template/create"===e.$route.path||"AssetTemplates.Edit"===e.$route.name||"AssetTemplates.View"===e.$route.name},"nav-link"])},{default:(0,r.k6)((()=>a[52]||(a[52]=[(0,r.Lk)("i",{class:"ri-archive-drawer-line"},null,-1),(0,r.Lk)("span",null,"Asset Templates",-1)]))),_:1},8,["style","class"])])),[[d,"asset_templates.view"]])])]),(0,r.Lk)("div",le,[(0,r.Lk)("ul",ie,[(0,r.bo)(((0,r.uX)(),(0,r.CE)("li",oe,[(0,r.bF)(o,{to:"/assets",style:(0,n.Tr)({color:l.assetActive}),onClick:a[8]||(a[8]=e=>i.showTab("Asset")),class:(0,n.C4)([{active:"/assets"===e.$route.path||"/asset/create"===e.$route.path||"Assets.Edit"===e.$route.name||"Assets.View"===e.$route.name},"nav-link"])},{default:(0,r.k6)((()=>a[53]||(a[53]=[(0,r.Lk)("i",{class:"ri-briefcase-fill"},null,-1),(0,r.Lk)("span",null,"Assets",-1)]))),_:1},8,["style","class"])])),[[d,"assets.view"]])])]),i.permission("Registers")?((0,r.uX)(),(0,r.CE)("div",{key:5,class:(0,n.C4)(["nav-group",{show:l.showRegister}]),onClick:a[9]||(a[9]=e=>i.showTab("Registers"))},[(0,r.Lk)("a",{href:"javascript:void(0)",style:(0,n.Tr)({color:l.registerColor}),class:"nav-label"},a[54]||(a[54]=[(0,r.Lk)("i",{class:"ri-links-fill icn"},null,-1),(0,r.eW)(" Registers")]),4),(0,r.Lk)("ul",de,[(0,r.bo)(((0,r.uX)(),(0,r.CE)("li",ne,[(0,r.bF)(o,{class:(0,n.C4)([{active:"/health_checks"===e.$route.path||"HealthChecks.Create"===e.$route.name||"HealthChecks.Edit"===e.$route.name},"nav-link pl-15"]),to:"/health_checks"},{default:(0,r.k6)((()=>a[55]||(a[55]=[(0,r.Lk)("i",{class:"ri-health-book-line"},null,-1),(0,r.Lk)("span",null,"Scanner Register",-1)]))),_:1},8,["class"])])),[[d,"health_check_registers.view"]]),(0,r.bo)(((0,r.uX)(),(0,r.CE)("li",ce,[(0,r.bF)(o,{class:(0,n.C4)([{active:"/activities"===e.$route.path||"Activity.Create"===e.$route.name||"Activity.Edit"===e.$route.name},"nav-link pl-15"]),to:"/activities"},{default:(0,r.k6)((()=>a[56]||(a[56]=[(0,r.Lk)("i",{class:"ri-list-check"},null,-1),(0,r.Lk)("span",null,"Activity Register",-1)]))),_:1},8,["class"])])),[[d,"activity_registers.view"]]),(0,r.bo)(((0,r.uX)(),(0,r.CE)("li",ue,[(0,r.bF)(o,{class:(0,n.C4)([{active:"/user_services"===e.$route.path||"UserServices.Create"===e.$route.name||"UserServices.Edit"===e.$route.name},"nav-link pl-15"]),to:"/user_services"},{default:(0,r.k6)((()=>a[57]||(a[57]=[(0,r.Lk)("i",{class:"ri-flow-chart"},null,-1),(0,r.Lk)("span",null,"Spare Register",-1)]))),_:1},8,["class"])])),[[d,"service_registers.view"]]),(0,r.bo)(((0,r.uX)(),(0,r.CE)("li",_e,[(0,r.bF)(o,{class:(0,n.C4)([{active:"/user_checks"===e.$route.path||"UserChecks.Create"===e.$route.name||"UserChecks.Edit"===e.$route.name},"nav-link pl-15"]),to:"/user_checks"},{default:(0,r.k6)((()=>a[58]||(a[58]=[(0,r.Lk)("i",{class:"ri-survey-line"},null,-1),(0,r.Lk)("span",null,"Inspection Register",-1)]))),_:1},8,["class"])])),[[d,"check_registers.view"]]),(0,r.bo)(((0,r.uX)(),(0,r.CE)("li",pe,[(0,r.bF)(o,{to:"/process_registers",class:(0,n.C4)([{active:"/process_registers"===e.$route.path||"CreateProcessRegister.Create"===e.$route.name||"CreateProcessRegister.Edit"===e.$route.name},"nav-link pl-15"])},{default:(0,r.k6)((()=>a[59]||(a[59]=[(0,r.Lk)("i",{class:"ri-briefcase-fill"},null,-1),(0,r.Lk)("span",null,"Process Register",-1)]))),_:1},8,["class"])])),[[d,"process_registers.view"]]),(0,r.bo)(((0,r.uX)(),(0,r.CE)("li",me,[(0,r.bF)(o,{to:"/break_down_registers",class:(0,n.C4)([{active:"/break_down_registers"===e.$route.path||"BreakDownRegister.Create"===e.$route.name||"BreakDownRegister.Edit"===e.$route.name},"nav-link pl-15"])},{default:(0,r.k6)((()=>a[60]||(a[60]=[(0,r.Lk)("i",{class:"ri-bubble-chart-line"},null,-1),(0,r.Lk)("span",null,"Break Down Register",-1)]))),_:1},8,["class"])])),[[d,"break_down_registers.view"]]),(0,r.bo)(((0,r.uX)(),(0,r.CE)("li",be,[(0,r.bF)(o,{to:"/bulk_vendors",class:(0,n.C4)([{active:"/bulk_vendors"===e.$route.path},"nav-link pl-15"])},{default:(0,r.k6)((()=>a[61]||(a[61]=[(0,r.Lk)("i",{class:"ri-team-line"},null,-1),(0,r.eW)(),(0,r.Lk)("span",null,"Update Vendors",-1)]))),_:1},8,["class"])])),[[d,"update_vendors.bulk"]])])],2)):(0,r.Q3)("",!0),i.permission("Review")?((0,r.uX)(),(0,r.CE)("div",{key:6,class:(0,n.C4)(["nav-group",{show:l.showReview}]),onClick:a[10]||(a[10]=e=>i.showTab("Review"))},[(0,r.Lk)("a",{href:"javascript:void(0)",class:"nav-label",style:(0,n.Tr)({color:e.ReviewColor})},a[62]||(a[62]=[(0,r.Lk)("i",{class:"ri-file-search-line icn"},null,-1),(0,r.eW)(" Review")]),4),(0,r.Lk)("ul",ke,[(0,r.bo)(((0,r.uX)(),(0,r.CE)("li",ve,[(0,r.bF)(o,{to:"/asset_details",class:(0,n.C4)([{active:"/asset_details"===e.$route.path},"nav-link pl-15"])},{default:(0,r.k6)((()=>a[63]||(a[63]=[(0,r.Lk)("i",{class:"ri-building-3-line"},null,-1),(0,r.eW)(),(0,r.Lk)("span",null,"Asset Details",-1)]))),_:1},8,["class"])])),[[d,"asset_details.view"]]),(0,r.bo)(((0,r.uX)(),(0,r.CE)("li",he,[(0,r.bF)(o,{to:"/spare_campaigns",class:(0,n.C4)([{active:"/spare_campaigns"===e.$route.path},"nav-link pl-15"])},{default:(0,r.k6)((()=>a[64]||(a[64]=[(0,r.Lk)("i",{class:"ri-align-left"},null,-1),(0,r.eW)(),(0,r.Lk)("span",null,"Scanner Results",-1)]))),_:1},8,["class"])])),[[d,"spare_campaigns.view"]]),(0,r.bo)(((0,r.uX)(),(0,r.CE)("li",ye,[(0,r.bF)(o,{to:"/process_trends",class:(0,n.C4)([{active:"/process_trends"===e.$route.path},"nav-link pl-15"])},{default:(0,r.k6)((()=>a[65]||(a[65]=[(0,r.Lk)("i",{class:"ri-alarm-warning-line"},null,-1),(0,r.eW)(),(0,r.Lk)("span",null,"Process Trends",-1)]))),_:1},8,["class"])])),[[d,"process_trends.view"]]),(0,r.bo)(((0,r.uX)(),(0,r.CE)("li",ge,[(0,r.bF)(o,{to:"/ppms_datas",class:(0,n.C4)([{active:"/ppms_datas"===e.$route.path},"nav-link pl-15"])},{default:(0,r.k6)((()=>a[66]||(a[66]=[(0,r.Lk)("i",{class:"ri-bubble-chart-fill"},null,-1),(0,r.Lk)("span",null,"PPMS Data",-1)]))),_:1},8,["class"])])),[[d,"ppms_data.view"]]),(0,r.bo)(((0,r.uX)(),(0,r.CE)("li",fe,[(0,r.bF)(o,{to:"/tlc_lab_report",class:(0,n.C4)([{active:"/tlc_lab_report"===e.$route.path},"nav-link pl-15"])},{default:(0,r.k6)((()=>a[67]||(a[67]=[(0,r.Lk)("i",{class:"ri-flask-fill"},null,-1),(0,r.Lk)("span",null,"Torpedo Lab Report",-1)]))),_:1},8,["class"])])),[[d,"tlc_lab_report.view"]]),(0,r.bo)(((0,r.uX)(),(0,r.CE)("li",Le,[(0,r.bF)(o,{to:"/ppms_statistics",class:(0,n.C4)([{active:"/ppms_statistics"===e.$route.path},"nav-link pl-15"])},{default:(0,r.k6)((()=>a[68]||(a[68]=[(0,r.Lk)("i",{class:"ri-bar-chart-2-line"},null,-1),(0,r.Lk)("span",null,"Running Life Summary",-1)]))),_:1},8,["class"])])),[[d,"ppms_statistics.view"]]),(0,r.Lk)("li",Ce,[(0,r.bF)(o,{to:"/compliance",class:(0,n.C4)([{active:"/compliance"===e.$route.path},"nav-link pl-15"])},{default:(0,r.k6)((()=>a[69]||(a[69]=[(0,r.Lk)("i",{class:"ri-article-line"},null,-1),(0,r.eW)(),(0,r.Lk)("span",null,"Compliance",-1)]))),_:1},8,["class"])]),(0,r.Lk)("li",we,[(0,r.bF)(o,{to:"/deviations_review",class:(0,n.C4)([{active:"/deviations_review"===e.$route.path},"nav-link pl-15"])},{default:(0,r.k6)((()=>a[70]||(a[70]=[(0,r.Lk)("i",{class:"ri-direction-line"},null,-1),(0,r.eW)(),(0,r.Lk)("span",null,"Deviations",-1)]))),_:1},8,["class"])]),(0,r.bo)(((0,r.uX)(),(0,r.CE)("li",Ee,[(0,r.bF)(o,{to:"/check_alerts",class:(0,n.C4)([{active:"/check_alerts"===e.$route.path},"nav-link pl-15"])},{default:(0,r.k6)((()=>a[71]||(a[71]=[(0,r.Lk)("i",{class:"ri-alarm-warning-line"},null,-1),(0,r.Lk)("span",null,"Alerts",-1)]))),_:1},8,["class"])])),[[d,"alerts.view"]])])],2)):(0,r.Q3)("",!0),i.permission("Reports")?((0,r.uX)(),(0,r.CE)("div",{key:7,class:(0,n.C4)(["nav-group",{show:l.showReports}]),onClick:a[11]||(a[11]=e=>i.showTab("Reports"))},[(0,r.Lk)("a",{href:"javascript:void(0)",style:(0,n.Tr)({color:e.ReportColor}),class:"nav-label"},a[72]||(a[72]=[(0,r.Lk)("i",{class:"ri-file-chart-line icn"},null,-1),(0,r.eW)("Â  Reports ")]),4),(0,r.Lk)("ul",xe,[(0,r.bo)(((0,r.uX)(),(0,r.CE)("li",Xe,[(0,r.bF)(o,{to:"/asset_reports",class:(0,n.C4)(["nav-link pl-15",{active:"/asset_reports"===e.$route.path}])},{default:(0,r.k6)((()=>a[73]||(a[73]=[(0,r.Lk)("i",{class:"ri-file-chart-2-line"},null,-1),(0,r.eW)(),(0,r.Lk)("span",null,"Asset Report",-1)]))),_:1},8,["class"])])),[[d,"asset_reports.view"]]),(0,r.bo)(((0,r.uX)(),(0,r.CE)("li",Pe,[(0,r.bF)(o,{to:"/pending_jobs",class:(0,n.C4)(["nav-link pl-15",{active:"/pending_jobs"===e.$route.path}])},{default:(0,r.k6)((()=>a[74]||(a[74]=[(0,r.Lk)("i",{class:"ri-pass-pending-line"},null,-1),(0,r.eW)(),(0,r.Lk)("span",null,"Job Pending Report",-1)]))),_:1},8,["class"])])),[[d,"job_pending_reports.view"]]),(0,r.bo)(((0,r.uX)(),(0,r.CE)("li",$e,[(0,r.bF)(o,{to:"/deviation_reports",class:(0,n.C4)(["nav-link pl-15",{active:"/deviation_reports"===e.$route.path}])},{default:(0,r.k6)((()=>a[75]||(a[75]=[(0,r.Lk)("i",{class:"ri-store-3-fill"},null,-1),(0,r.eW)(),(0,r.Lk)("span",null,"Deviation Report",-1)]))),_:1},8,["class"])])),[[d,"deviation_reports.view"]]),(0,r.bo)(((0,r.uX)(),(0,r.CE)("li",Se,[(0,r.bF)(o,{to:"/breakdown_reports",class:(0,n.C4)(["nav-link pl-15",{active:"/breakdown_reports"===e.$route.path}])},{default:(0,r.k6)((()=>a[76]||(a[76]=[(0,r.Lk)("i",{class:"ri-file-chart-2-line"},null,-1),(0,r.eW)(),(0,r.Lk)("span",null,"BreakDown Report",-1)]))),_:1},8,["class"])])),[[d,"break_down_reports.view"]]),(0,r.bo)(((0,r.uX)(),(0,r.CE)("li",Ae,[(0,r.bF)(o,{to:"/refractory_consumption_reports",class:(0,n.C4)(["nav-link pl-15",{active:"/refractory_consumption_reports"===e.$route.path}])},{default:(0,r.k6)((()=>a[77]||(a[77]=[(0,r.Lk)("i",{class:"ri-functions"},null,-1),(0,r.eW)(),(0,r.Lk)("span",null,"Refractory Consumption Report",-1)]))),_:1},8,["class"])])),[[d,"refractory_consumption_reports.view"]]),(0,r.bo)(((0,r.uX)(),(0,r.CE)("li",De,[(0,r.bF)(o,{to:"/stl_daily_reports",class:(0,n.C4)(["nav-link pl-15",{active:"/stl_daily_reports"===e.$route.path}])},{default:(0,r.k6)((()=>a[78]||(a[78]=[(0,r.Lk)("i",{class:"ri-file-chart-2-line"},null,-1),(0,r.eW)(),(0,r.Lk)("span",null,"STL Daily Report",-1)]))),_:1},8,["class"])])),[[d,"stl_daily_reports.view"]]),(0,r.bo)(((0,r.uX)(),(0,r.CE)("li",Te,[(0,r.bF)(o,{to:"/tlc_daily_reports",class:(0,n.C4)(["nav-link pl-15",{active:"/tlc_daily_reports"===e.$route.path}])},{default:(0,r.k6)((()=>a[79]||(a[79]=[(0,r.Lk)("i",{class:"ri-file-text-fill"},null,-1),(0,r.eW)(),(0,r.Lk)("span",null,"TLC Daily Report",-1)]))),_:1},8,["class"])])),[[d,"tlc_daily_reports.view"]])])],2)):(0,r.Q3)("",!0),(0,r.Lk)("div",{class:(0,n.C4)(["nav-group",{show:l.showPredictions}]),onClick:a[12]||(a[12]=e=>i.showTab("Predictions"))},[(0,r.Lk)("a",{href:"javascript:void(0)",class:"nav-label",style:(0,n.Tr)({color:e.PredictionColor})},a[80]||(a[80]=[(0,r.Lk)("i",{class:"ri-copper-coin-line icn"},null,-1),(0,r.eW)(" Predictions")]),4),(0,r.Lk)("ul",Qe,[(0,r.Lk)("li",Ve,[(0,r.bF)(o,{to:"/asset_life",class:(0,n.C4)([{active:"/asset_life"===e.$route.path},"nav-link pl-15"])},{default:(0,r.k6)((()=>a[81]||(a[81]=[(0,r.Lk)("i",{class:"ri-expand-width-fill"},null,-1),(0,r.eW)(),(0,r.Lk)("span",null,"Asset Life",-1)]))),_:1},8,["class"])]),(0,r.Lk)("li",Fe,[(0,r.bF)(o,{to:"/upcoming_repairs",class:(0,n.C4)([{active:"/upcoming_repairs"===e.$route.path},"nav-link pl-15"])},{default:(0,r.k6)((()=>a[82]||(a[82]=[(0,r.Lk)("i",{class:"ri-skip-up-fill"},null,-1),(0,r.eW)(),(0,r.Lk)("span",null,"Upcoming Repiars",-1)]))),_:1},8,["class"])])])],2),(0,r.Lk)("div",Ue,[(0,r.Lk)("ul",je,[(0,r.bo)(((0,r.uX)(),(0,r.CE)("li",ze,[(0,r.bF)(o,{to:"/downloaded_reports",style:(0,n.Tr)({color:l.DownloadedReportsColor}),onClick:a[13]||(a[13]=e=>i.showTab("DownloadedReports")),class:"nav-link"},{default:(0,r.k6)((()=>a[83]||(a[83]=[(0,r.Lk)("i",{class:"ri-download-line"},null,-1),(0,r.Lk)("span",null,"Downloaded Reports",-1)]))),_:1},8,["style"])])),[[d,"downloaded_reports.view"]])])]),(0,r.Lk)("div",We,[(0,r.Lk)("ul",Re,[(0,r.bo)(((0,r.uX)(),(0,r.CE)("li",qe,[(0,r.bF)(o,{to:"/offline_logs",style:(0,n.Tr)({color:l.OfflineLogsColor}),onClick:a[14]||(a[14]=e=>i.showTab("DownloadedReports")),class:"nav-link"},{default:(0,r.k6)((()=>a[84]||(a[84]=[(0,r.Lk)("i",{class:"ri-file-upload-line"},null,-1),(0,r.Lk)("span",null,"Uploded Logs",-1)]))),_:1},8,["style"])])),[[d,"uploaded_logs.view"]])])])]),(0,r.Lk)("div",Ie,[(0,r.Lk)("div",Ne,[(0,r.Lk)("div",Me,[e.$store.getters.user?.avatar?((0,r.uX)(),(0,r.CE)("div",Ke,[(0,r.Lk)("img",{src:e.$store.getters.user?.avatar,alt:""},null,8,Je)])):((0,r.uX)(),(0,r.CE)("div",Be,a[85]||(a[85]=[(0,r.Lk)("img",{src:u,alt:""},null,-1)])))]),(0,r.Lk)("div",Oe,[(0,r.Lk)("h6",null,(0,n.v_)(e.$store.getters?.user?.name),1),(0,r.Lk)("p",null,(0,n.v_)(e.$store.getters.user.role?.role),1)]),a[86]||(a[86]=(0,r.Lk)("a",{id:"sidebarFooterMenu",href:"#",class:"dropdown-link"},[(0,r.Lk)("i",{class:"ri-arrow-down-s-line"})],-1))])])])}t(4114);var Ye={data(){return{permissions:this.$store.getters.permissions,dashboardActive:"blue !important",color:"#41505f !important",typeParameterColor:"#41505f !important",motorParameterColor:"#41505f !important",listParameterColor:"#41505f !important",masterColor:"#41505f !important",registerColor:"#41505f !important",userManagementColor:"#41505f !important",reportsColor:"#41505f !important",AssetParametersColor:"#41505f !important",AttributesColor:"#41505f !important",DownloadedReportsColor:"#41505f !important",OfflineLogsColor:"#41505f !important",assetTemplateActive:"blue  !important",assetActive:"blue  !important",listsActive:"blue  !important",showLinage:!1,showType:!1,showMotor:!1,showList:!1,showAttributes:!1,showMaster:!1,showRegister:!1,showUser:!1,AssetParametersActive:!1,showReports:!1,showReview:!1,showPredictions:!1,DownloadedReportsActive:!1,OfflineLogsActive:!1}},watch:{$route(e){this.showTab(e.path,e.name)}},methods:{toggleReports(){this.showReports=!this.showReports},logout(){let e=this,a=e.$loading.show();e.$store.dispatch("post",{uri:"logout",data:e.$store.getters.user}).then((function(){a.hide(),e.$store.dispatch("logout"),e.$router.push("/")})).catch((function(t){a.hide(),e.errors=t.response.data.errors,e.$store.dispatch("error",t.response.data.message)}))},showTab(e,a){switch(this.dashboardActive="#41505f !important",this.color="#41505f !important",this.typeParameterColor="#41505f !important",this.motorParameterColor="#41505f !important",this.listParameterColor="#41505f !important",this.masterColor="#41505f !important",this.registerColor="#41505f !important",this.userManagementColor="#41505f !important",this.reportsColor="#41505f !important",this.AssetParametersColor="#41505f !important",this.assetTemplateActive="#41505f !important",this.assetActive="#41505f !important",this.AttributesColor="#41505f !important",this.ReviewColor="#41505f !important",this.ReportColor="#41505f !important",this.PredictionColor="#41505f !important",this.listActive="#41505f !important",this.DownloadedReportsColor="#41505f !important",this.OfflineLogsColor="#41505f !important","/areas"==e||"/plants"==e||"/section"==e||"/frequency"==e||"/department"==e||"/functional"==e||"/phases"==e?(this.color="blue !important",this.showLinage=!this.showLinage):"/equipment_types"==e||"/asset_types"==e||"/service_types"==e||"/spare_types"==e||"/activity_types"==e||"/data_source_type"==e||"/break_down_type"==e||"/accessory_type"==e||"/variable_type"==e?(this.typeParameterColor="blue !important",this.showType=!this.showType):"/voltages"==e||"/watt_rating"==e||"/frame"==e||"/mounting"==e||"/make"==e||"/speed"==e?(this.motorParameterColor="white !important",this.showMotor=!this.showMotor):"/checks"==e||"Check.Create"===a||"Checks.Edit"===a||"/spares"==e||"Spares.Create"==a||"/services"==e||"/variables"==e||"/data_sources"==e||"/break_down_lists"==e?(this.listParameterColor="blue !important",this.showList=!this.showList):"/health_checks"==e||"HealthChecks.Create"==a||"HealthChecks.Edit"==a||"/activities"==e||"Activity.Create"==a||"Activity.Edit"==a||"/user_services"==e||"UserServices.Create"==a||"UserServices.Edit"==a||"/user_checks"==e||"UserChecks.Create"==a||"UserChecks.Edit"==a||"/process_registers"==e||"/CreateProcessRegister.Create"==a||"/CreateProcessRegister.Edit"==a||"/break_down_registers"==e||"/BreakDownRegister.Create"==a||"/BreakDownRegister.Edit"==a||"/bulk_vendors"==e||"/spare_registers"==e||"/qc_registers"==e?(this.registerColor="blue  !important",this.showRegister=!this.showRegister):"/role"==e||"/users"==e||"Users.Create"==a||"Users.Edit"==a||"/permissions"==e?(this.userManagementColor="blue  !important",this.showUser=!this.showUser):"/dashboard"==e?this.dashboardActive="blue !important":"/asset_templates"==e||"AssetTemplates.Create"==a||"AssetTemplates.Edit"==a||"AssetTemplates.View"==a?this.assetTemplateActive="blue  !important":"/assets"==e||"Assets.Create"==a||"Assets.Edit"==a||"Assets.View"==a?this.assetActive="blue  !important":"/asset_attributes"==e||"/spare_attributes"==e||"/data_source_attributes"==e||"/variable_attributes"==e||"/service_attributes"==e||"/break_down_attributes"==e||"/activity_attributes"==e?(this.AttributesColor="blue  !important",this.showAttributes=!this.showAttributes):"/asset_details"==e||"/spare_campaigns"==e||"/compliance"==e||"/deviations_review"==e||"/alerts"==e||"/process_trends"==e||"/ppms_datas"==e||"/tlc_lab_report"==e||"/ppms_statistics"==e||"/check_alerts"==e?(this.ReviewColor="blue  !important",this.showReview=!this.showReview):"/asset_life"==e||"/upcoming_repairs"==e?(this.PredictionColor="blue  !important",this.showPredictions=!this.showPredictions):"/list_parameters"==e?this.listActive="blue  !important":"/asset_reports"==e||"/pending_jobs"==e||"/deviation_reports"==e||"/breakdown_reports"==e||"/refractory_consumption_reports"==e||"/stl_daily_reports"==e||"/tlc_daily_reports"==e?(this.ReportColor="blue  !important",this.showReports=!this.showReports):"/downloaded_reports"==e?(this.DownloadedReportsColor="blue  !important",this.DownloadedReportsActive=!this.DownloadedReportsActive):"/offline_logs"==e&&(this.OfflineLogsColor="blue  !important",this.OfflineLogsActive=!this.OfflineLogsActive),e){case"Dashboard":this.dashboardActive="blue !important";break;case"List":this.listActive="blue  !important";break;case"LineageParameters":this.color="blue  !important",this.showLinage=!this.showLinage;break;case"TypeParameters":this.typeParameterColor="blue  !important",this.showType=!this.showType,this.showLinage=!1;break;case"MotorParameters":this.motorParameterColor="blue  !important",this.showMotor=!this.showMotor;break;case"ListParameters":this.listParameterColor="blue  !important",this.showList=!this.showList;break;case"Attributes":this.AttributesColor="blue  !important",this.showAttributes=!this.showAttributes;break;case"Masters":this.masterColor="blue  !important",this.showMaster=!this.showMaster;break;case"Registers":this.registerColor="blue  !important",this.showRegister=!this.showRegister;break;case"UserManagement":this.userManagementColor="blue  !important",this.showUser=!this.showUser;break;case"Asset":this.assetTemplateActive="blue  !important";break;case"Asset":this.assetActive="blue  !important";break;case"Review":this.ReviewColor="blue  !important",this.showReview=!this.showReview;break;case"Reports":this.ReportColor="blue  !important",this.showReports=!this.showReports;break;case"Predictions":this.PredictionColor="blue  !important",this.showPredictions=!this.showPredictions;break;case"Downloaded Reports":this.DownloadedReportsColor="blue  !important",this.DownloadedReportsActive=!this.DownloadedReportsActive;break;case"Uploded Logs":this.OfflineLogsColor="blue  !important",this.OfflineLogsActive=!this.OfflineLogsActive;default:break}},permission(e){let a=this.$store.getters.permissions;if(a&&0!=a.length){let t=[];return"LineageParameters"==e?t=a.filter((function(e){return"areas.view"==e.ability.ability||"shops.view"==e.ability.ability||"sections.view"==e.ability.ability||"departments.view"==e.ability.ability||"functionals.view"==e.ability.ability||"phases.view"==e.ability.ability})):"TypeParameters"==e&&(t=a.filter((function(e){return"asset_types.view"==e.ability.ability||"service_types.view"==e.ability.ability||"spare_types.view"==e.ability.ability||"activity_types.view"==e.ability.ability||"data_source_types.view"==e.ability.ability||"break_down_types.view"==e.ability.ability||"accessory_types.view"==e.ability.ability||"variable_types.view"==e.ability.ability}))),"Attributes"==e&&(t=a.filter((function(e){return"asset_attributes.view"==e.ability.ability||"spare_attributes.view"==e.ability.ability||"data_source_attributes.view"==e.ability.ability||"variable_attributes.view"==e.ability.ability||"service_attributes.view"==e.ability.ability||"break_down_attributes.view"==e.ability.ability||"activity_attributes.view"==e.ability.ability}))),"MotorParameters"==e&&(t=a.filter((function(e){return"voltages.view"==e.ability.ability||"watt_ratings.view"==e.ability.ability||"frames.view"==e.ability.ability||"mountings.view"==e.ability.ability||"makes.view"==e.ability.ability||"speeds.view"==e.ability.ability}))),"Masters"==e&&(t=a.filter((function(e){return"checks.view"==e.ability.ability||"spares.view"==e.ability.ability||"services.view"==e.ability.ability||"variables.view"==e.ability.ability||"data_sources.view"==e.ability.ability}))),"UserManagement"==e&&(t=a.filter((function(e){return"users.view"==e.ability.ability||"roles.view"==e.ability.ability||"permissions.view"==e.ability.ability}))),"Registers"==e&&(t=a.filter((function(e){return"health_check_registers.view"==e.ability.ability||"activity_registers.view"==e.ability.ability||"service_registers.view"==e.ability.ability||"check_registers.view"==e.ability.ability||"process_registers.view"==e.ability.ability||"break_down_registers.view"==e.ability.ability||"update_vendors.bulk"==e.ability.ability}))),"Review"==e&&(t=a.filter((function(e){return"asset_details.view"==e.ability.ability||"spare_campaigns.view"==e.ability.ability||"process_trends.view"==e.ability.ability||"ppms_data.view"==e.ability.ability}))),"Reports"==e&&(t=a.filter((function(e){return"asset_reports.view"==e.ability.ability||"job_pending_reports.view"==e.ability.ability||"deviation_reports.view"==e.ability.ability||"break_down_reports.view"==e.ability.ability||"refractory_consumption_reports.view"==e.ability.ability||"stl_daily_reports.view"==e.ability.ability||"tlc_daily_reports.view"==e.ability.ability}))),0!=t.length}}}},Ze=t(1241);const Ge=(0,Ze.A)(Ye,[["render",He],["__scopeId","data-v-29b50f51"]]);var ea=Ge;const aa={class:"header-main px-3 px-lg-4"},ta={class:"dropdown dropdown-profile ms-3 ms-xl-4 mt-4"},sa={href:"javascript:void(0)",class:"dropdown-link d-flex","data-bs-toggle":"dropdown","aria-expanded":"false"},ra={class:"text-end me-2"},la={class:"mb-0 text-dark"},ia={class:"fs-sm text-secondary"},oa={key:0,class:"avatar online"},da=["src"],na={key:1,class:"avatar online"},ca={class:"dropdown-menu dropdown-menu-end mt-10-f","aria-expanded":"false"},ua={class:"dropdown-menu-body"},_a={class:"mb-1 text-dark fw-semibold"},pa={class:"fs-sm text-secondary"},ma={class:"nav"};function ba(e,a,t,s,l,i){const o=(0,r.g2)("router-link");return(0,r.uX)(),(0,r.CE)("div",aa,[a[4]||(a[4]=(0,r.Lk)("a",{id:"menuSidebar",href:"javascript:void(0)",class:"menu-link me-3 me-lg-4"},[(0,r.Lk)("i",{class:"ri-menu-2-fill"})],-1)),a[5]||(a[5]=(0,r.Lk)("div",{class:"me-auto"},[(0,r.Lk)("h4",{class:"mt-1 text-dark"},"Refractory Management System")],-1)),(0,r.Lk)("div",ta,[(0,r.Lk)("a",sa,[(0,r.Lk)("div",ra,[(0,r.Lk)("h5",la,(0,n.v_)(e.$store.getters?.user?.name),1),(0,r.Lk)("p",ia,(0,n.v_)(e.$store.getters.user.role?.role),1)]),e.$store.getters.user?.avatar?((0,r.uX)(),(0,r.CE)("div",oa,[(0,r.Lk)("img",{src:e.$store.getters.user?.avatar,alt:""},null,8,da)])):((0,r.uX)(),(0,r.CE)("div",na,a[1]||(a[1]=[(0,r.Lk)("img",{src:u,alt:""},null,-1)])))]),(0,r.Lk)("div",ca,[(0,r.Lk)("div",ua,[(0,r.Lk)("h5",_a,(0,n.v_)(e.$store.getters?.user?.name),1),(0,r.Lk)("p",pa,(0,n.v_)(e.$store.getters.user.role?.role),1),(0,r.Lk)("nav",ma,[(0,r.bF)(o,{class:"dropdown-item",to:"/profile"},{default:(0,r.k6)((()=>a[2]||(a[2]=[(0,r.Lk)("i",{class:"ri-edit-2-line"},null,-1),(0,r.eW)(" Edit Profile")]))),_:1}),(0,r.Lk)("a",{href:"javascript:void(0)",onClick:a[0]||(a[0]=e=>i.logout())},a[3]||(a[3]=[(0,r.Lk)("i",{class:"ri-logout-box-r-line"},null,-1),(0,r.eW)(" Log Out")]))])])])])])}var ka={methods:{logout(){let e=this,a=e.$loading.show();e.$store.dispatch("post",{uri:"logout",data:e.$store.getters.user}).then((function(){a.hide(),e.$store.dispatch("logout"),e.$store.dispatch("setUser",null),e.$store.dispatch("setToken",""),e.$router.push("/")})).catch((function(t){a.hide(),e.errors=t.response.data.errors,e.$store.dispatch("error",t.response.data.message)}))}}};const va=(0,Ze.A)(ka,[["render",ba]]);var ha=va,ya={name:"App",components:{Menu:ea,Header:ha},created(){sessionStorage.getItem("user")&&this.$store.dispatch("setUser",JSON.parse(sessionStorage.getItem("user"))),sessionStorage.getItem("token")&&this.$store.dispatch("setToken",sessionStorage.getItem("token")),sessionStorage.getItem("permissions")&&(this.$store.dispatch("setPermissions",JSON.parse(sessionStorage.getItem("permissions"))),sessionStorage.removeItem("permissions")),sessionStorage.getItem("current_page")&&this.$store.dispatch("setCurrentPage",sessionStorage.getItem("current_page")),sessionStorage.getItem("assets")&&this.$store.dispatch("setAssets",JSON.parse(sessionStorage.getItem("assets"))),sessionStorage.getItem("asset_id")&&this.$store.dispatch("setAssetId",sessionStorage.getItem("asset_id")),sessionStorage.getItem("dashboard_asset_type_id")&&this.$store.dispatch("setDashboardAssetTypeId",sessionStorage.getItem("sahboard_asset_type_id")),window.addEventListener("beforeunload",(()=>{sessionStorage.setItem("user",JSON.stringify(this.$store?.getters?.user)),sessionStorage.setItem("token",this.$store?.getters?.token),sessionStorage.setItem("current_page",this.$store?.getters?.current_page),sessionStorage.setItem("permissions",JSON.stringify(this.$store?.getters?.permissions)),sessionStorage.setItem("assets",JSON.stringify(this.$store?.getters?.assets)),sessionStorage.setItem("asset_id",this.$store?.getters?.asset_id),sessionStorage.setItem("dashboard_asset_id",this.$store?.getters?.dashboard_asset_id),sessionStorage.setItem("dashboard_plant_id",this.$store?.getters?.dashboard_plant_id),sessionStorage.setItem("dashboard_area_id",this.$store?.getters?.dashboard_area_id),sessionStorage.setItem("dashboard_phase_id",this.$store?.getters?.dashboard_phase_id),sessionStorage.setItem("dashboard_asset_type_id",this.$store?.getters?.dashboard_asset_type_id)}))}};const ga=(0,Ze.A)(ya,[["render",d]]);var fa=ga,La=t(1387),Ca=t(782),wa=t(5213),Ea=t(4373),xa=(0,Ca.y$)({state:{apiUrl:"https://rmsprod.jsw.in/api/",user:null,token:"",permissions:[],current_page:"",page:"",asset_id:"",asset_type_id:"",dashboard_asset_id:"",dashboard_asset_type_id:"",dashboard_plant_id:"",dashboard_area_id:"",dashboard_phase_id:"",assets:"",meter:"50",h_meter:"20",asset_templates:"",asset_template_id:""},getters:{user(e){return e.user},token(e){return e.token},permissions(e){return e.permissions},page(e){return e.page},current_page(e){return e.current_page},asset_id(e){return e.asset_id},asset_type_id(e){return e.asset_type_id},dashboard_asset_id(e){return e.dashboard_asset_id},dashboard_asset_type_id(e){return e.dashboard_asset_type_id},dashboard_plant_id(e){return e.dashboard_plant_id},dashboard_area_id(e){return e.dashboard_area_id},dashboard_phase_id(e){return e.dashboard_phase_id},assets(e){return e.assets},meter(e){return e.meter},asset_template_id(e){return e.asset_template_id},asset_templates(e){return e.asset_templates}},mutations:{setUser(e,a){e.user=a},setToken(e,a){e.token=a},setPermissions(e,a){e.permissions=a},setPage(e,a){e.page=a},setCurrentPage(e,a){e.current_page=a},setAssetId(e,a){e.asset_id=a},setAssetTypeId(e,a){e.asset_type_id=a},setDashboardAssetId(e,a){e.dashboard_asset_id=a},setDashboardAssetTypeId(e,a){e.dashboard_asset_type_id=a},setDashboardPlantId(e,a){e.dashboard_plant_id=a},setDashboardAreaId(e,a){e.dashboard_area_id=a},setDashboardPhaseId(e,a){e.dashboard_phase_id=a},setAssets(e,a){e.assets=a},setMeter(e,a){e.meter=a},setAssetTemplateId(e,a){e.asset_template_id=a},setAssetTemplates(e,a){e.asset_templates=a}},actions:{async setUser(e,a){await e.commit("setUser",a)},async setToken(e,a){await e.commit("setToken",a)},async setPermissions(e,a){await e.commit("setPermissions",a)},async setPage(e,a){await e.commit("setPage",a)},async setCurrentPage(e,a){await e.commit("setCurrentPage",a)},async setAssetId(e,a){await e.commit("SetAssetID",a)},async setAssetTypeId(e,a){await e.commit("setAssetTypeId",a)},async setDashboardAssetId(e,a){await e.commit("setDashboardAssetId",a)},async setDashboardAssetTypeId(e,a){await e.commit("setDashboardAssetTypeId",a)},async setDashboardPlantId(e,a){await e.commit("setDashboardPlantId",a)},async setDashboardAreaId(e,a){await e.commit("setDashboardAreaId",a)},async setDashboardPhaseId(e,a){await e.commit("setDashboardPhaseId",a)},async setAssets(e,a){await e.commit("setAssets",a)},async setMeter(e,a){await e.commit("setMeter",a)},async setAssetTemplateId(e,a){await e.commit("SetAssetTemplateID",a)},async setAssetTemplates(e,a){await e.commit("setAssetTemplates",a)},async logout(e){await e.commit("setUser",null),await e.commit("setToken",""),await e.commit("setPermissions",null)},auth(e,a){return new Promise(((e,t)=>{Ea.A.post(this.state.apiUrl+a.uri,a.data).then((function(a){e(a)})).catch((function(e){t(e)}))}))},get(e,a){return new Promise(((e,t)=>{Ea.A.get(this.state.apiUrl+a.uri).then((function(a){e(a)})).catch((function(e){t(e)}))}))},post(e,a){return new Promise(((t,s)=>{Ea.A.post(this.state.apiUrl+a.uri,a.data,{headers:{Authorization:"Bearer "+e.getters.token}}).then((function(e){t(e)})).catch((function(a){s(a),"Unauthenticated."==a?.response?.data?.message&&(e.dispatch("logout"),window.location.href="/#/",window.location.reload())}))}))},async error(e,a){await(0,wa.ox)({title:"Error",description:a||"The given data was invalid."},{showIcon:!0,hideProgressBar:!0,type:"danger",position:"top-right"})},async success(e,a){await(0,wa.ox)({title:"Success",description:a||"Data is successfuly subbmited."},{showIcon:!0,hideProgressBar:!0,type:"success",position:"top-right"})},async info(e,a){await(0,wa.ox)({title:"Info",description:a||"Not enoguh input data"},{showIcon:!0,hideProgressBar:!0,type:"info",position:"top-right"})},async warning(e,a){await(0,wa.ox)({title:"Warning",description:a||"Not enoguh input data"},{showIcon:!0,hideProgressBar:!0,type:"warning",position:"top-right"})}},modules:{}});const Xa={class:"page-sign d-block st py-0"},Pa={class:"row g-0"},$a={class:"col-md-7 col-lg-5 col-xl-4 col-wrapper"},Sa={class:"card card-sign"},Aa={class:"card-body"},Da={class:"mb-4"},Ta={key:0,class:"invalid-feedback"},Qa={class:"mb-4"},Va={class:"form-label d-flex justify-content-between"},Fa={class:"input-group"},Ua=["type"],ja={key:0,class:"invalid-feedback"},za={key:0,class:"invalid-feedback"};function Wa(e,a,t,l,i,o){const d=(0,r.g2)("router-link");return(0,r.uX)(),(0,r.CE)("div",Xa,[(0,r.Lk)("div",Pa,[(0,r.Lk)("div",$a,[(0,r.Lk)("div",Sa,[a[8]||(a[8]=(0,r.Fv)('<div class="card-header"><div class="card-header"><div class="text-center"><img src="'+c+'" class="img" width="200"></div><div class="text-center"><a href="#" class="text-center header-logo mb-3 mt-2"><span class="title" style="font-size:24px;">Refractory Management </span></a></div></div><h6 class="card-title">Sign In</h6><p class="card-text">Welcome back! Please signin to continue.</p></div>',1)),(0,r.Lk)("div",Aa,[(0,r.Lk)("form",{onSubmit:a[3]||(a[3]=(0,s.D$)(((...e)=>o.login&&o.login(...e)),["prevent"]))},[(0,r.Lk)("div",Da,[a[4]||(a[4]=(0,r.Lk)("label",{class:"form-label"},"Email address",-1)),(0,r.bo)((0,r.Lk)("input",{type:"text",tabindex:"1",class:(0,n.C4)(["form-control",{"is-invalid":i.errors.email}]),placeholder:"Enter your email address","onUpdate:modelValue":a[0]||(a[0]=e=>i.user.email=e),ref:"email"},null,2),[[s.Jo,i.user.email]]),i.errors.email?((0,r.uX)(),(0,r.CE)("span",Ta,(0,n.v_)(i.errors.email[0]),1)):(0,r.Q3)("",!0)]),(0,r.Lk)("div",Qa,[(0,r.Lk)("label",Va,[a[6]||(a[6]=(0,r.eW)("Password ")),(0,r.bF)(d,{to:"/forgot_password"},{default:(0,r.k6)((()=>a[5]||(a[5]=[(0,r.eW)("Forgot password?")]))),_:1})]),(0,r.Lk)("div",Fa,[(0,r.bo)((0,r.Lk)("input",{tabindex:"1",type:i.showPassword?"text":"password",class:(0,n.C4)(["form-control border-end-0",{"is-invalid":i.errors.password}]),"onUpdate:modelValue":a[1]||(a[1]=e=>i.user.password=e),placeholder:"Password","aria-label":"Password","aria-describedby":"basic-addon2"},null,10,Ua),[[s.hp,i.user.password]]),(0,r.Lk)("span",{class:(0,n.C4)(["input-group-text",{"is-invalid":i.errors.password}]),id:"basic-addon2",onClick:a[2]||(a[2]=(...e)=>o.togglePassword&&o.togglePassword(...e))},[(0,r.Lk)("i",{class:(0,n.C4)(i.showPassword?"ri-eye-line":"ri-eye-off-line")},null,2)],2),i.errors.password?((0,r.uX)(),(0,r.CE)("span",ja,(0,n.v_)(i.errors.password[0]),1)):(0,r.Q3)("",!0)]),i.errors.password?((0,r.uX)(),(0,r.CE)("span",za,(0,n.v_)(i.errors.password[0]),1)):(0,r.Q3)("",!0)]),a[7]||(a[7]=(0,r.Lk)("button",{method:"submit",tabindex:"1",class:"btn btn-primary btn-sign"},"Sign In",-1))],32)])])]),a[9]||(a[9]=(0,r.Lk)("div",{class:"col d-none d-lg-block"},[(0,r.Lk)("img",{src:"assets/images/bg2.jpg",class:"auth-img",alt:""})],-1))])])}var Ra={data(){return{user:{email:"",password:""},showPassword:!1,errors:[]}},mounted(){this.$refs.email.focus()},methods:{login(){let e=this,a=e.$loading.show();e.$store.dispatch("auth",{uri:"login",data:e.user}).then((function(t){a.hide(),e.$store.dispatch("setUser",t.data.user),e.$store.dispatch("setToken",t.data.token),e.getPermissions()})).catch((function(t){a.hide(),e.errors=t.response.data.errors,e.$store.dispatch("error",t.response.data.message)}))},togglePassword(){this.showPassword=!this.showPassword},getPermissions(){let e=this,a={uri:"getPermissions",data:{role_id:this.$store.getters.user.role.role_id}},t=e.$loading.show();this.$store.dispatch("post",a).then((a=>{t.hide(),e.$store.dispatch("setPermissions",a.data),e.$router.push("/dashboard")})).catch((a=>{t.hide(),e.errors=a.response.data.errors,e.$store.dispatch("error",a.response.data.message)}))}}};const qa=(0,Ze.A)(Ra,[["render",Wa]]);var Ia=qa;const Na={class:"page-sign"},Ma={class:"card card-sign"},Ka={class:"card-footer"};function Ja(e,a){const t=(0,r.g2)("router-link");return(0,r.uX)(),(0,r.CE)("div",Na,[(0,r.Lk)("div",Ma,[a[2]||(a[2]=(0,r.Fv)('<div class="card-header"><a href="../index.html" class="header-logo mb-4">dashbyte</a><h3 class="card-title">Sign Up</h3><p class="card-text">It&#39;s free to signup and only takes a minute.</p></div><div class="card-body"><div class="mb-3"><label class="form-label">Email address</label><input type="text" class="form-control" placeholder="Enter your email address"></div><div class="mb-3"><label class="form-label">Password</label><input type="password" class="form-control" placeholder="Enter your password"></div><div class="mb-3"><label class="form-label">Full name</label><input type="text" class="form-control" placeholder="Enter your full name"></div><div class="mb-4"><small>By clicking <strong>Create Account</strong> below, you agree to our terms of service and privacy statement.</small></div><button class="btn btn-primary btn-sign">Create Account</button></div>',2)),(0,r.Lk)("div",Ka,[a[1]||(a[1]=(0,r.eW)(" Already have an account? ")),(0,r.bF)(t,{to:"/"},{default:(0,r.k6)((()=>a[0]||(a[0]=[(0,r.eW)("Sign In")]))),_:1})])])])}const Ba={},Oa=(0,Ze.A)(Ba,[["render",Ja]]);var Ha=Oa;const Ya={class:"row g-2 mt-2"},Za={class:"col"},Ga={class:"task-category p-3 bg-warning h-100 text-center rounded shadow-sm"},et={class:"category-percent mb-2 text-white"},at={class:"col"},tt={class:"col"},st={class:"col"},rt={class:"task-category p-3 h-100 text-center rounded shadow-sm",style:{"background-color":"#9aa2a5"}},lt={class:"col"},it={class:"task-category p-3 h-100 text-center rounded shadow-sm",style:{"background-color":"#9aa2a5"}},ot={class:"mt-5"},dt={key:0,class:"section-container"},nt={class:"row g-2 d-flex justify-content-start"},ct=["onClick"],ut={class:"card-body"},_t={class:"d-flex align-items-center mb-1"},pt={class:"mb-0 text-secondary",style:{"font-size":"0.8rem"}},mt={class:"fs-16 mb-0 text-gray"},bt={key:1,class:"section-container"},kt={class:"row g-2 d-flex justify-content-start"},vt=["onClick"],ht={class:"card-body"},yt={class:"d-flex align-items-center mb-1"},gt={class:"mb-0 text-secondary",style:{"font-size":"0.8rem"}},ft={class:"fs-16 mb-0 text-gray"},Lt={key:2,class:"section-container"},Ct={class:"row g-2 d-flex justify-content-start"},wt=["onClick"],Et={class:"card-body"},xt={class:"d-flex align-items-center mb-1"},Xt={class:"mb-0 text-secondary",style:{"font-size":"0.8rem"}},Pt={class:"fs-16 mb-0 text-gray"},$t={key:3,class:"section-container"},St={class:"row g-2 d-flex justify-content-start"},At=["onClick"],Dt={class:"card-body d-flex align-items-center"},Tt=["src"],Qt={class:"mb-0"},Vt={key:4,class:"section-container"},Ft={class:"row g-2 d-flex justify-content-start"},Ut=["onClick"],jt={class:"card-body"},zt={class:"d-flex align-items-center mb-1"},Wt={class:"mb-0 text-secondary",style:{"font-size":"0.8rem"}},Rt={class:"fs-16 mb-0 text-gray"};function qt(e,a,t,s,l,i){const o=(0,r.g2)("router-link"),d=(0,r.g2)("STL"),c=(0,r.g2)("TLC");return(0,r.uX)(),(0,r.CE)("div",null,[a[9]||(a[9]=(0,r.Lk)("div",{class:"d-sm-flex align-items-center justify-content-between"},[(0,r.Lk)("div",null,[(0,r.Lk)("ol",{class:"breadcrumb fs-sm mb-1"}),(0,r.Lk)("h4",{class:"main-title mb-0"},"Dashboard")])],-1)),(0,r.Lk)("div",Ya,[(0,r.Lk)("div",Za,[(0,r.bF)(o,{to:"/assets",class:"text-decoration-none"},{default:(0,r.k6)((()=>[(0,r.Lk)("div",Ga,[(0,r.Lk)("h2",et,(0,n.v_)(l.total_asset),1),a[0]||(a[0]=(0,r.Lk)("h6",{class:"text-white mb-0"},"ASSETS",-1))])])),_:1})]),(0,r.Lk)("div",at,[(0,r.bF)(o,{to:"/Deviations",class:"text-decoration-none"},{default:(0,r.k6)((()=>[(0,r.Lk)("div",{class:(0,n.C4)(["task-category p-3 h-100 text-center rounded shadow-sm",{"bg-danger":l.total_deviations>0,"bg-secondary":0===l.total_deviations}])},[(0,r.Lk)("h2",{class:(0,n.C4)(["category-percent mb-2",{"text-white":0===l.total_deviations,"text-white":l.total_deviations>0}])},(0,n.v_)(l.total_deviations),3),(0,r.Lk)("div",null,[(0,r.Lk)("h6",{class:(0,n.C4)(["mb-0",{"text-white":0===l.total_deviations,"text-white":l.total_deviations>0}])}," INSPECTION DEVIATIONS ",2)])],2)])),_:1})]),(0,r.Lk)("div",tt,[(0,r.bF)(o,{to:"/process_deviations",class:"text-decoration-none"},{default:(0,r.k6)((()=>[(0,r.Lk)("div",{class:(0,n.C4)(["task-category p-3 h-100 text-center rounded shadow-sm",{"bg-danger":l.total_process_deviations>0,"bg-secondary":0===l.total_process_deviations}])},[(0,r.Lk)("h2",{class:(0,n.C4)(["category-percent mb-2",{"text-white":0===l.total_process_deviations,"text-white":l.total_process_deviations>0}])},(0,n.v_)(l.total_process_deviations),3),(0,r.Lk)("div",null,[(0,r.Lk)("h6",{class:(0,n.C4)(["mb-0",{"text-white":0===l.total_process_deviations,"text-white":l.total_process_deviations>0}])}," PROCESS DEVIATIONS ",2)])],2)])),_:1})]),(0,r.Lk)("div",st,[(0,r.bF)(o,{to:"/Pendings",class:"text-decoration-none"},{default:(0,r.k6)((()=>[(0,r.Lk)("div",rt,[(0,r.Lk)("h2",{class:(0,n.C4)(["category-percent mb-2",{"text-white":0===l.total_pending_services,"text-danger":l.total_pending_services>0}])},(0,n.v_)(l.total_pending_services),3),(0,r.Lk)("div",null,[(0,r.Lk)("h6",{class:(0,n.C4)(["mb-0",{"text-white":0===l.total_pending_services,"text-danger":l.total_pending_services>0}])}," PENDINGS / OVERDUES ",2)])])])),_:1})]),(0,r.Lk)("div",lt,[(0,r.bF)(o,{to:"/UpcomingJobs",class:"text-decoration-none"},{default:(0,r.k6)((()=>[(0,r.Lk)("div",it,[(0,r.Lk)("h2",{class:(0,n.C4)(["category-percent mb-2",{"text-white":0===l.total_upcoming_jobs,"text-danger":l.total_upcoming_jobs>0}])},(0,n.v_)(l.total_upcoming_jobs),3),(0,r.Lk)("div",null,[(0,r.Lk)("h6",{class:(0,n.C4)(["mb-0",{"text-white":0===l.total_upcoming_jobs,"text-danger":l.total_upcoming_jobs>0}])}," UPCOMING JOBS ",2)])])])),_:1})]),(0,r.Lk)("div",ot,[l.phases.length?((0,r.uX)(),(0,r.CE)("div",dt,[a[2]||(a[2]=(0,r.Lk)("h6",null,[(0,r.Lk)("strong",null,"Phases")],-1)),(0,r.Lk)("div",nt,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(l.phases,((e,t)=>((0,r.uX)(),(0,r.CE)("div",{class:"col-6 col-xl-2",key:t},[(0,r.Lk)("div",{class:(0,n.C4)(["card card-one mb-2",{"border-active":l.meta.phase_id===e.phase_id}]),style:{"min-height":"60px !important"},onClick:a=>{l.meta.phase_id=e.phase_id,i.getAssetAreas(e)}},[(0,r.Lk)("div",ut,[(0,r.Lk)("div",_t,[a[1]||(a[1]=(0,r.Lk)("span",{class:"small-blue me-2"},null,-1)),(0,r.Lk)("h6",pt,(0,n.v_)(e.phase_code||e.phase_name)+":",1)]),(0,r.Lk)("div",null,[(0,r.Lk)("b",mt,(0,n.v_)(e.phase_name),1)])])],10,ct)])))),128))])])):(0,r.Q3)("",!0),l.areas.length?((0,r.uX)(),(0,r.CE)("div",bt,[a[4]||(a[4]=(0,r.Lk)("h6",null,[(0,r.Lk)("strong",null,"Zones")],-1)),(0,r.Lk)("div",kt,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(l.areas,((e,t)=>((0,r.uX)(),(0,r.CE)("div",{class:"col-6 col-xl-2",key:t},[(0,r.Lk)("div",{class:(0,n.C4)(["card card-one mb-2",{"border-active":l.meta.area_id===e.area_id}]),style:{"min-height":"60px !important"},onClick:a=>{l.meta.area_id=e.area_id,i.getAssetShops(e)}},[(0,r.Lk)("div",ht,[(0,r.Lk)("div",yt,[a[3]||(a[3]=(0,r.Lk)("span",{class:"small-blue me-2"},null,-1)),(0,r.Lk)("h6",gt,(0,n.v_)(e.area_code||e.area_name)+":",1)]),(0,r.Lk)("div",null,[(0,r.Lk)("b",ft,(0,n.v_)(e.area_name),1)])])],10,vt)])))),128))])])):(0,r.Q3)("",!0),l.shops.length?((0,r.uX)(),(0,r.CE)("div",Lt,[a[6]||(a[6]=(0,r.Lk)("h6",null,[(0,r.Lk)("strong",null,"Shops")],-1)),(0,r.Lk)("div",Ct,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(l.shops,((e,t)=>((0,r.uX)(),(0,r.CE)("div",{class:"col-6 col-xl-2",key:t},[(0,r.Lk)("div",{class:(0,n.C4)(["card card-one mb-2",{"border-active":l.meta.plant_id===e.plant_id}]),style:{"min-height":"60px !important"},onClick:a=>{l.meta.plant_id=e.plant_id,i.getAssetsAssetTypes(e)}},[(0,r.Lk)("div",Et,[(0,r.Lk)("div",xt,[a[5]||(a[5]=(0,r.Lk)("span",{class:"small-blue me-2"},null,-1)),(0,r.Lk)("h6",Xt,(0,n.v_)(e.plant_code||e.plant_name)+":",1)]),(0,r.Lk)("div",null,[(0,r.Lk)("b",Pt,(0,n.v_)(e.plant_name),1)])])],10,wt)])))),128))])])):(0,r.Q3)("",!0),l.asset_types_data.length?((0,r.uX)(),(0,r.CE)("div",$t,[a[7]||(a[7]=(0,r.Lk)("h6",null,[(0,r.Lk)("strong",null,"Asset Types")],-1)),(0,r.Lk)("div",St,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(l.asset_types_data,((e,a)=>((0,r.uX)(),(0,r.CE)("div",{class:"col-6 col-xl-2",key:a},[(0,r.Lk)("div",{class:(0,n.C4)(["card card-one mb-2",{"border-active":l.meta.asset_type_id===e.asset_type_id}]),style:{"min-height":"40px !important"},onClick:a=>{l.meta.asset_type_id=e.asset_type_id,i.getLinkedAssets(e)}},[(0,r.Lk)("div",Dt,[(0,r.Lk)("div",null,[(0,r.Lk)("img",{src:"STL"===e.asset_type_code?"/assets/images/steel.png":"TLC"===e.asset_type_code?"/assets/images/torpedo.svg":"/assets/images/default.png",style:(0,n.Tr)("STL"===e.asset_type_code?{height:"30px",width:"30px"}:"TLC"===e.asset_type_code?{height:"30px",width:"60px"}:{height:"30px",width:"30px"}),class:"img me-2"},null,12,Tt)]),(0,r.Lk)("div",null,[(0,r.Lk)("h6",Qt,[(0,r.Lk)("b",null,(0,n.v_)("STL"===e.asset_type_code?"Steel Ladle":"TLC"===e.asset_type_code?"Torpedo Ladle Car":e.asset_type_name),1)])])])],10,At)])))),128))])])):(0,r.Q3)("",!0),l.asset_lists.length?((0,r.uX)(),(0,r.CE)("div",Vt,[a[8]||(a[8]=(0,r.Lk)("h6",null,[(0,r.Lk)("strong",null,"Assets")],-1)),(0,r.Lk)("div",Ft,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(l.asset_lists,((e,a)=>((0,r.uX)(),(0,r.CE)("div",{class:"col-6 col-xl-2",key:a},[(0,r.Lk)("div",{class:(0,n.C4)(["card card-one mb-2",{"border-active":l.meta.asset_id===e.asset_id,"border-alert":i.isLotBelowThreshold(e)&&l.meta.asset_id!==e.asset_id}]),style:{"min-height":"110px !important"},onClick:a=>i.selectAsset(e)},[(0,r.Lk)("div",jt,[(0,r.Lk)("div",zt,[(0,r.Lk)("span",{class:(0,n.C4)([{"small-blue":!i.isLotBelowThreshold(e)||l.meta.asset_id!==e.asset_id,"small-red":i.isLotBelowThreshold(e)},"me-2"])},null,2),(0,r.Lk)("h6",Wt,(0,n.v_)(e.asset_code)+":",1)]),(0,r.Lk)("div",null,[(0,r.Lk)("b",Rt,(0,n.v_)(e.asset_name),1)])])],10,Ut)])))),128))])])):(0,r.Q3)("",!0)]),"STL"===i.getSelectedAssetTypeCode()&&l.meta.asset_id?((0,r.uX)(),(0,r.Wv)(d,{key:0,asset_id:l.meta.asset_id,asset_type_code:i.getSelectedAssetTypeCode(),selected_asset:i.getSelectedAsset()},null,8,["asset_id","asset_type_code","selected_asset"])):(0,r.Q3)("",!0),"TLC"===i.getSelectedAssetTypeCode()&&l.meta.asset_id&&i.getSelectedAsset()?((0,r.uX)(),(0,r.Wv)(c,{key:1,asset_id:l.meta.asset_id,asset_type_code:i.getSelectedAssetTypeCode(),selected_asset:i.getSelectedAsset()},null,8,["asset_id","asset_type_code","selected_asset"])):(0,r.Q3)("",!0)])])}var It=t(5751);const Nt={key:0},Mt={key:0,class:"col"},Kt={class:"d-flex justify-content-end"},Jt={key:1,class:"col d-flex justify-content-end mt-0"},Bt={class:"fs-sm me-3"},Ot={key:2,class:"row g-2 mt-0"},Ht={class:"col-6 col-xl-2"},Yt={class:"card card-one",style:{"min-height":"100px !important"}},Zt={class:"card-body"},Gt={class:"card-value mb-1"},es={class:"col-6 col-xl-2"},as={class:"card-body"},ts={class:"col-6 col-xl-2"},ss={class:"card-body"},rs={class:"col-6 col-xl-2"},ls={class:"card card-one",style:{"min-height":"100px !important"}},is={class:"card-body"},os={class:"card-value mb-1"},ds={class:"col-6 col-xl-2"},ns={class:"card-body"},cs={class:"col-6 col-xl-2"},us={class:"card card-one",style:{"min-height":"100px !important"}},_s={class:"card-body"},ps={class:"card-value mb-1"},ms={class:"col-6 col-xl-2"},bs={class:"card-body"},ks={class:"col-md-6 col-xl-6"},vs={class:"card-body d-flex flex-column justify-content-between py-1"},hs={class:"d-flex justify-content-between align-items-center mb-1"},ys={style:{"font-size":"0.65rem","margin-bottom":"4px"}},gs={class:"mt-auto"},fs={key:0,class:"text-center text-danger fw-bold py-3",style:{"font-size":"0.7rem"}},Ls={key:1},Cs={style:{"font-size":"0.88rem","margin-bottom":"4px","text-align":"center"}},ws={class:"table-responsive"},Es={class:"table table-sm table-bordered text-center mb-0",style:{"font-size":"0.90rem","line-height":"1.0"}},xs={class:"table-light"},Xs={class:"col-6 col-xl-2"},Ps={class:"card-body"},$s={class:"col-6 col-xl-2"},Ss={class:"card-body"},As={class:"col-6 col-xl-2"},Ds={class:"card-body"},Ts={key:3,class:"custom-modal",style:{position:"fixed",top:"0",left:"0",width:"100%",height:"100%",background:"rgba(0, 0, 0, 0.5)",display:"flex","justify-content":"center","align-items":"center","z-index":"1050"}},Qs={style:{background:"white",padding:"20px","border-radius":"5px","max-width":"1400px",width:"100%","max-height":"95vh",display:"flex","flex-direction":"column"}},Vs={style:{display:"flex","justify-content":"space-between","align-items":"center","border-bottom":"1px solid #dee2e6","padding-bottom":"10px","margin-bottom":"20px"}},Fs={style:{"overflow-y":"auto","overflow-x":"hidden",flex:"1"}},Us={class:"mb-5"},js={class:"d-flex gap-4 align-items-center mb-4"},zs={class:"mb-0"},Ws={class:"mb-0"},Rs={class:"mb-0"},qs={key:0},Is={key:1},Ns={class:"custom-table",style:{width:"100%","border-collapse":"collapse","font-family":"Arial, sans-serif"}},Ms={class:"header-row-1",style:{"background-color":"#003087",color:"white","border-bottom":"2px solid #6c757d"}},Ks={colspan:"3",style:{padding:"10px",border:"1px solid #6c757d","text-align":"left"}},Js={key:0,class:"body-row",style:{"border-bottom":"1px solid #6c757d","background-color":"#f8f9fa"}},Bs={style:{padding:"8px",border:"1px solid #6c757d"}},Os={style:{padding:"8px",border:"1px solid #6c757d"}},Hs={class:"center",style:{padding:"8px",border:"1px solid #6c757d","text-align":"center"}},Ys={class:"center",style:{padding:"8px",border:"1px solid #6c757d","text-align":"center"}},Zs={class:"center",style:{padding:"8px",border:"1px solid #6c757d","text-align":"center"}},Gs={class:"center",style:{padding:"8px",border:"1px solid #6c757d","text-align":"center"}},er={class:"center",style:{padding:"8px",border:"1px solid #6c757d","text-align":"center"}},ar={class:"center",style:{padding:"8px",border:"1px solid #6c757d","text-align":"center"}},tr={class:"center",style:{padding:"8px",border:"1px solid #6c757d","text-align":"center"}},sr={class:"center",style:{padding:"8px",border:"1px solid #6c757d","text-align":"center"}},rr={style:{padding:"8px",border:"1px solid #6c757d"}},lr={class:"d-flex justify-content-between align-items-center mb-3",style:{"border-bottom":"1px solid #dee2e6","padding-bottom":"10px"}},ir={class:"d-flex gap-4 align-items-center"},or={class:"mb-0"},dr={class:"mb-0"},nr={class:"mb-0"},cr={key:0,class:"d-flex gap-4 align-items-center"},ur={key:0,class:"mb-0"},_r=["href"],pr={key:1,class:"mb-0"},mr=["href"],br={key:0},kr={class:"row"},vr={class:"border p-2 rounded text-center"},hr=["src"],yr={key:1,style:{"text-align":"center"}},gr={class:"text-end mt-2"};function fr(e,a,t,l,i,o){const d=(0,r.g2)("router-link");return"STL"===t.asset_type_code?((0,r.uX)(),(0,r.CE)("div",Nt,[t.asset_id?((0,r.uX)(),(0,r.CE)("div",Mt,[a[9]||(a[9]=(0,r.Lk)("label",{class:"form-label fw-bold"},null,-1)),(0,r.Lk)("div",Kt,[(0,r.Lk)("a",{title:"Asset Accessories",href:"javascript:void(0)",class:"text-primary me-2",onClick:a[0]||(a[0]=(0,s.D$)((e=>o.viewRegister(null,"/asset/accessories/"+t.asset_id)),["prevent"]))},a[6]||(a[6]=[(0,r.Lk)("i",{class:"ri-survey-line fs-24 lh-1"},null,-1)])),"V-Cylindrical"===t.selected_asset?.geometry_type?((0,r.uX)(),(0,r.CE)("a",{key:0,title:"Vertical Geometric Type",href:"javascript:void(0)",class:"text-primary me-2",onClick:a[1]||(a[1]=(0,s.D$)((e=>o.viewVGeometric(t.selected_asset)),["prevent"]))},a[7]||(a[7]=[(0,r.Lk)("img",{src:"/assets/images/icosahedron.png",style:{width:"24px",height:"24px"}},null,-1)]))):"H-Cylindrical"===t.selected_asset?.geometry_type?((0,r.uX)(),(0,r.CE)("a",{key:1,title:"Horizontal Geometric Type",href:"javascript:void(0)",class:"text-primary me-2",onClick:a[2]||(a[2]=(0,s.D$)((e=>o.viewHGeometric(t.selected_asset)),["prevent"]))},a[8]||(a[8]=[(0,r.Lk)("img",{src:"/assets/images/icosahedron.png",style:{width:"24px",height:"24px"}},null,-1)]))):(0,r.Q3)("",!0)])])):(0,r.Q3)("",!0),t.asset_id?((0,r.uX)(),(0,r.CE)("div",Jt,[(0,r.Lk)("div",Bt,[(0,r.Lk)("small",null,[a[10]||(a[10]=(0,r.Lk)("strong",null,"Last Updated On: ",-1)),(0,r.eW)((0,n.v_)(i.last_update_date),1)])])])):(0,r.Q3)("",!0),t.asset_id?((0,r.uX)(),(0,r.CE)("div",Ot,[(0,r.Lk)("div",Ht,[(0,r.Lk)("div",Yt,[(0,r.Lk)("div",Zt,[a[11]||(a[11]=(0,r.Lk)("label",{class:"card-title fs-sm fw-medium mb-1"},"Campaign No",-1)),(0,r.Lk)("h3",Gt,(0,n.v_)(i.total_asset_campaign_no),1)])])]),(0,r.Lk)("div",es,[(0,r.Lk)("div",{class:(0,n.C4)(["card card-one",{"bg-danger text-white":i.total_asset_running_lifes>128}]),style:{"min-height":"100px !important"}},[(0,r.Lk)("div",as,[(0,r.Lk)("label",{class:(0,n.C4)(["card-title fs-sm fw-medium mb-1",{"text-white":i.total_asset_running_lifes>128}])}," Full Ladle Life (Heats) ",2),(0,r.Lk)("h3",{class:(0,n.C4)(["card-value mb-1",{"text-white":i.total_asset_running_lifes>128}])},(0,n.v_)(i.total_asset_running_lifes),3)])],2)]),(0,r.Lk)("div",ts,[(0,r.Lk)("div",{class:(0,n.C4)(["card card-one",{"bg-danger text-white":i.total_asset_patching_lifes>63}]),style:{"min-height":"100px !important"}},[(0,r.Lk)("div",ss,[(0,r.Lk)("label",{class:(0,n.C4)(["card-title fs-sm fw-medium mb-1",{"text-white":i.total_asset_patching_lifes>63}])}," Repair Life (Heats) ",2),(0,r.Lk)("h3",{class:(0,n.C4)(["card-value mb-1",{"text-white":i.total_asset_patching_lifes>63}])},(0,n.v_)(i.total_asset_patching_lifes),3)])],2)]),(0,r.Lk)("div",rs,[(0,r.Lk)("div",ls,[(0,r.Lk)("div",is,[a[12]||(a[12]=(0,r.Lk)("label",{class:"card-title fs-sm fw-medium mb-1"},"Sum of Process Time",-1)),(0,r.Lk)("h3",os,(0,n.v_)(i.total_asset_process_times),1)])])]),(0,r.Lk)("div",ds,[(0,r.Lk)("div",{class:(0,n.C4)(["card card-one",{"bg-danger text-white":i.asset_total_billets>i.total_life_perc}]),style:{"min-height":"100px !important"}},[(0,r.Lk)("div",ns,[(0,r.Lk)("label",{class:(0,n.C4)(["card-title fs-sm fw-medium mb-1",{"text-white":i.asset_total_billets>i.total_life_perc}])}," Total Billet Heats ",2),(0,r.Lk)("h3",{class:(0,n.C4)(["card-value mb-1",{"text-white":i.asset_total_billets>i.total_life_perc}])},(0,n.v_)(i.asset_total_billets),3)])],2)]),(0,r.Lk)("div",cs,[(0,r.Lk)("div",us,[(0,r.Lk)("div",_s,[a[13]||(a[13]=(0,r.Lk)("label",{class:"card-title fs-sm fw-medium mb-1"},"Billet Repair Heats",-1)),(0,r.Lk)("h3",ps,(0,n.v_)(i.billet_repair_heats),1)])])]),(0,r.Lk)("div",ms,[(0,r.Lk)("div",{class:(0,n.C4)(["card card-one",{"bg-danger text-white":i.total_asset_continuous_billets>4}]),style:{"min-height":"100px !important"}},[(0,r.Lk)("div",bs,[(0,r.Lk)("label",{class:(0,n.C4)(["card-title fs-sm fw-medium mb-1",{"text-white":i.total_asset_continuous_billets>4}])}," Cont Billet Heats ",2),(0,r.Lk)("h3",{class:(0,n.C4)(["card-value mb-1",{"text-white":i.total_asset_continuous_billets>4}])},(0,n.v_)(i.total_asset_continuous_billets),3)])],2)]),(0,r.Lk)("div",ks,[(0,r.Lk)("div",{class:"card card-one",style:{cursor:"pointer","font-size":"0.7rem","min-height":"100px !important"},onClick:a[3]||(a[3]=(...e)=>o.openScannerModal&&o.openScannerModal(...e))},[(0,r.Lk)("div",vs,[(0,r.Lk)("div",hs,[a[14]||(a[14]=(0,r.Lk)("label",{class:"card-title fs-sm fw-medium mb-1"},"LOT Report",-1)),(0,r.Lk)("div",ys,(0,n.v_)(i.image_data?.job_date_time),1)]),(0,r.Lk)("div",gs,[i.image_data&&i.image_data.slag_pp1_lot&&i.image_data.slag_pp2_lot&&i.image_data.metal_pp1_lot&&i.image_data.metal_pp2_lot?((0,r.uX)(),(0,r.CE)("div",Ls,[(0,r.Lk)("div",Cs,[a[15]||(a[15]=(0,r.eW)(" Ladle Life : ")),(0,r.Lk)("b",null,(0,n.v_)(i.image_data?.ladle_life),1)]),(0,r.Lk)("div",ws,[(0,r.Lk)("table",Es,[(0,r.Lk)("thead",xs,[(0,r.Lk)("tr",null,[(0,r.Lk)("th",{style:{padding:"1px 2px","background-color":"burlywood"},class:(0,n.C4)({"bg-danger text-white":i.image_data?.slag_pp1_lot<40})}," SZ PP1 ",2),(0,r.Lk)("th",{style:{padding:"1px 2px","background-color":"burlywood"},class:(0,n.C4)({"bg-danger text-white":i.image_data?.slag_pp2_lot<40})}," SZ PP2 ",2),(0,r.Lk)("th",{style:{padding:"1px 2px","background-color":"lightgoldenrodyellow"},class:(0,n.C4)({"bg-danger text-white":i.image_data?.metal_pp1_lot<40})}," MZ PP1 ",2),(0,r.Lk)("th",{style:{padding:"1px 2px","background-color":"lightgoldenrodyellow"},class:(0,n.C4)({"bg-danger text-white":i.image_data?.metal_pp2_lot<40})}," MZ PP2 ",2)])]),(0,r.Lk)("tbody",null,[(0,r.Lk)("tr",null,[(0,r.Lk)("td",{style:{padding:"1px 2px","background-color":"burlywood"},class:(0,n.C4)({"bg-danger text-white":i.image_data?.slag_pp1_lot<40})},[(0,r.Lk)("strong",null,(0,n.v_)(i.image_data?.slag_pp1_lot??" "),1)],2),(0,r.Lk)("td",{style:{padding:"1px 2px","background-color":"burlywood"},class:(0,n.C4)({"bg-danger text-white":i.image_data?.slag_pp2_lot<40})},[(0,r.Lk)("strong",null,(0,n.v_)(i.image_data?.slag_pp2_lot??" "),1)],2),(0,r.Lk)("td",{style:{padding:"1px 2px","background-color":"lightgoldenrodyellow"},class:(0,n.C4)({"bg-danger text-white":i.image_data?.metal_pp1_lot<40})},[(0,r.Lk)("strong",null,(0,n.v_)(i.image_data?.metal_pp1_lot??" "),1)],2),(0,r.Lk)("td",{style:{padding:"1px 2px","background-color":"lightgoldenrodyellow"},class:(0,n.C4)({"bg-danger text-white":i.image_data?.metal_pp2_lot<40})},[(0,r.Lk)("strong",null,(0,n.v_)(i.image_data?.metal_pp2_lot??" "),1)],2)])])])])])):((0,r.uX)(),(0,r.CE)("div",fs," LOT Report Not Found "))])])])]),(0,r.Lk)("div",Xs,[(0,r.Lk)("div",{class:(0,n.C4)(["card card-one",{"bg-danger text-white":i.total_asset_deviations>0}]),style:{"min-height":"100px !important"}},[(0,r.Lk)("div",Ps,[(0,r.Lk)("label",{class:(0,n.C4)(["card-title fs-sm fw-medium mb-1",{"text-white":i.total_asset_deviations>0}])}," Inspection Deviation ",2),(0,r.Lk)("h3",{class:(0,n.C4)(["card-value mb-1",{"text-white":i.total_asset_deviations>0}])},(0,n.v_)(i.total_asset_deviations),3)])],2)]),(0,r.Lk)("div",$s,[(0,r.Lk)("div",{class:(0,n.C4)(["card card-one",{"bg-danger text-white":i.total_asset_process_deviations>0}]),style:{"min-height":"100px !important"}},[(0,r.Lk)("div",Ss,[(0,r.Lk)("label",{class:(0,n.C4)(["card-title fs-sm fw-medium mb-1",{"text-white":i.total_asset_process_deviations>0}])}," Process Deviation ",2),(0,r.Lk)("h3",{class:(0,n.C4)(["card-value mb-1",{"text-white":i.total_asset_process_deviations>0}])},(0,n.v_)(i.total_asset_process_deviations),3)])],2)]),(0,r.Lk)("div",As,[(0,r.Lk)("div",{class:(0,n.C4)(["card card-one",{"bg-danger text-white":i.total_asset_expected_remaining_lifes<0}]),style:{"min-height":"100px !important"}},[(0,r.Lk)("div",Ds,[(0,r.Lk)("label",{class:(0,n.C4)(["card-title fs-sm fw-medium mb-1",{"text-white":i.total_asset_expected_remaining_lifes<0}])}," Exp Remaining Life ",2),(0,r.Lk)("h3",{class:(0,n.C4)(["card-value mb-1",{"text-white":i.total_asset_expected_remaining_lifes<0}])},(0,n.v_)(i.total_asset_expected_remaining_lifes),3)])],2)]),(0,r.bF)(d,{to:`/vendor_list/${t.asset_id}`,class:"col-6 col-xl-2 text-decoration-none"},{default:(0,r.k6)((()=>a[16]||(a[16]=[(0,r.Lk)("div",{class:"card card-one h-100",style:{"min-height":"100px !important"}},[(0,r.Lk)("div",{class:"card-body"},[(0,r.Lk)("label",{class:"card-title fs-sm fw-medium mb-1"},"Vendor"),(0,r.Lk)("h6",{class:"card-value mb-1"},"(Inspection & Spare)")])],-1)]))),_:1},8,["to"])])):(0,r.Q3)("",!0),i.showScannerModal?((0,r.uX)(),(0,r.CE)("div",Ts,[(0,r.Lk)("div",Qs,[(0,r.Lk)("div",Vs,[a[17]||(a[17]=(0,r.Lk)("h5",{style:{margin:"0"}},[(0,r.Lk)("strong",null,"LOT & Scanner Report")],-1)),(0,r.Lk)("button",{onClick:a[4]||(a[4]=e=>i.showScannerModal=!1),style:{background:"#fb3310",color:"white",border:"none","font-size":"1.2rem",cursor:"pointer"}},"Ã")]),(0,r.Lk)("div",Fs,[(0,r.Lk)("div",Us,[a[28]||(a[28]=(0,r.Lk)("h6",{style:{"margin-bottom":"15px"}},[(0,r.Lk)("strong",null,"LOT Report :")],-1)),(0,r.Lk)("div",js,[(0,r.Lk)("h6",zs,[a[18]||(a[18]=(0,r.Lk)("strong",null,"Job No:",-1)),(0,r.eW)(" "+(0,n.v_)(i.image_data.job_no),1)]),(0,r.Lk)("h6",Ws,[a[19]||(a[19]=(0,r.Lk)("strong",null,"Script:",-1)),(0,r.eW)(" "+(0,n.v_)(i.image_data.script),1)]),(0,r.Lk)("h6",Rs,[a[20]||(a[20]=(0,r.Lk)("strong",null,"Job Date&Time:",-1)),(0,r.eW)(" "+(0,n.v_)(i.image_data.job_date_time),1)])]),i.image_data.date&&i.image_data.ladle_life?((0,r.uX)(),(0,r.CE)("div",Is,[(0,r.Lk)("table",Ns,[(0,r.Lk)("thead",null,[(0,r.Lk)("tr",Ms,[(0,r.Lk)("th",Ks,"Ladle No: "+(0,n.v_)(i.image_data?.asset?.ppms_code),1),a[22]||(a[22]=(0,r.Lk)("th",{colspan:"8",style:{padding:"10px",border:"1px solid #6c757d","text-align":"center"}},null,-1)),a[23]||(a[23]=(0,r.Lk)("th",{style:{padding:"10px",border:"1px solid #6c757d"}},null,-1))]),a[24]||(a[24]=(0,r.Lk)("tr",{class:"header-row-2",style:{"background-color":"#f8f9fa","border-bottom":"2px solid #6c757d"}},[(0,r.Lk)("th",{style:{padding:"8px",border:"1px solid #6c757d","background-color":"lightgreen","text-align":"left"}}),(0,r.Lk)("th",{style:{padding:"8px",border:"1px solid #6c757d","background-color":"lightgreen","text-align":"left"}}),(0,r.Lk)("th",{style:{padding:"8px",border:"1px solid #6c757d","background-color":"lightgreen","text-align":"left"}}),(0,r.Lk)("th",{colspan:"4",style:{padding:"8px",border:"1px solid #6c757d","background-color":"burlywood","text-align":"center"}},"Minimum LOT Slag Zone"),(0,r.Lk)("th",{colspan:"4",style:{padding:"8px",border:"1px solid #6c757d","background-color":"lightgoldenrodyellow","text-align":"center"}},"Maximum LOT Metal Zone"),(0,r.Lk)("th",{style:{padding:"8px",border:"1px solid #6c757d","background-color":"lightgreen","text-align":"left"}})],-1)),a[25]||(a[25]=(0,r.Lk)("tr",{class:"header-row-2",style:{"background-color":"#f8f9fa","border-bottom":"2px solid #6c757d"}},[(0,r.Lk)("th",{style:{padding:"8px",border:"1px solid #6c757d","background-color":"lightgreen","text-align":"left"}},"Sl No"),(0,r.Lk)("th",{style:{padding:"8px",border:"1px solid #6c757d","background-color":"lightgreen","text-align":"left"}},"Date"),(0,r.Lk)("th",{style:{padding:"8px",border:"1px solid #6c757d","background-color":"lightgreen","text-align":"left"}},"Ladle Life"),(0,r.Lk)("th",{colspan:"2",style:{padding:"8px",border:"1px solid #6c757d","background-color":"burlywood","text-align":"center"}},"PP1 Side"),(0,r.Lk)("th",{colspan:"2",style:{padding:"8px",border:"1px solid #6c757d","background-color":"burlywood","text-align":"center"}},"PP2 Side"),(0,r.Lk)("th",{colspan:"2",style:{padding:"8px",border:"1px solid #6c757d","background-color":"lightgoldenrodyellow","text-align":"center"}},"PP1 Side"),(0,r.Lk)("th",{colspan:"2",style:{padding:"8px",border:"1px solid #6c757d","background-color":"lightgoldenrodyellow","text-align":"center"}},"PP2 Side"),(0,r.Lk)("th",{style:{padding:"8px",border:"1px solid #6c757d","background-color":"lightgreen","text-align":"left"}},"Remarks")],-1)),a[26]||(a[26]=(0,r.Lk)("tr",{class:"header-row-2",style:{"background-color":"#f8f9fa","border-bottom":"2px solid #6c757d"}},[(0,r.Lk)("th",{style:{padding:"8px",border:"1px solid #6c757d","background-color":"lightgreen","text-align":"left"}}),(0,r.Lk)("th",{style:{padding:"8px",border:"1px solid #6c757d","background-color":"lightgreen","text-align":"left"}}),(0,r.Lk)("th",{style:{padding:"8px",border:"1px solid #6c757d","background-color":"lightgreen","text-align":"left"}}),(0,r.Lk)("th",{style:{padding:"8px",border:"1px solid #6c757d","background-color":"burlywood","text-align":"center"}},"Height (m)"),(0,r.Lk)("th",{style:{padding:"8px",border:"1px solid #6c757d","background-color":"burlywood","text-align":"center"}},"LOT (mm)"),(0,r.Lk)("th",{style:{padding:"8px",border:"1px solid #6c757d","background-color":"burlywood","text-align":"center"}},"Height (m)"),(0,r.Lk)("th",{style:{padding:"8px",border:"1px solid #6c757d","background-color":"burlywood","text-align":"center"}},"LOT (mm)"),(0,r.Lk)("th",{style:{padding:"8px",border:"1px solid #6c757d","background-color":"lightgoldenrodyellow","text-align":"center"}},"Height (m)"),(0,r.Lk)("th",{style:{padding:"8px",border:"1px solid #6c757d","background-color":"lightgoldenrodyellow","text-align":"center"}},"LOT (mm)"),(0,r.Lk)("th",{style:{padding:"8px",border:"1px solid #6c757d","background-color":"lightgoldenrodyellow","text-align":"center"}},"Height (m)"),(0,r.Lk)("th",{style:{padding:"8px",border:"1px solid #6c757d","background-color":"lightgoldenrodyellow","text-align":"center"}},"LOT (mm)"),(0,r.Lk)("th",{style:{padding:"8px",border:"1px solid #6c757d","background-color":"lightgreen","text-align":"left"}})],-1))]),(0,r.Lk)("tbody",null,[i.image_data.date||i.image_data.ladle_life?((0,r.uX)(),(0,r.CE)("tr",Js,[a[27]||(a[27]=(0,r.Lk)("td",{style:{padding:"8px",border:"1px solid #6c757d"}},"1",-1)),(0,r.Lk)("td",Bs,(0,n.v_)(i.image_data?.date),1),(0,r.Lk)("td",Os,(0,n.v_)(i.image_data?.ladle_life),1),(0,r.Lk)("td",Hs,(0,n.v_)(i.image_data?.slag_pp1_height),1),(0,r.Lk)("td",Ys,(0,n.v_)(i.image_data?.slag_pp1_lot),1),(0,r.Lk)("td",Zs,(0,n.v_)(i.image_data?.slag_pp2_height),1),(0,r.Lk)("td",Gs,(0,n.v_)(i.image_data?.slag_pp2_lot),1),(0,r.Lk)("td",er,(0,n.v_)(i.image_data?.metal_pp1_height),1),(0,r.Lk)("td",ar,(0,n.v_)(i.image_data?.metal_pp1_lot),1),(0,r.Lk)("td",tr,(0,n.v_)(i.image_data?.metal_pp2_height),1),(0,r.Lk)("td",sr,(0,n.v_)(i.image_data?.metal_pp2_lot),1),(0,r.Lk)("td",rr,(0,n.v_)(i.image_data?.remarks),1)])):(0,r.Q3)("",!0)])])])):((0,r.uX)(),(0,r.CE)("div",qs,a[21]||(a[21]=[(0,r.Lk)("span",{colspan:"12",class:"text-center text-danger fw-bold py-3"}," LOT Record Not Found ",-1)])))]),(0,r.Lk)("div",null,[a[37]||(a[37]=(0,r.Lk)("h6",{style:{"margin-bottom":"15px"}},[(0,r.Lk)("strong",null,"Scanner Results :")],-1)),(0,r.Lk)("div",lr,[(0,r.Lk)("div",ir,[(0,r.Lk)("h6",or,[a[29]||(a[29]=(0,r.Lk)("strong",null,"Job No:",-1)),(0,r.eW)(" "+(0,n.v_)(i.scannerData[0]?.campaign?.job_no),1)]),(0,r.Lk)("h6",dr,[a[30]||(a[30]=(0,r.Lk)("strong",null,"Script:",-1)),(0,r.eW)(" "+(0,n.v_)(i.scannerData[0]?.campaign?.script),1)]),(0,r.Lk)("h6",nr,[a[31]||(a[31]=(0,r.Lk)("strong",null,"Job Date&Time:",-1)),(0,r.eW)(" "+(0,n.v_)(i.scannerData[0]?.campaign?.job_date_time),1)])]),i.scannerData[0]?.campaign?.file||i.scannerData[0]?.campaign?.image?((0,r.uX)(),(0,r.CE)("div",cr,[i.scannerData[0]?.campaign?.file?((0,r.uX)(),(0,r.CE)("h6",ur,[a[33]||(a[33]=(0,r.Lk)("strong",null,"PDF File:",-1)),(0,r.Lk)("a",{href:i.scannerData[0].campaign.file,target:"_blank",rel:"noopener noreferrer"},a[32]||(a[32]=[(0,r.Lk)("i",{class:"ri-eye-fill fs-18 lh-1"},null,-1)]),8,_r)])):(0,r.Q3)("",!0),i.scannerData[0]?.campaign?.image?((0,r.uX)(),(0,r.CE)("h6",pr,[a[35]||(a[35]=(0,r.Lk)("strong",null,"LOT Report:",-1)),(0,r.Lk)("a",{href:i.scannerData[0].campaign.image,target:"_blank",rel:"noopener noreferrer"},a[34]||(a[34]=[(0,r.Lk)("i",{class:"ri-eye-fill fs-18 lh-1"},null,-1)]),8,mr)])):(0,r.Q3)("",!0)])):(0,r.Q3)("",!0)]),i.scannerData&&i.scannerData.length?((0,r.uX)(),(0,r.CE)("div",br,[(0,r.Lk)("div",kr,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(i.scannerData,((e,a)=>((0,r.uX)(),(0,r.CE)("div",{class:"col-md-6 mb-3",key:a},[(0,r.Lk)("div",vr,[(0,r.Lk)("img",{src:e.file,alt:"Scanner Image",style:{"max-width":"100%","max-height":"250px","object-fit":"contain"}},null,8,hr),(0,r.Lk)("p",null,(0,n.v_)(e.location),1)])])))),128))])])):((0,r.uX)(),(0,r.CE)("div",yr,a[36]||(a[36]=[(0,r.Lk)("p",{style:{color:"red"}},"No scanner results found.",-1)])))])]),(0,r.Lk)("div",gr,[(0,r.Lk)("button",{onClick:a[5]||(a[5]=e=>i.showScannerModal=!1),class:"btn btn-danger"},"Close")])])])):(0,r.Q3)("",!0)])):(0,r.Q3)("",!0)}var Lr={name:"STL",props:{asset_id:{type:[String,Number],default:null},asset_type_code:{type:String,default:""},selected_asset:{type:Object,default:null}},data(){return{showScannerModal:!1,scannerData:null,image_data:null,total_asset_campaign_no:0,total_asset_running_lifes:0,total_asset_patching_lifes:0,total_asset_process_times:0,asset_total_billets:0,total_life_perc:0,billet_repair_heats:0,total_asset_continuous_billets:0,total_asset_deviations:0,total_asset_process_deviations:0,total_asset_expected_remaining_lifes:0,last_update_date:""}},watch:{asset_id(e,a){e!==a&&e&&(this.image_data=null,this.scannerData=null,this.showCampaignImages(),this.getDashboardCounts())}},mounted(){this.asset_id&&(this.showCampaignImages(),this.getDashboardCounts())},methods:{getDashboardCounts(){if(!this.asset_id)return;let e=this,a=e.$loading.show();e.$store.dispatch("post",{uri:"getDashboardCounts",data:{asset_id:e.asset_id}}).then((t=>{a.hide(),e.total_asset_deviations=t.data.deviations||0,e.total_asset_running_lifes=t.data.running_lifes||0,e.total_asset_patching_lifes=t.data.patching_lifes||0,e.total_asset_process_times=t.data.process_times||0,e.total_asset_process_deviations=t.data.process_deviations||0,e.total_asset_expected_remaining_lifes=t.data.expected_remaining_lifes||0,e.total_asset_campaign_no=t.data.campaign_no||0,e.asset_total_billets=t.data.total_billets||0,e.total_asset_continuous_billets=t.data.continuous_billets||0,e.total_life_perc=t.data.total_life_perc||0,e.last_update_date=t.data.last_update_date||"",e.billet_repair_heats=t.data.billet_repair_heats||0})).catch((t=>{a.hide(),e.errors=t.response?.data?.message,e.$store.dispatch("error",t?.response?.data?.message)}))},showCampaignImages(){if(!this.asset_id)return;let e=this.$loading.show();this.image_data=null,this.$store.dispatch("post",{uri:"showCampaignImages",data:{asset_id:this.asset_id}}).then((a=>{if(e.hide(),a.data&&a.data.message)return this.$store.dispatch("error",a.data.message),void(this.image_data=null);this.image_data=a.data.data||{}})).catch((a=>{e.hide(),this.image_data=null}))},openScannerModal(){if(!this.asset_id)return;let e=this.$loading.show();this.$store.dispatch("post",{uri:"getScannerResults",data:{asset_id:this.asset_id}}).then((a=>{e.hide(),this.scannerData=a.data.data||[],this.showScannerModal=!0})).catch((a=>{e.hide(),this.errors=a?.response?.data?.message,this.$store.dispatch("error",a?.response?.data?.message)}))},viewRegister(e,a){this.$store.commit("setCurrentPage",1),this.$store.commit("setAssetId",this.asset_id),this.$router.push(a)},viewVGeometric(e){this.$store.commit("setCurrentPage",1),this.$store.commit("setAssetId",this.asset_id),this.$router.push("/geometric/"+this.asset_id)},viewHGeometric(e){this.$store.commit("setCurrentPage",1),this.$store.commit("setAssetId",this.asset_id),this.$router.push("/horizontal_geometric/"+this.asset_id)}}};const Cr=(0,Ze.A)(Lr,[["render",fr]]);var wr=Cr;const Er={key:0},xr={key:0,class:"col"},Xr={class:"d-flex justify-content-end"},Pr={key:1,class:"col d-flex justify-content-end mt-0"},$r={class:"fs-sm me-3"},Sr={key:2,class:"row g-2 mt-0"},Ar={class:"col-6 col-xl-2"},Dr={class:"card card-one",style:{"min-height":"100px !important"}},Tr={class:"card-body"},Qr={class:"card-value mb-1"},Vr={class:"col-6 col-xl-2"},Fr={class:"card card-one",style:{"min-height":"100px !important"}},Ur={class:"card-body"},jr={class:"card-value mb-1"},zr={class:"col-6 col-xl-2"},Wr={class:"card card-one",style:{"min-height":"100px !important"}},Rr={class:"card-body"},qr={class:"card-value mb-1",style:{"white-space":"normal","word-break":"break-word","line-height":"1.4"}},Ir={class:"col-6 col-xl-2"},Nr={class:"card card-one",style:{"min-height":"100px !important"}},Mr={class:"card-body"},Kr={class:"card-value mb-1"},Jr={class:"col-6 col-xl-2"},Br={class:"card card-one",style:{"min-height":"100px !important"}},Or={class:"card-body"},Hr={class:"card-value mb-1",style:{"font-size":"0.9rem"}},Yr={class:"col-6 col-xl-2"},Zr={class:"card card-one",style:{"min-height":"100px !important"}},Gr={class:"card-body"},el={class:"card-value mb-1"},al={class:"col-6 col-xl-2"},tl={class:"card card-one",style:{"min-height":"100px !important"}},sl={class:"card-body"},rl={class:"card-value mb-1",style:{"font-size":"1rem"}},ll={class:"col-6 col-xl-2"},il={class:"card card-one",style:{"min-height":"100px !important"}},ol={class:"card-body"},dl={class:"card-value mb-1",style:{"font-size":"0.9rem"}},nl={class:"col-6 col-xl-4"},cl={class:"card-body"},ul={class:"card-value mb-1",style:{"font-size":"0.85rem"}},_l={class:"col-6 col-xl-2"},pl={class:"card-body"},ml={class:"col-6 col-xl-2"},bl={class:"card-body"},kl={class:"col-6 col-xl-2"},vl={class:"card-body"},hl={class:"col-6 col-xl-2"},yl={class:"card card-one",style:{"min-height":"100px !important"}},gl={class:"card-body"},fl={class:"card-value mb-1",style:{"font-size":"0.9rem"}},Ll={class:"col-6 col-xl-2"},Cl={class:"card card-one",style:{"min-height":"100px !important"}},wl={class:"card-body"},El={class:"card-value mb-1"},xl={class:"col-6 col-xl-2"},Xl={class:"card card-one",style:{"min-height":"100px !important"}},Pl={class:"card-body"},$l={class:"card-value mb-1"},Sl={class:"col-6 col-xl-2"},Al={class:"card-body"},Dl={class:"col-6 col-xl-2"},Tl={key:3,class:"custom-modal",style:{position:"fixed",top:"0",left:"0",width:"100%",height:"100%",background:"rgba(0, 0, 0, 0.5)",display:"flex","justify-content":"center","align-items":"center","z-index":"1050"}},Ql={style:{background:"white",padding:"20px","border-radius":"5px","max-width":"900px",width:"90%","max-height":"95vh",display:"flex","flex-direction":"column"}},Vl={style:{display:"flex","justify-content":"space-between","align-items":"center","border-bottom":"1px solid #dee2e6","padding-bottom":"10px","margin-bottom":"20px"}},Fl={style:{"overflow-y":"auto","overflow-x":"hidden",flex:"1"}},Ul={key:0},jl={class:"mb-4"},zl={class:"table table-bordered table-striped"},Wl={key:0},Rl={key:1},ql={key:2},Il={key:0},Nl={class:"table table-bordered table-striped"},Ml={key:1},Kl={class:"table table-bordered table-striped"},Jl={key:2,class:"text-center text-muted py-3"},Bl={key:1,class:"text-center text-muted py-4"},Ol={style:{"border-top":"1px solid #dee2e6","padding-top":"15px","margin-top":"20px","text-align":"right"}};function Hl(e,a,t,l,i,o){const d=(0,r.g2)("router-link");return"TLC"===t.asset_type_code&&t.asset_id?((0,r.uX)(),(0,r.CE)("div",Er,[t.asset_id?((0,r.uX)(),(0,r.CE)("div",xr,[a[9]||(a[9]=(0,r.Lk)("label",{class:"form-label fw-bold"},null,-1)),(0,r.Lk)("div",Xr,[(0,r.Lk)("a",{title:"Asset Accessories",href:"javascript:void(0)",class:"text-primary me-2",onClick:a[0]||(a[0]=(0,s.D$)((e=>o.viewRegister(null,"/asset/accessories/"+t.asset_id)),["prevent"]))},a[6]||(a[6]=[(0,r.Lk)("i",{class:"ri-survey-line fs-24 lh-1"},null,-1)])),"V-Cylindrical"===t.selected_asset?.geometry_type?((0,r.uX)(),(0,r.CE)("a",{key:0,title:"Vertical Geometric Type",href:"javascript:void(0)",class:"text-primary me-2",onClick:a[1]||(a[1]=(0,s.D$)((e=>o.viewVGeometric(t.selected_asset)),["prevent"]))},a[7]||(a[7]=[(0,r.Lk)("img",{src:"/assets/images/icosahedron.png",style:{width:"24px",height:"24px"}},null,-1)]))):"H-Cylindrical"===t.selected_asset?.geometry_type?((0,r.uX)(),(0,r.CE)("a",{key:1,title:"Horizontal Geometric Type",href:"javascript:void(0)",class:"text-primary me-2",onClick:a[2]||(a[2]=(0,s.D$)((e=>o.viewHGeometric(t.selected_asset)),["prevent"]))},a[8]||(a[8]=[(0,r.Lk)("img",{src:"/assets/images/icosahedron.png",style:{width:"24px",height:"24px"}},null,-1)]))):(0,r.Q3)("",!0)])])):(0,r.Q3)("",!0),t.asset_id?((0,r.uX)(),(0,r.CE)("div",Pr,[(0,r.Lk)("div",$r,[(0,r.Lk)("small",null,[a[10]||(a[10]=(0,r.Lk)("strong",null,"Last Updated On: ",-1)),(0,r.eW)((0,n.v_)(i.last_update_date),1)])])])):(0,r.Q3)("",!0),t.asset_id?((0,r.uX)(),(0,r.CE)("div",Sr,[(0,r.Lk)("div",Ar,[(0,r.Lk)("div",Dr,[(0,r.Lk)("div",Tr,[a[11]||(a[11]=(0,r.Lk)("label",{class:"card-title fs-sm fw-medium mb-1"},"TLC Life",-1)),(0,r.Lk)("h3",Qr,(0,n.v_)(i.tlc_life),1)])])]),(0,r.Lk)("div",Vr,[(0,r.Lk)("div",Fr,[(0,r.Lk)("div",Ur,[a[12]||(a[12]=(0,r.Lk)("label",{class:"card-title fs-sm fw-medium mb-1"},"TLC repair Life",-1)),(0,r.Lk)("h3",jr,(0,n.v_)(i.tlc_repair_life),1)])])]),(0,r.Lk)("div",zr,[(0,r.Lk)("div",Wr,[(0,r.Lk)("div",Rr,[a[13]||(a[13]=(0,r.Lk)("label",{class:"card-title fs-sm fw-medium mb-1"},"Type of Repair",-1)),(0,r.Lk)("div",qr,(0,n.v_)(i.type_of_repair?i.type_of_repair.replace(/_/g," "):"-"),1)])])]),(0,r.Lk)("div",Ir,[(0,r.Lk)("div",Nr,[(0,r.Lk)("div",Mr,[a[14]||(a[14]=(0,r.Lk)("label",{class:"card-title fs-sm fw-medium mb-1"},"Total hot metal carried till date",-1)),(0,r.Lk)("h3",Kr,(0,n.v_)(i.total_hot_metal_carried),1)])])]),(0,r.Lk)("div",Jr,[(0,r.Lk)("div",Br,[(0,r.Lk)("div",Or,[a[15]||(a[15]=(0,r.Lk)("label",{class:"card-title fs-sm fw-medium mb-1"},"Date of service",-1)),(0,r.Lk)("h3",Hr,(0,n.v_)(i.date_of_service||"-"),1)])])]),(0,r.Lk)("div",Yr,[(0,r.Lk)("div",Zr,[(0,r.Lk)("div",Gr,[a[16]||(a[16]=(0,r.Lk)("label",{class:"card-title fs-sm fw-medium mb-1"},"Total no service in days",-1)),(0,r.Lk)("h3",el,(0,n.v_)(i.total_no_service_in_days),1)])])]),(0,r.Lk)("div",al,[(0,r.Lk)("div",tl,[(0,r.Lk)("div",sl,[a[17]||(a[17]=(0,r.Lk)("label",{class:"card-title fs-sm fw-medium mb-1"},"Last hot inspection date",-1)),(0,r.Lk)("h3",rl,(0,n.v_)(i.last_hot_inspection_date||"-"),1)])])]),(0,r.Lk)("div",ll,[(0,r.Lk)("div",il,[(0,r.Lk)("div",ol,[a[18]||(a[18]=(0,r.Lk)("label",{class:"card-title fs-sm fw-medium mb-1"},"Last hot inspection life",-1)),(0,r.Lk)("h3",dl,(0,n.v_)(i.last_hot_inspection_life||"-"),1)])])]),(0,r.Lk)("div",nl,[(0,r.Lk)("div",{class:"card card-one",style:{"min-height":"100px !important",cursor:"pointer"},onClick:a[3]||(a[3]=(...e)=>o.openHotInspectionModal&&o.openHotInspectionModal(...e))},[(0,r.Lk)("div",cl,[a[19]||(a[19]=(0,r.Lk)("label",{class:"card-title fs-sm fw-medium mb-1"},"Last Hot inspection details",-1)),(0,r.Lk)("h6",ul,(0,n.v_)(i.last_hot_inspection_details||"-"),1)])])]),(0,r.Lk)("div",_l,[(0,r.Lk)("div",{class:(0,n.C4)(["card card-one",{"bg-danger text-white":i.hot_inspection_deviation>0}]),style:{"min-height":"100px !important"}},[(0,r.Lk)("div",pl,[(0,r.Lk)("label",{class:(0,n.C4)(["card-title fs-sm fw-medium mb-1",{"text-white":i.hot_inspection_deviation>0}])}," Hot Inspection deviation ",2),(0,r.Lk)("h3",{class:(0,n.C4)(["card-value mb-1",{"text-white":i.hot_inspection_deviation>0}])},(0,n.v_)(i.hot_inspection_deviation),3)])],2)]),(0,r.Lk)("div",ml,[(0,r.Lk)("div",{class:(0,n.C4)(["card card-one",{"bg-danger text-white":i.process_deviation>0}]),style:{"min-height":"100px !important"}},[(0,r.Lk)("div",bl,[(0,r.Lk)("label",{class:(0,n.C4)(["card-title fs-sm fw-medium mb-1",{"text-white":i.process_deviation>0}])}," Process deviation ",2),(0,r.Lk)("h3",{class:(0,n.C4)(["card-value mb-1",{"text-white":i.process_deviation>0}])},(0,n.v_)(i.process_deviation),3)])],2)]),(0,r.Lk)("div",kl,[(0,r.Lk)("div",{class:(0,n.C4)(["card card-one",{"bg-danger text-white":i.expected_remaining_life<0}]),style:{"min-height":"100px !important"}},[(0,r.Lk)("div",vl,[(0,r.Lk)("label",{class:(0,n.C4)(["card-title fs-sm fw-medium mb-1",{"text-white":i.expected_remaining_life<0}])}," Expected remaining life ",2),(0,r.Lk)("h3",{class:(0,n.C4)(["card-value mb-1",{"text-white":i.expected_remaining_life<0}])},(0,n.v_)(i.expected_remaining_life),3)])],2)]),(0,r.Lk)("div",hl,[(0,r.Lk)("div",yl,[(0,r.Lk)("div",gl,[a[20]||(a[20]=(0,r.Lk)("label",{class:"card-title fs-sm fw-medium mb-1"},"TLC current status",-1)),(0,r.Lk)("h3",fl,(0,n.v_)(i.tlc_current_status||"-"),1)])])]),(0,r.Lk)("div",Ll,[(0,r.Lk)("div",Cl,[(0,r.Lk)("div",wl,[a[21]||(a[21]=(0,r.Lk)("label",{class:"card-title fs-sm fw-medium mb-1"},"Initial tare weight",-1)),(0,r.Lk)("h3",El,(0,n.v_)(i.initial_tare_weight||"-"),1)])])]),(0,r.Lk)("div",xl,[(0,r.Lk)("div",Xl,[(0,r.Lk)("div",Pl,[a[22]||(a[22]=(0,r.Lk)("label",{class:"card-title fs-sm fw-medium mb-1"},"Recent tare weight",-1)),(0,r.Lk)("h3",$l,(0,n.v_)(i.recent_tare_weight||"-"),1)])])]),(0,r.Lk)("div",Sl,[(0,r.Lk)("div",{class:(0,n.C4)(["card card-one",{"bg-danger text-white":i.recent_holding_time>0}]),style:{"min-height":"100px !important"}},[(0,r.Lk)("div",Al,[(0,r.Lk)("label",{class:(0,n.C4)(["card-title fs-sm fw-medium mb-1",{"text-white":i.recent_holding_time>0}])}," Recent holiding time ",2),(0,r.Lk)("h3",{class:(0,n.C4)(["card-value mb-1",{"text-white":i.recent_holding_time>0}])},(0,n.v_)(i.recent_holding_time||"-"),3)])],2)]),(0,r.Lk)("div",Dl,[(0,r.bF)(d,{to:`/vendor_list/${t.asset_id}`,class:"text-decoration-none h-100"},{default:(0,r.k6)((()=>a[23]||(a[23]=[(0,r.Lk)("div",{class:"card card-one h-100",style:{"min-height":"100px !important"}},[(0,r.Lk)("div",{class:"card-body"},[(0,r.Lk)("label",{class:"card-title fs-sm fw-medium mb-1"},"Vendor details"),(0,r.Lk)("h6",{class:"card-value mb-1"},"(Inspection & Spare)")])],-1)]))),_:1},8,["to"])])])):(0,r.Q3)("",!0),i.showHotInspectionModal?((0,r.uX)(),(0,r.CE)("div",Tl,[(0,r.Lk)("div",Ql,[(0,r.Lk)("div",Vl,[a[24]||(a[24]=(0,r.Lk)("h5",{style:{margin:"0"}},[(0,r.Lk)("strong",null,"Last Hot Inspection Details")],-1)),(0,r.Lk)("button",{onClick:a[4]||(a[4]=e=>i.showHotInspectionModal=!1),style:{background:"#fb3310",color:"white",border:"none","font-size":"1.2rem",cursor:"pointer",width:"30px",height:"30px","border-radius":"3px"}},"Ã")]),(0,r.Lk)("div",Fl,[i.user_check&&Object.keys(i.user_check).length>0?((0,r.uX)(),(0,r.CE)("div",Ul,[(0,r.Lk)("div",jl,[a[28]||(a[28]=(0,r.Lk)("h6",{class:"mb-3"},[(0,r.Lk)("strong",null,"Last Hot Inspection Information")],-1)),(0,r.Lk)("table",zl,[(0,r.Lk)("tbody",null,[i.user_check.plant_id?((0,r.uX)(),(0,r.CE)("tr",Wl,[a[25]||(a[25]=(0,r.Lk)("th",null,"Reference Date",-1)),(0,r.Lk)("td",null,(0,n.v_)(i.user_check.reference_date),1)])):(0,r.Q3)("",!0),i.user_check.asset_id?((0,r.uX)(),(0,r.CE)("tr",Rl,[a[26]||(a[26]=(0,r.Lk)("th",null,"Asset Zone Service ",-1)),(0,r.Lk)("td",null,(0,n.v_)(i.user_check.asset_service.asset_zone.zone_name)+" :: "+(0,n.v_)(i.user_check.asset_service.service.service_name),1)])):(0,r.Q3)("",!0),i.user_check.reference_no?((0,r.uX)(),(0,r.CE)("tr",ql,[a[27]||(a[27]=(0,r.Lk)("th",null,"Reference No",-1)),(0,r.Lk)("td",null,(0,n.v_)(i.user_check.reference_no),1)])):(0,r.Q3)("",!0)])])]),i.user_asset_checks&&i.user_asset_checks.length>0?((0,r.uX)(),(0,r.CE)("div",Il,[a[30]||(a[30]=(0,r.Lk)("h6",{class:"mb-3"},[(0,r.Lk)("strong",null,"Last Hot Inspection Details")],-1)),(0,r.Lk)("table",Nl,[a[29]||(a[29]=(0,r.Lk)("thead",null,[(0,r.Lk)("tr",null,[(0,r.Lk)("th",{style:{width:"50%"}},"Field Name"),(0,r.Lk)("th",{style:{width:"50%"}},"Value")])],-1)),(0,r.Lk)("tbody",null,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(i.user_asset_checks,((e,a)=>((0,r.uX)(),(0,r.CE)("tr",{key:a},[(0,r.Lk)("td",null,[(0,r.Lk)("strong",null,(0,n.v_)(e.field_name||"-"),1)]),(0,r.Lk)("td",null,(0,n.v_)(null!==e.value&&void 0!==e.value?e.value:"-"),1)])))),128))])])])):i.user_check.user_asset_check&&i.user_check.user_asset_check.length>0?((0,r.uX)(),(0,r.CE)("div",Ml,[a[32]||(a[32]=(0,r.Lk)("h6",{class:"mb-3"},[(0,r.Lk)("strong",null,"User Asset Check Details")],-1)),(0,r.Lk)("table",Kl,[a[31]||(a[31]=(0,r.Lk)("thead",null,[(0,r.Lk)("tr",null,[(0,r.Lk)("th",{style:{width:"50%"}},"Field Name"),(0,r.Lk)("th",{style:{width:"50%"}},"Value")])],-1)),(0,r.Lk)("tbody",null,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(i.user_check.user_asset_check,((e,a)=>((0,r.uX)(),(0,r.CE)("tr",{key:a},[(0,r.Lk)("td",null,[(0,r.Lk)("strong",null,(0,n.v_)(e.field_name||"-"),1)]),(0,r.Lk)("td",null,(0,n.v_)(null!==e.value&&void 0!==e.value?e.value:"-"),1)])))),128))])])])):((0,r.uX)(),(0,r.CE)("div",Jl,a[33]||(a[33]=[(0,r.Lk)("p",null,"No user asset check data available",-1)])))])):((0,r.uX)(),(0,r.CE)("div",Bl,a[34]||(a[34]=[(0,r.Lk)("p",null,"Data Not Found",-1)])))]),(0,r.Lk)("div",Ol,[(0,r.Lk)("button",{onClick:a[5]||(a[5]=e=>i.showHotInspectionModal=!1),class:"btn btn-danger"},"Close")])])])):(0,r.Q3)("",!0)])):(0,r.Q3)("",!0)}var Yl={name:"TLC",props:{asset_id:{type:[String,Number],default:null},asset_type_code:{type:String,default:""},selected_asset:{type:Object,default:null}},data(){return{tlc_life:0,tlc_repair_life:"",type_of_repair:"",total_hot_metal_carried:0,date_of_service:"",total_no_service_in_days:0,last_hot_inspection_date:"",last_hot_inspection_life:0,last_hot_inspection_details:"",hot_inspection_deviation:0,process_deviation:0,expected_remaining_life:0,tlc_current_status:"",initial_tare_weight:"",recent_tare_weight:"",recent_holding_time:"",last_update_date:"",user_check:null,user_asset_checks:[],showHotInspectionModal:!1}},watch:{asset_id(e,a){e!==a&&e&&this.getDashboardCounts()}},mounted(){this.asset_id&&this.getDashboardCounts()},methods:{getDashboardCounts(){if(!this.asset_id)return;let e=this,a=e.$loading.show();e.$store.dispatch("post",{uri:"getTLCDashboard",data:{asset_id:e.asset_id}}).then((t=>{a.hide(),e.tlc_life=t.data.tlc_life||0,e.tlc_repair_life=t.data.tlc_repair_life||"",e.type_of_repair=t.data.type_of_repair||"",e.total_hot_metal_carried=t.data.total_hot_metal_carried||0,e.date_of_service=t.data.date_of_service||"",e.total_no_service_in_days=t.data.total_no_service_in_days||0,e.last_hot_inspection_date=t.data.last_hot_inspection_date||"",e.last_hot_inspection_life=t.data.last_hot_inspection_life||0,e.last_hot_inspection_details=t.data.last_hot_inspection_details||"",e.hot_inspection_deviation=t.data.hot_inspection_deviation||0,e.process_deviation=t.data.process_deviations||0,e.expected_remaining_life=t.data.expected_remaining_lifes||0,e.tlc_current_status=t.data.tlc_current_status||"",e.initial_tare_weight=t.data.initial_tare_weight||"",e.recent_tare_weight=t.data.recent_tare_weight||"",e.recent_holding_time=t.data.recent_holding_time||"",e.last_update_date=t.data.prod_date||"",e.user_check=t.data.user_check||null,e.user_check?e.user_asset_checks=e.user_check.user_asset_check||e.user_check.UserAssetCheck||(Array.isArray(e.user_check)?e.user_check:[]):e.user_asset_checks=[]})).catch((t=>{a.hide(),e.errors=t.response?.data?.message,e.$store.dispatch("error",t?.response?.data?.message)}))},viewRegister(e,a){this.$store.commit("setCurrentPage",1),this.$store.commit("setAssetId",this.asset_id),this.$router.push(a)},viewVGeometric(e){this.$store.commit("setCurrentPage",1),this.$store.commit("setAssetId",this.asset_id),this.$router.push("/geometric/"+this.asset_id)},viewHGeometric(e){this.$store.commit("setCurrentPage",1),this.$store.commit("setAssetId",this.asset_id),this.$router.push("/horizontal_geometric/"+this.asset_id)},openHotInspectionModal(){this.showHotInspectionModal=!0},formatKey(e){return e.split("_").map((e=>e.charAt(0).toUpperCase()+e.slice(1))).join(" ")}}};const Zl=(0,Ze.A)(Yl,[["render",Hl]]);var Gl=Zl,ei={name:"Dashboard",components:{Search:It.A,STL:wr,TLC:Gl},data(){return{total_users:0,total_asset:0,total_equipment:0,total_service_types:0,total_deviations:0,total_process_deviations:0,total_pending_services:0,total_upcoming_jobs:0,asset_types:[],assets:[],meta:{asset_type_id:"",asset_id:"",plant_id:"",phase_id:"",area_id:""},total_asset_pending_services:0,total_asset_upcoming_jobs:0,phases:[],areas:[],shops:[],asset_types_data:[],asset_lists:[]}},mounted(){this.getAssetPhases(),this.getAssetTypes(),this.meta.asset_type_id=this.$store.state.dashboard_asset_type_id||"",this.meta.asset_id=this.$store.state.dashboard_asset_id||"",this.meta.plant_id=this.$store.state.dashboard_plant_id||"",this.meta.area_id=this.$store.state.dashboard_area_id||"",this.meta.phase_id=this.$store.state.dashboard_phase_id||"",this.meta.phase_id&&this.getAssetAreas({phase_id:this.meta.phase_id},!1),this.meta.area_id&&this.getAssetShops({area_id:this.meta.area_id},!1),this.meta.plant_id&&this.getAssetsAssetTypes({plant_id:this.meta.plant_id},!1),this.meta.asset_type_id&&this.getLinkedAssets({asset_type_id:this.meta.asset_type_id},!1)},watch:{"meta.asset_id"(e,a){}},beforeRouteEnter(e,a,t){t((e=>{"login"===a.name&&e.$router.go(),e.$store.getters.user&&(e.getDashboardContent(),e.$store.state.dashboard_asset_id&&(e.meta.asset_id=e.$store.state.dashboard_asset_id))}))},methods:{isLotBelowThreshold(e){if(!e.latest_campaign)return!1;const a=[e.latest_campaign.metal_pp1_lot,e.latest_campaign.metal_pp2_lot,e.latest_campaign.slag_pp1_lot,e.latest_campaign.slag_pp2_lot].filter((e=>null!==e&&void 0!==e));return a.some((e=>Number(e)<40))},getSelectedAsset(){return this.asset_lists.find((e=>e.asset_id===this.meta.asset_id))},getSelectedAssetTypeCode(){const e=this.asset_types_data.find((e=>e.asset_type_id===this.meta.asset_type_id));return e?e.asset_type_code:""},getDashboardContent(){let e=this,a=e.$loading.show();e.$store.dispatch("post",{uri:"getDashboardContent"}).then((function(t){a.hide(),e.total_asset=t.data.asset||0,e.total_equipment=t.data.equipment||0,e.total_users=t.data.user||0,e.total_service_types=t.data.service_type||0,e.total_deviations=t.data.deviations||0,e.total_pending_services=t.data.pending_services||0,e.total_upcoming_jobs=t.data.upcoming_jobs||0,e.total_process_deviations=t.data.process_deviations||0})).catch((t=>{a.hide(),e.errors=t.response?.data?.message,e.$store.dispatch("error",t?.response?.data?.message)}))},selectAsset(e){this.meta.asset_id=e.asset_id,this.$store.commit("setDashboardAssetId",this.meta.asset_id)},getAssetTypes(){let e=this;e.$store.dispatch("post",{uri:"getAssetTypes"}).then((a=>{e.asset_types=a.data.data||[]}))},getAssetPhases(){let e=this;e.$store.dispatch("post",{uri:"getAssetPhases"}).then((a=>{e.phases=a.data.phases||[]}))},getAssetAreas(e,a=!0){let t=this;t.$store.dispatch("post",{uri:"getAssetAreas",data:e}).then((s=>{t.areas=s.data.areas||[],t.meta.phase_id=e.phase_id,t.$store.commit("setDashboardPhaseId",t.meta.phase_id),t.meta.area_id="",t.$store.commit("setDashboardAreaId",""),t.shops=[],t.asset_types_data=[],t.asset_lists=[],a&&(t.meta.asset_id="",t.meta.asset_type_id="",t.$store.commit("setDashboardAssetId",""),t.$store.commit("setDashboardAssetTypeId",""))}))},getAssetShops(e,a=!0){let t=this;t.$store.dispatch("post",{uri:"getAssetShops",data:e}).then((s=>{t.shops=s.data.shops||[],t.meta.area_id=e.area_id,t.$store.commit("setDashboardAreaId",t.meta.area_id),t.asset_types_data=[],t.asset_lists=[],a&&(t.meta.asset_id="",t.meta.asset_type_id="",t.$store.commit("setDashboardAssetId",""),t.$store.commit("setDashboardAssetTypeId",""))})).catch((e=>{loader.hide(),t.errors=e.response?.data?.message,t.$store.dispatch("error",e?.response?.data?.message)}))},getAssetsAssetTypes(e,a=!0){let t=this;t.$store.dispatch("post",{uri:"getAssetsAssetTypes",data:{plant_id:e.plant_id,phase_id:t.meta.phase_id}}).then((s=>{t.asset_types_data=s.data.asset_types||[],t.meta.plant_id=e.plant_id,t.$store.commit("setDashboardPlantId",t.meta.plant_id),t.asset_lists=[],a&&(t.meta.asset_id="",t.meta.asset_type_id="",t.$store.commit("setDashboardAssetId",""),t.$store.commit("setDashboardAssetTypeId",""))})).catch((e=>{loader.hide(),t.errors=e.response?.data?.message,t.$store.dispatch("error",e?.response?.data?.message)}))},getLinkedAssets(e,a=!0){let t=this;t.$store.dispatch("post",{uri:"getLinkedAssets",data:{asset_type_id:e.asset_type_id,plant_id:t.meta.plant_id,phase_id:t.meta.phase_id}}).then((s=>{if(s.data&&s.data.message)return t.$store.dispatch("error",s.data.message),t.asset_lists=[],void(a&&(t.meta.asset_id="",t.$store.commit("setDashboardAssetId","")));t.asset_lists=s.data.assets||[],t.meta.asset_type_id=e.asset_type_id,t.$store.commit("setDashboardAssetTypeId",t.meta.asset_type_id),a&&(t.meta.asset_id="",t.$store.commit("setDashboardAssetId","")),t.asset_lists.forEach((e=>{t.isLotBelowThreshold(e)&&console.log(`Asset ${e.asset_name} has LOT below threshold`)}))})).catch((e=>{t.errors=e.response?.data?.message,t.$store.dispatch("error",e?.response?.data?.message)}))},getAsset(){let e=this;e.$store.dispatch("post",{uri:"getAssetTypeAssets",data:e.meta}).then((a=>{e.assets=a.data||[]})).catch((a=>{loader.hide(),e.errors=a.response?.data?.message,e.$store.dispatch("error",a?.response?.data?.message)}))}}};const ai=(0,Ze.A)(ei,[["render",qt],["__scopeId","data-v-54fa839c"]]);var ti=ai;const si={class:""},ri={class:"breadcrumb fs-sm mb-1"},li={class:"breadcrumb-item"},ii={class:"row g-2"},oi={class:"col-2"},di={class:"card card-one"},ni={class:"card-body"},ci={class:"text-center"},ui=["src"],_i={class:"col-6"},pi={class:"card card-one"},mi={class:"card-body"},bi={class:"row g-2"},ki={class:"col-md-12"},vi={key:0,class:"invalid-feedback"},hi={class:"col-md-6"},yi={key:0,class:"invalid-feedback"},gi={class:"col-sm-6"},fi={key:0,class:"invalid-feedback"},Li={class:"col-sm-12"},Ci={key:0,class:"invalid-feedback"},wi={class:"col-4"},Ei={class:"card card-one"},xi={class:"card-body"},Xi={class:"row g-2"},Pi={class:"col-md-12"},$i={class:"input-group"},Si=["type"],Ai={key:0,class:"invalid-feedback"},Di={class:"col-md-12"},Ti={class:"input-group"},Qi=["type"],Vi={key:0,class:"invalid-feedback"},Fi={class:"col-md-12"},Ui={class:"input-group"},ji=["type"],zi={key:0,class:"invalid-feedback"};function Wi(e,a,t,l,i,o){const d=(0,r.g2)("router-link");return(0,r.uX)(),(0,r.CE)("div",si,[(0,r.Lk)("div",null,[(0,r.Lk)("ol",ri,[(0,r.Lk)("li",li,[(0,r.bF)(d,{to:"/dashboard"},{default:(0,r.k6)((()=>a[13]||(a[13]=[(0,r.eW)("Dashboard")]))),_:1})]),a[14]||(a[14]=(0,r.Lk)("li",{class:"breadcrumb-item active","aria-current":"page"},"Profile",-1))]),a[15]||(a[15]=(0,r.Lk)("h4",{class:"main-title mb-2"},"Profile",-1))]),(0,r.Lk)("div",ii,[(0,r.Lk)("div",oi,[(0,r.Lk)("div",di,[a[16]||(a[16]=(0,r.Lk)("div",{class:"card-header d-flex justify-content-between"},[(0,r.Lk)("h6",{class:"card-title"},"Avatar")],-1)),(0,r.Lk)("div",ni,[(0,r.Lk)("div",ci,[(0,r.Lk)("img",{class:"mb-2",width:"100",src:i.user?.avatar},null,8,ui),(0,r.Lk)("input",{type:"file",class:"form-control m-auto",id:"customFile",onChange:a[0]||(a[0]=e=>o.onImageChange(e)),accept:"image/*",style:{width:"98px"}},null,32)])])])]),(0,r.Lk)("div",_i,[(0,r.Lk)("form",{onSubmit:a[5]||(a[5]=(0,s.D$)(((...e)=>o.updateProfile&&o.updateProfile(...e)),["prevent"]))},[(0,r.Lk)("div",pi,[a[24]||(a[24]=(0,r.Lk)("div",{class:"card-header d-flex justify-content-between"},[(0,r.Lk)("h6",{class:"card-title"},"Update Profile")],-1)),(0,r.Lk)("div",mi,[(0,r.Lk)("div",bi,[(0,r.Lk)("div",ki,[a[17]||(a[17]=(0,r.Lk)("label",{class:"form-label"},"Name",-1)),a[18]||(a[18]=(0,r.Lk)("span",{class:"text-danger"}," *",-1)),(0,r.bo)((0,r.Lk)("input",{type:"text",placeholder:"Name",class:(0,n.C4)(["form-control",{"is-invalid":i.errors.name}]),"onUpdate:modelValue":a[1]||(a[1]=e=>i.user.name=e),ref:"name"},null,2),[[s.Jo,i.user.name]]),i.errors.name?((0,r.uX)(),(0,r.CE)("span",vi,(0,n.v_)(i.errors.name[0]),1)):(0,r.Q3)("",!0)]),(0,r.Lk)("div",hi,[a[19]||(a[19]=(0,r.Lk)("label",{class:"form-label"},"Email",-1)),a[20]||(a[20]=(0,r.Lk)("span",{class:"text-danger"}," *",-1)),(0,r.bo)((0,r.Lk)("input",{type:"email",placeholder:"Email",class:(0,n.C4)(["form-control",{"is-invalid":i.errors.email}]),"onUpdate:modelValue":a[2]||(a[2]=e=>i.user.email=e)},null,2),[[s.Jo,i.user.email]]),i.errors.email?((0,r.uX)(),(0,r.CE)("span",yi,(0,n.v_)(i.errors.email[0]),1)):(0,r.Q3)("",!0)]),(0,r.Lk)("div",gi,[a[21]||(a[21]=(0,r.Lk)("label",{class:"form-label"},"Mobile No.",-1)),a[22]||(a[22]=(0,r.Lk)("span",{class:"text-danger"}," *",-1)),(0,r.bo)((0,r.Lk)("input",{type:"text",placeholder:"Mobile No.",class:(0,n.C4)(["form-control",{"is-invalid":i.errors.mobile_no}]),"onUpdate:modelValue":a[3]||(a[3]=e=>i.user.mobile_no=e)},null,2),[[s.Jo,i.user.mobile_no]]),i.errors.mobile_no?((0,r.uX)(),(0,r.CE)("span",fi,(0,n.v_)(i.errors.mobile_no[0]),1)):(0,r.Q3)("",!0)]),(0,r.Lk)("div",Li,[a[23]||(a[23]=(0,r.Lk)("label",{class:"form-label"},"Address",-1)),(0,r.bo)((0,r.Lk)("textarea",{type:"text",placeholder:"Address",class:(0,n.C4)(["form-control",{"is-invalid":i.errors.address}]),"onUpdate:modelValue":a[4]||(a[4]=e=>i.user.address=e)},null,2),[[s.Jo,i.user.address]]),i.errors.address?((0,r.uX)(),(0,r.CE)("span",Ci,(0,n.v_)(i.errors.address[0]),1)):(0,r.Q3)("",!0)])])]),a[25]||(a[25]=(0,r.Lk)("div",{class:"card-footer text-end"},[(0,r.Lk)("button",{type:"submit",class:"btn btn-primary"},[(0,r.Lk)("i",{class:"ri-save-line fs-18 lh-1"}),(0,r.eW)(" Update")])],-1))])],32)]),(0,r.Lk)("div",wi,[(0,r.Lk)("div",Ei,[(0,r.Lk)("form",{onSubmit:a[12]||(a[12]=(0,s.D$)(((...e)=>o.updatePassword&&o.updatePassword(...e)),["prevent"]))},[a[32]||(a[32]=(0,r.Lk)("div",{class:"card-header d-flex justify-content-between"},[(0,r.Lk)("h6",{class:"card-title"},"Change Password")],-1)),(0,r.Lk)("div",xi,[(0,r.Lk)("div",Xi,[(0,r.Lk)("div",Pi,[a[26]||(a[26]=(0,r.Lk)("label",{class:"form-label"},"Current Password",-1)),a[27]||(a[27]=(0,r.Lk)("span",{class:"text-danger"}," *",-1)),(0,r.Lk)("div",$i,[(0,r.bo)((0,r.Lk)("input",{type:i.showPassword.current?"text":"password",placeholder:"Current Password",class:(0,n.C4)(["form-control",{"is-invalid":i.errors.current_password}]),"onUpdate:modelValue":a[6]||(a[6]=e=>i.user.current_password=e)},null,10,Si),[[s.hp,i.user.current_password]]),(0,r.Lk)("button",{type:"button",class:"input-group-text",onClick:a[7]||(a[7]=e=>i.showPassword.current=!i.showPassword.current)},[(0,r.Lk)("i",{class:(0,n.C4)(i.showPassword.current?"ri-eye-line":"ri-eye-off-line")},null,2)])]),i.errors.current_password?((0,r.uX)(),(0,r.CE)("span",Ai,(0,n.v_)(i.errors.current_password[0]),1)):(0,r.Q3)("",!0)]),(0,r.Lk)("div",Di,[a[28]||(a[28]=(0,r.Lk)("label",{class:"form-label"},"New Password",-1)),a[29]||(a[29]=(0,r.Lk)("span",{class:"text-danger"}," *",-1)),(0,r.Lk)("div",Ti,[(0,r.bo)((0,r.Lk)("input",{type:i.showPassword.new?"text":"password",placeholder:"New Password",class:(0,n.C4)(["form-control",{"is-invalid":i.errors.new_password}]),"onUpdate:modelValue":a[8]||(a[8]=e=>i.user.new_password=e)},null,10,Qi),[[s.hp,i.user.new_password]]),(0,r.Lk)("button",{type:"button",class:"input-group-text",onClick:a[9]||(a[9]=e=>i.showPassword.new=!i.showPassword.new)},[(0,r.Lk)("i",{class:(0,n.C4)(i.showPassword.new?"ri-eye-line":"ri-eye-off-line")},null,2)])]),i.errors.new_password?((0,r.uX)(),(0,r.CE)("span",Vi,(0,n.v_)(i.errors.new_password[0]),1)):(0,r.Q3)("",!0)]),(0,r.Lk)("div",Fi,[a[30]||(a[30]=(0,r.Lk)("label",{class:"form-label"},"Confirm Password",-1)),a[31]||(a[31]=(0,r.Lk)("span",{class:"text-danger"}," *",-1)),(0,r.Lk)("div",Ui,[(0,r.bo)((0,r.Lk)("input",{type:i.showPassword.confirm?"text":"password",placeholder:"Confirm Password",class:(0,n.C4)(["form-control",{"is-invalid":i.errors.confirm_password}]),"onUpdate:modelValue":a[10]||(a[10]=e=>i.user.confirm_password=e)},null,10,ji),[[s.hp,i.user.confirm_password]]),(0,r.Lk)("button",{type:"button",class:"input-group-text",onClick:a[11]||(a[11]=e=>i.showPassword.confirm=!i.showPassword.confirm)},[(0,r.Lk)("i",{class:(0,n.C4)(i.showPassword.confirm?"ri-eye-line":"ri-eye-off-line")},null,2)])]),i.errors.confirm_password?((0,r.uX)(),(0,r.CE)("span",zi,(0,n.v_)(i.errors.confirm_password[0]),1)):(0,r.Q3)("",!0)])])]),a[33]||(a[33]=(0,r.Lk)("div",{class:"card-footer text-end"},[(0,r.Lk)("button",{type:"submit",class:"btn btn-primary"},[(0,r.Lk)("i",{class:"ri-save-line fs-18 lh-1"}),(0,r.eW)(" Update")])],-1))],32)])])])])}var Ri={name:"Profile",data(){return{status:!0,image:null,user:{user_id:"",name:"",username:"",email:"",avatar:"",role_id:"",role:{role:""},mobile_no:"",address:"",current_password:"",new_password:"",confirm_password:""},roles:[],users:[],errors:[],showPassword:{current:!1,new:!1,confirm:!1}}},beforeRouteEnter(e,a,t){t((e=>{e.getRoles(),e.user.user_id=e.$store.getters.user?.user_id,e.$refs.name.focus();let a=e.$loading.show(),t={uri:"me",data:e.user};e.$store.dispatch("post",t).then((function(t){a.hide(),e.user=t.data.data})).catch((function(t){a.hide(),e.errors=t.response.data.errors,e.$store.dispatch("error",t.response.data.message)}))}))},methods:{getRoles(){let e=this,a=e.$loading.show();e.$store.dispatch("post",{uri:"getRoles"}).then((t=>{a.hide(),e.roles=t.data.data})).catch((function(t){a.hide(),e.errors=t.response.data.errors,e.$store.dispatch("error",t.response.data.message)}))},test(e,a){let t=this;"current_password"==a&&(t.errors.current_password=""),"new_password"==a&&(t.errors.new_password=""),"confirm_password"==a&&(t.errors.confirm_password="")},updateProfile(){let e=this,a=e.$loading.show(),t=new FormData;t.append("user_id",e.user.user_id),t.append("name",e.user.name),t.append("email",e.user.email),t.append("mobile_no",e.user.mobile_no),t.append("avatar",e.image),t.append("role_id",e.user.role_id),t.append("address",e.user.address),e.$store.dispatch("post",{uri:"updateProfile",data:t}).then((function(t){a.hide(),e.$store.dispatch("success","Profile is successfully updated"),e.$store.dispatch("setUser",t.data.data),e.errors=[]})).catch((function(t){a.hide(),e.errors=t.response.data.errors,e.$store.dispatch("error",t.response.data.message)}))},updatePassword(){let e=this,a=e.$loading.show();e.$store.dispatch("post",{uri:"changePassword",data:e.user}).then((function(){a.hide(),e.$store.dispatch("success","Password is successfully updated"),e.user.current_password="",e.user.new_password="",e.user.confirm_password=""})).catch((function(t){a.hide(),e.errors=t.response.data.errors,e.$store.dispatch("error",t.response.data.message)}))},onImageChange(e){e.preventDefault();let a=this;a.image=e.target.files[0];let t=new FileReader;t.readAsDataURL(a.image),t.onload=e=>{a.user.avatar=e.target.result}}}};const qi=(0,Ze.A)(Ri,[["render",Wi],["__scopeId","data-v-7243728d"]]);var Ii=qi;const Ni={class:"page-auth"},Mi={class:"content"},Ki={class:"container"},Ji={class:"card card-auth"},Bi={class:"card-body text-center"},Oi={class:"row g-2"},Hi={class:"col-sm-8"},Yi={key:0,class:"invalid-feedback"};function Zi(e,a,t,l,i,o){return(0,r.uX)(),(0,r.CE)("div",Ni,[(0,r.Lk)("div",Mi,[(0,r.Lk)("div",Ki,[(0,r.Lk)("form",{autocomplete:"off",onSubmit:a[1]||(a[1]=(0,s.D$)(((...e)=>o.forgotPassword&&o.forgotPassword(...e)),["prevent"]))},[(0,r.Lk)("div",Ji,[(0,r.Lk)("div",Bi,[a[3]||(a[3]=(0,r.Lk)("div",{class:"mb-3"},[(0,r.Lk)("img",{src:c,class:"img",width:"100"})],-1)),a[4]||(a[4]=(0,r.Lk)("h3",{class:"card-title"},"Forgot your password",-1)),a[5]||(a[5]=(0,r.Lk)("p",{class:"card-text mb-3"},"Enter your email address and we will send you a OTP to reset your password.",-1)),(0,r.Lk)("div",Oi,[(0,r.Lk)("div",Hi,[(0,r.bo)((0,r.Lk)("input",{type:"email",class:(0,n.C4)(["form-control",{"is-invalid":i.errors.error}]),placeholder:"Enter email","onUpdate:modelValue":a[0]||(a[0]=e=>i.user.email=e),ref:"email"},null,2),[[s.Jo,i.user.email]]),i.errors.error?((0,r.uX)(),(0,r.CE)("span",Yi,(0,n.v_)(i.errors.error),1)):(0,r.Q3)("",!0)]),a[2]||(a[2]=(0,r.Lk)("div",{class:"col-sm-4"},[(0,r.Lk)("button",{method:"submit",class:"btn btn-primary"},"Request OTP")],-1))])])])],32)])])])}var Gi={name:"ForgotPassword",data(){return{user:{email:""},errors:[]}},mounted(){this.$refs.email.focus()},methods:{forgotPassword(){let e=this,a=e.$loading.show();e.$store.dispatch("post",{uri:"forgotPassword",data:e.user}).then((function(t){a.hide(),e.$store.dispatch("success",t.data.success),e.$router.push("/reset_password")})).catch((function(t){a.hide(),e.errors=t.response.data,e.$store.dispatch("error",t.response.data.message)}))}}};const eo=(0,Ze.A)(Gi,[["render",Zi]]);var ao=eo;const to={class:"page-sign"},so={class:"card card-sign"},ro={class:"card-body"},lo={class:"mb-3"},io={key:0,class:"invalid-feedback"},oo={class:"mb-3"},no={key:0,class:"invalid-feedback"},co={class:"mb-3"},uo={key:0,class:"invalid-feedback"},_o={class:"mb-3"},po={key:0,class:"invalid-feedback"},mo={class:"text-center"};function bo(e,a,t,l,i,o){const d=(0,r.g2)("router-link");return(0,r.uX)(),(0,r.CE)("div",to,[(0,r.Lk)("div",so,[a[12]||(a[12]=(0,r.Fv)('<div class="card-header d-flex flex-column align-items-center"><div class="mb-2"><img src="'+c+'" class="img" width="180"></div><a href="javascript:void(0)" class="header-logo mb-2" style="font-size:25px;width:350px;display:inline-block;white-space:nowrap;">Refractory Management System</a><h3 class="card-title text-center">Reset Your Password</h3><p class="card-text text-center">Enter the otp and reset your password here.</p></div>',1)),(0,r.Lk)("div",ro,[(0,r.Lk)("form",{onSubmit:a[4]||(a[4]=(0,s.D$)((e=>o.resetPassword()),["prevent"]))},[(0,r.Lk)("div",lo,[a[5]||(a[5]=(0,r.Lk)("label",{class:"form-label d-flex justify-content-between"},"Email",-1)),(0,r.bo)((0,r.Lk)("input",{type:"email",class:(0,n.C4)(["form-control",{"is-invalid":i.errors.email}]),placeholder:"Enter your Email","onUpdate:modelValue":a[0]||(a[0]=e=>i.user.email=e),ref:"email"},null,2),[[s.Jo,i.user.email]]),i.errors.email?((0,r.uX)(),(0,r.CE)("span",io,(0,n.v_)(i.errors.email[0]),1)):(0,r.Q3)("",!0)]),(0,r.Lk)("div",oo,[a[6]||(a[6]=(0,r.Lk)("label",{class:"form-label d-flex justify-content-between"},"OTP",-1)),(0,r.bo)((0,r.Lk)("input",{type:"text",class:(0,n.C4)(["form-control",{"is-invalid":i.errors.otp}]),placeholder:"Enter your OTP","onUpdate:modelValue":a[1]||(a[1]=e=>i.user.otp=e)},null,2),[[s.Jo,i.user.otp]]),i.errors.otp?((0,r.uX)(),(0,r.CE)("span",no,(0,n.v_)(i.errors.otp[0]),1)):(0,r.Q3)("",!0)]),(0,r.Lk)("div",co,[a[7]||(a[7]=(0,r.Lk)("label",{class:"form-label d-flex justify-content-between"},"Password",-1)),(0,r.bo)((0,r.Lk)("input",{type:"password",class:(0,n.C4)(["form-control",{"is-invalid":i.errors.password}]),placeholder:"Enter your password","onUpdate:modelValue":a[2]||(a[2]=e=>i.user.password=e)},null,2),[[s.Jo,i.user.password]]),i.errors.password?((0,r.uX)(),(0,r.CE)("span",uo,(0,n.v_)(i.errors.password[0]),1)):(0,r.Q3)("",!0)]),(0,r.Lk)("div",_o,[a[8]||(a[8]=(0,r.Lk)("label",{class:"form-label d-flex justify-content-between"},"Confirm Password",-1)),(0,r.bo)((0,r.Lk)("input",{type:"password",class:(0,n.C4)(["form-control",{"is-invalid":i.errors.confirm_password}]),placeholder:"Confirm your password","onUpdate:modelValue":a[3]||(a[3]=e=>i.user.confirm_password=e)},null,2),[[s.Jo,i.user.confirm_password]]),i.errors.confirm_password?((0,r.uX)(),(0,r.CE)("span",po,(0,n.v_)(i.errors.confirm_password[0]),1)):(0,r.Q3)("",!0)]),a[11]||(a[11]=(0,r.Lk)("div",{class:"row mb-2"},[(0,r.Lk)("div",{class:"col-12"},[(0,r.Lk)("button",{method:"submit",class:"btn btn-primary btn-blosignck"},"Reset Password")])],-1)),(0,r.Lk)("div",mo,[a[10]||(a[10]=(0,r.eW)("Not you? ")),(0,r.bF)(d,{to:"/"},{default:(0,r.k6)((()=>a[9]||(a[9]=[(0,r.eW)("Sign in with different account")]))),_:1})])],32)])])])}var ko={name:"reset_password",data(){return{user:{email:"",otp:"",password:"",confirm_password:""},errors:[]}},mounted(){this.$refs.email.focus()},methods:{resetPassword(){let e=this,a=e.$loading.show();e.$store.dispatch("post",{uri:"resetPassword",data:e.user}).then((function(){a.hide(),e.$store.dispatch("success","Password has been reset successfully"),e.$router.push("/")})).catch((function(t){a.hide(),e.errors=t.response.data.errors,e.$store.dispatch("error",t.response.data.message)}))}}};const vo=(0,Ze.A)(ko,[["render",bo]]);var ho=vo;const yo={class:""},go={class:"breadcrumb fs-sm mb-1"},fo={class:"breadcrumb-item"},Lo={class:"row g-2"},Co={class:"col-4"},wo={class:"card card-one"},Eo={class:"card-header d-flex justify-content-between"},xo={key:0,class:"card-title"},Xo={key:1,class:"card-title"},Po={class:"card-body"},$o={class:"row g-2"},So={class:"col-md-12"},Ao=["disabled"],Do={key:0,class:"invalid-feedback"},To={class:"col-md-12"},Qo={key:0,class:"invalid-feedback"},Vo={class:"card-footer text-end"},Fo={type:"submit",class:"btn btn-primary"},Uo={key:0},jo={key:1},zo={class:"card card-one"},Wo={class:"card-body"},Ro={class:"table-responsive table-responsive-sm"},qo={class:"table table-sm text-nowrap table-striped table-bordered mb-0"},Io={class:"",style:{"background-color":"#9b9b9b",color:"white"}},No={key:0,class:"ri-arrow-up-line"},Mo={key:1,class:"ri-arrow-down-line"},Ko={key:2,class:"fas fa-sort"},Jo={key:0,class:"ri-arrow-up-line"},Bo={key:1,class:"ri-arrow-down-line"},Oo={key:2,class:"fas fa-sort"},Ho={class:"text-center"},Yo={class:"text-center"},Zo={key:0},Go={class:"text-center"},ed={class:"text-center"},ad={class:"form-switch"},td=["id","checked","value","onChange","disabled"],sd=["for"],rd={class:"text-center"},ld=["onClick"],id={class:"card-footer"},od={class:"d-flex justify-content-between align-items-center"};function dd(e,a,t,l,i,o){const d=(0,r.g2)("router-link"),c=(0,r.g2)("Pagination"),u=(0,r.gN)("can");return(0,r.uX)(),(0,r.CE)("div",yo,[(0,r.Lk)("div",null,[(0,r.Lk)("ol",go,[(0,r.Lk)("li",fo,[(0,r.bF)(d,{to:"/dashboard"},{default:(0,r.k6)((()=>a[10]||(a[10]=[(0,r.eW)("Dashboard")]))),_:1})]),a[11]||(a[11]=(0,r.Lk)("li",{class:"breadcrumb-item active","aria-current":"page"},"List Parameters",-1))]),a[12]||(a[12]=(0,r.Lk)("h4",{class:"main-title mb-2"},"List Parameters",-1))]),(0,r.Lk)("div",Lo,[(0,r.bo)(((0,r.uX)(),(0,r.CE)("div",Co,[(0,r.Lk)("form",{onSubmit:a[3]||(a[3]=(0,s.D$)((e=>o.submitForm()),["prevent"]))},[(0,r.Lk)("div",wo,[(0,r.Lk)("div",Eo,[i.status?((0,r.uX)(),(0,r.CE)("h6",xo,"Add List Parameter")):((0,r.uX)(),(0,r.CE)("h6",Xo,"Update List Parameter"))]),(0,r.Lk)("div",Po,[(0,r.Lk)("div",$o,[(0,r.Lk)("div",So,[a[13]||(a[13]=(0,r.Lk)("label",{class:"form-label"},"List Parameter Name",-1)),a[14]||(a[14]=(0,r.Lk)("span",{class:"text-danger"}," *",-1)),(0,r.bo)((0,r.Lk)("input",{type:"text",placeholder:"List Parameter Name",class:(0,n.C4)(["form-control",{"is-invalid":i.errors?.list_parameter_name}]),"onUpdate:modelValue":a[0]||(a[0]=e=>i.list.list_parameter_name=e),ref:"list_parameter_name",disabled:!i.status},null,10,Ao),[[s.Jo,i.list.list_parameter_name]]),i.errors?.list_parameter_name?((0,r.uX)(),(0,r.CE)("span",Do,(0,n.v_)(i.errors?.list_parameter_name[0]),1)):(0,r.Q3)("",!0)]),(0,r.Lk)("div",To,[a[15]||(a[15]=(0,r.Lk)("label",{class:"form-label"},"Field Values",-1)),a[16]||(a[16]=(0,r.Lk)("span",{class:"text-danger"}," *",-1)),(0,r.bo)((0,r.Lk)("textarea",{rows:"2",type:"text",placeholder:"Enter Field Values",class:(0,n.C4)(["form-control",{"is-invalid":i.errors?.field_values}]),"onUpdate:modelValue":a[1]||(a[1]=e=>i.list.field_values=e)},null,2),[[s.Jo,i.list.field_values]]),i.errors?.field_values?((0,r.uX)(),(0,r.CE)("span",Qo,(0,n.v_)(i.errors?.field_values[0]),1)):(0,r.Q3)("",!0)])])]),(0,r.Lk)("div",Vo,[(0,r.Lk)("button",{type:"button",class:"btn btn-danger me-2",onClick:a[2]||(a[2]=e=>o.discard())},a[17]||(a[17]=[(0,r.Lk)("i",{class:"ri-close-line fs-18 lh-1"},null,-1),(0,r.eW)(" Discard")])),(0,r.Lk)("button",Fo,[i.status?((0,r.uX)(),(0,r.CE)("span",Uo,a[18]||(a[18]=[(0,r.Lk)("i",{class:"ri-save-line fs-18 lh-1"},null,-1),(0,r.eW)(" Submit")]))):((0,r.uX)(),(0,r.CE)("span",jo,a[19]||(a[19]=[(0,r.Lk)("i",{class:"ri-save-line fs-18 lh-1"},null,-1),(0,r.eW)(" Update")])))])])])],32)])),[[u,"list_parameters.create"]]),(0,r.Lk)("div",{class:(0,n.C4)(i.column)},[(0,r.Lk)("div",zo,[a[28]||(a[28]=(0,r.Lk)("div",{class:"card-header d-flex justify-content-between"},[(0,r.Lk)("h6",{class:"card-title"},"List Parameters")],-1)),(0,r.Lk)("div",Wo,[(0,r.bo)((0,r.Lk)("input",{class:"form-control mb-2",type:"text",placeholder:"Type keyword and press enter key","onUpdate:modelValue":a[4]||(a[4]=e=>i.meta.search=e),onKeypress:a[5]||(a[5]=(0,s.jR)((e=>o.search()),["enter"]))},null,544),[[s.Jo,i.meta.search]]),(0,r.Lk)("div",Ro,[(0,r.Lk)("table",qo,[(0,r.Lk)("thead",null,[(0,r.Lk)("tr",Io,[a[24]||(a[24]=(0,r.Lk)("th",{class:"text-center"},"#",-1)),(0,r.Lk)("th",{onClick:a[6]||(a[6]=e=>o.sort("list_parameter_name"))},[a[20]||(a[20]=(0,r.eW)("List Parameter Name ")),(0,r.Lk)("span",null,["list_parameter_name"==i.meta.keyword&&"asc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",No)):"list_parameter_name"==i.meta.keyword&&"desc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",Mo)):((0,r.uX)(),(0,r.CE)("i",Ko))])]),(0,r.Lk)("th",{onClick:a[7]||(a[7]=e=>o.sort("field_values"))},[a[21]||(a[21]=(0,r.eW)("Field Values ")),(0,r.Lk)("span",null,["field_values"==i.meta.keyword&&"asc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",Jo)):"field_values"==i.meta.keyword&&"desc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",Bo)):((0,r.uX)(),(0,r.CE)("i",Oo))])]),(0,r.bo)(((0,r.uX)(),(0,r.CE)("th",Ho,a[22]||(a[22]=[(0,r.eW)("Status")]))),[[u,"list_parameters.delete"]]),(0,r.bo)(((0,r.uX)(),(0,r.CE)("th",Yo,a[23]||(a[23]=[(0,r.eW)("Actions")]))),[[u,"list_parameters.update"]])])]),(0,r.Lk)("tbody",null,[0==i.lists.length?((0,r.uX)(),(0,r.CE)("tr",Zo,a[25]||(a[25]=[(0,r.Lk)("td",{colspan:"6",class:"text-center"},"No records found",-1)]))):(0,r.Q3)("",!0),((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(i.lists,((e,t)=>((0,r.uX)(),(0,r.CE)("tr",{key:t},[(0,r.Lk)("td",Go,(0,n.v_)(i.meta.from+t),1),(0,r.Lk)("td",null,(0,n.v_)(e.list_parameter_name),1),(0,r.Lk)("td",null,(0,n.v_)(e.field_values),1),(0,r.bo)(((0,r.uX)(),(0,r.CE)("td",ed,[(0,r.Lk)("div",ad,[(0,r.Lk)("input",{class:"form-check-input",type:"checkbox",role:"switch",id:"list"+e.list_parameter_id,checked:e.status,value:e.status,onChange:a=>o.deleteList(e),disabled:"vendor"===e.list_parameter_name.toLowerCase()},null,40,td),(0,r.Lk)("label",{class:"custom-control-label",for:"list"+e.list_parameter_id},null,8,sd)])])),[[u,"list_parameters.delete"]]),(0,r.bo)(((0,r.uX)(),(0,r.CE)("td",rd,[e.status?((0,r.uX)(),(0,r.CE)("a",{key:0,href:"javascript:void(0)",class:"text-success me-2",onClick:a=>o.editList(e)},a[26]||(a[26]=[(0,r.Lk)("i",{class:"ri-pencil-line fs-18 lh-1"},null,-1)]),8,ld)):(0,r.Q3)("",!0)])),[[u,"list_parameters.update"]])])))),128))])])])]),(0,r.Lk)("div",id,[(0,r.Lk)("div",od,[(0,r.bo)((0,r.Lk)("select",{class:"form-select from-select-sm width-75","onUpdate:modelValue":a[8]||(a[8]=e=>i.meta.per_page=e),onChange:a[9]||(a[9]=(...e)=>o.onPerPageChange&&o.onPerPageChange(...e))},a[27]||(a[27]=[(0,r.Lk)("option",null,"10",-1),(0,r.Lk)("option",null,"15",-1),(0,r.Lk)("option",null,"20",-1),(0,r.Lk)("option",null,"25",-1),(0,r.Lk)("option",null,"30",-1)]),544),[[s.u1,i.meta.per_page]]),(0,r.Lk)("span",null,"Showing "+(0,n.v_)(i.meta.from)+" to "+(0,n.v_)(i.meta.to)+" of "+(0,n.v_)(i.meta.totalRows)+" entries",1),(0,r.bF)(c,{maxPage:i.meta.maxPage,totalPages:i.meta.lastPage,currentPage:i.meta.page,onPagechanged:o.onPageChange},null,8,["maxPage","totalPages","currentPage","onPagechanged"])])])])],2)])])}const nd={class:"pagination pagination-space justify-content-end mb-0"},cd=["onClick","disabled"];function ud(e,a,t,l,i,o){return(0,r.uX)(),(0,r.CE)("ul",nd,[(0,r.Lk)("li",{class:(0,n.C4)(["page-item",{disabled:o.isInFirstPage}])},[(0,r.Lk)("button",{type:"button",class:"page-link",onClick:a[0]||(a[0]=(0,s.D$)(((...e)=>o.onClickFirstPage&&o.onClickFirstPage(...e)),["prevent"]))}," First ")],2),(0,r.Lk)("li",{class:(0,n.C4)(["page-item",{disabled:o.isInFirstPage}])},[(0,r.Lk)("button",{type:"button",class:"page-link",onClick:a[1]||(a[1]=(0,s.D$)(((...e)=>o.onClickPreviousPage&&o.onClickPreviousPage(...e)),["prevent"]))}," Previous ")],2),((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(o.pages,((e,a)=>((0,r.uX)(),(0,r.CE)("li",{class:(0,n.C4)(["page-item",{active:o.isPageActive(e.name)}]),key:a},[(0,r.Lk)("button",{type:"button",class:"page-link",onClick:(0,s.D$)((a=>o.onClickPage(e.name)),["prevent"]),disabled:e.isDisabled},(0,n.v_)(e.name),9,cd)],2)))),128)),(0,r.Lk)("li",{class:(0,n.C4)(["page-item",{disabled:o.isInLastPage}])},[(0,r.Lk)("button",{type:"button",class:"page-link",onClick:a[2]||(a[2]=(0,s.D$)(((...e)=>o.onClickNextPage&&o.onClickNextPage(...e)),["prevent"]))}," Next ")],2),(0,r.Lk)("li",{class:(0,n.C4)(["page-item",{disabled:o.isInLastPage}])},[(0,r.Lk)("button",{type:"button",class:"page-link",onClick:a[3]||(a[3]=(0,s.D$)(((...e)=>o.onClickLastPage&&o.onClickLastPage(...e)),["prevent"]))}," Last ")],2)])}var _d={name:"Pagination",props:{maxPage:{type:Number,required:!0},totalPages:{type:Number,required:!0},currentPage:{type:Number,required:!0},from:{type:String}},computed:{startPage(){return 1===this.currentPage?1:this.currentPage===this.totalPages?this.totalPages-this.maxPage+1:this.currentPage-1},endPage(){return Math.min(this.startPage+this.maxPage-1,this.totalPages)},pages(){const e=[];for(let a=this.startPage;a<=this.endPage;a+=1)e.push({name:a,isDisabled:a===this.currentPage});return console.log("this.currentPage",this.currentPage),e},isInFirstPage(){return 1===this.currentPage},isInLastPage(){return this.currentPage===this.totalPages}},methods:{onClickFirstPage(){this.$emit("pagechanged",1,this.from)},onClickPreviousPage(){this.$emit("pagechanged",this.currentPage-1,this.from)},onClickPage(e){this.$emit("pagechanged",e,this.from)},onClickNextPage(){this.$emit("pagechanged",this.currentPage+1,this.from)},onClickLastPage(){this.$emit("pagechanged",this.totalPages,this.from)},isPageActive(e){return this.currentPage===e}}};const pd=(0,Ze.A)(_d,[["render",ud]]);var md=pd,bd={components:{Pagination:md},data(){return{column:"col-8",meta:{search:"",order_by:"desc",keyword:"list_parameter_id",per_page:10,totalRows:0,page:1,lastPage:1,from:1,to:1,maxPage:1,trashed:!1},lists:[],list:{list_parameter_id:"",list_parameter_name:"",field_values:"",status:""},status:!0,errors:[]}},mounted(){this.create_list=this.$store.getters.permissions.filter((function(e){return e.ability.ability.includes("list_parameters.create")})),this.create_list.length?this.column="col-8":this.column="col-12",this.index(),this.$refs.list_parameter_name.focus()},methods:{submitForm(){let e=this;e.status?e.addList():e.updateList()},index(){let e=this,a=e.$loading.show();e.$store.dispatch("post",{uri:"paginateListParameters",data:e.meta}).then((t=>{a.hide(),e.lists=t.data.data,e.meta.totalRows=t.data.meta.total,e.meta.from=t.data.meta.from,e.meta.to=t.data.meta.to,e.meta.lastPage=t.data.meta.last_page,e.meta.maxPage=e.meta.lastPage>=3?3:e.meta.lastPage})).catch((function(t){a.hide(),e.errors=t.response.data.errors,e.$store.dispatch("error",t.response.data.message)}))},addList(){let e=this,a=e.$loading.show();e.$store.dispatch("post",{uri:"addListParameter",data:e.list}).then((t=>{a.hide(),e.$store.dispatch("success",t.data.message),e.discard()})).catch((function(t){a.hide(),e.errors=t.response.data.errors,e.$store.dispatch("error",t.response.data.message)}))},deleteList(e){let a=this;e.status=1==e.status?0:1,a.$store.dispatch("post",{uri:"deleteListParameter",data:e}).then((function(e){a.$store.dispatch("success",e.data.message),a.discard()})).catch((function(e){a.errors=e.response?.data?.errors,a.$store.dispatch("error",e?.response?.data?.message)}))},editList(e){this.list=e,this.status=!1,this.$refs.list_parameter_name.focus()},updateList(){let e=this,a=e.$loading.show();e.$store.dispatch("post",{uri:"updateListParameter",data:e.list}).then((t=>{a.hide(),e.$store.dispatch("success",t.data.message),e.discard()})).catch((function(t){a.hide(),e.errors=t.response.data.errors,e.$store.dispatch("error",t.response.data.message)}))},onPageChange(e){this.meta.page=e,this.index()},sort(e){this.meta.keyword=e,this.meta.order_by="asc"==this.meta.order_by?"desc":"asc",this.index()},discard(){let e=this;e.list.list_parameter_name="",e.list.field_values="",e.$refs.list_parameter_name.focus(),e.errors=[],e.status=!0,e.index()},search(){let e=this;e.meta.page=1,e.index()},onPerPageChange(){let e=this;e.meta.page=1,e.index()}}};const kd=(0,Ze.A)(bd,[["render",dd]]);var vd=kd;const hd={class:""},yd={class:"breadcrumb fs-sm mb-1"},gd={class:"breadcrumb-item"},fd={class:"row g-2"},Ld={class:"col-4"},Cd={class:"card card-one"},wd={class:"card-header d-flex justify-content-between"},Ed={key:0,class:"card-title"},xd={key:1,class:"card-title"},Xd={class:"card-body"},Pd={class:"row g-2"},$d={class:"col-md-12"},Sd={key:0,class:"invalid-feedback"},Ad={class:"col-md-12"},Dd={key:0,class:"invalid-feedback"},Td={class:"col-md-12"},Qd={key:0,class:"invalid-feedback"},Vd={class:"col-md-12"},Fd={key:0,class:"invalid-feedback"},Ud={class:"card-footer text-end"},jd={type:"submit",class:"btn btn-primary"},zd={key:0},Wd={key:1},Rd={class:"card card-one"},qd={class:"card-body"},Id={class:"table-responsive table-responsive-sm"},Nd={class:"table table-sm text-nowrap table-striped table-bordered mb-0"},Md={class:"",style:{"background-color":"#9b9b9b",color:"white"}},Kd={key:0,class:"ri-arrow-up-line"},Jd={key:1,class:"ri-arrow-down-line"},Bd={key:2,class:"fas fa-sort"},Od={key:0,class:"ri-arrow-up-line"},Hd={key:1,class:"ri-arrow-down-line"},Yd={key:2,class:"fas fa-sort"},Zd={key:0,class:"ri-arrow-up-line"},Gd={key:1,class:"ri-arrow-down-line"},en={key:2,class:"fas fa-sort"},an={key:0,class:"ri-arrow-up-line"},tn={key:1,class:"ri-arrow-down-line"},sn={key:2,class:"fas fa-sort"},rn={class:"text-center"},ln={class:"text-center"},on={key:0},dn={class:"text-center"},nn={class:"text-center"},cn={class:"form-switch"},un=["id","checked","value","onChange"],_n=["for"],pn={class:"text-center"},mn=["onClick"],bn={class:"card-footer"},kn={class:"d-flex justify-content-between align-items-center"};function vn(e,a,t,l,i,o){const d=(0,r.g2)("router-link"),c=(0,r.g2)("search"),u=(0,r.g2)("Pagination"),_=(0,r.gN)("can");return(0,r.uX)(),(0,r.CE)("div",hd,[(0,r.Lk)("div",null,[(0,r.Lk)("ol",yd,[(0,r.Lk)("li",gd,[(0,r.bF)(d,{to:"/dashboard"},{default:(0,r.k6)((()=>a[14]||(a[14]=[(0,r.eW)("Dashboard")]))),_:1})]),a[15]||(a[15]=(0,r.Lk)("li",{class:"breadcrumb-item"},[(0,r.Lk)("a",{href:"javascript:void(0)"},"Masters")],-1)),a[16]||(a[16]=(0,r.Lk)("li",{class:"breadcrumb-item active","aria-current":"page"},"Equipments",-1))]),a[17]||(a[17]=(0,r.Lk)("h4",{class:"main-title mb-2"},"Equipments",-1))]),(0,r.Lk)("div",fd,[(0,r.bo)(((0,r.uX)(),(0,r.CE)("div",Ld,[(0,r.Lk)("form",{onSubmit:a[5]||(a[5]=(0,s.D$)((e=>o.submitForm()),["prevent"]))},[(0,r.Lk)("div",Cd,[(0,r.Lk)("div",wd,[i.status?((0,r.uX)(),(0,r.CE)("h6",Ed,"Add Equipment")):((0,r.uX)(),(0,r.CE)("h6",xd,"Update Equipment"))]),(0,r.Lk)("div",Xd,[(0,r.Lk)("div",Pd,[(0,r.Lk)("div",$d,[a[18]||(a[18]=(0,r.Lk)("label",{class:"form-label"},"Equipment Type",-1)),a[19]||(a[19]=(0,r.Lk)("span",{class:"text-danger"}," *",-1)),(0,r.bF)(c,{ref:"equipment_type_id",class:(0,n.C4)({"is-invalid":i.errors.equipment_type_id}),customClass:{"is-invalid":i.errors.equipment_type_id},initialize:i.equipment.equipment_type_id,id:"equipment_type_id",label:"equipment_type_name",placeholder:"Select Equipment_type",data:i.equipment_types,onInput:a[0]||(a[0]=e=>i.equipment.equipment_type_id=e)},null,8,["class","customClass","initialize","data"]),i.errors.equipment_type_id?((0,r.uX)(),(0,r.CE)("span",Sd,(0,n.v_)(i.errors.equipment_type_id[0]),1)):(0,r.Q3)("",!0)]),(0,r.Lk)("div",Ad,[a[20]||(a[20]=(0,r.Lk)("label",{class:"form-label"},"Equipment Code",-1)),a[21]||(a[21]=(0,r.Lk)("span",{class:"text-danger"}," *",-1)),(0,r.bo)((0,r.Lk)("input",{type:"text",placeholder:"Enter Equipment Code",class:(0,n.C4)(["form-control",{"is-invalid":i.errors.equipment_code}]),"onUpdate:modelValue":a[1]||(a[1]=e=>i.equipment.equipment_code=e)},null,2),[[s.Jo,i.equipment.equipment_code]]),i.errors.equipment_code?((0,r.uX)(),(0,r.CE)("span",Dd,(0,n.v_)(i.errors.equipment_code[0]),1)):(0,r.Q3)("",!0)]),(0,r.Lk)("div",Td,[a[22]||(a[22]=(0,r.Lk)("label",{class:"form-label"},"Equipment Name",-1)),a[23]||(a[23]=(0,r.Lk)("span",{class:"text-danger"}," *",-1)),(0,r.bo)((0,r.Lk)("input",{type:"text",placeholder:"Enter equipment name",class:(0,n.C4)(["form-control",{"is-invalid":i.errors.equipment_name}]),"onUpdate:modelValue":a[2]||(a[2]=e=>i.equipment.equipment_name=e)},null,2),[[s.Jo,i.equipment.equipment_name]]),i.errors.equipment_name?((0,r.uX)(),(0,r.CE)("span",Qd,(0,n.v_)(i.errors.equipment_name[0]),1)):(0,r.Q3)("",!0)]),(0,r.Lk)("div",Vd,[a[24]||(a[24]=(0,r.Lk)("label",{class:"form-label"},"Description",-1)),(0,r.bo)((0,r.Lk)("textarea",{placeholder:"Enter description",class:(0,n.C4)(["form-control",{"is-invalid":i.errors.description}]),"onUpdate:modelValue":a[3]||(a[3]=e=>i.equipment.description=e)},null,2),[[s.Jo,i.equipment.description]]),i.errors.description?((0,r.uX)(),(0,r.CE)("span",Fd,(0,n.v_)(i.errors.description[0]),1)):(0,r.Q3)("",!0)])])]),(0,r.Lk)("div",Ud,[(0,r.Lk)("button",{type:"button",class:"btn btn-danger me-2",onClick:a[4]||(a[4]=e=>o.discard())},a[25]||(a[25]=[(0,r.Lk)("i",{class:"ri-close-line fs-18 lh-1"},null,-1),(0,r.eW)(" Discard")])),(0,r.Lk)("button",jd,[i.status?((0,r.uX)(),(0,r.CE)("span",zd,a[26]||(a[26]=[(0,r.Lk)("i",{class:"ri-save-line fs-18 lh-1"},null,-1),(0,r.eW)(" Submit")]))):((0,r.uX)(),(0,r.CE)("span",Wd,a[27]||(a[27]=[(0,r.Lk)("i",{class:"ri-save-line fs-18 lh-1"},null,-1),(0,r.eW)(" Update")])))])])])],32)])),[[_,"equipment.create"]]),(0,r.Lk)("div",{class:(0,n.C4)(i.column)},[(0,r.Lk)("div",Rd,[a[38]||(a[38]=(0,r.Lk)("div",{class:"card-header d-flex justify-content-between"},[(0,r.Lk)("h6",{class:"card-title"},"Equipments")],-1)),(0,r.Lk)("div",qd,[(0,r.bo)((0,r.Lk)("input",{class:"form-control mb-2",type:"text",placeholder:"Type keyword and press enter key","onUpdate:modelValue":a[6]||(a[6]=e=>i.meta.search=e),onKeypress:a[7]||(a[7]=(0,s.jR)((e=>o.search()),["enter"]))},null,544),[[s.Jo,i.meta.search]]),(0,r.Lk)("div",Id,[(0,r.Lk)("table",Nd,[(0,r.Lk)("thead",null,[(0,r.Lk)("tr",Md,[a[34]||(a[34]=(0,r.Lk)("th",{class:"text-center"},"#",-1)),(0,r.Lk)("th",{onClick:a[8]||(a[8]=e=>o.sort("equipment_type_id"))},[a[28]||(a[28]=(0,r.eW)("Equipment Type ")),(0,r.Lk)("span",null,["equipment_type_id"==i.meta.keyword&&"asc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",Kd)):"equipment_type_id"==i.meta.keyword&&"desc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",Jd)):((0,r.uX)(),(0,r.CE)("i",Bd))])]),(0,r.Lk)("th",{onClick:a[9]||(a[9]=e=>o.sort("equipment_code"))},[a[29]||(a[29]=(0,r.eW)("Equipment Code ")),(0,r.Lk)("span",null,["equipment_code"==i.meta.keyword&&"asc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",Od)):"equipment_code"==i.meta.keyword&&"desc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",Hd)):((0,r.uX)(),(0,r.CE)("i",Yd))])]),(0,r.Lk)("th",{onClick:a[10]||(a[10]=e=>o.sort("equipment_name"))},[a[30]||(a[30]=(0,r.eW)("Equipment Name ")),(0,r.Lk)("span",null,["equipment_name"==i.meta.keyword&&"asc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",Zd)):"equipment_name"==i.meta.keyword&&"desc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",Gd)):((0,r.uX)(),(0,r.CE)("i",en))])]),(0,r.Lk)("th",{onClick:a[11]||(a[11]=e=>o.sort("description"))},[a[31]||(a[31]=(0,r.eW)("Description ")),(0,r.Lk)("span",null,["description"==i.meta.keyword&&"asc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",an)):"description"==i.meta.keyword&&"desc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",tn)):((0,r.uX)(),(0,r.CE)("i",sn))])]),(0,r.bo)(((0,r.uX)(),(0,r.CE)("th",rn,a[32]||(a[32]=[(0,r.eW)("Status")]))),[[_,"equipment.delete"]]),(0,r.bo)(((0,r.uX)(),(0,r.CE)("th",ln,a[33]||(a[33]=[(0,r.eW)("Actions")]))),[[_,"equipment.update"]])])]),(0,r.Lk)("tbody",null,[0==i.equipments.length?((0,r.uX)(),(0,r.CE)("tr",on,a[35]||(a[35]=[(0,r.Lk)("td",{colspan:"6",class:"text-center"},"No records found",-1)]))):(0,r.Q3)("",!0),((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(i.equipments,((e,t)=>((0,r.uX)(),(0,r.CE)("tr",{key:t},[(0,r.Lk)("td",dn,(0,n.v_)(i.meta.from+t),1),(0,r.Lk)("td",null,(0,n.v_)(e.equipment_type?.equipment_type_name),1),(0,r.Lk)("td",null,(0,n.v_)(e.equipment_code),1),(0,r.Lk)("td",null,(0,n.v_)(e.equipment_name),1),(0,r.Lk)("td",null,(0,n.v_)(e.description),1),(0,r.bo)(((0,r.uX)(),(0,r.CE)("td",nn,[(0,r.Lk)("div",cn,[(0,r.Lk)("input",{class:"form-check-input",type:"checkbox",role:"switch",id:"equipment"+e.equipment_id,checked:e.status,value:e.status,onChange:a=>o.deleteEquipment(e)},null,40,un),(0,r.Lk)("label",{class:"custom-control-label",for:"equipment"+e.equipment_id},null,8,_n)])])),[[_,"equipment.delete"]]),(0,r.bo)(((0,r.uX)(),(0,r.CE)("td",pn,[e.status?((0,r.uX)(),(0,r.CE)("a",{key:0,href:"javascript:void(0)",class:"text-success me-2",onClick:a=>o.editEquipment(e)},a[36]||(a[36]=[(0,r.Lk)("i",{class:"ri-pencil-line fs-18 lh-1"},null,-1)]),8,mn)):(0,r.Q3)("",!0)])),[[_,"equipment.update"]])])))),128))])])])]),(0,r.Lk)("div",bn,[(0,r.Lk)("div",kn,[(0,r.bo)((0,r.Lk)("select",{class:"form-select from-select-sm width-75","onUpdate:modelValue":a[12]||(a[12]=e=>i.meta.per_page=e),onChange:a[13]||(a[13]=(...e)=>o.onPerPageChange&&o.onPerPageChange(...e))},a[37]||(a[37]=[(0,r.Lk)("option",null,"10",-1),(0,r.Lk)("option",null,"15",-1),(0,r.Lk)("option",null,"20",-1),(0,r.Lk)("option",null,"25",-1),(0,r.Lk)("option",null,"30",-1)]),544),[[s.u1,i.meta.per_page]]),(0,r.Lk)("span",null,"Showing "+(0,n.v_)(i.meta.from)+" to "+(0,n.v_)(i.meta.to)+" of "+(0,n.v_)(i.meta.totalRows)+" entries",1),(0,r.bF)(u,{maxPage:i.meta.maxPage,totalPages:i.meta.lastPage,currentPage:i.meta.page,onPagechanged:o.onPageChange},null,8,["maxPage","totalPages","currentPage","onPagechanged"])])])])],2)])])}var hn={components:{Pagination:md,Search:It.A},data(){return{column:"col-8",meta:{search:"",order_by:"desc",keyword:"equipment_id",per_page:10,totalRows:0,page:1,lastPage:1,from:1,maxPage:1},equipments:[],equipment:{equipment_id:"",equipment_type_id:"",equipment_code:"",equipment_name:"",description:"",status:""},errors:[],status:!0,equipment_types:[]}},mounted(){this.create_equipment=this.$store.getters.permissions.filter((function(e){return e.ability.ability.includes("equipment.create")})),this.create_equipment.length?this.column="col-8":this.column="col-12",this.index(),this.getEquipmentTypes()},methods:{submitForm(){let e=this;e.status?e.addEquipment():e.updateEquipment()},index(){let e=this,a=this.$loading.show();this.$store.dispatch("post",{uri:"paginateEquipment",data:e.meta}).then((t=>{a.hide(),this.equipments=t.data.data,this.meta.totalRows=t.data.meta.total,this.meta.from=t.data.meta.from,this.meta.lastPage=t.data.meta.last_page,this.meta.maxPage=e.meta.lastPage>=3?3:e.meta.lastPage})).catch((function(t){a.hide(),e.errors=t.response.data.errors,e.$store.dispatch("error",t.response.data.message)}))},addEquipment(){let e=this,a=e.$loading.show();e.$store.dispatch("post",{uri:"addEquipment",data:e.equipment}).then((t=>{a.hide(),e.$store.dispatch("success",t.data.message),e.discard()})).catch((function(t){a.hide(),e.errors=t.response.data.errors,e.$store.dispatch("error",t.response.data.message)}))},deleteEquipment(e){let a=this;e.status=1==e.status?0:1,a.$store.dispatch("post",{uri:"deleteEquipment",data:e}).then((function(e){a.$store.dispatch("success",e.data.message),a.discard()})).catch((function(e){a.errors=e.response.data.errors,a.$store.dispatch("error",e.response.data.message)}))},editEquipment(e){this.equipment=e,this.status=!1,this.errors=[]},updateEquipment(){let e=this,a=this.$loading.show();this.$store.dispatch("post",{uri:"updateEquipment",data:this.equipment}).then((e=>{a.hide(),this.$store.dispatch("success",e.data.message),this.discard(),this.index()})).catch((function(t){a.hide(),e.errors=t.response.data.errors,e.$store.dispatch("error",t.response.data.message)}))},getEquipmentTypes(){let e=this,a=e.$loading.show();e.$store.dispatch("post",{uri:"getEquipmentTypes"}).then((t=>{a.hide(),e.equipment_types=t.data.data})).catch((function(t){a.hide(),e.errors=t.response.data.errors,e.$store.dispatch("error",t.response.data.message)}))},onPageChange(e){this.meta.page=e,this.index()},sort(e){this.meta.keyword=e,this.meta.order_by="asc"==this.meta.order_by?"desc":"asc",this.index()},discard(){let e=this;e.equipment={},e.equipment.equipment_type_id="",e.errors=[],e.status=!0,e.index()},search(){let e=this;e.meta.page=1,e.index()},onPerPageChange(){let e=this;e.meta.page=1,e.index()},generateBarCode(e){this.equipment.equipment_code=e;var a="https://api.qrserver.com/v1/create-qr-code/?data="+e+"&amp;size=50x50";$("#barcode").attr("src",a)}}};const yn=(0,Ze.A)(hn,[["render",vn]]);var gn=yn;const fn={class:""},Ln={class:"d-sm-flex align-items-center justify-content-between mb-2"},Cn={class:"breadcrumb fs-sm mb-1"},wn={class:"breadcrumb-item","aria-current":"page"},En={class:"breadcrumb-item","aria-current":"page"},xn={key:0,class:"breadcrumb-item","aria-current":"page"},Xn={key:1,class:"breadcrumb-item active","aria-current":"page"},Pn={class:"row"},$n={class:"col-12"},Sn={class:"card card-one"},An={class:"card-header d-flex justify-content-between"},Dn={key:0,class:"card-title"},Tn={key:1,class:"card-title"},Qn={class:"card-body"},Vn={class:"card mb-3"},Fn={class:"card-body"},Un={class:"row g-2"},jn={class:"col-md-3"},zn={class:"d-flex justify-content-between"},Wn={key:0,class:"invalid-feedback"},Rn={key:0,class:"col-md-3"},qn={key:0,class:"invalid-feedback"},In={key:1,class:"col-md-3"},Nn=["value"],Mn={key:0,class:"invalid-feedback"},Kn={class:"col-md-3"},Jn=["disabled"],Bn={key:0,class:"invalid-feedback"},On={class:"col-md-3"},Hn={key:0,class:"invalid-feedback"},Yn={class:"col-md-3"},Zn={key:0,class:"invalid-feedback"},Gn={class:"col-md-3"},ec={key:0,class:"invalid-feedback"},ac={class:"card mb-3"},tc={class:"card-body"},sc={class:"row g-2"},rc={class:"col-md-4"},lc={key:0,class:"invalid-feedback"},ic={class:"col-md-4"},oc={key:0,class:"invalid-feedback"},dc={class:"col-md-4"},nc={key:0,class:"invalid-feedback"},cc={class:"col-md-4"},uc={key:0,class:"invalid-feedback"},_c={class:"col-md-4"},pc=["value"],mc={key:0,class:"invalid-feedback"},bc={class:"col-md-4"},kc={key:0,class:"invalid-feedback"},vc={class:"card mb-3"},hc={class:"card-body"},yc={class:"row g-2"},gc={class:"col-md-4"},fc={key:0,class:"invalid-feedback"},Lc={key:0,class:"col-md-4"},Cc={key:0,class:"invalid-feedback"},wc={key:1,class:"invalid-feedback"},Ec={key:1,class:"col-md-4"},xc={key:0,class:"invalid-feedback"},Xc={key:1,class:"invalid-feedback"},Pc={class:"col-md-4"},$c=["min"],Sc={key:0,class:"invalid-feedback"},Ac={class:"col-md-4 mt-0"},Dc={class:"form-label"},Tc=["onUpdate:modelValue","disabled"],Qc={key:0,class:"invalid-feedback"},Vc={class:"col-md-4 mt-0"},Fc=["onUpdate:modelValue","disabled"],Uc={class:"col-md-4 mt-0"},jc=["onUpdate:modelValue","disabled"],zc={class:"row g-2"},Wc={class:"col-md-4"},Rc={key:0,class:"invalid-feedback"},qc={class:"col-md-4"},Ic={key:0,class:"invalid-feedback"},Nc={class:"col-md-4"},Mc={key:0,class:"invalid-feedback"},Kc={key:0,class:"card mb-3"},Jc={class:"card-body"},Bc={class:"row g-2"},Oc={key:0},Hc={class:"form-label"},Yc={key:0,class:"text-danger"},Zc=["placeholder","maxlength","onUpdate:modelValue"],Gc={key:1,class:"invalid-feedback"},eu={key:1},au={class:"form-label"},tu={key:0,class:"text-danger"},su=["onInput","placeholder","onUpdate:modelValue"],ru={key:1,class:"invalid-feedback"},lu={key:2},iu={class:"form-label"},ou={key:0,class:"text-danger"},du=["placeholder","onUpdate:modelValue"],nu={key:0,class:"invalid-feedback"},cu={key:3},uu={class:"form-label"},_u={key:0,class:"text-danger"},pu=["placeholder","onUpdate:modelValue"],mu={key:0,class:"invalid-feedback"},bu={key:4},ku={class:"form-label"},vu={key:0,class:"text-danger"},hu=["onUpdate:modelValue"],yu=["value"],gu=["value"],fu=["value"],Lu={key:1,class:"invalid-feedback"},Cu={key:5},wu={class:"form-label"},Eu={key:0,class:"text-danger"},xu=["onUpdate:modelValue"],Xu=["value"],Pu=["value"],$u=["value"],Su={key:1,class:"invalid-feedback"},Au={key:6},Du={class:"form-label"},Tu={key:0,class:"text-danger"},Qu=["onUpdate:modelValue"],Vu={key:0,class:"invalid-feedback"},Fu={class:"card-footer text-end"},Uu={type:"submit",class:"btn btn-primary"},ju={key:0},zu={key:1};function Wu(e,a,t,l,i,o){const d=(0,r.g2)("router-link"),c=(0,r.g2)("search"),u=(0,r.g2)("MultiSelect");return(0,r.uX)(),(0,r.CE)("div",fn,[(0,r.Lk)("div",Ln,[(0,r.Lk)("div",null,[(0,r.Lk)("ol",Cn,[(0,r.Lk)("li",wn,[(0,r.bF)(d,{to:"/dashboard"},{default:(0,r.k6)((()=>a[24]||(a[24]=[(0,r.eW)("Dashboard")]))),_:1})]),(0,r.Lk)("li",En,[(0,r.bF)(d,{to:"/assets"},{default:(0,r.k6)((()=>a[25]||(a[25]=[(0,r.eW)("Assets")]))),_:1})]),i.status?((0,r.uX)(),(0,r.CE)("li",xn,"New Asset")):((0,r.uX)(),(0,r.CE)("li",Xn,"Update Asset"))]),a[26]||(a[26]=(0,r.Lk)("h4",{class:"main-title mb-0"},"Asset",-1))]),(0,r.bF)(d,{to:"/assets",type:"submit",class:"btn btn-primary",style:{float:"right"}},{default:(0,r.k6)((()=>a[27]||(a[27]=[(0,r.Lk)("i",{class:"ri-list-check"},null,-1),(0,r.eW)(" ASSETS")]))),_:1})]),(0,r.Lk)("div",Pn,[(0,r.Lk)("div",$n,[(0,r.Lk)("form",{onSubmit:a[23]||(a[23]=(0,s.D$)((e=>o.submitForm()),["prevent"]))},[(0,r.Lk)("div",Sn,[(0,r.Lk)("div",An,[i.status?((0,r.uX)(),(0,r.CE)("h6",Dn,"Add Asset")):((0,r.uX)(),(0,r.CE)("h6",Tn,"Update Asset"))]),(0,r.Lk)("div",Qn,[(0,r.Lk)("div",Vn,[a[38]||(a[38]=(0,r.Lk)("div",{class:"card-header d-flex justify-content-between"},[(0,r.Lk)("h6",{class:"card-title"},"Asset Details")],-1)),(0,r.Lk)("div",Fn,[(0,r.Lk)("div",Un,[(0,r.Lk)("div",jn,[(0,r.Lk)("div",zn,[a[29]||(a[29]=(0,r.Lk)("div",null,[(0,r.Lk)("label",{class:"form-label"},"Asset Type"),(0,r.Lk)("span",{class:"text-danger"}," *")],-1)),i.status?((0,r.uX)(),(0,r.CE)("a",{key:0,type:"button",class:"text-danger me-2",onClick:a[0]||(a[0]=e=>o.reset())},a[28]||(a[28]=[(0,r.Lk)("i",{class:"ri-close-line fs-20 lh-1"},null,-1)]))):(0,r.Q3)("",!0)]),(0,r.bF)(c,{class:(0,n.C4)({"is-invalid":i.errors?.asset_type_id}),customClass:{"is-invalid":i.errors?.asset_type_id},initialize:i.asset?.asset_type_id,id:"asset_type_id",label:"asset_type_name",label2:"asset_type_code",placeholder:"Select Asset Type",data:e.asset_attributes,onInput:a[1]||(a[1]=e=>i.asset.asset_type_id=e),onSelectsearch:a[2]||(a[2]=e=>o.getAssetType(i.asset.asset_type_id)),disabled:!i.status},null,8,["class","customClass","initialize","data","disabled"]),i.errors?.asset_type_id?((0,r.uX)(),(0,r.CE)("span",Wn,(0,n.v_)(i.errors?.asset_type_id[0]),1)):(0,r.Q3)("",!0)]),i.status?((0,r.uX)(),(0,r.CE)("div",Rn,[a[30]||(a[30]=(0,r.Lk)("div",{class:"d-flex justify-content-between"},[(0,r.Lk)("div",null,[(0,r.Lk)("label",{class:"form-label"},"Asset Template")])],-1)),(0,r.bF)(c,{class:(0,n.C4)({"is-invalid":i.errors?.asset_template_id}),customClass:{"is-invalid":i.errors?.asset_template_id},initialize:i.asset?.asset_template_id,id:"asset_template_id",label:"template_name",label2:"template_code",placeholder:"Select Asset Template",data:i.asset_templates,onInput:a[3]||(a[3]=e=>i.asset.asset_template_id=e),onSelectsearch:a[4]||(a[4]=e=>o.getAssetTemplateValues(i.asset.asset_template_id)),disabled:!i.status},null,8,["class","customClass","initialize","data","disabled"]),i.errors?.asset_template_id?((0,r.uX)(),(0,r.CE)("span",qn,(0,n.v_)(i.errors.asset_template_id[0]),1)):(0,r.Q3)("",!0)])):((0,r.uX)(),(0,r.CE)("div",In,[a[31]||(a[31]=(0,r.Lk)("div",{class:"d-flex justify-content-between"},[(0,r.Lk)("div",null,[(0,r.Lk)("label",{class:"form-label"},"Asset Template")])],-1)),(0,r.Lk)("input",{type:"text",class:"form-control",disabled:"",value:i.asset?.asset_template?.template_code+"::"+i.asset?.asset_template?.template_name},null,8,Nn),i.errors?.asset_template_id?((0,r.uX)(),(0,r.CE)("span",Mn,(0,n.v_)(i.errors.asset_template_id[0]),1)):(0,r.Q3)("",!0)])),(0,r.Lk)("div",Kn,[a[32]||(a[32]=(0,r.Lk)("label",{class:"form-label"},"Asset Code",-1)),a[33]||(a[33]=(0,r.Lk)("span",{class:"text-danger"}," *",-1)),(0,r.bo)((0,r.Lk)("input",{type:"text",placeholder:"Enter Asset Code",class:(0,n.C4)(["form-control",{"is-invalid":i.errors?.asset_code}]),"onUpdate:modelValue":a[5]||(a[5]=e=>i.asset.asset_code=e),disabled:!i.status},null,10,Jn),[[s.Jo,i.asset.asset_code]]),i.errors?.asset_code?((0,r.uX)(),(0,r.CE)("span",Bn,(0,n.v_)(i.errors.asset_code[0]),1)):(0,r.Q3)("",!0)]),(0,r.Lk)("div",On,[a[34]||(a[34]=(0,r.Lk)("label",{class:"form-label"},"Asset Name",-1)),a[35]||(a[35]=(0,r.Lk)("span",{class:"text-danger"}," *",-1)),(0,r.bo)((0,r.Lk)("input",{type:"text",placeholder:"Enter Asset Name",class:(0,n.C4)(["form-control",{"is-invalid":i.errors?.asset_name}]),"onUpdate:modelValue":a[6]||(a[6]=e=>i.asset.asset_name=e)},null,2),[[s.Jo,i.asset.asset_name]]),i.errors?.asset_name?((0,r.uX)(),(0,r.CE)("span",Hn,(0,n.v_)(i.errors.asset_name[0]),1)):(0,r.Q3)("",!0)]),(0,r.Lk)("div",Yn,[a[36]||(a[36]=(0,r.Lk)("label",{class:"form-label"},"Scanner Code",-1)),(0,r.bo)((0,r.Lk)("input",{type:"text",placeholder:"Enter Scanner Code",class:(0,n.C4)(["form-control",{"is-invalid":i.errors?.scanner_code}]),"onUpdate:modelValue":a[7]||(a[7]=e=>i.asset.scanner_code=e)},null,2),[[s.Jo,i.asset.scanner_code]]),i.errors?.scanner_code?((0,r.uX)(),(0,r.CE)("span",Zn,(0,n.v_)(i.errors.scanner_code[0]),1)):(0,r.Q3)("",!0)]),(0,r.Lk)("div",Gn,[a[37]||(a[37]=(0,r.Lk)("label",{class:"form-label"},"PPMS Code",-1)),(0,r.bo)((0,r.Lk)("input",{type:"text",placeholder:"Enter PPMS Code",class:(0,n.C4)(["form-control",{"is-invalid":i.errors?.ppms_code}]),"onUpdate:modelValue":a[8]||(a[8]=e=>i.asset.ppms_code=e)},null,2),[[s.Jo,i.asset.ppms_code]]),i.errors?.ppms_code?((0,r.uX)(),(0,r.CE)("span",ec,(0,n.v_)(i.errors.ppms_code[0]),1)):(0,r.Q3)("",!0)])])])]),(0,r.Lk)("div",ac,[a[48]||(a[48]=(0,r.Lk)("div",{class:"card-header d-flex justify-content-between"},[(0,r.Lk)("h6",{class:"card-title"},"Lineage Parameters")],-1)),(0,r.Lk)("div",tc,[(0,r.Lk)("div",sc,[(0,r.Lk)("div",rc,[a[39]||(a[39]=(0,r.Lk)("label",{class:"form-label"},"Department",-1)),(0,r.bF)(u,{modelValue:i.asset.asset_departments_obj,"onUpdate:modelValue":a[9]||(a[9]=e=>i.asset.asset_departments_obj=e),filter:"",optionLabel:"department_name",options:i.departments,placeholder:"Select Department",maxSelectedLabels:3,style:(0,n.Tr)([{width:"100%",height:"37px"},i.errors?.department_id?i.error_style:""])},null,8,["modelValue","options","style"]),i.errors?.department_id?((0,r.uX)(),(0,r.CE)("span",lc,(0,n.v_)(i.errors.department_id[0]),1)):(0,r.Q3)("",!0)]),(0,r.Lk)("div",ic,[a[40]||(a[40]=(0,r.Lk)("label",{class:"form-label"},"Section",-1)),(0,r.bF)(c,{class:(0,n.C4)({"is-invalid":i.errors?.section_id}),customClass:{"is-invalid":i.errors?.section_id},initialize:i.asset?.section_id,id:"section_id",label:"section_name",placeholder:"Select Section",data:i.sections,onInput:a[10]||(a[10]=e=>i.asset.section_id=e)},null,8,["class","customClass","initialize","data"]),i.errors?.section_id?((0,r.uX)(),(0,r.CE)("span",oc,(0,n.v_)(i.errors.section_id[0]),1)):(0,r.Q3)("",!0)]),(0,r.Lk)("div",dc,[a[41]||(a[41]=(0,r.Lk)("label",{class:"form-label"},"Functional",-1)),(0,r.bF)(c,{class:(0,n.C4)({"is-invalid":i.errors?.functional_id}),customClass:{"is-invalid":i.errors?.functional_id},initialize:i.asset?.functional_id,id:"functional_id",label:"functional_name",placeholder:"Select Functional",data:i.functionals,onInput:a[11]||(a[11]=e=>i.asset.functional_id=e)},null,8,["class","customClass","initialize","data"]),i.errors?.functional_id?((0,r.uX)(),(0,r.CE)("span",nc,(0,n.v_)(i.errors.functional_id[0]),1)):(0,r.Q3)("",!0)]),(0,r.Lk)("div",cc,[a[42]||(a[42]=(0,r.Lk)("label",{class:"form-label"},"Shop",-1)),a[43]||(a[43]=(0,r.Lk)("span",{class:"text-danger"}," *",-1)),(0,r.bF)(c,{class:(0,n.C4)({"is-invalid":i.errors?.plant_id}),customClass:{"is-invalid":i.errors?.plant_id},initialize:i.asset?.plant_id,id:"plant_id",label:"plant_name",placeholder:"Select Shop",data:i.plants,onInput:a[12]||(a[12]=e=>i.asset.plant_id=e),onSelectsearch:a[13]||(a[13]=e=>o.getAreaValue())},null,8,["class","customClass","initialize","data"]),i.errors?.plant_id?((0,r.uX)(),(0,r.CE)("span",uc,"The shop field is required ")):(0,r.Q3)("",!0)]),(0,r.Lk)("div",_c,[a[44]||(a[44]=(0,r.Lk)("label",{class:"form-label"},"Area",-1)),a[45]||(a[45]=(0,r.Lk)("span",{class:"text-danger"}," *",-1)),(0,r.Lk)("input",{type:"text",disabled:"disabled",class:"form-control",value:i.asset?.area_name},null,8,pc),i.errors?.area_id?((0,r.uX)(),(0,r.CE)("span",mc,(0,n.v_)(i.errors.area_id[0]),1)):(0,r.Q3)("",!0)]),(0,r.Lk)("div",bc,[a[46]||(a[46]=(0,r.Lk)("label",{class:"form-label"},"Phase",-1)),a[47]||(a[47]=(0,r.Lk)("span",{class:"text-danger"}," *",-1)),(0,r.bF)(c,{class:(0,n.C4)({"is-invalid":i.errors?.phase_id}),customClass:{"is-invalid":i.errors?.phase_id},initialize:i.asset?.phase_id,id:"phase_id",label:"phase_name",placeholder:"Select Phases",data:i.phases,onInput:a[14]||(a[14]=e=>i.asset.phase_id=e)},null,8,["class","customClass","initialize","data"]),i.errors?.phase_id?((0,r.uX)(),(0,r.CE)("span",kc,(0,n.v_)(i.errors.phase_id[0]),1)):(0,r.Q3)("",!0)])])])]),(0,r.Lk)("div",vc,[a[63]||(a[63]=(0,r.Lk)("div",{class:"card-header d-flex justify-content-between"},[(0,r.Lk)("h6",{class:"card-title"},"Settings")],-1)),(0,r.Lk)("div",hc,[(0,r.Lk)("div",yc,[(0,r.Lk)("div",gc,[a[50]||(a[50]=(0,r.Lk)("label",{class:"form-label"},"Geometry Type",-1)),(0,r.bo)((0,r.Lk)("select",{class:(0,n.C4)(["form-control",{"is-invalid":i.errors?.geometry_type}]),"onUpdate:modelValue":a[15]||(a[15]=e=>i.asset.geometry_type=e)},a[49]||(a[49]=[(0,r.Fv)('<option value="">Select Geometry Type</option><option value="V-Cylindrical">V-Cylindrical (Veritical) </option><option value="H-Cylindrical">H-Cylindrical (Horizontal) </option><option value="Cubical">Cubical</option><option value="Conical">Conical</option><option value="Trapezoidal">Trapezoidal</option><option value="Others">Others</option>',7)]),2),[[s.u1,i.asset.geometry_type]]),i.errors?.geometry_type?((0,r.uX)(),(0,r.CE)("span",fc,(0,n.v_)(i.errors.geometry_type[0]),1)):(0,r.Q3)("",!0)]),["V-Cylindrical","H-Cylindrical"].includes(i.asset.geometry_type)?((0,r.uX)(),(0,r.CE)("div",Lc,[a[51]||(a[51]=(0,r.Lk)("label",{class:"form-label"},"Height (in m)",-1)),a[52]||(a[52]=(0,r.Lk)("span",{class:"text-danger"}," *",-1)),(0,r.bo)((0,r.Lk)("input",{type:"number",step:"any",placeholder:"Enter Height ",class:(0,n.C4)(["form-control",{"is-invalid":i.errors?.zone_name&&i.errors.zone_name.some((e=>e.includes("height")))||i.errors?.height}]),"onUpdate:modelValue":a[16]||(a[16]=e=>i.asset.height=e)},null,2),[[s.Jo,i.asset.height]]),i.errors?.height?((0,r.uX)(),(0,r.CE)("span",Cc,(0,n.v_)(i.errors.height[0]),1)):(0,r.Q3)("",!0),i.errors?.zone_name&&i.errors.zone_name.some((e=>e.includes("height")))?((0,r.uX)(),(0,r.CE)("span",wc,(0,n.v_)(i.errors.zone_name[0]),1)):(0,r.Q3)("",!0)])):(0,r.Q3)("",!0),["V-Cylindrical","H-Cylindrical"].includes(i.asset.geometry_type)?((0,r.uX)(),(0,r.CE)("div",Ec,[a[53]||(a[53]=(0,r.Lk)("label",{class:"form-label"},"Diameter (in m)",-1)),a[54]||(a[54]=(0,r.Lk)("span",{class:"text-danger"}," *",-1)),(0,r.bo)((0,r.Lk)("input",{type:"number",step:"any",placeholder:"Enter Diameter ",class:(0,n.C4)(["form-control",{"is-invalid":i.errors?.zone_name&&i.errors.zone_name.some((e=>e.includes("diameter")))||i.errors?.diameter}]),"onUpdate:modelValue":a[17]||(a[17]=e=>i.asset.diameter=e)},null,2),[[s.Jo,i.asset.diameter]]),i.errors?.diameter?((0,r.uX)(),(0,r.CE)("span",xc,(0,n.v_)(i.errors.diameter[0]),1)):(0,r.Q3)("",!0),i.errors?.zone_name&&i.errors.zone_name.some((e=>e.includes("diameter")))?((0,r.uX)(),(0,r.CE)("span",Xc,(0,n.v_)(i.errors.zone_name[0]),1)):(0,r.Q3)("",!0)])):(0,r.Q3)("",!0),(0,r.Lk)("div",Pc,[a[55]||(a[55]=(0,r.Lk)("label",{class:"form-label"},"No Of Zones ",-1)),a[56]||(a[56]=(0,r.Lk)("span",{class:"text-danger"}," *",-1)),(0,r.bo)((0,r.Lk)("input",{type:"number",placeholder:"Enter No Of Zones ",class:(0,n.C4)(["form-control",{"is-invalid":i.errors?.no_of_zones}]),"onUpdate:modelValue":a[18]||(a[18]=e=>i.asset.no_of_zones=e),min:i.initial_zone_no??0,onInput:a[19]||(a[19]=e=>o.checkZoneValue(e,i.asset))},null,42,$c),[[s.Jo,i.asset.no_of_zones]]),i.errors?.no_of_zones?((0,r.uX)(),(0,r.CE)("span",Sc,(0,n.v_)(i.errors.no_of_zones[0]),1)):(0,r.Q3)("",!0)]),((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(i.asset.zone_name,((e,t)=>((0,r.uX)(),(0,r.CE)("div",{class:"row zone-border g-2",key:t},[(0,r.Lk)("div",Ac,[(0,r.Lk)("label",Dc," Zone "+(0,n.v_)(0===t?"0 (Overall)":t),1),a[57]||(a[57]=(0,r.Lk)("span",{class:"text-danger"}," *",-1)),(0,r.bo)((0,r.Lk)("input",{type:"text","onUpdate:modelValue":a=>e.zone_name=a,class:(0,n.C4)(["form-control",{"is-invalid":i.errors[`zone_name_${t}`]}]),disabled:0===t},null,10,Tc),[[s.Jo,e.zone_name]]),i.errors[`zone_name_${t}`]?((0,r.uX)(),(0,r.CE)("span",Qc,(0,n.v_)(i.errors[`zone_name_${t}`][0]),1)):(0,r.Q3)("",!0)]),(0,r.Lk)("div",Vc,[a[58]||(a[58]=(0,r.Lk)("label",{class:"form-label"},"Height (in m)",-1)),(0,r.bo)((0,r.Lk)("input",{type:"number",step:"any","onUpdate:modelValue":a=>e.height=a,class:"form-control",disabled:0===t},null,8,Fc),[[s.Jo,e.height]])]),(0,r.Lk)("div",Uc,[a[59]||(a[59]=(0,r.Lk)("label",{class:"form-label"},"Diameter (in m)",-1)),(0,r.bo)((0,r.Lk)("input",{type:"number",step:"any","onUpdate:modelValue":a=>e.diameter=a,class:"form-control",disabled:0===t},null,8,jc),[[s.Jo,e.diameter]])])])))),128)),(0,r.Lk)("div",zc,[(0,r.Lk)("div",Wc,[a[60]||(a[60]=(0,r.Lk)("label",{class:"form-label"},"Latitude",-1)),(0,r.bo)((0,r.Lk)("input",{type:"number",placeholder:"Enter Latitude",class:(0,n.C4)(["form-control",{"is-invalid":i.errors?.latitude}]),"onUpdate:modelValue":a[20]||(a[20]=e=>i.asset.latitude=e)},null,2),[[s.Jo,i.asset.latitude]]),i.errors?.latitude?((0,r.uX)(),(0,r.CE)("span",Rc,(0,n.v_)(i.errors.latitude[0]),1)):(0,r.Q3)("",!0)]),(0,r.Lk)("div",qc,[a[61]||(a[61]=(0,r.Lk)("label",{class:"form-label"},"Longitude",-1)),(0,r.bo)((0,r.Lk)("input",{type:"number",placeholder:"Enter Longitude",class:(0,n.C4)(["form-control",{"is-invalid":i.errors?.longitude}]),"onUpdate:modelValue":a[21]||(a[21]=e=>i.asset.longitude=e)},null,2),[[s.Jo,i.asset.longitude]]),i.errors?.longitude?((0,r.uX)(),(0,r.CE)("span",Ic,(0,n.v_)(i.errors.longitude[0]),1)):(0,r.Q3)("",!0)]),(0,r.Lk)("div",Nc,[a[62]||(a[62]=(0,r.Lk)("label",{class:"form-label"},"Radius",-1)),(0,r.bo)((0,r.Lk)("input",{type:"number",placeholder:"Enter Radius",class:(0,n.C4)(["form-control",{"is-invalid":i.errors?.radius}]),"onUpdate:modelValue":a[22]||(a[22]=e=>i.asset.radius=e)},null,2),[[s.Jo,i.asset.radius]]),i.errors?.radius?((0,r.uX)(),(0,r.CE)("span",Mc,(0,n.v_)(i.errors.radius[0]),1)):(0,r.Q3)("",!0)])])])])]),i.asset.asset_attributes.length?((0,r.uX)(),(0,r.CE)("div",Kc,[a[64]||(a[64]=(0,r.Lk)("div",{class:"card-header d-flex justify-content-between"},[(0,r.Lk)("h6",{class:"card-title"},"Attributes")],-1)),(0,r.Lk)("div",Jc,[(0,r.Lk)("div",Bc,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(i.asset.asset_attributes,((e,a)=>((0,r.uX)(),(0,r.CE)("div",{class:"col-md-4",key:a},["Text"==e.field_type?((0,r.uX)(),(0,r.CE)("div",Oc,[(0,r.Lk)("label",Hc,(0,n.v_)(e.display_name),1),e.is_required?((0,r.uX)(),(0,r.CE)("span",Yc,"*")):(0,r.Q3)("",!0),(0,r.bo)((0,r.Lk)("input",{type:"text",class:(0,n.C4)(["form-control",{"is-invalid":i.errors[e.display_name]}]),placeholder:"Enter "+e.display_name,maxlength:e.field_length,"onUpdate:modelValue":a=>e.asset_attribute_value.field_value=a},null,10,Zc),[[s.Jo,e.asset_attribute_value.field_value]]),i.errors[e.display_name]?((0,r.uX)(),(0,r.CE)("span",Gc,(0,n.v_)(i.errors[e.display_name][0]),1)):(0,r.Q3)("",!0)])):(0,r.Q3)("",!0),"Number"==e.field_type?((0,r.uX)(),(0,r.CE)("div",eu,[(0,r.Lk)("label",au,(0,n.v_)(e.display_name),1),e.is_required?((0,r.uX)(),(0,r.CE)("span",tu,"*")):(0,r.Q3)("",!0),(0,r.bo)((0,r.Lk)("input",{type:"number",class:(0,n.C4)(["form-control",{"is-invalid":i.errors[e.display_name]}]),min:"0",onInput:a=>o.validateNumberLength(e),placeholder:"Enter "+e.display_name,"onUpdate:modelValue":a=>e.asset_attribute_value.field_value=a},null,42,su),[[s.Jo,e.asset_attribute_value.field_value]]),i.errors[e.display_name]?((0,r.uX)(),(0,r.CE)("span",ru,(0,n.v_)(i.errors[e.display_name][0]),1)):(0,r.Q3)("",!0)])):(0,r.Q3)("",!0),"Date"===e.field_type?((0,r.uX)(),(0,r.CE)("div",lu,[(0,r.Lk)("label",iu,[(0,r.eW)((0,n.v_)(e.display_name)+" ",1),e.is_required?((0,r.uX)(),(0,r.CE)("span",ou,"*")):(0,r.Q3)("",!0)]),(0,r.bo)((0,r.Lk)("input",{type:"date",class:(0,n.C4)(["form-control",{"is-invalid":i.errors[e.display_name]}]),placeholder:"Enter "+e.display_name,"onUpdate:modelValue":a=>e.asset_attribute_value.field_value=a},null,10,du),[[s.Jo,e.asset_attribute_value.field_value]]),i.errors[e.display_name]?((0,r.uX)(),(0,r.CE)("span",nu,(0,n.v_)(i.errors[e.display_name][0]),1)):(0,r.Q3)("",!0)])):(0,r.Q3)("",!0),"Date&Time"===e.field_type?((0,r.uX)(),(0,r.CE)("div",cu,[(0,r.Lk)("label",uu,[(0,r.eW)((0,n.v_)(e.display_name)+" ",1),e.is_required?((0,r.uX)(),(0,r.CE)("span",_u,"*")):(0,r.Q3)("",!0)]),(0,r.bo)((0,r.Lk)("input",{type:"datetime-local",class:(0,n.C4)(["form-control",{"is-invalid":i.errors[e.display_name]}]),placeholder:"Enter "+e.display_name,"onUpdate:modelValue":a=>e.asset_attribute_value.field_value=a,step:"1"},null,10,pu),[[s.Jo,e.asset_attribute_value.field_value]]),i.errors[e.display_name]?((0,r.uX)(),(0,r.CE)("span",mu,(0,n.v_)(i.errors[e.display_name][0]),1)):(0,r.Q3)("",!0)])):(0,r.Q3)("",!0),"Dropdown"==e.field_type?((0,r.uX)(),(0,r.CE)("div",bu,[(0,r.Lk)("label",ku,(0,n.v_)(e.display_name),1),e.is_required?((0,r.uX)(),(0,r.CE)("span",vu,"*")):(0,r.Q3)("",!0),(0,r.bo)((0,r.Lk)("select",{class:(0,n.C4)(["form-control",{"is-invalid":i.errors[e.display_name]}]),"onUpdate:modelValue":a=>e.asset_attribute_value.field_value=a},[e.asset_attribute_value.field_value?((0,r.uX)(),(0,r.CE)("option",{key:0,value:e.asset_attribute_value.field_value},(0,n.v_)(e.asset_attribute_value.field_value),9,yu)):((0,r.uX)(),(0,r.CE)("option",{key:1,value:e.asset_attribute_value.field_value},"Select "+(0,n.v_)(e.display_name),9,gu)),((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(e.field_values.split(","),((e,a)=>((0,r.uX)(),(0,r.CE)("option",{key:a,value:e},(0,n.v_)(e),9,fu)))),128))],10,hu),[[s.u1,e.asset_attribute_value.field_value]]),i.errors[e.display_name]?((0,r.uX)(),(0,r.CE)("span",Lu,(0,n.v_)(i.errors[e.display_name][0]),1)):(0,r.Q3)("",!0)])):(0,r.Q3)("",!0),"List"==e.field_type?((0,r.uX)(),(0,r.CE)("div",Cu,[(0,r.Lk)("label",wu,(0,n.v_)(e.display_name),1),e.is_required?((0,r.uX)(),(0,r.CE)("span",Eu,"*")):(0,r.Q3)("",!0),(0,r.bo)((0,r.Lk)("select",{class:(0,n.C4)(["form-control",{"is-invalid":i.errors[e.display_name]}]),"onUpdate:modelValue":a=>e.asset_attribute_value.field_value=a},[e.asset_attribute_value?.field_value?((0,r.uX)(),(0,r.CE)("option",{key:0,value:e.asset_attribute_value?.field_value},(0,n.v_)(e.asset_attribute_value?.field_value),9,Xu)):((0,r.uX)(),(0,r.CE)("option",{key:1,value:e.asset_attribute_value?.field_value},"Select "+(0,n.v_)(e.display_name),9,Pu)),((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(e.list_parameter?.field_values.split(","),((e,a)=>((0,r.uX)(),(0,r.CE)("option",{key:a,value:e.trim()},(0,n.v_)(e.trim()),9,$u)))),128))],10,xu),[[s.u1,e.asset_attribute_value.field_value]]),i.errors[e.display_name]?((0,r.uX)(),(0,r.CE)("span",Su,(0,n.v_)(i.errors[e.display_name][0]),1)):(0,r.Q3)("",!0)])):(0,r.Q3)("",!0),"Color"==e.field_type?((0,r.uX)(),(0,r.CE)("div",Au,[(0,r.Lk)("label",Du,[(0,r.eW)((0,n.v_)(e.display_name),1),e.is_required?((0,r.uX)(),(0,r.CE)("span",Tu,"*")):(0,r.Q3)("",!0)]),(0,r.bo)((0,r.Lk)("input",{type:"color",class:"form-control","onUpdate:modelValue":a=>e.asset_attribute_value.field_value=a,style:{height:"2.2rem"}},null,8,Qu),[[s.Jo,e.asset_attribute_value.field_value]]),i.errors[e.display_name]?((0,r.uX)(),(0,r.CE)("span",Vu,(0,n.v_)(i.errors[e.display_name][0]),1)):(0,r.Q3)("",!0)])):(0,r.Q3)("",!0)])))),128))])])])):(0,r.Q3)("",!0)]),(0,r.Lk)("div",Fu,[(0,r.bF)(d,{type:"button",class:"btn btn-danger me-2",to:"/assets"},{default:(0,r.k6)((()=>a[65]||(a[65]=[(0,r.Lk)("i",{class:"ri-close-line fs-18 lh-1"},null,-1),(0,r.eW)(" Discard")]))),_:1}),(0,r.Lk)("button",Uu,[i.status?((0,r.uX)(),(0,r.CE)("span",ju,a[66]||(a[66]=[(0,r.Lk)("i",{class:"ri-save-line fs-18 lh-1"},null,-1),(0,r.eW)(" Submit")]))):((0,r.uX)(),(0,r.CE)("span",zu,a[67]||(a[67]=[(0,r.Lk)("i",{class:"ri-save-line fs-18 lh-1"},null,-1),(0,r.eW)(" Update")])))])])])],32)])])])}var Ru=t(2075),qu={name:"Assets.Create",components:{Search:It.A,MultiSelect:Ru.A},data(){return{sample:"",asset:{asset_id:"",plant_id:"",asset_code:"",asset_name:"",asset_type_id:"",latitude:"",longitude:"",no_of_zones:0,status:"",asset_attributes:[],department_id:"",asset_departments_obj:[],asset_departments:[],asset_department_ids:[],section_id:"",functional_id:"",area_id:"",area_name:null,radius:"",zone_name:[],deleted_asset_attribute_values:[],area_name:"",deleted_asset_departments:[],deleted_asset_zones:[],geometry_type:"",height:"",diameter:"",asset_template_id:"",scanner_code:"",ppms_code:""},asset_template:"",phases:[],voltage:{color:"#ffffff",voltage_code:""},errors:{no_of_zones:[]},device_code:"",deleted_asset_attribute_values:[],deleted_asset_departments:[],showDepartment:!1,departments:[],sections:[],functionals:[],areas:[],plants:[],asset_types:[],show_assets:[],errors:[],status:!0,zones:[],initial_zone_no:null,new_zone_names:[],prev_zone_names:[],asset_templates:[],error_style:{"border-color":"#dc3545","padding-right":"calc(1.5em + 0.812rem)","background-image":"url(\"data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 12 12' width='12' height='12' fill='none' stroke='%23dc3545'%3e%3ccircle cx='6' cy='6' r='4.5'/%3e%3cpath stroke-linejoin='round' d='M5.8 3.6h.4L6 6.5z'/%3e%3ccircle cx='6' cy='8.2' r='.6' fill='%23dc3545' stroke='none'/%3e%3c/svg%3e\")","background-repeat":"no-repeat","background-position":"right calc(0.375em + 0.203rem) center","background-size":"calc(0.75em + 0.406rem) calc(0.75em + 0.406rem)"}}},beforeRouteEnter(e,a,t){t((a=>{if(a.asset.asset_attributes=[],a.getAssetsDropdown(),"Assets.Create"==e.name)a.asset.zone_name.push({zone_name:"Overall"});else{a.status=!1;let t={uri:"getAssetdata",data:{asset_id:e.params.asset_id}};a.$store.dispatch("post",t).then((function(e){console.log("AAsset",e.data.data),a.asset=e.data.data,a.initial_zone_no=a.asset.no_of_zones,a.prev_zone_names=a.asset.zone_name,a.show_assets=e.data.data?.asset_attributes,a.asset.area_id=a.asset.area.area_id,a.asset.area_name=a.asset.area.area_name,a.asset.deleted_asset_departments=[],a.asset.deleted_asset_zones=[],a.asset.asset_attributes.map((function(e){a.deleted_asset_attribute_values.push(e.asset_attribute_value.asset_attribute_value_id)})),a.asset.deleted_asset_attribute_values=[],a.asset.asset_departments_obj=[],a.asset.asset_department_ids.map((function(e){a.asset.asset_departments_obj.push({department_code:e.department.department_code,department_id:e.department.department_id,status:e.department.status,department_name:e.department.department_name})}))})).catch((function(e){console.log(e)}))}}))},watch:{"asset.height"(e){this.asset.zone_name.length>0&&(this.asset.zone_name[0].height=e)},"asset.diameter"(e){this.asset.zone_name.length>0&&(this.asset.zone_name[0].diameter=e)},"asset.no_of_zones":function(e){let a=this;if(e<a.initial_zone_no)return a.asset.no_of_zones=a.initial_zone_no,void a.$store.dispatch("error",`You cannot reduce zones below ${a.initial_zone_no}`);let t=a.asset.zone_name.length>0&&"Overall"===a.asset.zone_name[0].zone_name?a.asset.zone_name[0]:null;if(0===e){if(a.asset.zone_name.length>1){let e=a.asset.zone_name[1];null!=e.asset_zone_id&&a.asset.deleted_asset_zones.push(e.asset_zone_id)}return void(a.asset.zone_name=[{zone_name:"Overall",height:t?.height??a.asset.height,diameter:t?.diameter??a.asset.diameter,asset_zone_id:t?.asset_zone_id??null}])}a.asset.zone_name.length&&"Overall"===a.asset.zone_name[0].zone_name?(a.asset.zone_name[0].height=t?.height??a.asset.height,a.asset.zone_name[0].diameter=t?.diameter??a.asset.diameter):a.asset.zone_name.unshift({zone_name:"Overall",height:a.asset.height,diameter:a.asset.diameter,asset_zone_id:null});let s=e+1;if(a.asset.zone_name.length>s){for(let e=s;e<a.asset.zone_name.length;e++){let t=a.asset.zone_name[e];null!=t.asset_zone_id&&a.asset.deleted_asset_zones.push(t.asset_zone_id)}a.asset.zone_name.splice(s)}else for(let r=a.asset.zone_name.length;r<s;r++)a.asset.zone_name.push({zone_name:null,height:null,diameter:null});console.log("Updated Zones: ",a.asset.zone_name),console.log("Deleted Asset Zones: ",a.asset.deleted_asset_zones)}},computed:{getComponentCode(){return this.device_code=[this.voltage.voltage_code,this.watt_rating,this.frame,this.mounting,this.section,this.make,this.speed,this.asset.serial_no],this.device_code.join("")}},methods:{validateNumberLength(e){if(e.asset_attribute_value.field_value){const a=String(e.asset_attribute_value.field_value);a.length>e.field_length?(e.asset_attribute_value.field_value=a.slice(0,e.field_length),this.errors[e.display_name]=[`${e.display_name} must be at most ${e.field_length} digits.`]):this.errors[e.display_name]=null}},getZoneNameError(e){let a=Object.entries(this.errors),t=a.filter((function(a){return a[0].includes("zone_name")&&a[0].includes(e)}));if(t.length)return"Zone name field is required"},checkZoneValue(e,a){let t=parseInt(e?.target?.value)||0,s=t+1;while(a.zone_name.length<s)a.zone_name.push({zone_name:null,height:null,diameter:null});while(a.zone_name.length>s)a.zone_name.pop();a.no_of_zones=t},updateAssetParameters(e){let a=this.asset.asset_attributes.filter((function(a){return a.asset_attribute_id==e.asset_attribute_id}));a.length||this.asset.asset_attributes.push({asset_attribute_id:e.asset_attribute_id,field_value:e.field_value})},submitForm(){let e=this;e.status?e.addAsset():e.updateAsset()},getAssetsDropdown(){let e=this;e.$store.dispatch("post",{uri:"getAssetTypes"}).then((a=>{e.asset_attributes=a.data.data,e.getDepartments()})).catch((function(a){e.errors=a.response.data.errors,e.$store.dispatch("error",a.response.data.message)}))},toggleDepartmentStatus(){this.showDepartment=!this.showDepartment},getDepartments(){let e=this;e.$store.dispatch("post",{uri:"getDepartments"}).then((a=>{e.departments=a.data.data,e.getSections()})).catch((function(a){e.errors=a.response.data.errors,e.$store.dispatch("error",a.response.data.message)}))},updateDepartemnts(e,a){let t=this;const s=e.target.checked;let r=a.asset_department_ids.filter((function(a){return a.department_id==e.target.value}));if(r.length){let e=r[0].asset_department_id;if(s){if(t.asset.deleted_asset_departments.includes(e)){let a=t.asset.deleted_asset_departments.filter((function(a){return a!=e}));t.asset.deleted_asset_departments=a}}else t.asset.deleted_asset_departments.includes(e)||t.asset.deleted_asset_departments.push(e)}},getSections(){let e=this;e.$store.dispatch("post",{uri:"getSections"}).then((a=>{e.sections=a.data.data,e.getFunctionals()})).catch((function(a){e.errors=a.response.data.errors,e.$store.dispatch("error",a.response.data.message)}))},getFunctionals(){let e=this;e.$store.dispatch("post",{uri:"getFunctionals"}).then((a=>{e.functionals=a.data.data,e.getShops()})).catch((function(a){e.errors=a.response.data.errors,e.$store.dispatch("error",a.response.data.message)}))},getShops(){let e=this;e.$store.dispatch("post",{uri:"getPlants"}).then((a=>{e.plants=a.data.data,e.getAreas()})).catch((function(a){e.errors=a.response.data.errors,e.$store.dispatch("error",a.response.data.message)}))},getAreas(){let e=this;e.$store.dispatch("post",{uri:"getAreas"}).then((a=>{e.areas=a.data.data,e.getPhases()})).catch((function(a){e.errors=a.response.data.errors,e.$store.dispatch("error",a.response.data.message)}))},getPhases(){let e=this;e.$store.dispatch("post",{uri:"getPhases"}).then((a=>{e.phases=a.data.data})).catch((function(a){e.errors=a.response.data.errors,e.$store.dispatch("error",a.response.data.message)}))},validateFields(){let e=!0;this.errors={},this.asset.asset_code||(this.errors.asset_code=["Asset Code is required"],e=!1),this.asset.asset_name||(this.errors.asset_name=["Asset Name is required"],e=!1),this.asset.asset_type_id||(this.errors.asset_type_id=["Asset Type is required"],e=!1),this.asset.plant_id||(this.errors.plant_id=["Shop id is required"],e=!1),!this.asset.no_of_zones<0?(this.errors.no_of_zones=["No. of zones id is required"],e=!1):this.asset.zone_name.forEach(((a,t)=>{a.zone_name||(this.errors[`zone_name_${t}`]=[`Zone ${t+1} is required`],e=!1)}));for(const a of Object.values(this.asset.asset_attributes))a.is_required&&!a.asset_attribute_value.field_value&&("Color"===a.field_type?a.asset_attribute_value.field_value="#000000":(this.errors[a.display_name]=[`${a.display_name} is required`],e=!1));return console.log("Validation Errors:",this.errors),e},addAsset(){let e=this;if(!e.validateFields())return;e.asset.asset_departments_obj.map((function(a){e.asset.asset_departments.push(a.department_id)}));let a=e.$loading.show();e.$store.dispatch("post",{uri:"addAsset",data:e.asset}).then((t=>{a.hide(),e.$store.dispatch("success",t.data.message),e.$router.push("/assets")})).catch((function(t){a.hide(),e.errors=t.response.data.errors,e.$store.dispatch("error",t.response.data.message)}))},updateAsset(){let e=this;if(e.asset.deleted_asset_departments=e.asset?.asset_department_ids.filter((a=>!e.asset.asset_departments_obj.some((e=>a.department_id===e.department_id)))),e.asset.asset_departments=e.asset.asset_departments_obj.map((e=>e.department_id)),e.asset.deleted_asset_departments=e.asset.deleted_asset_departments.map((e=>e.asset_department_id)),!e.validateFields())return;let a=e.$loading.show();e.$store.dispatch("post",{uri:"updateAsset",data:e.asset}).then((t=>{a.hide(),e.$store.dispatch("success",t.data.message),e.$router.push("/assets")})).catch((function(t){a.hide(),e.errors=t.response.data.errors,e.$store.dispatch("error",t.response.data.message)}))},getAsset(){let e=this;e.$store.dispatch("post",{uri:"getAsset",data:e.asset}).then((a=>{e.asset=a.data.data})).catch((function(a){e.errors=a.response.data.errors,e.$store.dispatch("error",a.response.data.message)}))},discard(){let e=this;e.asset.asset_code="",e.asset.asset_name="",e.asset.latitude="",e.asset.longitude="",e.asset.radius="",e.asset.geometry_type="",e.asset.department_id="",e.asset.section_id="",e.asset.functional_id="",e.errors=[],e.voltage.color="#ffffff",e.voltage.voltage_code="",e.asset.serial_no="",e.watt_rating="",e.frame="",e.device_code="",e.mounting="",e.section="",e.make="",e.speed="",e.show_assets=[],e.asset.asset_attributes=[],e.asset.asset_type_id="";e.asset.zone_name.filter((function(e){e.zone_name=""}))},reset(){let e=this;e.asset.asset_attributes=[],e.asset.asset_type_id="",e.errors=[],window.location.reload()},getAssetType(e){let a=this;a.deleted_asset_attribute_values.length&&(a.asset.deleted_asset_attribute_values=a.deleted_asset_attribute_values),a.$store.dispatch("post",{uri:"getAssetsDropdown",data:{asset_type_id:e}}).then((t=>{a.show_assets=t.data.data,a.asset.asset_attributes=t.data.data,a.getAssetTemplates(e)})).catch((function(e){a.errors=e.response.data.errors,a.$store.dispatch("error",e.response.data.message)}))},getAreaValue(){let e=this,a=e.plants.filter((function(a){return a.plant_id==e.asset.plant_id}));a.length&&"Area"in a[0]&&(e.asset.area_id=a[0].Area?.area_id,e.asset.area_name=a[0].Area?.area_name)},getAssetTemplates(e){let a=this;a.$store.dispatch("post",{uri:"getAssetTemplateDropDown",data:a.asset}).then((e=>{a.asset_templates=e.data.data,console.log("asset templa---0",a.asset_templates)})).catch((function(e){a.errors=e.response.data.errors,a.$store.dispatch("error",e.response.data.message)}))},getAssetTemplateValues(e){let a=this,t={asset_type_id:a.asset.asset_type_id,asset_template_id:e};a.$store.dispatch("post",{uri:"getAssetTemplateToAsset",data:t}).then((e=>{a.asset=e.data.data,a.asset.asset_department_ids&&(a.asset.asset_departments_obj=a.asset.asset_department_ids.map((e=>a.departments.find((a=>a.department_id===e.department_id)))))})).catch((function(e){console.log("template---zone",e),a.errors=e.response.data.errors,a.$store.dispatch("error",e.response.data.message)}))}}};const Iu=(0,Ze.A)(qu,[["render",Wu]]);var Nu=Iu;It.A;const Mu={class:""},Ku={class:"d-sm-flex align-items-center justify-content-between mb-2"},Ju={class:"breadcrumb fs-sm mb-1"},Bu={class:"breadcrumb-item","aria-current":"page"},Ou={class:"row"},Hu={class:"col-12"},Yu={class:"card card-one"},Zu={class:"card-body"},Gu={class:"table-responsive table-responsive-sm"},e_={class:"table table-sm text-nowrap table-striped table-bordered mb-0"},a_={class:"",style:{"background-color":"#9b9b9b",color:"white"}},t_={key:0,class:"ri-arrow-up-line"},s_={key:1,class:"ri-arrow-down-line"},r_={key:2,class:"fas fa-sort"},l_={key:0,class:"ri-arrow-up-line"},i_={key:1,class:"ri-arrow-down-line"},o_={key:2,class:"fas fa-sort"},d_={key:0,class:"ri-arrow-up-line"},n_={key:1,class:"ri-arrow-down-line"},c_={key:2,class:"fas fa-sort"},u_={key:0,class:"ri-arrow-up-line"},__={key:1,class:"ri-arrow-down-line"},p_={key:2,class:"fas fa-sort"},m_={key:0,class:"ri-arrow-up-line"},b_={key:1,class:"ri-arrow-down-line"},k_={key:2,class:"fas fa-sort"},v_={key:0,class:"ri-arrow-up-line"},h_={key:1,class:"ri-arrow-down-line"},y_={key:2,class:"fas fa-sort"},g_={class:"text-center"},f_={class:"text-center"},L_={class:"text-center"},C_={class:"text-center"},w_={class:"form-switch"},E_=["id","checked","value","onChange"],x_=["for"],X_={class:"text-center"},P_=["onClick"],$_=["onClick"],S_=["onClick"],A_={class:"text-center"},D_=["onClick"],T_=["onClick"],Q_=["onClick"],V_=["onClick"],F_={key:0},U_={class:"card-footer"},j_={class:"d-flex justify-content-between align-items-center"};function z_(e,a,t,l,i,o){const d=(0,r.g2)("router-link"),c=(0,r.g2)("Pagination"),u=(0,r.gN)("can");return(0,r.uX)(),(0,r.CE)("div",Mu,[(0,r.Lk)("div",Ku,[(0,r.Lk)("div",null,[(0,r.Lk)("ol",Ju,[(0,r.Lk)("li",Bu,[(0,r.bF)(d,{to:"/dashboard"},{default:(0,r.k6)((()=>a[10]||(a[10]=[(0,r.eW)("Dashboard")]))),_:1})]),a[11]||(a[11]=(0,r.Lk)("li",{class:"breadcrumb-item active","aria-current":"page"},"Assets",-1))]),a[12]||(a[12]=(0,r.Lk)("h4",{class:"main-title mb-0"},"Assets",-1))]),(0,r.bo)(((0,r.uX)(),(0,r.Wv)(d,{to:"/asset/create",class:"btn btn-primary",style:{float:"right"}},{default:(0,r.k6)((()=>a[13]||(a[13]=[(0,r.Lk)("i",{class:"ri-list-check"},null,-1),(0,r.eW)(" ADD ASSET")]))),_:1})),[[u,"assets.create"]])]),(0,r.Lk)("div",Ou,[(0,r.Lk)("div",Hu,[(0,r.Lk)("div",Yu,[a[33]||(a[33]=(0,r.Lk)("div",{class:"card-header d-flex justify-content-between"},[(0,r.Lk)("h6",{class:"card-title"},"Assets")],-1)),(0,r.Lk)("div",Zu,[(0,r.bo)((0,r.Lk)("input",{class:"form-control form-control-sm mb-2",type:"text",placeholder:"Type keyword and press enter key","onUpdate:modelValue":a[0]||(a[0]=e=>i.meta.search=e),onKeypress:a[1]||(a[1]=(0,s.jR)((e=>o.search()),["enter"]))},null,544),[[s.Jo,i.meta.search]]),(0,r.Lk)("div",Gu,[(0,r.Lk)("table",e_,[(0,r.Lk)("thead",null,[(0,r.Lk)("tr",a_,[a[22]||(a[22]=(0,r.Lk)("th",{class:"text-center"},"#",-1)),(0,r.Lk)("th",{onClick:a[2]||(a[2]=e=>o.sort("asset_type_name"))},[a[14]||(a[14]=(0,r.eW)(" Asset Type ")),(0,r.Lk)("span",null,["asset_type_name"==i.meta.keyword&&"asc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",t_)):"asset_type_name"==i.meta.keyword&&"desc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",s_)):((0,r.uX)(),(0,r.CE)("i",r_))])]),(0,r.Lk)("th",{onClick:a[3]||(a[3]=e=>o.sort("asset_code"))},[a[15]||(a[15]=(0,r.eW)(" Asset Code ")),(0,r.Lk)("span",null,["asset_code"==i.meta.keyword&&"asc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",l_)):"asset_code"==i.meta.keyword&&"desc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",i_)):((0,r.uX)(),(0,r.CE)("i",o_))])]),(0,r.Lk)("th",{onClick:a[4]||(a[4]=e=>o.sort("asset_name"))},[a[16]||(a[16]=(0,r.eW)(" Asset Name ")),(0,r.Lk)("span",null,["asset_name"==i.meta.keyword&&"asc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",d_)):"asset_name"==i.meta.keyword&&"desc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",n_)):((0,r.uX)(),(0,r.CE)("i",c_))])]),(0,r.Lk)("th",{onClick:a[5]||(a[5]=e=>o.sort("latitude"))},[a[17]||(a[17]=(0,r.eW)(" Latitude ")),(0,r.Lk)("span",null,["latitude"==i.meta.keyword&&"asc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",u_)):"latitude"==i.meta.keyword&&"desc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",__)):((0,r.uX)(),(0,r.CE)("i",p_))])]),(0,r.Lk)("th",{onClick:a[6]||(a[6]=e=>o.sort("longitude"))},[a[18]||(a[18]=(0,r.eW)(" Longitude ")),(0,r.Lk)("span",null,["longitude"==i.meta.keyword&&"asc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",m_)):"longitude"==i.meta.keyword&&"desc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",b_)):((0,r.uX)(),(0,r.CE)("i",k_))])]),(0,r.Lk)("th",{onClick:a[7]||(a[7]=e=>o.sort("radius"))},[a[19]||(a[19]=(0,r.eW)(" Radius ")),(0,r.Lk)("span",null,["radius"==i.meta.keyword&&"asc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",v_)):"radius"==i.meta.keyword&&"desc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",h_)):((0,r.uX)(),(0,r.CE)("i",y_))])]),(0,r.bo)(((0,r.uX)(),(0,r.CE)("th",g_,a[20]||(a[20]=[(0,r.eW)("Status ")]))),[[u,"assets.delete"]]),(0,r.bo)(((0,r.uX)(),(0,r.CE)("th",f_,a[21]||(a[21]=[(0,r.eW)("Actions")]))),[[u,["assets.update","assets_views.details","assets_permanent.delete"]]]),a[23]||(a[23]=(0,r.Lk)("th",{class:"text-center"},"GoTo",-1))])]),(0,r.Lk)("tbody",null,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(i.assets,((e,t)=>((0,r.uX)(),(0,r.CE)("tr",{key:t},[(0,r.Lk)("td",L_,(0,n.v_)(i.meta.from+t),1),(0,r.Lk)("td",null,(0,n.v_)(e?.asset_type?.asset_type_name),1),(0,r.Lk)("td",null,(0,n.v_)(e.asset_code),1),(0,r.Lk)("td",null,(0,n.v_)(e.asset_name),1),(0,r.Lk)("td",null,(0,n.v_)(e.latitude),1),(0,r.Lk)("td",null,(0,n.v_)(e.longitude),1),(0,r.Lk)("td",null,(0,n.v_)(e.radius),1),(0,r.bo)(((0,r.uX)(),(0,r.CE)("td",C_,[(0,r.Lk)("div",w_,[(0,r.Lk)("input",{class:"form-check-input",type:"checkbox",role:"switch",id:"asset"+e.asset_id,checked:e.status,value:e.status,onChange:a=>o.deleteAsset(e)},null,40,E_),(0,r.Lk)("label",{class:"custom-control-label",for:"asset"+e.asset_id},null,8,x_)])])),[[u,"assets.delete"]]),(0,r.bo)(((0,r.uX)(),(0,r.CE)("td",X_,[e.status?(0,r.bo)(((0,r.uX)(),(0,r.CE)("a",{key:0,title:"Edit Asset Attributes",href:"javascript:void(0)",class:"text-success me-2",onClick:a=>o.editAsset(e)},a[24]||(a[24]=[(0,r.Lk)("i",{class:"ri-pencil-line fs-18 lh-1"},null,-1)]),8,P_)),[[u,"assets.update"]]):(0,r.Q3)("",!0),e.status?(0,r.bo)(((0,r.uX)(),(0,r.CE)("a",{key:1,title:"View Register Attributes",href:"javascript:void(0)",class:"text-primary me-2",onClick:(0,s.D$)((a=>o.viewAsset(e)),["prevent"])},a[25]||(a[25]=[(0,r.Lk)("i",{class:"ri-eye-fill fs-18 lh-1"},null,-1)]),8,$_)),[[u,"assets_views.details"]]):(0,r.Q3)("",!0),e.status?(0,r.bo)(((0,r.uX)(),(0,r.CE)("a",{key:2,title:"Asset Delete",href:"javascript:void(0)",class:"text-danger me-2",onClick:(0,s.D$)((a=>o.forceDeleteAsset(e)),["prevent"])},a[26]||(a[26]=[(0,r.Lk)("i",{class:"ri-delete-bin-6-line fs-18 lh-1"},null,-1)]),8,S_)),[[u,"assets_permanent.delete"]]):(0,r.Q3)("",!0)])),[[u,["assets.update","assets_views.details","assets_permanent.delete"]]]),(0,r.Lk)("td",A_,[e.status?(0,r.bo)(((0,r.uX)(),(0,r.CE)("a",{key:0,title:"Activity Register",href:"javascript:void(0)",class:"text-info me-2",onClick:(0,s.D$)((a=>o.viewRegister(e,"/activity/create")),["prevent"])},a[27]||(a[27]=[(0,r.Lk)("i",{class:"ri-stack-fill fs-18 lh-1"},null,-1)]),8,D_)),[[u,"activity_registers.create"]]):(0,r.Q3)("",!0),e.status?(0,r.bo)(((0,r.uX)(),(0,r.CE)("a",{key:1,title:"Spare Register",href:"javascript:void(0)",class:"text-warning me-2",onClick:(0,s.D$)((a=>o.viewRegister(e,"user_service/create")),["prevent"])},a[28]||(a[28]=[(0,r.Lk)("i",{class:"ri-tools-fill fs-18 lh-1"},null,-1)]),8,T_)),[[u,"service_registers.create"]]):(0,r.Q3)("",!0),e.status?(0,r.bo)(((0,r.uX)(),(0,r.CE)("a",{key:2,title:"Inspection Register",href:"javascript:void(0)",class:"text-teal me-2",onClick:(0,s.D$)((a=>o.viewRegister(e,"user_check/create")),["prevent"])},a[29]||(a[29]=[(0,r.Lk)("i",{class:"ri-calendar-check-fill fs-18 lh-1"},null,-1)]),8,Q_)),[[u,"check_registers.create"]]):(0,r.Q3)("",!0),e.status?(0,r.bo)(((0,r.uX)(),(0,r.CE)("a",{key:3,title:"Asset Accessories",href:"javascript:void(0)",class:"text-secondary me-2",onClick:(0,s.D$)((a=>o.viewRegister(e,"/asset/accessories/"+e.asset_id)),["prevent"])},a[30]||(a[30]=[(0,r.Lk)("i",{class:"ri-survey-line fs-18 lh-1"},null,-1)]),8,V_)),[[u,"asset_accessories.view"]]):(0,r.Q3)("",!0)])])))),128)),0==i.assets.length?((0,r.uX)(),(0,r.CE)("tr",F_,a[31]||(a[31]=[(0,r.Lk)("td",{colspan:"10",class:"text-center"},"No records found",-1)]))):(0,r.Q3)("",!0)])])])]),(0,r.Lk)("div",U_,[(0,r.Lk)("div",j_,[(0,r.bo)((0,r.Lk)("select",{class:"form-select from-select-sm width-75","onUpdate:modelValue":a[8]||(a[8]=e=>i.meta.per_page=e),onChange:a[9]||(a[9]=(...e)=>o.onPerPageChange&&o.onPerPageChange(...e))},a[32]||(a[32]=[(0,r.Lk)("option",null,"10",-1),(0,r.Lk)("option",null,"15",-1),(0,r.Lk)("option",null,"20",-1),(0,r.Lk)("option",null,"25",-1),(0,r.Lk)("option",null,"30",-1)]),544),[[s.u1,i.meta.per_page]]),(0,r.Lk)("span",null,"Showing "+(0,n.v_)(i.meta.from)+" to "+(0,n.v_)(i.meta.to)+" of "+(0,n.v_)(i.meta.totalRows)+" entries",1),(0,r.bF)(c,{maxPage:i.meta.maxPage,totalPages:i.meta.lastPage,currentPage:parseInt(i.meta.page),onPagechanged:o.onPageChange},null,8,["maxPage","totalPages","currentPage","onPagechanged"])])])])])])])}var W_={components:{Pagination:md},data(){return{meta:{search:"",order_by:"desc",keyword:"asset_id",per_page:10,totalRows:0,page:1,lastPage:1,from:1,to:1,maxPage:1,trashed:!1},get_assetviews:[],get_asset:[],assets:[],errors:[],status:!0}},beforeRouteEnter(e,a,t){t((e=>{"Assets.Edit"==a.name&&"Assets.View"==a.name?e.meta.page=e.$store.getters.current_page:e.meta.page=1}))},mounted(){this.assetviews=this.$store.getters.permissions.filter((function(e){return e.ability.ability.includes("assetviews.view")})),this.get_asset=this.$store.getters.permissions.filter((function(e){return e.ability.ability.includes("assets.update")})),document.body.classList.remove("sidebar-hide"),this.$store.commit("setAssetId",""),this.index()},methods:{index(){let e=this,a=e.$loading.show();e.$store.dispatch("post",{uri:"paginateAssets",data:e.meta}).then((t=>{a.hide(),e.assets=t.data.data,e.meta.totalRows=t.data.meta.total,e.meta.from=t.data.meta.from,e.meta.to=t.data.meta.to,e.meta.lastPage=t.data.meta.last_page,e.meta.maxPage=e.meta.lastPage>=3?3:e.meta.lastPage})).catch((function(t){a.hide(),e.errors=t.response.data.errors,e.$store.dispatch("error",t.response.data.message)}))},editAsset(e){this.$store.commit("setCurrentPage",parseInt(this.meta.page)),this.$router.push("/asset/"+e.asset_id+"/edit")},viewAsset(e){document.body.classList.add("sidebar-hide"),this.$store.commit("setCurrentPage",this.meta.page),this.$router.push("/asset/"+e.asset_id+"/view")},forceDeleteAsset(e){const a=confirm("Are you sure you want to delete it ?");if(a){let a=this,t=a.$loading.show();a.$store.dispatch("post",{uri:"forceDeleteAsset",data:e}).then((e=>{t.hide(),a.$store.dispatch("success",e.data.message),a.index()})).catch((function(e){t.hide(),a.errors=e.response.data.errors,a.$store.dispatch("error",e.response.data.message)}))}},viewRegister(e,a){this.$store.commit("setCurrentPage",this.meta.page),this.$store.commit("setAssetId",e.asset_id),this.$router.push(a)},getQRCode(e){this.$router.push("/QR_code/"+e.asset_id+"/get")},deleteAsset(e){let a=this,t=a.$loading.show();a.$store.dispatch("post",{uri:"deleteAsset",data:e}).then((e=>{t.hide(),a.$store.dispatch("success",e.data.message),a.index()})).catch((function(e){t.hide(),a.errors=e.response.data.errors,a.$store.dispatch("error",e.response.data.message)}))},search(){let e=this;e.meta.page=1,e.index()},onPageChange(e){this.meta.page=e,this.index()},sort(e){this.meta.keyword=e,this.meta.order_by="asc"==this.meta.order_by?"desc":"asc",this.index()},onPerPageChange(){let e=this;e.meta.page=1,e.index()}}};const R_=(0,Ze.A)(W_,[["render",z_]]);var q_=R_;const I_={class:""},N_={class:"d-sm-flex align-items-center justify-content-between mb-2"},M_={class:"breadcrumb fs-sm mb-1"},K_={class:"breadcrumb-item","aria-current":"page"},J_={class:"breadcrumb-item"},B_={class:"row g-2"},O_={class:"col-xl-3 mb-1"},H_={class:"row"},Y_={class:"col-12 mb-2"},Z_={class:"card card-one"},G_={class:"card-header d-flex justify-content-between"},ep={class:"card-title"},ap={class:"card-body"},tp={class:"nav nav-classic"},sp={class:"nav-link text-dark"},rp={class:"badge text-dark",style:{"text-wrap":"balance"}},lp={class:"nav-link text-dark"},ip={class:"badge text-dark"},op={class:"nav-link text-dark"},dp={class:"badge text-dark"},np={class:"nav-link text-dark"},cp={class:"badge text-dark"},up={class:"nav-link text-dark"},_p={class:"badge text-dark"},pp={class:"nav-link text-dark"},mp={class:"badge text-dark"},bp={class:"nav-link text-dark"},kp={class:"badge text-dark"},vp={class:"nav-link text-dark"},hp={class:"badge text-dark"},yp={class:"nav-link text-dark"},gp={class:"badge text-dark"},fp={class:"nav-link text-dark"},Lp={class:"badge text-dark"},Cp={class:"nav-link text-dark"},wp={class:"",style:{"margin-left":"auto","padding-right":"5px"}},Ep={class:"list_style_none mb-0 text-end"},xp={key:0},Xp={class:"nav-link text-dark"},Pp={class:"badge text-dark"},$p={class:"badge text-dark"},Sp={key:1},Ap={class:"col-12"},Dp={class:"card card-one"},Tp={class:"card-body text-center"},Qp={class:"mb-3 mt-3"},Vp=["src"],Fp={class:"card-title"},Up={class:"row g-2 g-sm-3 mb-3"},jp={class:"col-sm"},zp={class:"col-xl-9 mb-2"},Wp={class:"card1 card-one1"},Rp={class:"card-content1"},qp={class:"nav nav-tabs nav-tabs-mb-icon nav-tabs-card"},Ip={class:"nav-item"},Np={class:"nav-item"},Mp={class:"nav-item"},Kp={class:"nav-item"},Jp={class:"nav-item"},Bp={class:"nav-item"},Op={class:"card-inner"},Hp={class:"tab-content"},Yp={class:"tab-pane fade show active",id:"services"},Zp={class:"tab-pane fade",id:"checks"},Gp={class:"tab-pane fade",id:"spares"},em={class:"tab-pane fade",id:"variables"},am={class:"tab-pane fade",id:"data_sources"},tm={class:"tab-pane fade",id:"accessories"},sm={class:"modal fade",id:"exampleModal",tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},rm={class:"modal-dialog modal-lg"},lm={class:"modal-content"},im={class:"modal-header"},om={class:"modal-title",id:"exampleModalLabel"},dm={class:"modal-body"},nm={class:"row g-2"},cm={class:"col-12 mb-2"},um={key:0,class:"row g-2"},_m={key:0},pm={class:"form-label"},mm={key:0,class:"text-danger"},bm=["placeholder","value"],km={key:1,class:"invalid-feedback"},vm={key:1},hm={class:"form-label"},ym={key:0,class:"text-danger"},gm=["placeholder","value"],fm={key:1,class:"invalid-feedback"},Lm={key:2},Cm={class:"form-label"},wm={key:0,class:"text-danger"},Em=["placeholder","value"],xm={key:0,class:"invalid-feedback"},Xm={key:3},Pm={class:"form-label"},$m={key:0,class:"text-danger"},Sm=["placeholder","value"],Am={key:0,class:"invalid-feedback"},Dm={key:4},Tm={class:"form-label"},Qm={key:0,class:"text-danger"},Vm=["value"],Fm=["value"],Um=["value"],jm=["value"],zm={key:1,class:"invalid-feedback"},Wm={key:5},Rm={class:"form-label"},qm={key:0,class:"text-danger"},Im=["value"],Nm={key:0,class:"invalid-feedback"},Mm={key:6},Km={class:"form-label"},Jm={key:0,class:"text-danger"},Bm=["value"],Om=["value"],Hm=["value"],Ym=["value"],Zm={key:1,class:"invalid-feedback"},Gm={key:1,class:"row g-2"},eb={key:0},ab={class:"form-label"},tb={key:0,class:"text-danger"},sb=["placeholder","value"],rb={key:1,class:"invalid-feedback"},lb={key:1},ib={class:"form-label"},ob={key:0,class:"text-danger"},db=["placeholder","value"],nb={key:1,class:"invalid-feedback"},cb={key:2},ub={class:"form-label"},_b={key:0,class:"text-danger"},pb=["placeholder","value"],mb={key:0,class:"invalid-feedback"},bb={key:3},kb={class:"form-label"},vb={key:0,class:"text-danger"},hb=["placeholder","value"],yb={key:0,class:"invalid-feedback"},gb={key:4},fb={class:"form-label"},Lb={key:0,class:"text-danger"},Cb=["value"],wb=["value"],Eb=["value"],xb=["value"],Xb={key:1,class:"invalid-feedback"},Pb={key:5},$b={class:"form-label"},Sb={key:0,class:"text-danger"},Ab=["value"],Db={key:0,class:"invalid-feedback"},Tb={key:6},Qb={class:"form-label"},Vb={key:0,class:"text-danger"},Fb=["value"],Ub=["value"],jb=["value"],zb=["value"],Wb={key:1,class:"invalid-feedback"},Rb={key:2,class:"row g-2"},qb={key:0},Ib={class:"form-label"},Nb={key:0,class:"text-danger"},Mb=["placeholder","value"],Kb={key:1,class:"invalid-feedback"},Jb={key:1},Bb={class:"form-label"},Ob={key:0,class:"text-danger"},Hb=["placeholder","value"],Yb={key:1,class:"invalid-feedback"},Zb={key:2},Gb={class:"form-label"},ek={key:0,class:"text-danger"},ak=["placeholder","value"],tk={key:0,class:"invalid-feedback"},sk={key:3},rk={class:"form-label"},lk={key:0,class:"text-danger"},ik=["placeholder","value"],ok={key:0,class:"invalid-feedback"},dk={key:4},nk={class:"form-label"},ck={key:0,class:"text-danger"},uk=["value"],_k=["value"],pk=["value"],mk=["value"],bk={key:1,class:"invalid-feedback"},kk={key:5},vk={class:"form-label"},hk={key:0,class:"text-danger"},yk=["value"],gk={key:0,class:"invalid-feedback"},fk={key:6},Lk={class:"form-label"},Ck={key:0,class:"text-danger"},wk=["value"],Ek=["value"],xk=["value"],Xk=["value"],Pk={key:1,class:"invalid-feedback"},$k={key:3,class:"row g-2"},Sk={key:0},Ak={class:"form-label"},Dk={key:0,class:"text-danger"},Tk=["placeholder","value"],Qk={key:1,class:"invalid-feedback"},Vk={key:1},Fk={class:"form-label"},Uk={key:0,class:"text-danger"},jk=["placeholder","value"],zk={key:1,class:"invalid-feedback"},Wk={key:2},Rk={class:"form-label"},qk={key:0,class:"text-danger"},Ik=["placeholder","value"],Nk={key:0,class:"invalid-feedback"},Mk={key:3},Kk={class:"form-label"},Jk={key:0,class:"text-danger"},Bk=["placeholder","value"],Ok={key:0,class:"invalid-feedback"},Hk={key:4},Yk={class:"form-label"},Zk={key:0,class:"text-danger"},Gk=["value"],ev=["value"],av=["value"],tv=["value"],sv={key:1,class:"invalid-feedback"},rv={key:5},lv={class:"form-label"},iv={key:0,class:"text-danger"},ov=["value"],dv={key:0,class:"invalid-feedback"},nv={key:6},cv={class:"form-label"},uv={key:0,class:"text-danger"},_v=["value"],pv=["value"],mv=["value"],bv=["value"],kv={key:1,class:"invalid-feedback"};function vv(e,a,t,s,l,i){const o=(0,r.g2)("router-link"),d=(0,r.g2)("Services"),c=(0,r.g2)("Checks"),u=(0,r.g2)("Spares"),_=(0,r.g2)("Variables"),p=(0,r.g2)("DataSources"),m=(0,r.g2)("Accessories");return(0,r.uX)(),(0,r.CE)(r.FK,null,[(0,r.Lk)("div",I_,[(0,r.Lk)("div",N_,[(0,r.Lk)("div",null,[(0,r.Lk)("ol",M_,[(0,r.Lk)("li",K_,[(0,r.bF)(o,{to:"/dashboard"},{default:(0,r.k6)((()=>a[7]||(a[7]=[(0,r.eW)("Dashboard")]))),_:1})]),(0,r.Lk)("li",J_,[(0,r.bF)(o,{to:"/assets"},{default:(0,r.k6)((()=>a[8]||(a[8]=[(0,r.eW)("Assets")]))),_:1})]),a[9]||(a[9]=(0,r.Lk)("li",{class:"breadcrumb-item active","aria-current":"page"},"View",-1))]),a[10]||(a[10]=(0,r.Lk)("h4",{class:"main-title mb-0"},"Assets",-1))]),(0,r.bF)(o,{to:"/assets",type:"submit",class:"btn btn-primary",style:{float:"right"}},{default:(0,r.k6)((()=>a[11]||(a[11]=[(0,r.Lk)("i",{class:"ri-list-check"},null,-1),(0,r.eW)(" ASSETS")]))),_:1})]),(0,r.Lk)("div",B_,[(0,r.Lk)("div",O_,[(0,r.Lk)("div",H_,[(0,r.Lk)("div",Y_,[(0,r.Lk)("div",Z_,[(0,r.Lk)("div",G_,[(0,r.Lk)("h6",ep,(0,n.v_)(l.asset?.asset_code),1)]),(0,r.Lk)("div",ap,[(0,r.Lk)("nav",tp,[(0,r.Lk)("span",sp,[a[12]||(a[12]=(0,r.Lk)("span",null,"Asset Code",-1)),a[13]||(a[13]=(0,r.eW)()),(0,r.Lk)("span",rp,(0,n.v_)(l.asset.asset_code),1)]),(0,r.Lk)("span",lp,[a[14]||(a[14]=(0,r.Lk)("span",null,"Asset Name",-1)),a[15]||(a[15]=(0,r.eW)()),(0,r.Lk)("span",ip,(0,n.v_)(l.asset.asset_name),1)]),(0,r.Lk)("span",op,[a[16]||(a[16]=(0,r.Lk)("span",null,"Scanner Code",-1)),a[17]||(a[17]=(0,r.eW)()),(0,r.Lk)("span",dp,(0,n.v_)(l.asset?.scanner_code),1)]),(0,r.Lk)("span",np,[a[18]||(a[18]=(0,r.Lk)("span",null,"PPMS Code",-1)),a[19]||(a[19]=(0,r.eW)()),(0,r.Lk)("span",cp,(0,n.v_)(l.asset?.ppms_code),1)]),(0,r.Lk)("span",up,[a[20]||(a[20]=(0,r.Lk)("span",null,"Asset Type",-1)),a[21]||(a[21]=(0,r.eW)()),(0,r.Lk)("span",_p,(0,n.v_)(l.asset.asset_type?.asset_type_name),1)]),(0,r.Lk)("span",pp,[a[22]||(a[22]=(0,r.Lk)("span",null,"Asset Template",-1)),a[23]||(a[23]=(0,r.eW)()),(0,r.Lk)("span",mp,(0,n.v_)(l.asset.asset_template?.template_name),1)]),(0,r.Lk)("span",bp,[a[24]||(a[24]=(0,r.Lk)("span",null,"Latitude",-1)),a[25]||(a[25]=(0,r.eW)()),(0,r.Lk)("span",kp,(0,n.v_)(l.asset?.latitude),1)]),(0,r.Lk)("span",vp,[a[26]||(a[26]=(0,r.Lk)("span",null,"Longitude",-1)),a[27]||(a[27]=(0,r.eW)()),(0,r.Lk)("span",hp,(0,n.v_)(l.asset?.longitude),1)]),(0,r.Lk)("span",yp,[a[28]||(a[28]=(0,r.Lk)("span",null,"Radius",-1)),a[29]||(a[29]=(0,r.eW)()),(0,r.Lk)("span",gp,(0,n.v_)(l.asset?.radius),1)]),(0,r.Lk)("span",fp,[a[30]||(a[30]=(0,r.Lk)("span",null,"Phase",-1)),a[31]||(a[31]=(0,r.eW)()),(0,r.Lk)("span",Lp,(0,n.v_)(l.asset?.phase?.phase_name),1)]),(0,r.Lk)("span",Cp,[a[32]||(a[32]=(0,r.Lk)("span",null,"Department",-1)),(0,r.Lk)("span",wp,[(0,r.Lk)("ul",Ep,[0===l.asset?.asset_department_ids?.length?((0,r.uX)(),(0,r.CE)("li",xp,"No departments")):(0,r.Q3)("",!0),((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(l.asset.asset_department_ids,(e=>((0,r.uX)(),(0,r.CE)("li",{key:e.id},(0,n.v_)(e.department?.department_name),1)))),128))])])]),(0,r.Lk)("span",Xp,[a[33]||(a[33]=(0,r.Lk)("span",null,"Functional",-1)),a[34]||(a[34]=(0,r.eW)()),(0,r.Lk)("span",Pp,(0,n.v_)(l.asset.functional?.functional_name),1)]),((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(l.asset.zone_name,((e,a)=>((0,r.uX)(),(0,r.CE)("span",{class:"nav-link text-dark",key:e.asset_zone_id},[(0,r.Lk)("span",null,"Zone "+(0,n.v_)(a+1),1),(0,r.Lk)("span",$p,(0,n.v_)(e.zone_name),1)])))),128)),((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(l.asset.asset_attributes,((a,t)=>((0,r.uX)(),(0,r.CE)("h6",{class:"nav-link text-dark d-flex justify-content-between",key:t},[(0,r.eW)((0,n.v_)(a.display_name)+" ",1),"Color"==a.field_name?((0,r.uX)(),(0,r.CE)("span",{key:0,style:(0,n.Tr)(e.getColor(a))},(0,n.v_)(a?.asset_attribute_value?.field_value),5)):((0,r.uX)(),(0,r.CE)("span",Sp,(0,n.v_)(a?.asset_attribute_value?.field_value),1))])))),128))])])])]),(0,r.Lk)("div",Ap,[(0,r.Lk)("div",Dp,[(0,r.Lk)("div",Tp,[(0,r.Lk)("div",Qp,[(0,r.Lk)("img",{src:l.asset?.QR_Code,class:"img",style:{width:"150px"}},null,8,Vp)]),(0,r.Lk)("h3",Fp,(0,n.v_)(l.asset.asset_code),1),a[36]||(a[36]=(0,r.Lk)("p",{class:"card-text"},"Please scan the QR Code to get the asset details...",-1)),(0,r.Lk)("div",Up,[(0,r.Lk)("div",jp,[(0,r.Lk)("button",{type:"button",class:"btn btn-primary",onClick:a[0]||(a[0]=e=>i.downloadQR())},a[35]||(a[35]=[(0,r.Lk)("i",{class:"ri-download-2-line fs-18 lh-1"},null,-1),(0,r.eW)(" Download QR")]))])])])])])])]),(0,r.Lk)("div",zp,[(0,r.Lk)("div",Wp,[(0,r.Lk)("div",Rp,[(0,r.Lk)("ul",qp,[(0,r.Lk)("li",Ip,[(0,r.Lk)("a",{class:"nav-link active","data-bs-toggle":"tab",ref:"services",href:"#services",onClick:a[1]||(a[1]=e=>i.openTab("services"))},a[37]||(a[37]=[(0,r.Lk)("em",{class:"icon ni ni-web-development"},null,-1),(0,r.Lk)("span",null,"Services",-1)]),512)]),(0,r.Lk)("li",Np,[(0,r.Lk)("a",{class:"nav-link","data-bs-toggle":"tab",ref:"checks",onClick:a[2]||(a[2]=e=>i.openTab("checks")),href:"#checks"},a[38]||(a[38]=[(0,r.Lk)("em",{class:"icon ni ni-web-development"},null,-1),(0,r.Lk)("span",null,"Checks",-1)]),512)]),(0,r.Lk)("li",Mp,[(0,r.Lk)("a",{class:"nav-link","data-bs-toggle":"tab",ref:"spares",href:"#spares",onClick:a[3]||(a[3]=e=>i.openTab("spares"))},a[39]||(a[39]=[(0,r.Lk)("em",{class:"icon ni ni-web-development"},null,-1),(0,r.Lk)("span",null,"Spares",-1)]),512)]),(0,r.Lk)("li",Kp,[(0,r.Lk)("a",{class:"nav-link","data-bs-toggle":"tab",ref:"variables",onClick:a[4]||(a[4]=e=>i.openTab("variables")),href:"#variables"},a[40]||(a[40]=[(0,r.Lk)("em",{class:"icon ni ni-web-development"},null,-1),(0,r.Lk)("span",null,"Variables",-1)]),512)]),(0,r.Lk)("li",Jp,[(0,r.Lk)("a",{class:"nav-link","data-bs-toggle":"tab",ref:"data_sources",onClick:a[5]||(a[5]=e=>i.openTab("data_sources")),href:"#data_sources"},a[41]||(a[41]=[(0,r.Lk)("em",{class:"icon ni ni-web-development"},null,-1),(0,r.Lk)("span",null,"Data Sources",-1)]),512)]),(0,r.Lk)("li",Bp,[(0,r.Lk)("a",{class:"nav-link","data-bs-toggle":"tab",ref:"accessories",onClick:a[6]||(a[6]=e=>i.openTab("accessories")),href:"#accessories"},a[42]||(a[42]=[(0,r.Lk)("em",{class:"icon ni ni-web-development"},null,-1),(0,r.Lk)("span",null,"Accessories",-1)]),512)])]),(0,r.Lk)("div",Op,[(0,r.Lk)("div",Hp,[(0,r.Lk)("div",Yp,[l.asset.asset_id&&"services"===l.tab?((0,r.uX)(),(0,r.Wv)(d,{key:0,ref:"services_tab",asset_id:l.asset.asset_id},null,8,["asset_id"])):(0,r.Q3)("",!0)]),(0,r.Lk)("div",Zp,[l.asset.asset_id&&"checks"===l.tab?((0,r.uX)(),(0,r.Wv)(c,{key:0,ref:"checks_tab",asset_id:l.asset.asset_id},null,8,["asset_id"])):(0,r.Q3)("",!0)]),(0,r.Lk)("div",Gp,[l.asset.asset_id&&"spares"===l.tab?((0,r.uX)(),(0,r.Wv)(u,{key:0,ref:"spares_tab",asset_id:l.asset.asset_id},null,8,["asset_id"])):(0,r.Q3)("",!0)]),(0,r.Lk)("div",em,[l.asset.asset_id&&"variables"===l.tab?((0,r.uX)(),(0,r.Wv)(_,{key:0,ref:"variables_tab",asset_id:l.asset.asset_id},null,8,["asset_id"])):(0,r.Q3)("",!0)]),(0,r.Lk)("div",am,[l.asset.asset_id&&"data_sources"===l.tab?((0,r.uX)(),(0,r.Wv)(p,{key:0,ref:"data_sources_tab",asset_id:l.asset.asset_id},null,8,["asset_id"])):(0,r.Q3)("",!0)]),(0,r.Lk)("div",tm,[l.asset.asset_id&&"accessories"===l.tab?((0,r.uX)(),(0,r.Wv)(m,{key:0,ref:"accessories_tab",asset_id:l.asset.asset_id},null,8,["asset_id"])):(0,r.Q3)("",!0)])])])])])])])]),(0,r.Lk)("div",sm,[(0,r.Lk)("div",rm,[(0,r.Lk)("div",lm,[(0,r.Lk)("div",im,[(0,r.Lk)("h5",om,(0,n.v_)(e.asset_type),1),a[43]||(a[43]=(0,r.Lk)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1))]),(0,r.Lk)("div",dm,[(0,r.Lk)("div",nm,[(0,r.Lk)("div",cm,["Spares"==e.asset_type?((0,r.uX)(),(0,r.CE)("div",um,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(e.assets1?.asset_spare_attributes,((a,t)=>((0,r.uX)(),(0,r.CE)("div",{class:"col-md-4",key:t},[a.spare_attributes?.length&&"Text"==a.spare_attributes[0].field_type?((0,r.uX)(),(0,r.CE)("div",_m,[(0,r.Lk)("label",pm,(0,n.v_)(a.spare_attributes[0].display_name),1),a.spare_attributes[0].is_required?((0,r.uX)(),(0,r.CE)("span",mm,"*")):(0,r.Q3)("",!0),(0,r.Lk)("input",{type:"text",class:(0,n.C4)(["form-control",{"is-invalid":e.errors[a.spare_attributes[0].display_name]}]),placeholder:"Enter "+a.spare_attributes[0].display_name,value:a.field_value,disabled:"true"},null,10,bm),e.errors[a.spare_attributes[0].display_name]?((0,r.uX)(),(0,r.CE)("span",km,(0,n.v_)(e.errors[a.spare_attributes[0].display_name][0]),1)):(0,r.Q3)("",!0)])):(0,r.Q3)("",!0),a.spare_attributes?.length&&"Number"==a.spare_attributes[0].field_type?((0,r.uX)(),(0,r.CE)("div",vm,[(0,r.Lk)("label",hm,(0,n.v_)(a.spare_attributes[0].display_name),1),a.spare_attributes[0].is_required?((0,r.uX)(),(0,r.CE)("span",ym,"*")):(0,r.Q3)("",!0),(0,r.Lk)("input",{type:"number",class:(0,n.C4)(["form-control",{"is-invalid":e.errors[a.spare_attributes[0].display_name]}]),min:"0",oninput:"validity.valid||(value='');",placeholder:"Enter "+a.spare_attributes[0].display_name,value:a.field_value,disabled:"true"},null,10,gm),e.errors[a.spare_attributes[0].display_name]?((0,r.uX)(),(0,r.CE)("span",fm,(0,n.v_)(e.errors[a.spare_attributes[0].display_name][0]),1)):(0,r.Q3)("",!0)])):(0,r.Q3)("",!0),a.spare_attributes?.length&&"Date"===a.spare_attributes[0].field_type?((0,r.uX)(),(0,r.CE)("div",Lm,[(0,r.Lk)("label",Cm,[(0,r.eW)((0,n.v_)(a.spare_attributes[0].display_name)+" ",1),a.spare_attributes[0].is_required?((0,r.uX)(),(0,r.CE)("span",wm,"*")):(0,r.Q3)("",!0)]),(0,r.Lk)("input",{type:"date",class:(0,n.C4)(["form-control",{"is-invalid":e.errors[a.spare_attributes[0].display_name]}]),placeholder:"Enter "+a.spare_attributes[0].display_name,value:a.field_value,disabled:"true"},null,10,Em),e.errors[a.spare_attributes[0].display_name]?((0,r.uX)(),(0,r.CE)("span",xm,(0,n.v_)(e.errors[a.spare_attributes[0].display_name][0]),1)):(0,r.Q3)("",!0)])):(0,r.Q3)("",!0),a.spare_attributes?.length&&"Date&Time"===a.spare_attributes[0].field_type?((0,r.uX)(),(0,r.CE)("div",Xm,[(0,r.Lk)("label",Pm,[(0,r.eW)((0,n.v_)(a.spare_attributes[0].display_name)+" ",1),a.spare_attributes[0].is_required?((0,r.uX)(),(0,r.CE)("span",$m,"*")):(0,r.Q3)("",!0)]),(0,r.Lk)("input",{type:"datetime-local",class:(0,n.C4)(["form-control",{"is-invalid":e.errors[a.spare_attributes[0].display_name]}]),placeholder:"Enter "+a.spare_attributes[0].display_name,value:a.field_value,step:"1",disabled:"true"},null,10,Sm),e.errors[a.spare_attributes[0].display_name]?((0,r.uX)(),(0,r.CE)("span",Am,(0,n.v_)(e.errors[a.spare_attributes[0].display_name][0]),1)):(0,r.Q3)("",!0)])):(0,r.Q3)("",!0),a.spare_attributes?.length&&"Dropdown"==a.spare_attributes[0].field_type?((0,r.uX)(),(0,r.CE)("div",Dm,[(0,r.Lk)("label",Tm,(0,n.v_)(a.spare_attributes[0].display_name),1),a.spare_attributes[0].is_required?((0,r.uX)(),(0,r.CE)("span",Qm,"*")):(0,r.Q3)("",!0),(0,r.Lk)("select",{class:(0,n.C4)(["form-control",{"is-invalid":e.errors[a.spare_attributes[0].display_name]}]),value:a.field_value,disabled:"true"},[a.field_value?((0,r.uX)(),(0,r.CE)("option",{key:0,value:a.field_value},(0,n.v_)(a.field_value),9,Fm)):((0,r.uX)(),(0,r.CE)("option",{key:1,value:a.field_value},"Select "+(0,n.v_)(a.spare_attributes[0].display_name),9,Um)),((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(a.spare_attributes[0].field_values.split(","),((e,a)=>((0,r.uX)(),(0,r.CE)("option",{key:a,value:e},(0,n.v_)(e),9,jm)))),128))],10,Vm),e.errors[a.spare_attributes[0].display_name]?((0,r.uX)(),(0,r.CE)("span",zm,(0,n.v_)(e.errors[a.spare_attributes[0].display_name][0]),1)):(0,r.Q3)("",!0)])):(0,r.Q3)("",!0),a.spare_attributes?.length&&"Color"==a.spare_attributes[0].field_type?((0,r.uX)(),(0,r.CE)("div",Wm,[(0,r.Lk)("label",Rm,[(0,r.eW)((0,n.v_)(a.spare_attributes[0].display_name),1),a.spare_attributes[0].is_required?((0,r.uX)(),(0,r.CE)("span",qm,"*")):(0,r.Q3)("",!0)]),(0,r.Lk)("input",{type:"color",class:"form-control",value:a.field_value,style:{height:"2.2rem"},disabled:"true"},null,8,Im),e.errors[a.spare_attributes[0].display_name]?((0,r.uX)(),(0,r.CE)("span",Nm,(0,n.v_)(e.errors[a.spare_attributes[0].display_name][0]),1)):(0,r.Q3)("",!0)])):(0,r.Q3)("",!0),a.spare_attributes?.length&&"List"==a.spare_attributes[0].field_type?((0,r.uX)(),(0,r.CE)("div",Mm,[(0,r.Lk)("label",Km,(0,n.v_)(a.spare_attributes[0].display_name),1),a.spare_attributes[0].is_required?((0,r.uX)(),(0,r.CE)("span",Jm,"*")):(0,r.Q3)("",!0),(0,r.Lk)("select",{class:(0,n.C4)(["form-control",{"is-invalid":e.errors[a.spare_attributes[0].display_name]}]),value:a.field_value,disabled:"true"},[a.spare_attributes[0].spare_attribute_value.field_value?((0,r.uX)(),(0,r.CE)("option",{key:0,value:a.spare_attributes[0].spare_attribute_value.field_value},(0,n.v_)(a.spare_attributes[0].spare_attribute_value.field_value),9,Om)):((0,r.uX)(),(0,r.CE)("option",{key:1,value:a.spare_attributes[0].spare_attribute_value.field_value},"Select "+(0,n.v_)(a.spare_attributes[0].display_name),9,Hm)),((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(a.spare_attributes[0].list_parameter?.field_values.split(","),((e,a)=>((0,r.uX)(),(0,r.CE)("option",{key:a,value:e},(0,n.v_)(e),9,Ym)))),128))],10,Bm),e.errors[a.spare_attributes[0].display_name]?((0,r.uX)(),(0,r.CE)("span",Zm,(0,n.v_)(e.errors[a.spare_attributes[0].display_name][0]),1)):(0,r.Q3)("",!0)])):(0,r.Q3)("",!0)])))),128))])):(0,r.Q3)("",!0),"Services"==e.asset_type?((0,r.uX)(),(0,r.CE)("div",Gm,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(e.assets1?.asset_service_attributes,((a,t)=>((0,r.uX)(),(0,r.CE)("div",{class:"col-md-4",key:t},[a.service_attributes?.length&&"Text"===a.service_attributes[0].field_type?((0,r.uX)(),(0,r.CE)("div",eb,[(0,r.Lk)("label",ab,(0,n.v_)(a.service_attributes[0].display_name),1),a.service_attributes[0].is_required?((0,r.uX)(),(0,r.CE)("span",tb,"*")):(0,r.Q3)("",!0),(0,r.Lk)("input",{type:"text",class:(0,n.C4)(["form-control",{"is-invalid":e.errors[a.service_attributes[0].display_name]}]),placeholder:"Enter "+a.service_attributes[0].display_name,value:a.field_value,disabled:"true"},null,10,sb),e.errors[a.service_attributes[0].display_name]?((0,r.uX)(),(0,r.CE)("span",rb,(0,n.v_)(e.errors[a.service_attributes[0].display_name][0]),1)):(0,r.Q3)("",!0)])):(0,r.Q3)("",!0),a.service_attributes?.length&&"Number"===a.service_attributes[0].field_type?((0,r.uX)(),(0,r.CE)("div",lb,[(0,r.Lk)("label",ib,(0,n.v_)(a.service_attributes[0].display_name),1),a.service_attributes[0].is_required?((0,r.uX)(),(0,r.CE)("span",ob,"*")):(0,r.Q3)("",!0),(0,r.Lk)("input",{type:"number",class:(0,n.C4)(["form-control",{"is-invalid":e.errors[a.service_attributes[0].display_name]}]),min:"0",oninput:"validity.valid||(value='');",placeholder:"Enter "+a.service_attributes[0].display_name,value:a.field_value,disabled:"true"},null,10,db),e.errors[a.service_attributes[0].display_name]?((0,r.uX)(),(0,r.CE)("span",nb,(0,n.v_)(e.errors[a.service_attributes[0].display_name][0]),1)):(0,r.Q3)("",!0)])):(0,r.Q3)("",!0),a.service_attributes?.length&&"Date"===a.service_attributes[0].field_type?((0,r.uX)(),(0,r.CE)("div",cb,[(0,r.Lk)("label",ub,[(0,r.eW)((0,n.v_)(a.service_attributes[0].display_name)+" ",1),a.service_attributes[0].is_required?((0,r.uX)(),(0,r.CE)("span",_b,"*")):(0,r.Q3)("",!0)]),(0,r.Lk)("input",{type:"date",class:(0,n.C4)(["form-control",{"is-invalid":e.errors[a.service_attributes[0].display_name]}]),placeholder:"Enter "+a.service_attributes[0].display_name,value:a.field_value,disabled:"true"},null,10,pb),e.errors[a.service_attributes[0].display_name]?((0,r.uX)(),(0,r.CE)("span",mb,(0,n.v_)(e.errors[a.service_attributes[0].display_name][0]),1)):(0,r.Q3)("",!0)])):(0,r.Q3)("",!0),a.service_attributes?.length&&"Date&Time"===a.service_attributes[0].field_type?((0,r.uX)(),(0,r.CE)("div",bb,[(0,r.Lk)("label",kb,[(0,r.eW)((0,n.v_)(a.service_attributes[0].display_name)+" ",1),a.service_attributes[0].is_required?((0,r.uX)(),(0,r.CE)("span",vb,"*")):(0,r.Q3)("",!0)]),(0,r.Lk)("input",{type:"datetime-local",class:(0,n.C4)(["form-control",{"is-invalid":e.errors[a.service_attributes[0].display_name]}]),placeholder:"Enter "+a.service_attributes[0].display_name,value:a.field_value,step:"1",disabled:"true"},null,10,hb),e.errors[a.service_attributes[0].display_name]?((0,r.uX)(),(0,r.CE)("span",yb,(0,n.v_)(e.errors[a.service_attributes[0].display_name][0]),1)):(0,r.Q3)("",!0)])):(0,r.Q3)("",!0),a.service_attributes?.length&&"Dropdown"===a.service_attributes[0].field_type?((0,r.uX)(),(0,r.CE)("div",gb,[(0,r.Lk)("label",fb,(0,n.v_)(a.service_attributes[0].display_name),1),a.service_attributes[0].is_required?((0,r.uX)(),(0,r.CE)("span",Lb,"*")):(0,r.Q3)("",!0),(0,r.Lk)("select",{class:(0,n.C4)(["form-control",{"is-invalid":e.errors[a.service_attributes[0].display_name]}]),value:a.field_value,disabled:"true"},[a.field_value?((0,r.uX)(),(0,r.CE)("option",{key:0,value:a.field_value},(0,n.v_)(a.field_value),9,wb)):((0,r.uX)(),(0,r.CE)("option",{key:1,value:a.field_value},"Select "+(0,n.v_)(a.service_attributes[0].display_name),9,Eb)),((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(a.service_attributes[0].field_values.split(","),((e,a)=>((0,r.uX)(),(0,r.CE)("option",{key:a,value:e},(0,n.v_)(e),9,xb)))),128))],10,Cb),e.errors[a.service_attributes[0].display_name]?((0,r.uX)(),(0,r.CE)("span",Xb,(0,n.v_)(e.errors[a.service_attributes[0].display_name][0]),1)):(0,r.Q3)("",!0)])):(0,r.Q3)("",!0),a.service_attributes?.length&&"Color"===a.service_attributes[0].field_type?((0,r.uX)(),(0,r.CE)("div",Pb,[(0,r.Lk)("label",$b,[(0,r.eW)((0,n.v_)(a.service_attributes[0].display_name),1),a.service_attributes[0].is_required?((0,r.uX)(),(0,r.CE)("span",Sb,"*")):(0,r.Q3)("",!0)]),(0,r.Lk)("input",{type:"color",class:"form-control",value:a.field_value,style:{height:"2.2rem"},disabled:"true"},null,8,Ab),e.errors[a.service_attributes[0].display_name]?((0,r.uX)(),(0,r.CE)("span",Db,(0,n.v_)(e.errors[a.service_attributes[0].display_name][0]),1)):(0,r.Q3)("",!0)])):(0,r.Q3)("",!0),a.service_attributes?.length&&"List"===a.service_attributes[0].field_type?((0,r.uX)(),(0,r.CE)("div",Tb,[(0,r.Lk)("label",Qb,(0,n.v_)(a.service_attributes[0].display_name),1),a.service_attributes[0].is_required?((0,r.uX)(),(0,r.CE)("span",Vb,"*")):(0,r.Q3)("",!0),(0,r.Lk)("select",{class:(0,n.C4)(["form-control",{"is-invalid":e.errors[a.service_attributes[0].display_name]}]),value:a.field_value,disabled:"true"},[a.service_attributes[0].service_attribute_value?.field_value?((0,r.uX)(),(0,r.CE)("option",{key:0,value:a.service_attributes[0].service_attribute_value?.field_value},(0,n.v_)(a.service_attributes[0].service_attribute_value?.field_value),9,Ub)):((0,r.uX)(),(0,r.CE)("option",{key:1,value:a.service_attributes[0].service_attribute_value?.field_value},"Select "+(0,n.v_)(a.service_attributes[0].display_name),9,jb)),((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(a.service_attributes[0].list_parameter?.field_values.split(","),((e,a)=>((0,r.uX)(),(0,r.CE)("option",{key:a,value:e.trim()},(0,n.v_)(e.trim()),9,zb)))),128))],10,Fb),e.errors[a.service_attributes[0].display_name]?((0,r.uX)(),(0,r.CE)("span",Wb,(0,n.v_)(e.errors[a.service_attributes[0].display_name][0]),1)):(0,r.Q3)("",!0)])):(0,r.Q3)("",!0)])))),128))])):(0,r.Q3)("",!0),"Variables"==e.asset_type?((0,r.uX)(),(0,r.CE)("div",Rb,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(e.assets1?.asset_variable_attributes,((a,t)=>((0,r.uX)(),(0,r.CE)("div",{class:"col-md-4",key:t},[a.variable_attributes.length&&"Text"==a.variable_attributes[0].field_type?((0,r.uX)(),(0,r.CE)("div",qb,[(0,r.Lk)("label",Ib,(0,n.v_)(a.variable_attributes[0].display_name),1),a.variable_attributes[0].is_required?((0,r.uX)(),(0,r.CE)("span",Nb,"*")):(0,r.Q3)("",!0),(0,r.Lk)("input",{type:"text",class:(0,n.C4)(["form-control",{"is-invalid":e.errors[a.variable_attributes[0].display_name]}]),placeholder:"Enter "+a.variable_attributes[0].display_name,value:a.field_value,disabled:"true"},null,10,Mb),e.errors[a.variable_attributes[0].display_name]?((0,r.uX)(),(0,r.CE)("span",Kb,(0,n.v_)(e.errors[a.variable_attributes[0].display_name][0]),1)):(0,r.Q3)("",!0)])):(0,r.Q3)("",!0),a.variable_attributes.length&&"Number"==a.variable_attributes[0].field_type?((0,r.uX)(),(0,r.CE)("div",Jb,[(0,r.Lk)("label",Bb,(0,n.v_)(a.variable_attributes[0].display_name),1),a.variable_attributes[0].is_required?((0,r.uX)(),(0,r.CE)("span",Ob,"*")):(0,r.Q3)("",!0),(0,r.Lk)("input",{type:"number",class:(0,n.C4)(["form-control",{"is-invalid":e.errors[a.variable_attributes[0].display_name]}]),min:"0",oninput:"validity.valid||(value='');",placeholder:"Enter "+a.variable_attributes[0].display_name,value:a.field_value,disabled:"true"},null,10,Hb),e.errors[a.variable_attributes[0].display_name]?((0,r.uX)(),(0,r.CE)("span",Yb,(0,n.v_)(e.errors[a.variable_attributes[0].display_name][0]),1)):(0,r.Q3)("",!0)])):(0,r.Q3)("",!0),a.variable_attributes.length&&"Date"===a.variable_attributes[0].field_type?((0,r.uX)(),(0,r.CE)("div",Zb,[(0,r.Lk)("label",Gb,[(0,r.eW)((0,n.v_)(a.variable_attributes[0].display_name)+" ",1),a.variable_attributes[0].is_required?((0,r.uX)(),(0,r.CE)("span",ek,"*")):(0,r.Q3)("",!0)]),(0,r.Lk)("input",{type:"date",class:(0,n.C4)(["form-control",{"is-invalid":e.errors[a.variable_attributes[0].display_name]}]),placeholder:"Enter "+a.variable_attributes[0].display_name,value:a.field_value,disabled:"true"},null,10,ak),e.errors[a.variable_attributes[0].display_name]?((0,r.uX)(),(0,r.CE)("span",tk,(0,n.v_)(e.errors[a.variable_attributes[0].display_name][0]),1)):(0,r.Q3)("",!0)])):(0,r.Q3)("",!0),a.variable_attributes.length&&"Date&Time"===a.variable_attributes[0].field_type?((0,r.uX)(),(0,r.CE)("div",sk,[(0,r.Lk)("label",rk,[(0,r.eW)((0,n.v_)(a.variable_attributes[0].display_name)+" ",1),a.variable_attributes[0].is_required?((0,r.uX)(),(0,r.CE)("span",lk,"*")):(0,r.Q3)("",!0)]),(0,r.Lk)("input",{type:"datetime-local",class:(0,n.C4)(["form-control",{"is-invalid":e.errors[a.variable_attributes[0].display_name]}]),placeholder:"Enter "+a.variable_attributes[0].display_name,value:a.field_value,step:"1",disabled:"true"},null,10,ik),e.errors[a.variable_attributes[0].display_name]?((0,r.uX)(),(0,r.CE)("span",ok,(0,n.v_)(e.errors[a.variable_attributes[0].display_name][0]),1)):(0,r.Q3)("",!0)])):(0,r.Q3)("",!0),a.variable_attributes.length&&"Dropdown"==a.variable_attributes[0].field_type?((0,r.uX)(),(0,r.CE)("div",dk,[(0,r.Lk)("label",nk,(0,n.v_)(a.variable_attributes[0].display_name),1),a.variable_attributes[0].is_required?((0,r.uX)(),(0,r.CE)("span",ck,"*")):(0,r.Q3)("",!0),(0,r.Lk)("select",{class:(0,n.C4)(["form-control",{"is-invalid":e.errors[a.variable_attributes[0].display_name]}]),value:a.field_value,disabled:"true"},[a.field_value?((0,r.uX)(),(0,r.CE)("option",{key:0,value:a.field_value},(0,n.v_)(a.field_value),9,_k)):((0,r.uX)(),(0,r.CE)("option",{key:1,value:a.field_value},"Select "+(0,n.v_)(a.variable_attributes[0].display_name),9,pk)),((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(a.variable_attributes[0].field_values.split(","),((e,a)=>((0,r.uX)(),(0,r.CE)("option",{key:a,value:e},(0,n.v_)(e),9,mk)))),128))],10,uk),e.errors[a.variable_attributes[0].display_name]?((0,r.uX)(),(0,r.CE)("span",bk,(0,n.v_)(e.errors[a.variable_attributes[0].display_name][0]),1)):(0,r.Q3)("",!0)])):(0,r.Q3)("",!0),a.variable_attributes.length&&"Color"==a.variable_attributes[0].field_type?((0,r.uX)(),(0,r.CE)("div",kk,[(0,r.Lk)("label",vk,[(0,r.eW)((0,n.v_)(a.variable_attributes[0].display_name),1),a.variable_attributes[0].is_required?((0,r.uX)(),(0,r.CE)("span",hk,"*")):(0,r.Q3)("",!0)]),(0,r.Lk)("input",{type:"color",class:"form-control",value:a.field_value,style:{height:"2.2rem"},disabled:"true"},null,8,yk),e.errors[a.variable_attributes[0].display_name]?((0,r.uX)(),(0,r.CE)("span",gk,(0,n.v_)(e.errors[a.variable_attributes[0].display_name][0]),1)):(0,r.Q3)("",!0)])):(0,r.Q3)("",!0),a.variable_attributes.length&&"List"==a.variable_attributes[0].field_type?((0,r.uX)(),(0,r.CE)("div",fk,[(0,r.Lk)("label",Lk,(0,n.v_)(a.variable_attributes[0].display_name),1),a.variable_attributes[0].is_required?((0,r.uX)(),(0,r.CE)("span",Ck,"*")):(0,r.Q3)("",!0),(0,r.Lk)("select",{class:(0,n.C4)(["form-control",{"is-invalid":e.errors[a.variable_attributes[0].display_name]}]),value:a.field_value,disabled:"true"},[a.variable_attributes[0].variable_attribute_value?.field_value?((0,r.uX)(),(0,r.CE)("option",{key:0,value:a.variable_attributes[0].variable_attribute_value?.field_value},(0,n.v_)(a.variable_attributes[0].variable_attribute_value?.field_value),9,Ek)):((0,r.uX)(),(0,r.CE)("option",{key:1,value:a.variable_attributes[0].variable_attribute_value?.field_value},"Select "+(0,n.v_)(a.variable_attributes[0].display_name),9,xk)),((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(a.variable_attributes[0].list_parameter?.field_values.split(","),((e,a)=>((0,r.uX)(),(0,r.CE)("option",{key:a,value:e.trim()},(0,n.v_)(e.trim()),9,Xk)))),128))],10,wk),e.errors[a.variable_attributes[0].display_name]?((0,r.uX)(),(0,r.CE)("span",Pk,(0,n.v_)(e.errors[a.variable_attributes[0].display_name][0]),1)):(0,r.Q3)("",!0)])):(0,r.Q3)("",!0)])))),128))])):(0,r.Q3)("",!0),"Data Sources"==e.asset_type?((0,r.uX)(),(0,r.CE)("div",$k,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(e.assets1?.asset_datasource_attributes,((a,t)=>((0,r.uX)(),(0,r.CE)("div",{class:"col-md-4",key:t},[a.data_source_attributes.length&&"Text"==a.data_source_attributes[0].field_type?((0,r.uX)(),(0,r.CE)("div",Sk,[(0,r.Lk)("label",Ak,(0,n.v_)(a.data_source_attributes[0].display_name),1),a.data_source_attributes[0].is_required?((0,r.uX)(),(0,r.CE)("span",Dk,"*")):(0,r.Q3)("",!0),(0,r.Lk)("input",{type:"text",class:(0,n.C4)(["form-control",{"is-invalid":e.errors[a.data_source_attributes[0].display_name]}]),placeholder:"Enter "+a.data_source_attributes[0].display_name,value:a.field_value,disabled:"true"},null,10,Tk),e.errors[a.data_source_attributes[0].display_name]?((0,r.uX)(),(0,r.CE)("span",Qk,(0,n.v_)(e.errors[a.data_source_attributes[0].display_name][0]),1)):(0,r.Q3)("",!0)])):(0,r.Q3)("",!0),a.data_source_attributes.length&&"Number"==a.data_source_attributes[0].field_type?((0,r.uX)(),(0,r.CE)("div",Vk,[(0,r.Lk)("label",Fk,(0,n.v_)(a.data_source_attributes[0].display_name),1),a.data_source_attributes[0].is_required?((0,r.uX)(),(0,r.CE)("span",Uk,"*")):(0,r.Q3)("",!0),(0,r.Lk)("input",{type:"number",class:(0,n.C4)(["form-control",{"is-invalid":e.errors[a.data_source_attributes[0].display_name]}]),min:"0",oninput:"validity.valid||(value='');",placeholder:"Enter "+a.data_source_attributes[0].display_name,value:a.field_value,disabled:"true"},null,10,jk),e.errors[a.data_source_attributes[0].display_name]?((0,r.uX)(),(0,r.CE)("span",zk,(0,n.v_)(e.errors[a.data_source_attributes[0].display_name][0]),1)):(0,r.Q3)("",!0)])):(0,r.Q3)("",!0),a.data_source_attributes.length&&"Date"===a.data_source_attributes[0].field_type?((0,r.uX)(),(0,r.CE)("div",Wk,[(0,r.Lk)("label",Rk,[(0,r.eW)((0,n.v_)(a.data_source_attributes[0].display_name)+" ",1),a.data_source_attributes[0].is_required?((0,r.uX)(),(0,r.CE)("span",qk,"*")):(0,r.Q3)("",!0)]),(0,r.Lk)("input",{type:"date",class:(0,n.C4)(["form-control",{"is-invalid":e.errors[a.data_source_attributes[0].display_name]}]),placeholder:"Enter "+a.data_source_attributes[0].display_name,value:a.field_value,disabled:"true"},null,10,Ik),e.errors[a.data_source_attributes[0].display_name]?((0,r.uX)(),(0,r.CE)("span",Nk,(0,n.v_)(e.errors[a.data_source_attributes[0].display_name][0]),1)):(0,r.Q3)("",!0)])):(0,r.Q3)("",!0),a.data_source_attributes.length&&"Date&Time"===a.data_source_attributes[0].field_type?((0,r.uX)(),(0,r.CE)("div",Mk,[(0,r.Lk)("label",Kk,[(0,r.eW)((0,n.v_)(a.data_source_attributes[0].display_name)+" ",1),a.data_source_attributes[0].is_required?((0,r.uX)(),(0,r.CE)("span",Jk,"*")):(0,r.Q3)("",!0)]),(0,r.Lk)("input",{type:"datetime-local",class:(0,n.C4)(["form-control",{"is-invalid":e.errors[a.data_source_attributes[0].display_name]}]),placeholder:"Enter "+a.data_source_attributes[0].display_name,value:a.field_value,step:"1",disabled:"true"},null,10,Bk),e.errors[a.data_source_attributes[0].display_name]?((0,r.uX)(),(0,r.CE)("span",Ok,(0,n.v_)(e.errors[a.data_source_attributes[0].display_name][0]),1)):(0,r.Q3)("",!0)])):(0,r.Q3)("",!0),a.data_source_attributes.length&&"Dropdown"==a.data_source_attributes[0].field_type?((0,r.uX)(),(0,r.CE)("div",Hk,[(0,r.Lk)("label",Yk,(0,n.v_)(a.data_source_attributes[0].display_name),1),a.data_source_attributes[0].is_required?((0,r.uX)(),(0,r.CE)("span",Zk,"*")):(0,r.Q3)("",!0),(0,r.Lk)("select",{class:(0,n.C4)(["form-control",{"is-invalid":e.errors[a.data_source_attributes[0].display_name]}]),value:a.field_value,disabled:"true"},[a.field_value?((0,r.uX)(),(0,r.CE)("option",{key:0,value:a.field_value},(0,n.v_)(a.field_value),9,ev)):((0,r.uX)(),(0,r.CE)("option",{key:1,value:a.field_value},"Select "+(0,n.v_)(a.data_source_attributes[0].display_name),9,av)),((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(a.data_source_attributes[0].field_values.split(","),((e,a)=>((0,r.uX)(),(0,r.CE)("option",{key:a,value:e},(0,n.v_)(e),9,tv)))),128))],10,Gk),e.errors[a.data_source_attributes[0].display_name]?((0,r.uX)(),(0,r.CE)("span",sv,(0,n.v_)(e.errors[a.data_source_attributes[0].display_name][0]),1)):(0,r.Q3)("",!0)])):(0,r.Q3)("",!0),a.data_source_attributes.length&&"Color"==a.data_source_attributes[0].field_type?((0,r.uX)(),(0,r.CE)("div",rv,[(0,r.Lk)("label",lv,[(0,r.eW)((0,n.v_)(a.data_source_attributes[0].display_name),1),a.data_source_attributes[0].is_required?((0,r.uX)(),(0,r.CE)("span",iv,"*")):(0,r.Q3)("",!0)]),(0,r.Lk)("input",{type:"color",class:"form-control",value:a.field_value,style:{height:"2.2rem"},disabled:"true"},null,8,ov),e.errors[a.data_source_attributes[0].display_name]?((0,r.uX)(),(0,r.CE)("span",dv,(0,n.v_)(e.errors[a.data_source_attributes[0].display_name][0]),1)):(0,r.Q3)("",!0)])):(0,r.Q3)("",!0),a.data_source_attributes.length&&"List"==a.data_source_attributes[0].field_type?((0,r.uX)(),(0,r.CE)("div",nv,[(0,r.Lk)("label",cv,(0,n.v_)(a.data_source_attributes[0].display_name),1),a.data_source_attributes[0].is_required?((0,r.uX)(),(0,r.CE)("span",uv,"*")):(0,r.Q3)("",!0),(0,r.Lk)("select",{class:(0,n.C4)(["form-control",{"is-invalid":e.errors[a.data_source_attributes[0].display_name]}]),value:a.field_value,disabled:"true"},[a.data_source_attributes[0].data_source_attribute_value?.field_value?((0,r.uX)(),(0,r.CE)("option",{key:0,value:a.data_source_attributes[0].data_source_attribute_value?.field_value},(0,n.v_)(a.data_source_attributes[0].data_source_attribute_value?.field_value),9,pv)):((0,r.uX)(),(0,r.CE)("option",{key:1,value:a.data_source_attributes[0].data_source_attribute_value?.field_value},"Select "+(0,n.v_)(a.data_source_attributes[0].display_name),9,mv)),((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(a.data_source_attributes[0].list_parameter?.field_values.split(","),((e,a)=>((0,r.uX)(),(0,r.CE)("option",{key:a,value:e.trim()},(0,n.v_)(e.trim()),9,bv)))),128))],10,_v),e.errors[a.data_source_attributes[0].display_name]?((0,r.uX)(),(0,r.CE)("span",kv,(0,n.v_)(e.errors[a.data_source_attributes[0].display_name][0]),1)):(0,r.Q3)("",!0)])):(0,r.Q3)("",!0)])))),128))])):(0,r.Q3)("",!0)])])])])])])],64)}const hv={class:"col-12 mb-2"},yv={class:"card card-one"},gv={class:"card-body"},fv={class:"row mb-3 g-2"},Lv={class:"col-md-4"},Cv={key:0,class:"invalid-feedback",style:{display:"block !important"}},wv={class:"col-md-4"},Ev={key:0,class:"invalid-feedback"},xv={key:0},Xv={class:"form-label"},Pv={key:0,class:"text-danger"},$v=["placeholder","onUpdate:modelValue"],Sv={key:1,class:"invalid-feedback"},Av={key:1},Dv={class:"form-label"},Tv={key:0,class:"text-danger"},Qv=["placeholder","onUpdate:modelValue"],Vv={key:1,class:"invalid-feedback"},Fv={key:2},Uv={class:"form-label"},jv={key:0,class:"text-danger"},zv=["placeholder","onUpdate:modelValue"],Wv={key:0,class:"invalid-feedback"},Rv={key:3},qv={class:"form-label"},Iv={key:0,class:"text-danger"},Nv=["placeholder","onUpdate:modelValue"],Mv={key:0,class:"invalid-feedback"},Kv={key:4},Jv={class:"form-label"},Bv={key:0,class:"text-danger"},Ov=["onUpdate:modelValue"],Hv=["value"],Yv=["value"],Zv=["value"],Gv={key:1,class:"invalid-feedback"},eh={key:5},ah={class:"form-label"},th={key:0,class:"text-danger"},sh=["onUpdate:modelValue"],rh={key:0,class:"invalid-feedback"},lh={key:6},ih={class:"form-label"},oh={key:0,class:"text-danger"},dh=["onUpdate:modelValue"],nh=["value"],ch=["value"],uh=["value"],_h={key:1,class:"invalid-feedback"},ph={key:0,class:"col-md-2 pt-4"},mh={key:1,class:"col-md-2 pt-4"},bh={class:"row g-2"},kh={class:"col-12"},vh={class:"table-responsive table-responsive-sm"},hh={class:"table table-sm text-nowrap table-striped table-bordered mb-0"},yh={class:""},gh={key:0,class:"ri-arrow-up-line"},fh={key:1,class:"ri-arrow-down-line"},Lh={key:2,class:"fas fa-sort"},Ch={key:0,class:"ri-arrow-up-line"},wh={key:1,class:"ri-arrow-down-line"},Eh={key:2,class:"fas fa-sort"},xh={key:0,class:"ri-arrow-up-line"},Xh={key:1,class:"ri-arrow-down-line"},Ph={key:2,class:"fas fa-sort"},$h={key:0,class:"ri-arrow-up-line"},Sh={key:1,class:"ri-arrow-down-line"},Ah={key:2,class:"fas fa-sort"},Dh={key:0},Th={class:"text-center"},Qh={class:"text-center"},Vh=["onClick"],Fh=["onClick"],Uh=["onClick"],jh={class:"card-footer"},zh={class:"d-flex justify-content-between align-items-center"},Wh={class:"modal fade",id:"exampleModal",tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},Rh={class:"modal-dialog modal-lg"},qh={class:"modal-content"},Ih={class:"modal-header"},Nh={class:"modal-title",id:"exampleModalLabel"},Mh={class:"modal-body"},Kh={class:"row g-2"},Jh={class:"col-12 mb-2"},Bh={key:0,class:"row g-2"},Oh={key:0},Hh={class:"form-label"},Yh={key:0,class:"text-danger"},Zh=["placeholder","value"],Gh={key:1,class:"invalid-feedback"},ey={key:1},ay={class:"form-label"},ty={key:0,class:"text-danger"},sy=["placeholder","value"],ry={key:1,class:"invalid-feedback"},ly={key:2},iy={class:"form-label"},oy={key:0,class:"text-danger"},dy=["placeholder","value"],ny={key:0,class:"invalid-feedback"},cy={key:3},uy={class:"form-label"},_y={key:0,class:"text-danger"},py=["placeholder","value"],my={key:0,class:"invalid-feedback"},by={key:4},ky={class:"form-label"},vy={key:0,class:"text-danger"},hy=["value"],yy=["value"],gy=["value"],fy=["value"],Ly={key:1,class:"invalid-feedback"},Cy={key:5},wy={class:"form-label"},Ey={key:0,class:"text-danger"},xy=["value"],Xy={key:0,class:"invalid-feedback"},Py={key:6},$y={class:"form-label"},Sy={key:0,class:"text-danger"},Ay=["value"],Dy=["value"],Ty=["value"],Qy=["value"],Vy={key:1,class:"invalid-feedback"};function Fy(e,a,t,l,i,o){const d=(0,r.g2)("MultiSelect"),c=(0,r.g2)("search"),u=(0,r.g2)("Pagination"),_=(0,r.gN)("can");return(0,r.uX)(),(0,r.CE)(r.FK,null,[(0,r.bo)(((0,r.uX)(),(0,r.CE)("div",hv,[(0,r.Lk)("div",yv,[a[24]||(a[24]=(0,r.Lk)("div",{class:"card-header d-flex justify-content-between"},[(0,r.Lk)("h6",{class:"card-title"},"Services")],-1)),(0,r.Lk)("div",gv,[(0,r.bo)(((0,r.uX)(),(0,r.CE)("div",fv,[(0,r.Lk)("div",Lv,[a[9]||(a[9]=(0,r.Lk)("label",{class:"form-label"},[(0,r.eW)("Asset Zone "),(0,r.Lk)("span",{class:"text-danger"}," *")],-1)),(0,r.bF)(d,{modelValue:i.service.service_asset_zones_obj,"onUpdate:modelValue":a[0]||(a[0]=e=>i.service.service_asset_zones_obj=e),filter:"",optionLabel:"zone_name",options:i.asset_zones,placeholder:"Select Asset Zone",maxSelectedLabels:3,style:(0,n.Tr)([{width:"100%",height:"37px"},i.errors?.service_asset_zones?i.error_style:""]),disabled:i.service.service_zone_read_only},null,8,["modelValue","options","style","disabled"]),i.errors?.service_asset_zones?((0,r.uX)(),(0,r.CE)("span",Cv,(0,n.v_)(i.errors?.service_asset_zones[0]),1)):(0,r.Q3)("",!0)]),(0,r.Lk)("div",wv,[a[10]||(a[10]=(0,r.Lk)("label",{class:"form-label"},[(0,r.eW)("Service "),(0,r.Lk)("span",{class:"text-danger"}," *")],-1)),(0,r.bF)(c,{class:(0,n.C4)([{"is-invalid":i.errors?.service_id},"my-auto"]),customClass:{"is-invalid":i.errors?.service_id},"aria-describedby":"basic-addon2","aria-label":"Select Check",initialize:i.service.service_id,id:"service_id",label:"service_name",placeholder:"Select Service",data:e.services,onInput:a[1]||(a[1]=e=>i.service.service_id=e),onSelectsearch:a[2]||(a[2]=e=>o.getServiceAttribute(i.service.service_id))},null,8,["class","customClass","initialize","data"]),i.errors?.service_id?((0,r.uX)(),(0,r.CE)("span",Ev,(0,n.v_)(i.errors?.service_id[0]),1)):(0,r.Q3)("",!0)]),((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(i.service.asset_service_attributes,((e,a)=>((0,r.uX)(),(0,r.CE)("div",{class:"col-md-3",key:a},[e.service_attributes?.length&&"Text"===e.service_attributes[0].field_type?((0,r.uX)(),(0,r.CE)("div",xv,[(0,r.Lk)("label",Xv,(0,n.v_)(e?.service_attributes[0]?.display_name),1),e.service_attributes[0].is_required?((0,r.uX)(),(0,r.CE)("span",Pv,"*")):(0,r.Q3)("",!0),(0,r.bo)((0,r.Lk)("input",{type:"text",class:(0,n.C4)(["form-control",{"is-invalid":i.errors[e?.service_attributes[0]?.display_name]}]),placeholder:"Enter "+e?.service_attributes[0]?.display_name,"onUpdate:modelValue":a=>e.field_value=a},null,10,$v),[[s.Jo,e.field_value]]),i.errors[e?.service_attributes[0]?.display_name]?((0,r.uX)(),(0,r.CE)("span",Sv,(0,n.v_)(i.errors[e?.service_attributes[0]?.display_name][0]),1)):(0,r.Q3)("",!0)])):(0,r.Q3)("",!0),e.service_attributes?.length&&"Number"===e.service_attributes[0].field_type?((0,r.uX)(),(0,r.CE)("div",Av,[(0,r.Lk)("label",Dv,(0,n.v_)(e?.service_attributes[0]?.display_name),1),e.service_attributes[0].is_required?((0,r.uX)(),(0,r.CE)("span",Tv,"*")):(0,r.Q3)("",!0),(0,r.bo)((0,r.Lk)("input",{type:"number",class:(0,n.C4)(["form-control",{"is-invalid":i.errors[e?.service_attributes[0]?.display_name]}]),min:"0",oninput:"validity.valid||(value='');",placeholder:"Enter "+e?.service_attributes[0]?.display_name,"onUpdate:modelValue":a=>e.field_value=a},null,10,Qv),[[s.Jo,e.field_value]]),i.errors[e?.service_attributes[0]?.display_name]?((0,r.uX)(),(0,r.CE)("span",Vv,(0,n.v_)(i.errors[e?.service_attributes[0]?.display_name][0]),1)):(0,r.Q3)("",!0)])):(0,r.Q3)("",!0),e.service_attributes?.length&&"Date"===e.service_attributes[0].field_type?((0,r.uX)(),(0,r.CE)("div",Fv,[(0,r.Lk)("label",Uv,[(0,r.eW)((0,n.v_)(e?.service_attributes[0]?.display_name)+" ",1),e.service_attributes[0].is_required?((0,r.uX)(),(0,r.CE)("span",jv,"*")):(0,r.Q3)("",!0)]),(0,r.bo)((0,r.Lk)("input",{type:"date",class:(0,n.C4)(["form-control",{"is-invalid":i.errors[e?.service_attributes[0]?.display_name]}]),placeholder:"Enter "+e?.service_attributes[0]?.display_name,"onUpdate:modelValue":a=>e.field_value=a},null,10,zv),[[s.Jo,e.field_value]]),i.errors[e?.service_attributes[0]?.display_name]?((0,r.uX)(),(0,r.CE)("span",Wv,(0,n.v_)(i.errors[e?.service_attributes[0]?.display_name][0]),1)):(0,r.Q3)("",!0)])):(0,r.Q3)("",!0),e.service_attributes?.length&&"Date&Time"===e.service_attributes[0].field_type?((0,r.uX)(),(0,r.CE)("div",Rv,[(0,r.Lk)("label",qv,[(0,r.eW)((0,n.v_)(e?.service_attributes[0]?.display_name)+" ",1),e.service_attributes[0].is_required?((0,r.uX)(),(0,r.CE)("span",Iv,"*")):(0,r.Q3)("",!0)]),(0,r.bo)((0,r.Lk)("input",{type:"datetime-local",class:(0,n.C4)(["form-control",{"is-invalid":i.errors[e?.service_attributes[0]?.display_name]}]),placeholder:"Enter "+e?.service_attributes[0]?.display_name,"onUpdate:modelValue":a=>e.field_value=a,step:"1"},null,10,Nv),[[s.Jo,e.field_value]]),i.errors[e?.service_attributes[0]?.display_name]?((0,r.uX)(),(0,r.CE)("span",Mv,(0,n.v_)(i.errors[e?.service_attributes[0]?.display_name][0]),1)):(0,r.Q3)("",!0)])):(0,r.Q3)("",!0),e.service_attributes?.length&&"Dropdown"===e.service_attributes[0]?.field_type?((0,r.uX)(),(0,r.CE)("div",Kv,[(0,r.Lk)("label",Jv,(0,n.v_)(e?.service_attributes[0]?.display_name),1),e.service_attributes[0].is_required?((0,r.uX)(),(0,r.CE)("span",Bv,"*")):(0,r.Q3)("",!0),(0,r.bo)((0,r.Lk)("select",{class:(0,n.C4)(["form-control",{"is-invalid":i.errors[e?.service_attributes[0]?.display_name]}]),"onUpdate:modelValue":a=>e.field_value=a},[e.field_value?((0,r.uX)(),(0,r.CE)("option",{key:0,value:e.field_value},(0,n.v_)(e.field_value),9,Hv)):((0,r.uX)(),(0,r.CE)("option",{key:1,value:e.field_value},"Select "+(0,n.v_)(e?.service_attributes[0]?.display_name),9,Yv)),((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(e.service_attributes[0].field_values.split(","),((e,a)=>((0,r.uX)(),(0,r.CE)("option",{key:a,value:e},(0,n.v_)(e),9,Zv)))),128))],10,Ov),[[s.u1,e.field_value]]),i.errors[e?.service_attributes[0]?.display_name]?((0,r.uX)(),(0,r.CE)("span",Gv,(0,n.v_)(i.errors[e?.service_attributes[0]?.display_name][0]),1)):(0,r.Q3)("",!0)])):(0,r.Q3)("",!0),e.service_attributes?.length&&"Color"===e.service_attributes[0].field_type?((0,r.uX)(),(0,r.CE)("div",eh,[(0,r.Lk)("label",ah,[(0,r.eW)((0,n.v_)(e?.service_attributes[0]?.display_name),1),e.service_attributes[0].is_required?((0,r.uX)(),(0,r.CE)("span",th,"*")):(0,r.Q3)("",!0)]),(0,r.bo)((0,r.Lk)("input",{type:"color",class:"form-control","onUpdate:modelValue":a=>e.field_value=a,style:{height:"2.2rem"}},null,8,sh),[[s.Jo,e.field_value]]),i.errors[e?.service_attributes[0]?.display_name]?((0,r.uX)(),(0,r.CE)("span",rh,(0,n.v_)(i.errors[e?.service_attributes[0]?.display_name][0]),1)):(0,r.Q3)("",!0)])):(0,r.Q3)("",!0),e.service_attributes?.length&&"List"===e.service_attributes[0].field_type?((0,r.uX)(),(0,r.CE)("div",lh,[(0,r.Lk)("label",ih,(0,n.v_)(e?.service_attributes[0]?.display_name),1),e.service_attributes[0].is_required?((0,r.uX)(),(0,r.CE)("span",oh,"*")):(0,r.Q3)("",!0),(0,r.bo)((0,r.Lk)("select",{class:(0,n.C4)(["form-control",{"is-invalid":i.errors[e?.service_attributes[0]?.display_name]}]),"onUpdate:modelValue":a=>e.field_value=a},[e.service_attributes[0]?.service_attribute_value?.field_value?((0,r.uX)(),(0,r.CE)("option",{key:0,value:e.service_attributes[0].service_attribute_value?.field_value},(0,n.v_)(e.service_attributes[0].service_attribute_value?.field_value),9,nh)):((0,r.uX)(),(0,r.CE)("option",{key:1,value:e.service_attributes[0].service_attribute_value?.field_value},"Select "+(0,n.v_)(e.service_attributes[0].display_name),9,ch)),((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(e.service_attributes[0].list_parameter?.field_values.split(","),((e,a)=>((0,r.uX)(),(0,r.CE)("option",{key:a,value:e.trim()},(0,n.v_)(e.trim()),9,uh)))),128))],10,dh),[[s.u1,e.field_value]]),i.errors[e?.service_attributes[0]?.display_name]?((0,r.uX)(),(0,r.CE)("span",_h,(0,n.v_)(i.errors[e?.service_attributes[0]?.display_name][0]),1)):(0,r.Q3)("",!0)])):(0,r.Q3)("",!0)])))),128)),i.service.asset_service_id?((0,r.uX)(),(0,r.CE)("div",ph,[(0,r.bo)(((0,r.uX)(),(0,r.CE)("button",{class:"btn btn-outline-success me-2",onClick:a[3]||(a[3]=e=>o.updateService())},a[11]||(a[11]=[(0,r.Lk)("i",{class:"ri-add-circle-line icon-hgt"},null,-1),(0,r.eW)(" Update")]))),[[_,"assetServices.update"]])])):((0,r.uX)(),(0,r.CE)("div",mh,[(0,r.bo)(((0,r.uX)(),(0,r.CE)("button",{class:"btn btn-outline-success me-2",onClick:a[4]||(a[4]=e=>o.addService())},a[12]||(a[12]=[(0,r.Lk)("i",{class:"ri-add-circle-line icon-hgt"},null,-1),(0,r.eW)(" Add")]))),[[_,"assetServices.create"]])]))])),[[_,["assetServices.create","assetServices.update"]]]),(0,r.bo)((0,r.Lk)("input",{class:"form-control form-control-sm mb-2",type:"text",placeholder:"Type keyword and press enter key","onUpdate:modelValue":a[5]||(a[5]=e=>i.check_meta_service.search=e),onKeypress:a[6]||(a[6]=(0,s.jR)((e=>o.searchService()),["enter"]))},null,544),[[s.Jo,i.check_meta_service.search]]),(0,r.Lk)("div",bh,[(0,r.Lk)("div",kh,[(0,r.Lk)("div",vh,[(0,r.Lk)("table",hh,[(0,r.Lk)("thead",null,[(0,r.Lk)("tr",yh,[a[17]||(a[17]=(0,r.Lk)("th",{class:"text-center"},"#",-1)),(0,r.Lk)("th",null,[a[13]||(a[13]=(0,r.eW)(" Asset Zone ")),(0,r.Lk)("span",null,["asset_zone_id"==i.check_meta_service.keyword&&"asc"==i.check_meta_service.order_by?((0,r.uX)(),(0,r.CE)("i",gh)):"asset_zone_id"==i.check_meta_service.keyword&&"desc"==i.check_meta_service.order_by?((0,r.uX)(),(0,r.CE)("i",fh)):((0,r.uX)(),(0,r.CE)("i",Lh))])]),(0,r.Lk)("th",null,[a[14]||(a[14]=(0,r.eW)(" Service Type ")),(0,r.Lk)("span",null,["service_type_id"==i.check_meta_service.keyword&&"asc"==i.check_meta_service.order_by?((0,r.uX)(),(0,r.CE)("i",Ch)):"service_type_id"==i.check_meta_service.keyword&&"desc"==i.check_meta_service.order_by?((0,r.uX)(),(0,r.CE)("i",wh)):((0,r.uX)(),(0,r.CE)("i",Eh))])]),(0,r.Lk)("th",null,[a[15]||(a[15]=(0,r.eW)(" Service Name ")),(0,r.Lk)("span",null,["service_name"==i.check_meta_service.keyword&&"asc"==i.check_meta_service.order_by?((0,r.uX)(),(0,r.CE)("i",xh)):"service_name"==i.check_meta_service.keyword&&"desc"==i.check_meta_service.order_by?((0,r.uX)(),(0,r.CE)("i",Xh)):((0,r.uX)(),(0,r.CE)("i",Ph))])]),(0,r.Lk)("th",null,[a[16]||(a[16]=(0,r.eW)(" Service Code ")),(0,r.Lk)("span",null,["service_code"==i.check_meta_service.keyword&&"asc"==i.check_meta_service.order_by?((0,r.uX)(),(0,r.CE)("i",$h)):"service_code"==i.check_meta_service.keyword&&"desc"==i.check_meta_service.order_by?((0,r.uX)(),(0,r.CE)("i",Sh)):((0,r.uX)(),(0,r.CE)("i",Ah))])]),a[18]||(a[18]=(0,r.Lk)("th",{class:"text-center"},"Actions",-1))])]),(0,r.Lk)("tbody",null,[0==i.asset_services?.length?((0,r.uX)(),(0,r.CE)("tr",Dh,a[19]||(a[19]=[(0,r.Lk)("td",{colspan:"6",class:"text-center"},"No records found",-1)]))):(0,r.Q3)("",!0),((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(i.asset_services,((e,t)=>((0,r.uX)(),(0,r.CE)("tr",{key:t},[(0,r.Lk)("td",Th,(0,n.v_)((i.check_meta_service.page-1)*i.check_meta_service.per_page+t+1),1),(0,r.Lk)("td",null,(0,n.v_)(e?.asset_zone?.zone_name),1),(0,r.Lk)("td",null,(0,n.v_)(e?.service?.service_type?.service_type_name),1),(0,r.Lk)("td",null,(0,n.v_)(e?.service?.service_name),1),(0,r.Lk)("td",null,(0,n.v_)(e?.service?.service_code),1),(0,r.Lk)("td",Qh,[(0,r.bo)(((0,r.uX)(),(0,r.CE)("a",{href:"javascript:void(0)",class:"text-success me-2",onClick:a=>o.editService(e)},a[20]||(a[20]=[(0,r.Lk)("i",{class:"ri-pencil-line fs-18 lh-1"},null,-1)]),8,Vh)),[[_,"assetServices.update"]]),(0,r.Lk)("a",{href:"javascript:void(0)",class:"text-primary me-2","data-bs-toggle":"modal","data-bs-target":"#exampleModal",onClick:(0,s.D$)((a=>o.viewAsset(e,"Services")),["prevent"])},a[21]||(a[21]=[(0,r.Lk)("i",{class:"ri-eye-fill fs-18 lh-1"},null,-1)]),8,Fh),(0,r.bo)(((0,r.uX)(),(0,r.CE)("a",{href:"javascript:void(0)",class:"text-danger me-2",onClick:a=>o.deleteService(e)},a[22]||(a[22]=[(0,r.Lk)("i",{class:"ri-delete-bin-6-line fs-18 lh-1"},null,-1)]),8,Uh)),[[_,"assetServices.delete"]])])])))),128))])])])])])]),(0,r.Lk)("div",jh,[(0,r.Lk)("div",zh,[(0,r.bo)((0,r.Lk)("select",{class:"form-select from-select-sm width-75","onUpdate:modelValue":a[7]||(a[7]=e=>i.check_meta_service.per_page=e),onChange:a[8]||(a[8]=e=>o.onPerPageChange("Services"))},a[23]||(a[23]=[(0,r.Lk)("option",null,"5",-1),(0,r.Lk)("option",null,"10",-1),(0,r.Lk)("option",null,"15",-1),(0,r.Lk)("option",null,"20",-1),(0,r.Lk)("option",null,"25",-1),(0,r.Lk)("option",null,"30",-1)]),544),[[s.u1,i.check_meta_service.per_page]]),(0,r.Lk)("span",null,"Showing "+(0,n.v_)(i.check_meta_service.from)+" to "+(0,n.v_)(i.check_meta_service.to)+" of "+(0,n.v_)(i.check_meta_service.totalRows)+" entries",1),(0,r.bF)(u,{maxPage:i.check_meta_service.maxPage,totalPages:i.check_meta_service.lastPage,currentPage:i.check_meta_service.page,onPagechanged:o.onPageChange,from:"Services"},null,8,["maxPage","totalPages","currentPage","onPagechanged"])])])])])),[[_,"assetServices.view"]]),(0,r.Lk)("div",Wh,[(0,r.Lk)("div",Rh,[(0,r.Lk)("div",qh,[(0,r.Lk)("div",Ih,[(0,r.Lk)("h5",Nh,(0,n.v_)(i.asset_type),1),a[25]||(a[25]=(0,r.Lk)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1))]),(0,r.Lk)("div",Mh,[(0,r.Lk)("div",Kh,[(0,r.Lk)("div",Jh,["Services"==i.asset_type?((0,r.uX)(),(0,r.CE)("div",Bh,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(i.assets1?.asset_service_attributes,((e,a)=>((0,r.uX)(),(0,r.CE)("div",{class:"col-md-4",key:a},[e.service_attributes?.length&&"Text"===e.service_attributes[0].field_type?((0,r.uX)(),(0,r.CE)("div",Oh,[(0,r.Lk)("label",Hh,(0,n.v_)(e.service_attributes[0].display_name),1),e.service_attributes[0].is_required?((0,r.uX)(),(0,r.CE)("span",Yh,"*")):(0,r.Q3)("",!0),(0,r.Lk)("input",{type:"text",class:(0,n.C4)(["form-control",{"is-invalid":i.errors[e?.service_attributes[0]?.display_name]}]),placeholder:"Enter "+e.service_attributes[0].display_name,value:e.field_value,disabled:"true"},null,10,Zh),i.errors[e?.service_attributes[0]?.display_name]?((0,r.uX)(),(0,r.CE)("span",Gh,(0,n.v_)(i.errors[e?.service_attributes[0]?.display_name][0]),1)):(0,r.Q3)("",!0)])):(0,r.Q3)("",!0),e.service_attributes?.length&&"Number"===e.service_attributes[0].field_type?((0,r.uX)(),(0,r.CE)("div",ey,[(0,r.Lk)("label",ay,(0,n.v_)(e.service_attributes[0].display_name),1),e.service_attributes[0].is_required?((0,r.uX)(),(0,r.CE)("span",ty,"*")):(0,r.Q3)("",!0),(0,r.Lk)("input",{type:"number",class:(0,n.C4)(["form-control",{"is-invalid":i.errors[e?.service_attributes[0]?.display_name]}]),min:"0",oninput:"validity.valid||(value='');",placeholder:"Enter "+e.service_attributes[0].display_name,value:e.field_value,disabled:"true"},null,10,sy),i.errors[e?.service_attributes[0]?.display_name]?((0,r.uX)(),(0,r.CE)("span",ry,(0,n.v_)(i.errors[e?.service_attributes[0]?.display_name][0]),1)):(0,r.Q3)("",!0)])):(0,r.Q3)("",!0),e.service_attributes?.length&&"Date"===e.service_attributes[0].field_type?((0,r.uX)(),(0,r.CE)("div",ly,[(0,r.Lk)("label",iy,[(0,r.eW)((0,n.v_)(e.service_attributes[0].display_name)+" ",1),e.service_attributes[0].is_required?((0,r.uX)(),(0,r.CE)("span",oy,"*")):(0,r.Q3)("",!0)]),(0,r.Lk)("input",{type:"date",class:(0,n.C4)(["form-control",{"is-invalid":i.errors[e?.service_attributes[0]?.display_name]}]),placeholder:"Enter "+e.service_attributes[0].display_name,value:e.field_value,disabled:"true"},null,10,dy),i.errors[e?.service_attributes[0]?.display_name]?((0,r.uX)(),(0,r.CE)("span",ny,(0,n.v_)(i.errors[e?.service_attributes[0]?.display_name][0]),1)):(0,r.Q3)("",!0)])):(0,r.Q3)("",!0),e.service_attributes?.length&&"Date&Time"===e.service_attributes[0].field_type?((0,r.uX)(),(0,r.CE)("div",cy,[(0,r.Lk)("label",uy,[(0,r.eW)((0,n.v_)(e.service_attributes[0].display_name)+" ",1),e.service_attributes[0].is_required?((0,r.uX)(),(0,r.CE)("span",_y,"*")):(0,r.Q3)("",!0)]),(0,r.Lk)("input",{type:"datetime-local",class:(0,n.C4)(["form-control",{"is-invalid":i.errors[e?.service_attributes[0]?.display_name]}]),placeholder:"Enter "+e.service_attributes[0].display_name,value:e.field_value,step:"1",disabled:"true"},null,10,py),i.errors[e?.service_attributes[0]?.display_name]?((0,r.uX)(),(0,r.CE)("span",my,(0,n.v_)(i.errors[e?.service_attributes[0]?.display_name][0]),1)):(0,r.Q3)("",!0)])):(0,r.Q3)("",!0),e.service_attributes?.length&&"Dropdown"===e.service_attributes[0].field_type?((0,r.uX)(),(0,r.CE)("div",by,[(0,r.Lk)("label",ky,(0,n.v_)(e.service_attributes[0].display_name),1),e.service_attributes[0].is_required?((0,r.uX)(),(0,r.CE)("span",vy,"*")):(0,r.Q3)("",!0),(0,r.Lk)("select",{class:(0,n.C4)(["form-control",{"is-invalid":i.errors[e?.service_attributes[0]?.display_name]}]),value:e.field_value,disabled:"true"},[e.field_value?((0,r.uX)(),(0,r.CE)("option",{key:0,value:e.field_value},(0,n.v_)(e.field_value),9,yy)):((0,r.uX)(),(0,r.CE)("option",{key:1,value:e.field_value},"Select "+(0,n.v_)(e?.service_attributes[0]?.display_name),9,gy)),((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(e.service_attributes[0].field_values.split(","),((e,a)=>((0,r.uX)(),(0,r.CE)("option",{key:a,value:e},(0,n.v_)(e),9,fy)))),128))],10,hy),i.errors[e?.service_attributes[0]?.display_name]?((0,r.uX)(),(0,r.CE)("span",Ly,(0,n.v_)(i.errors[e?.service_attributes[0]?.display_name][0]),1)):(0,r.Q3)("",!0)])):(0,r.Q3)("",!0),e.service_attributes?.length&&"Color"===e.service_attributes[0].field_type?((0,r.uX)(),(0,r.CE)("div",Cy,[(0,r.Lk)("label",wy,[(0,r.eW)((0,n.v_)(e.service_attributes[0].display_name),1),e.service_attributes[0].is_required?((0,r.uX)(),(0,r.CE)("span",Ey,"*")):(0,r.Q3)("",!0)]),(0,r.Lk)("input",{type:"color",class:"form-control",value:e.field_value,style:{height:"2.2rem"},disabled:"true"},null,8,xy),i.errors[e?.service_attributes[0]?.display_name]?((0,r.uX)(),(0,r.CE)("span",Xy,(0,n.v_)(i.errors[e?.service_attributes[0]?.display_name][0]),1)):(0,r.Q3)("",!0)])):(0,r.Q3)("",!0),e.service_attributes?.length&&"List"===e.service_attributes[0].field_type?((0,r.uX)(),(0,r.CE)("div",Py,[(0,r.Lk)("label",$y,(0,n.v_)(e.service_attributes[0].display_name),1),e.service_attributes[0].is_required?((0,r.uX)(),(0,r.CE)("span",Sy,"*")):(0,r.Q3)("",!0),(0,r.Lk)("select",{class:(0,n.C4)(["form-control",{"is-invalid":i.errors[e?.service_attributes[0]?.display_name]}]),value:e.field_value,disabled:"true"},[e.service_attributes[0].service_attribute_value?.field_value?((0,r.uX)(),(0,r.CE)("option",{key:0,value:e.service_attributes[0].service_attribute_value?.field_value},(0,n.v_)(e?.service_attributes[0]?.service_attribute_value?.field_value),9,Dy)):((0,r.uX)(),(0,r.CE)("option",{key:1,value:e.service_attributes[0].service_attribute_value?.field_value},"Select "+(0,n.v_)(e.service_attributes[0].display_name),9,Ty)),((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(e.service_attributes[0].list_parameter?.field_values.split(","),((e,a)=>((0,r.uX)(),(0,r.CE)("option",{key:a,value:e.trim()},(0,n.v_)(e.trim()),9,Qy)))),128))],10,Ay),i.errors[e?.service_attributes[0]?.display_name]?((0,r.uX)(),(0,r.CE)("span",Vy,(0,n.v_)(i.errors[e?.service_attributes[0]?.display_name][0]),1)):(0,r.Q3)("",!0)])):(0,r.Q3)("",!0)])))),128))])):(0,r.Q3)("",!0)])])])])])])],64)}var Uy={name:"Assets.View",components:{Search:It.A,Pagination:md,MultiSelect:Ru.A},props:{asset_id:{type:Number,required:!0}},data(){return{asset_type:"",check_meta_service:{search:"",order_by:"desc",keyword:"service_id",per_page:10,totalRows:0,page:1,lastPage:1,from:1,to:1,maxPage:1,trashed:!1,asset_id:"",asset_type_id:""},asset:{asset_id:"",plant_id:"",asset_code:"",asset_name:"",asset_type_id:"",section_id:"",serial_no:"",status:"",QR_Code:""},service:{service_id:"",service_code:"",service_name:"",asset_id:"",asset_zone_id:"",asset_service_id:"",service_asset_zones_obj:[],service_asset_zones:[],asset_service_attributes:[],initial_service_id:"",initial_asset_service_attributes:[],deleted_asset_service_values:[],service_zone_read_only:!1},asset_spares:[],asset_services:[],checks:[],asset_checks:[],template_services:[],asset_zones:[],asset_spare_services:[],errors:[],status:!0,asset_zone_status:!1,asset_zone_status_services:!1,isValid:!0,assets1:[],error_style:{"border-color":"#dc3545","padding-right":"calc(1.5em + 0.812rem)","background-image":"url(\"data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 12 12' width='12' height='12' fill='none' stroke='%23dc3545'%3e%3ccircle cx='6' cy='6' r='4.5'/%3e%3cpath stroke-linejoin='round' d='M5.8 3.6h.4L6 6.5z'/%3e%3ccircle cx='6' cy='8.2' r='.6' fill='%23dc3545' stroke='none'/%3e%3c/svg%3e\")","background-repeat":"no-repeat","background-position":"right calc(0.375em + 0.203rem) center","background-size":"calc(0.75em + 0.406rem) calc(0.75em + 0.406rem)"}}},watch:{assets1(){this.assets1=this.$store.getters.assets},"check.check_id":function(){let e=this,a=e.checks.filter((a=>a.check_id==e.check.check_id));console.log("vm.check.template_check_status",e.check.template_check_status),a.length&&!e.check.template_check_status&&(e.check.lcl=a[0].lcl,e.check.ucl=a[0].ucl,e.check.order=a[0].order,e.check.default_value=a[0].default_value,e.check.field_type=a[0]?.field_type,e.check.field_values=a[0]?.field_values),e.check.template_check_status&&(e.check.field_type=a[0]?.field_type,e.check.field_values=a[0]?.field_values)}},computed:{formattedTemplateServices(){return this.template_services.map((e=>({...e,displayName:`${e.zone_name} - ${e.service_name}`})))},formattedTemplateSpareServices(){return this.asset_spare_services.map((e=>({...e,displayName:`${e.zone_name} - ${e.service_name}`})))}},mounted(){document.body.classList.add("sidebar-hide"),this.getAsset()},methods:{getAsset(){let e=this;e.$store.dispatch("post",{uri:"getAsset",data:{asset_id:e.asset_id}}).then((a=>{e.asset=a.data.asset,e.asset_zones=a?.data?.asset?.zone_name,e.asset.QR_Code=a?.data?.QRCode,e.getAssetServices()})).catch((function(a){e.errors=a.response?.data?.errors,e.$store.dispatch("error",a.response?.data?.message)}))},getAssetServices(){let e=this,a=e.$loading.show();e.check_meta_service.asset_id=e.asset.asset_id,e.check_meta_service.asset_type_id=e.asset.asset_type_id,e.$store.dispatch("post",{uri:"paginateAssetServices",data:e.check_meta_service}).then((t=>{a.hide(),console.log("service paginate",t.data),e.services=t.data.services,e.asset_services=t.data.paginate_services,e.check_meta_service.totalRows=t.data.meta.total,e.check_meta_service.from=t.data.meta.from,e.check_meta_service.to=t.data.meta.to,e.check_meta_service.lastPage=t.data.meta.last_page,e.check_meta_service.maxPage=e.check_meta_service.lastPage>=3?3:e.check_meta_service.lastPage})).catch((function(t){a.hide(),e.errors=t.response.data.errors,e.$store.dispatch("error",t.response.data.message)}))},editService(e){this.service.service_id=e.service_id,this.service.asset_id=e.asset_id,this.service.asset_service_id=e.asset_service_id,this.service.service_code=e.service_code,this.service.service_name=e.service_name,this.service.service_asset_zones=[],this.service.service_asset_zones.push(e.asset_zone_id),this.service.asset_zone_id=e.asset_zone_id,this.service.asset_service_attributes=e.asset_service_attributes,this.service.initial_service_id=e.service_id,this.service.initial_asset_service_attributes=e.asset_service_attributes;const a=this.asset_zones.find((a=>a.asset_zone_id===e.asset_zone_id));this.service.service_asset_zones_obj=a?[a]:[{asset_id:e.asset_zone.asset_id,asset_zone_id:e.asset_zone.asset_zone_id,zone_name:e.asset_zone.zone_name,diameter:e.asset_zone.diameter,height:e.asset_zone.height,asset_spares:e.asset_zone.asset_spares}],this.service.service_zone_read_only=!0},validateFields(e){if(this.isValid=!0,this.errors={},"Services"==e)for(const a of Object.values(this.service.asset_service_attributes))a.service_attributes.length&&a.service_attributes[0].is_required&&!a.field_value&&("Color"===a.service_attributes[0].field_type?a.field_value="#000000":(this.errors[a?.service_attributes[0]?.display_name]=[`${a?.service_attributes[0]?.display_name} is required`],this.isValid=!1))},addService(){let e=this;e.service.asset_id=e.asset.asset_id,e.service.service_asset_zones=[],e.service.service_asset_zones_obj.map((function(a){e.service.service_asset_zones.push(a.asset_zone_id)}));let a=e.$loading.show();e.validateFields("Services"),e.isValid?e.$store.dispatch("post",{uri:"addAssetService",data:e.service}).then((t=>{a.hide(),e.$store.dispatch("success",t.data.message),e.service.service_id="",e.service.asset_zone_id="",e.service.service_asset_zones=[],e.service.asset_service_attributes=[],e.service.service_asset_zones_obj=[],e.service.service_zone_read_only=!1,e.service.initial_service_id="",e.service.initial_asset_service_attributes=[],e.service.deleted_asset_service_values=[],e.asset_zone_status_services=!1,e.errors=[],e.getAssetServices()})).catch((function(t){a.hide(),e.errors=t.response.data.errors,e.$store.dispatch("error",t.response.data.message)})):a.hide()},updateService(){let e=this,a=e.$loading.show();if(e.validateFields("Services"),!e.isValid)return void a.hide();e.service.service_id!=e.service.initial_service_id&&e.service.initial_asset_service_attributes.map((function(a){e.service.deleted_asset_service_values.push(a.asset_service_value_id)}));let t={uri:"updateAssetService",data:e.service};e.$store.dispatch("post",t).then((function(t){a.hide(),e.$store.dispatch("success",t.data.message),e.service.service_id="",e.service.asset_zone_id="",e.service.asset_service_id="",e.service.service_asset_zones=[],e.service.asset_service_attributes=[],e.service.service_asset_zones_obj=[],e.service.service_zone_read_only=!1,e.service.initial_service_id="",e.service.initial_asset_service_attributes=[],e.service.deleted_asset_service_values=[],e.asset_zone_status_services=!1,e.errors=[],e.getAssetServices()})).catch((function(t){a.hide(),e.errors=t.response.data.errors,e.$store.dispatch("error",t.response.data.message)}))},deleteService(e){const a=confirm("Are you sure you want to delete it ?");if(a){let a=this,t=a.$loading.show();a.$store.dispatch("post",{uri:"forceDeleteAssetService",data:e}).then((e=>{t.hide(),a.$store.dispatch("success",e.data.message),a.service.service_id="",a.errors=[],a.getAssetServices()})).catch((function(e){t.hide(),a.errors=e.response.data.errors,a.$store.dispatch("warning",e.response.data.message)}))}},onPageChange(e,a){"Services"==a&&(this.check_meta_service.page=e,this.getAssetServices())},sort(e,a){"Services"==a&&(this.check_meta_service.keyword=e,this.check_meta_service.order_by="asc"==this.check_meta_service.order_by?"desc":"asc",this.getAssetServices())},onPerPageChange(e){"Services"==e&&(this.check_meta_service.page=1,this.getAssetServices())},getServiceAttribute(e){let a=this,t=a.$loading.show();a.service.asset_service_attributes=[],a.$store.dispatch("post",{uri:"assetServiceAttributeValues",data:{service_id:e}}).then((e=>{t.hide(),a.service.asset_service_attributes=e.data.data})).catch((function(e){t.hide(),a.errors=e.response.data.errors,a.$store.dispatch("error",e.response.data.message)}))},viewAsset(e,a){this.$store.commit("setAssets",e),this.asset_type=a,this.assets1=this.$store.getters.assets},searchService(){let e=this;e.check_meta_service.page=1,e.getAssetServices()}}};const jy=(0,Ze.A)(Uy,[["render",Fy],["__scopeId","data-v-2059f540"]]);var zy=jy;const Wy={class:"col-12 mb-2"},Ry={class:"card card-one"},qy={class:"card-body"},Iy={class:"row mb-3 g-2"},Ny={class:"col-md-3"},My={key:0,class:"invalid-feedback",style:{display:"block !important"}},Ky={class:"col-md-3"},Jy={key:0,class:"invalid-feedback"},By={class:"col-md-3"},Oy={key:0,class:"invalid-feedback"},Hy={key:0},Yy={class:"form-label"},Zy={key:0,class:"text-danger"},Gy=["placeholder","onUpdate:modelValue"],eg={key:1,class:"invalid-feedback"},ag={key:1},tg={class:"form-label"},sg={key:0,class:"text-danger"},rg=["placeholder","onUpdate:modelValue"],lg={key:1,class:"invalid-feedback"},ig={key:2},og={class:"form-label"},dg={key:0,class:"text-danger"},ng=["placeholder","onUpdate:modelValue"],cg={key:0,class:"invalid-feedback"},ug={key:3},_g={class:"form-label"},pg={key:0,class:"text-danger"},mg=["placeholder","onUpdate:modelValue"],bg={key:0,class:"invalid-feedback"},kg={key:4},vg={class:"form-label"},hg={key:0,class:"text-danger"},yg=["onUpdate:modelValue"],gg=["value"],fg=["value"],Lg=["value"],Cg={key:1,class:"invalid-feedback"},wg={key:5},Eg={class:"form-label"},xg={key:0,class:"text-danger"},Xg=["onUpdate:modelValue"],Pg={key:0,class:"invalid-feedback"},$g={key:6},Sg={class:"form-label"},Ag={key:0,class:"text-danger"},Dg=["onUpdate:modelValue"],Tg=["value"],Qg=["value"],Vg=["value"],Fg={key:1,class:"invalid-feedback"},Ug={key:0,class:"col-md-2 pt-4"},jg={key:1,class:"col-md-2 pt-4"},zg={class:"row g-2"},Wg={class:"col-12"},Rg={class:"table-responsive table-responsive-sm"},qg={class:"table table-sm text-nowrap table-striped table-bordered mb-0"},Ig={class:""},Ng={key:0,class:"ri-arrow-up-line"},Mg={key:1,class:"ri-arrow-down-line"},Kg={key:2,class:"fas fa-sort"},Jg={key:0,class:"ri-arrow-up-line"},Bg={key:1,class:"ri-arrow-down-line"},Og={key:2,class:"fas fa-sort"},Hg={key:0,class:"ri-arrow-up-line"},Yg={key:1,class:"ri-arrow-down-line"},Zg={key:2,class:"fas fa-sort"},Gg={key:0,class:"ri-arrow-up-line"},ef={key:1,class:"ri-arrow-down-line"},af={key:2,class:"fas fa-sort"},tf={key:0,class:"ri-arrow-up-line"},sf={key:1,class:"ri-arrow-down-line"},rf={key:2,class:"fas fa-sort"},lf={key:0},of={class:"text-center"},df={class:"text-center"},nf=["onClick"],cf=["onClick"],uf=["onClick"],_f={class:"card-footer"},pf={class:"d-flex justify-content-between align-items-center"},mf={class:"modal fade",id:"exampleModal",tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},bf={class:"modal-dialog modal-lg"},kf={class:"modal-content"},vf={class:"modal-header"},hf={class:"modal-title",id:"exampleModalLabel"},yf={class:"modal-body"},gf={class:"row g-2"},ff={class:"col-12 mb-2"},Lf={key:0,class:"row g-2"},Cf={key:0},wf={class:"form-label"},Ef={key:0,class:"text-danger"},xf=["placeholder","value"],Xf={key:1,class:"invalid-feedback"},Pf={key:1},$f={class:"form-label"},Sf={key:0,class:"text-danger"},Af=["placeholder","value"],Df={key:1,class:"invalid-feedback"},Tf={key:2},Qf={class:"form-label"},Vf={key:0,class:"text-danger"},Ff=["placeholder","value"],Uf={key:0,class:"invalid-feedback"},jf={key:3},zf={class:"form-label"},Wf={key:0,class:"text-danger"},Rf=["placeholder","value"],qf={key:0,class:"invalid-feedback"},If={key:4},Nf={class:"form-label"},Mf={key:0,class:"text-danger"},Kf=["value"],Jf=["value"],Bf=["value"],Of=["value"],Hf={key:1,class:"invalid-feedback"},Yf={key:5},Zf={class:"form-label"},Gf={key:0,class:"text-danger"},eL=["value"],aL={key:0,class:"invalid-feedback"},tL={key:6},sL={class:"form-label"},rL={key:0,class:"text-danger"},lL=["value"],iL=["value"],oL=["value"],dL=["value"],nL={key:1,class:"invalid-feedback"};function cL(e,a,t,l,i,o){const d=(0,r.g2)("MultiSelect"),c=(0,r.g2)("search"),u=(0,r.g2)("Pagination"),_=(0,r.gN)("can");return(0,r.uX)(),(0,r.CE)(r.FK,null,[(0,r.bo)(((0,r.uX)(),(0,r.CE)("div",Wy,[(0,r.Lk)("div",Ry,[a[28]||(a[28]=(0,r.Lk)("div",{class:"card-header d-flex justify-content-between"},[(0,r.Lk)("h6",{class:"card-title"},"Data Sources")],-1)),(0,r.Lk)("div",qy,[(0,r.bo)(((0,r.uX)(),(0,r.CE)("div",Iy,[(0,r.Lk)("div",Ny,[a[10]||(a[10]=(0,r.Lk)("label",{class:"form-label"},[(0,r.eW)("Asset Zone "),(0,r.Lk)("span",{class:"text-danger"}," *")],-1)),(0,r.bF)(d,{modelValue:i.datasource.data_source_asset_zones_obj,"onUpdate:modelValue":a[0]||(a[0]=e=>i.datasource.data_source_asset_zones_obj=e),filter:"",optionLabel:"zone_name",options:i.asset_zones,placeholder:"Select Asset Zone",maxSelectedLabels:3,style:(0,n.Tr)([{width:"100%",height:"37px"},i.errors?.data_source_asset_zones?i.error_style:""]),disabled:i.datasource.data_source_zone_read_only},null,8,["modelValue","options","style","disabled"]),i.errors?.data_source_asset_zones?((0,r.uX)(),(0,r.CE)("span",My,(0,n.v_)(i.errors?.data_source_asset_zones[0]),1)):(0,r.Q3)("",!0)]),(0,r.Lk)("div",Ky,[a[11]||(a[11]=(0,r.Lk)("label",{class:"form-label"},[(0,r.eW)("Data Source "),(0,r.Lk)("span",{class:"text-danger"}," *")],-1)),(0,r.bF)(c,{class:(0,n.C4)([{"is-invalid":i.errors?.data_source_id},"my-auto"]),customClass:{"is-invalid":i.errors?.data_source_id},"aria-describedby":"basic-addon2","aria-label":"Select Data Source",initialize:i.datasource.data_source_id,id:"data_source_id",label:"data_source_name",label2:"data_source_code",placeholder:"Select Data Source",data:e.data_sources,onInput:a[1]||(a[1]=e=>i.datasource.data_source_id=e),onSelectsearch:a[2]||(a[2]=e=>o.getDatasourceAttribute(i.datasource.data_source_id))},null,8,["class","customClass","initialize","data"]),i.errors?.data_source_id?((0,r.uX)(),(0,r.CE)("span",Jy,(0,n.v_)(i.errors?.data_source_id[0]),1)):(0,r.Q3)("",!0)]),(0,r.Lk)("div",By,[a[13]||(a[13]=(0,r.Lk)("label",{class:"form-label"},[(0,r.eW)("Script "),(0,r.Lk)("span",{class:"text-danger"}," *")],-1)),(0,r.bo)((0,r.Lk)("select",{class:(0,n.C4)(["form-control form-control",{"is-invalid":i.errors?.script}]),"onUpdate:modelValue":a[3]||(a[3]=e=>i.datasource.script=e)},a[12]||(a[12]=[(0,r.Lk)("option",{value:""},"Select Script",-1),(0,r.Lk)("option",{value:"Ladle Scanner"},"Ladle Scanner",-1),(0,r.Lk)("option",{value:"Torpedo Scanner"},"Torpedo Scanner",-1)]),2),[[s.u1,i.datasource.script]]),i.errors?.script?((0,r.uX)(),(0,r.CE)("span",Oy,(0,n.v_)(i.errors?.script[0]),1)):(0,r.Q3)("",!0)]),((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(i.datasource.asset_datasource_attributes,((e,a)=>((0,r.uX)(),(0,r.CE)("div",{class:"col-md-3",key:a},[e.data_source_attributes.length&&"Text"==e.data_source_attributes[0].field_type?((0,r.uX)(),(0,r.CE)("div",Hy,[(0,r.Lk)("label",Yy,(0,n.v_)(e.data_source_attributes[0].display_name),1),e.data_source_attributes[0].is_required?((0,r.uX)(),(0,r.CE)("span",Zy,"*")):(0,r.Q3)("",!0),(0,r.bo)((0,r.Lk)("input",{type:"text",class:(0,n.C4)(["form-control",{"is-invalid":i.errors[e.data_source_attributes[0].display_name]}]),placeholder:"Enter "+e.data_source_attributes[0].display_name,"onUpdate:modelValue":a=>e.field_value=a},null,10,Gy),[[s.Jo,e.field_value]]),i.errors[e.data_source_attributes[0].display_name]?((0,r.uX)(),(0,r.CE)("span",eg,(0,n.v_)(i.errors[e.data_source_attributes[0].display_name][0]),1)):(0,r.Q3)("",!0)])):(0,r.Q3)("",!0),e.data_source_attributes.length&&"Number"==e.data_source_attributes[0].field_type?((0,r.uX)(),(0,r.CE)("div",ag,[(0,r.Lk)("label",tg,(0,n.v_)(e.data_source_attributes[0].display_name),1),e.data_source_attributes[0].is_required?((0,r.uX)(),(0,r.CE)("span",sg,"*")):(0,r.Q3)("",!0),(0,r.bo)((0,r.Lk)("input",{type:"number",class:(0,n.C4)(["form-control",{"is-invalid":i.errors[e.data_source_attributes[0].display_name]}]),min:"0",oninput:"validity.valid||(value='');",placeholder:"Enter "+e.data_source_attributes[0].display_name,"onUpdate:modelValue":a=>e.field_value=a},null,10,rg),[[s.Jo,e.field_value]]),i.errors[e.data_source_attributes[0].display_name]?((0,r.uX)(),(0,r.CE)("span",lg,(0,n.v_)(i.errors[e.data_source_attributes[0].display_name][0]),1)):(0,r.Q3)("",!0)])):(0,r.Q3)("",!0),e.data_source_attributes.length&&"Date"===e.data_source_attributes[0].field_type?((0,r.uX)(),(0,r.CE)("div",ig,[(0,r.Lk)("label",og,[(0,r.eW)((0,n.v_)(e.data_source_attributes[0].display_name)+" ",1),e.data_source_attributes[0].is_required?((0,r.uX)(),(0,r.CE)("span",dg,"*")):(0,r.Q3)("",!0)]),(0,r.bo)((0,r.Lk)("input",{type:"date",class:(0,n.C4)(["form-control",{"is-invalid":i.errors[e.data_source_attributes[0].display_name]}]),placeholder:"Enter "+e.data_source_attributes[0].display_name,"onUpdate:modelValue":a=>e.field_value=a},null,10,ng),[[s.Jo,e.field_value]]),i.errors[e.data_source_attributes[0].display_name]?((0,r.uX)(),(0,r.CE)("span",cg,(0,n.v_)(i.errors[e.data_source_attributes[0].display_name][0]),1)):(0,r.Q3)("",!0)])):(0,r.Q3)("",!0),e.data_source_attributes.length&&"Date&Time"===e.data_source_attributes[0].field_type?((0,r.uX)(),(0,r.CE)("div",ug,[(0,r.Lk)("label",_g,[(0,r.eW)((0,n.v_)(e.data_source_attributes[0].display_name)+" ",1),e.data_source_attributes[0].is_required?((0,r.uX)(),(0,r.CE)("span",pg,"*")):(0,r.Q3)("",!0)]),(0,r.bo)((0,r.Lk)("input",{type:"datetime-local",class:(0,n.C4)(["form-control",{"is-invalid":i.errors[e.data_source_attributes[0].display_name]}]),placeholder:"Enter "+e.data_source_attributes[0].display_name,"onUpdate:modelValue":a=>e.field_value=a,step:"1"},null,10,mg),[[s.Jo,e.field_value]]),i.errors[e.data_source_attributes[0].display_name]?((0,r.uX)(),(0,r.CE)("span",bg,(0,n.v_)(i.errors[e.data_source_attributes[0].display_name][0]),1)):(0,r.Q3)("",!0)])):(0,r.Q3)("",!0),e.data_source_attributes.length&&"Dropdown"==e.data_source_attributes[0].field_type?((0,r.uX)(),(0,r.CE)("div",kg,[(0,r.Lk)("label",vg,(0,n.v_)(e.data_source_attributes[0].display_name),1),e.data_source_attributes[0].is_required?((0,r.uX)(),(0,r.CE)("span",hg,"*")):(0,r.Q3)("",!0),(0,r.bo)((0,r.Lk)("select",{class:(0,n.C4)(["form-control",{"is-invalid":i.errors[e.data_source_attributes[0].display_name]}]),"onUpdate:modelValue":a=>e.field_value=a},[e.field_value?((0,r.uX)(),(0,r.CE)("option",{key:0,value:e.field_value},(0,n.v_)(e.field_value),9,gg)):((0,r.uX)(),(0,r.CE)("option",{key:1,value:e.field_value},"Select "+(0,n.v_)(e.data_source_attributes[0].display_name),9,fg)),((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(e.data_source_attributes[0].field_values.split(","),((e,a)=>((0,r.uX)(),(0,r.CE)("option",{key:a,value:e},(0,n.v_)(e),9,Lg)))),128))],10,yg),[[s.u1,e.field_value]]),i.errors[e.data_source_attributes[0].display_name]?((0,r.uX)(),(0,r.CE)("span",Cg,(0,n.v_)(i.errors[e.data_source_attributes[0].display_name][0]),1)):(0,r.Q3)("",!0)])):(0,r.Q3)("",!0),e.data_source_attributes.length&&"Color"==e.data_source_attributes[0].field_type?((0,r.uX)(),(0,r.CE)("div",wg,[(0,r.Lk)("label",Eg,[(0,r.eW)((0,n.v_)(e.data_source_attributes[0].display_name),1),e.data_source_attributes[0].is_required?((0,r.uX)(),(0,r.CE)("span",xg,"*")):(0,r.Q3)("",!0)]),(0,r.bo)((0,r.Lk)("input",{type:"color",class:"form-control","onUpdate:modelValue":a=>e.field_value=a,style:{height:"2.2rem"}},null,8,Xg),[[s.Jo,e.field_value]]),i.errors[e.data_source_attributes[0].display_name]?((0,r.uX)(),(0,r.CE)("span",Pg,(0,n.v_)(i.errors[e.data_source_attributes[0].display_name][0]),1)):(0,r.Q3)("",!0)])):(0,r.Q3)("",!0),e.data_source_attributes.length&&"List"==e.data_source_attributes[0].field_type?((0,r.uX)(),(0,r.CE)("div",$g,[(0,r.Lk)("label",Sg,(0,n.v_)(e.data_source_attributes[0].display_name),1),e.data_source_attributes[0].is_required?((0,r.uX)(),(0,r.CE)("span",Ag,"*")):(0,r.Q3)("",!0),(0,r.bo)((0,r.Lk)("select",{class:(0,n.C4)(["form-control",{"is-invalid":i.errors[e.data_source_attributes[0].display_name]}]),"onUpdate:modelValue":a=>e.field_value=a},[e.data_source_attributes[0].data_source_attribute_value?.field_value?((0,r.uX)(),(0,r.CE)("option",{key:0,value:e.data_source_attributes[0].data_source_attribute_value?.field_value},(0,n.v_)(e.data_source_attributes[0].data_source_attribute_value?.field_value),9,Tg)):((0,r.uX)(),(0,r.CE)("option",{key:1,value:e.data_source_attributes[0].data_source_attribute_value?.field_value},"Select "+(0,n.v_)(e.data_source_attributes[0].display_name),9,Qg)),((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(e.data_source_attributes[0].list_parameter?.field_values.split(","),((e,a)=>((0,r.uX)(),(0,r.CE)("option",{key:a,value:e.trim()},(0,n.v_)(e.trim()),9,Vg)))),128))],10,Dg),[[s.u1,e.field_value]]),i.errors[e.data_source_attributes[0].display_name]?((0,r.uX)(),(0,r.CE)("span",Fg,(0,n.v_)(i.errors[e.data_source_attributes[0].display_name][0]),1)):(0,r.Q3)("",!0)])):(0,r.Q3)("",!0)])))),128)),i.datasource.asset_data_source_id?((0,r.uX)(),(0,r.CE)("div",Ug,[(0,r.bo)(((0,r.uX)(),(0,r.CE)("button",{class:"btn btn-outline-success me-2",onClick:a[4]||(a[4]=e=>o.updateDataSource())},a[14]||(a[14]=[(0,r.Lk)("i",{class:"ri-add-circle-line icon-hgt"},null,-1),(0,r.eW)(" Update")]))),[[_,"asset_data_sources.update"]])])):((0,r.uX)(),(0,r.CE)("div",jg,[(0,r.bo)(((0,r.uX)(),(0,r.CE)("button",{class:"btn btn-outline-success me-2",onClick:a[5]||(a[5]=e=>o.addDataSource())},a[15]||(a[15]=[(0,r.Lk)("i",{class:"ri-add-circle-line icon-hgt"},null,-1),(0,r.eW)(" Add")]))),[[_,"asset_data_sources.create"]])]))])),[[_,["asset_data_sources.create","asset_data_sources.update"]]]),(0,r.bo)((0,r.Lk)("input",{class:"form-control form-control-sm mb-2",type:"text",placeholder:"Type keyword and press enter key","onUpdate:modelValue":a[6]||(a[6]=e=>i.datasource_meta_service.search=e),onKeypress:a[7]||(a[7]=(0,s.jR)((e=>o.searchDataSource()),["enter"]))},null,544),[[s.Jo,i.datasource_meta_service.search]]),(0,r.Lk)("div",zg,[(0,r.Lk)("div",Wg,[(0,r.Lk)("div",Rg,[(0,r.Lk)("table",qg,[(0,r.Lk)("thead",null,[(0,r.Lk)("tr",Ig,[a[21]||(a[21]=(0,r.Lk)("th",{class:"text-center"},"#",-1)),(0,r.Lk)("th",null,[a[16]||(a[16]=(0,r.eW)(" Asset Zone ")),(0,r.Lk)("span",null,["asset_zone_id"==i.datasource_meta_service.keyword&&"asc"==i.datasource_meta_service.order_by?((0,r.uX)(),(0,r.CE)("i",Ng)):"asset_zone_id"==i.datasource_meta_service.keyword&&"desc"==i.datasource_meta_service.order_by?((0,r.uX)(),(0,r.CE)("i",Mg)):((0,r.uX)(),(0,r.CE)("i",Kg))])]),(0,r.Lk)("th",null,[a[17]||(a[17]=(0,r.eW)(" Data Source Type ")),(0,r.Lk)("span",null,["data_source_type_id"==i.datasource_meta_service.keyword&&"asc"==i.datasource_meta_service.order_by?((0,r.uX)(),(0,r.CE)("i",Jg)):"data_source_type_id"==i.datasource_meta_service.keyword&&"desc"==i.datasource_meta_service.order_by?((0,r.uX)(),(0,r.CE)("i",Bg)):((0,r.uX)(),(0,r.CE)("i",Og))])]),(0,r.Lk)("th",null,[a[18]||(a[18]=(0,r.eW)(" Data Source Code ")),(0,r.Lk)("span",null,["data_source_code"==i.datasource_meta_service.keyword&&"asc"==i.datasource_meta_service.order_by?((0,r.uX)(),(0,r.CE)("i",Hg)):"data_source_code"==i.datasource_meta_service.keyword&&"desc"==i.datasource_meta_service.order_by?((0,r.uX)(),(0,r.CE)("i",Yg)):((0,r.uX)(),(0,r.CE)("i",Zg))])]),(0,r.Lk)("th",null,[a[19]||(a[19]=(0,r.eW)(" Data Source Name ")),(0,r.Lk)("span",null,["data_source_name"==i.datasource_meta_service.keyword&&"asc"==i.datasource_meta_service.order_by?((0,r.uX)(),(0,r.CE)("i",Gg)):"data_source_name"==i.datasource_meta_service.keyword&&"desc"==i.datasource_meta_service.order_by?((0,r.uX)(),(0,r.CE)("i",ef)):((0,r.uX)(),(0,r.CE)("i",af))])]),(0,r.Lk)("th",null,[a[20]||(a[20]=(0,r.eW)(" Script ")),(0,r.Lk)("span",null,["script"==i.datasource_meta_service.keyword&&"asc"==i.datasource_meta_service.order_by?((0,r.uX)(),(0,r.CE)("i",tf)):"script"==i.datasource_meta_service.keyword&&"desc"==i.datasource_meta_service.order_by?((0,r.uX)(),(0,r.CE)("i",sf)):((0,r.uX)(),(0,r.CE)("i",rf))])]),a[22]||(a[22]=(0,r.Lk)("th",{class:"text-center"},"Actions",-1))])]),(0,r.Lk)("tbody",null,[0==i.asset_data_sources.length?((0,r.uX)(),(0,r.CE)("tr",lf,a[23]||(a[23]=[(0,r.Lk)("td",{colspan:"7",class:"text-center"},"No records found",-1)]))):(0,r.Q3)("",!0),((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(i.asset_data_sources,((e,t)=>((0,r.uX)(),(0,r.CE)("tr",{key:t},[(0,r.Lk)("td",of,(0,n.v_)((i.datasource_meta_service.page-1)*i.datasource_meta_service.per_page+t+1),1),(0,r.Lk)("td",null,(0,n.v_)(e.asset_zone?.zone_name),1),(0,r.Lk)("td",null,(0,n.v_)(e.data_source?.data_source_type?.data_source_type_name),1),(0,r.Lk)("td",null,(0,n.v_)(e?.data_source?.data_source_code),1),(0,r.Lk)("td",null,(0,n.v_)(e?.data_source?.data_source_name),1),(0,r.Lk)("td",null,(0,n.v_)(e?.script),1),(0,r.Lk)("td",df,[(0,r.bo)(((0,r.uX)(),(0,r.CE)("a",{href:"javascript:void(0)",class:"text-success me-2",onClick:a=>o.editDataSource(e)},a[24]||(a[24]=[(0,r.Lk)("i",{class:"ri-pencil-line fs-18 lh-1"},null,-1)]),8,nf)),[[_,"asset_data_sources.update"]]),(0,r.Lk)("a",{href:"javascript:void(0)",class:"text-primary me-2","data-bs-toggle":"modal","data-bs-target":"#exampleModal",onClick:(0,s.D$)((a=>o.viewAsset(e,"Data Sources")),["prevent"])},a[25]||(a[25]=[(0,r.Lk)("i",{class:"ri-eye-fill fs-18 lh-1"},null,-1)]),8,cf),(0,r.bo)(((0,r.uX)(),(0,r.CE)("a",{href:"javascript:void(0)",class:"text-danger me-2",onClick:a=>o.deleteDataSource(e)},a[26]||(a[26]=[(0,r.Lk)("i",{class:"ri-delete-bin-6-line fs-18 lh-1"},null,-1)]),8,uf)),[[_,"asset_data_sources.delete"]])])])))),128))])])])])])]),(0,r.Lk)("div",_f,[(0,r.Lk)("div",pf,[(0,r.bo)((0,r.Lk)("select",{class:"form-select from-select-sm width-75","onUpdate:modelValue":a[8]||(a[8]=e=>i.datasource_meta_service.per_page=e),onChange:a[9]||(a[9]=e=>o.onPerPageChange("Data Sources"))},a[27]||(a[27]=[(0,r.Lk)("option",null,"5",-1),(0,r.Lk)("option",null,"10",-1),(0,r.Lk)("option",null,"15",-1),(0,r.Lk)("option",null,"20",-1),(0,r.Lk)("option",null,"25",-1),(0,r.Lk)("option",null,"30",-1)]),544),[[s.u1,i.datasource_meta_service.per_page]]),(0,r.Lk)("span",null,"Showing "+(0,n.v_)(i.datasource_meta_service.from)+" to "+(0,n.v_)(i.datasource_meta_service.to)+" of "+(0,n.v_)(i.datasource_meta_service.totalRows)+" entries",1),(0,r.bF)(u,{maxPage:i.datasource_meta_service.maxPage,totalPages:i.datasource_meta_service.lastPage,currentPage:i.datasource_meta_service.page,onPagechanged:o.onPageChange,from:"Data Sources"},null,8,["maxPage","totalPages","currentPage","onPagechanged"])])])])])),[[_,"asset_data_sources.view"]]),(0,r.Lk)("div",mf,[(0,r.Lk)("div",bf,[(0,r.Lk)("div",kf,[(0,r.Lk)("div",vf,[(0,r.Lk)("h5",hf,(0,n.v_)(i.asset_type),1),a[29]||(a[29]=(0,r.Lk)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1))]),(0,r.Lk)("div",yf,[(0,r.Lk)("div",gf,[(0,r.Lk)("div",ff,["Data Sources"==i.asset_type?((0,r.uX)(),(0,r.CE)("div",Lf,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(i.assets1?.asset_datasource_attributes,((e,a)=>((0,r.uX)(),(0,r.CE)("div",{class:"col-md-4",key:a},[e.data_source_attributes.length&&"Text"==e.data_source_attributes[0].field_type?((0,r.uX)(),(0,r.CE)("div",Cf,[(0,r.Lk)("label",wf,(0,n.v_)(e.data_source_attributes[0].display_name),1),e.data_source_attributes[0].is_required?((0,r.uX)(),(0,r.CE)("span",Ef,"*")):(0,r.Q3)("",!0),(0,r.Lk)("input",{type:"text",class:(0,n.C4)(["form-control",{"is-invalid":i.errors[e.data_source_attributes[0].display_name]}]),placeholder:"Enter "+e.data_source_attributes[0].display_name,value:e.field_value,disabled:"true"},null,10,xf),i.errors[e.data_source_attributes[0].display_name]?((0,r.uX)(),(0,r.CE)("span",Xf,(0,n.v_)(i.errors[e.data_source_attributes[0].display_name][0]),1)):(0,r.Q3)("",!0)])):(0,r.Q3)("",!0),e.data_source_attributes.length&&"Number"==e.data_source_attributes[0].field_type?((0,r.uX)(),(0,r.CE)("div",Pf,[(0,r.Lk)("label",$f,(0,n.v_)(e.data_source_attributes[0].display_name),1),e.data_source_attributes[0].is_required?((0,r.uX)(),(0,r.CE)("span",Sf,"*")):(0,r.Q3)("",!0),(0,r.Lk)("input",{type:"number",class:(0,n.C4)(["form-control",{"is-invalid":i.errors[e.data_source_attributes[0].display_name]}]),min:"0",oninput:"validity.valid||(value='');",placeholder:"Enter "+e.data_source_attributes[0].display_name,value:e.field_value,disabled:"true"},null,10,Af),i.errors[e.data_source_attributes[0].display_name]?((0,r.uX)(),(0,r.CE)("span",Df,(0,n.v_)(i.errors[e.data_source_attributes[0].display_name][0]),1)):(0,r.Q3)("",!0)])):(0,r.Q3)("",!0),e.data_source_attributes.length&&"Date"===e.data_source_attributes[0].field_type?((0,r.uX)(),(0,r.CE)("div",Tf,[(0,r.Lk)("label",Qf,[(0,r.eW)((0,n.v_)(e.data_source_attributes[0].display_name)+" ",1),e.data_source_attributes[0].is_required?((0,r.uX)(),(0,r.CE)("span",Vf,"*")):(0,r.Q3)("",!0)]),(0,r.Lk)("input",{type:"date",class:(0,n.C4)(["form-control",{"is-invalid":i.errors[e.data_source_attributes[0].display_name]}]),placeholder:"Enter "+e.data_source_attributes[0].display_name,value:e.field_value,disabled:"true"},null,10,Ff),i.errors[e.data_source_attributes[0].display_name]?((0,r.uX)(),(0,r.CE)("span",Uf,(0,n.v_)(i.errors[e.data_source_attributes[0].display_name][0]),1)):(0,r.Q3)("",!0)])):(0,r.Q3)("",!0),e.data_source_attributes.length&&"Date&Time"===e.data_source_attributes[0].field_type?((0,r.uX)(),(0,r.CE)("div",jf,[(0,r.Lk)("label",zf,[(0,r.eW)((0,n.v_)(e.data_source_attributes[0].display_name)+" ",1),e.data_source_attributes[0].is_required?((0,r.uX)(),(0,r.CE)("span",Wf,"*")):(0,r.Q3)("",!0)]),(0,r.Lk)("input",{type:"datetime-local",class:(0,n.C4)(["form-control",{"is-invalid":i.errors[e.data_source_attributes[0].display_name]}]),placeholder:"Enter "+e.data_source_attributes[0].display_name,value:e.field_value,step:"1",disabled:"true"},null,10,Rf),i.errors[e.data_source_attributes[0].display_name]?((0,r.uX)(),(0,r.CE)("span",qf,(0,n.v_)(i.errors[e.data_source_attributes[0].display_name][0]),1)):(0,r.Q3)("",!0)])):(0,r.Q3)("",!0),e.data_source_attributes.length&&"Dropdown"==e.data_source_attributes[0].field_type?((0,r.uX)(),(0,r.CE)("div",If,[(0,r.Lk)("label",Nf,(0,n.v_)(e.data_source_attributes[0].display_name),1),e.data_source_attributes[0].is_required?((0,r.uX)(),(0,r.CE)("span",Mf,"*")):(0,r.Q3)("",!0),(0,r.Lk)("select",{class:(0,n.C4)(["form-control",{"is-invalid":i.errors[e.data_source_attributes[0].display_name]}]),value:e.field_value,disabled:"true"},[e.field_value?((0,r.uX)(),(0,r.CE)("option",{key:0,value:e.field_value},(0,n.v_)(e.field_value),9,Jf)):((0,r.uX)(),(0,r.CE)("option",{key:1,value:e.field_value},"Select "+(0,n.v_)(e.data_source_attributes[0].display_name),9,Bf)),((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(e.data_source_attributes[0].field_values.split(","),((e,a)=>((0,r.uX)(),(0,r.CE)("option",{key:a,value:e},(0,n.v_)(e),9,Of)))),128))],10,Kf),i.errors[e.data_source_attributes[0].display_name]?((0,r.uX)(),(0,r.CE)("span",Hf,(0,n.v_)(i.errors[e.data_source_attributes[0].display_name][0]),1)):(0,r.Q3)("",!0)])):(0,r.Q3)("",!0),e.data_source_attributes.length&&"Color"==e.data_source_attributes[0].field_type?((0,r.uX)(),(0,r.CE)("div",Yf,[(0,r.Lk)("label",Zf,[(0,r.eW)((0,n.v_)(e.data_source_attributes[0].display_name),1),e.data_source_attributes[0].is_required?((0,r.uX)(),(0,r.CE)("span",Gf,"*")):(0,r.Q3)("",!0)]),(0,r.Lk)("input",{type:"color",class:"form-control",value:e.field_value,style:{height:"2.2rem"},disabled:"true"},null,8,eL),i.errors[e.data_source_attributes[0].display_name]?((0,r.uX)(),(0,r.CE)("span",aL,(0,n.v_)(i.errors[e.data_source_attributes[0].display_name][0]),1)):(0,r.Q3)("",!0)])):(0,r.Q3)("",!0),e.data_source_attributes.length&&"List"==e.data_source_attributes[0].field_type?((0,r.uX)(),(0,r.CE)("div",tL,[(0,r.Lk)("label",sL,(0,n.v_)(e.data_source_attributes[0].display_name),1),e.data_source_attributes[0].is_required?((0,r.uX)(),(0,r.CE)("span",rL,"*")):(0,r.Q3)("",!0),(0,r.Lk)("select",{class:(0,n.C4)(["form-control",{"is-invalid":i.errors[e.data_source_attributes[0].display_name]}]),value:e.field_value,disabled:"true"},[e.data_source_attributes[0].data_source_attribute_value?.field_value?((0,r.uX)(),(0,r.CE)("option",{key:0,value:e.data_source_attributes[0].data_source_attribute_value?.field_value},(0,n.v_)(e.data_source_attributes[0].data_source_attribute_value?.field_value),9,iL)):((0,r.uX)(),(0,r.CE)("option",{key:1,value:e.data_source_attributes[0].data_source_attribute_value?.field_value},"Select "+(0,n.v_)(e.data_source_attributes[0].display_name),9,oL)),((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(e.data_source_attributes[0].list_parameter?.field_values.split(","),((e,a)=>((0,r.uX)(),(0,r.CE)("option",{key:a,value:e.trim()},(0,n.v_)(e.trim()),9,dL)))),128))],10,lL),i.errors[e.data_source_attributes[0].display_name]?((0,r.uX)(),(0,r.CE)("span",nL,(0,n.v_)(i.errors[e.data_source_attributes[0].display_name][0]),1)):(0,r.Q3)("",!0)])):(0,r.Q3)("",!0)])))),128))])):(0,r.Q3)("",!0)])])])])])])],64)}var uL={name:"Assets.View",components:{Search:It.A,Pagination:md,MultiSelect:Ru.A},props:{asset_id:{type:Number,required:!0}},data(){return{asset_type:"",datasource_meta_service:{search:"",order_by:"desc",keyword:"data_source_id",per_page:10,totalRows:0,page:1,lastPage:1,from:1,to:1,maxPage:1,trashed:!1,asset_id:"",asset_type_id:""},asset:{asset_id:"",plant_id:"",asset_code:"",asset_name:"",asset_type_id:"",section_id:"",serial_no:"",status:"",QR_Code:""},datasource:{data_source_id:"",data_source_code:"",data_source_name:"",asset_id:"",asset_zone_id:"",data_source_asset_zones_obj:[],data_source_asset_zones:[],asset_data_source_id:"",script:"",asset_datasource_attributes:[],initial_data_source_id:"",initial_asset_datasource_attributes:[],deleted_asset_datasource_values:[],data_source_zone_read_only:!1},asset_spares:[],checks:[],asset_checks:[],template_services:[],asset_data_sources:[],asset_zones:[],asset_spare_services:[],errors:[],status:!0,asset_zone_status:!1,asset_zone_status_datasources:!1,isValid:!0,assets1:[],error_style:{"border-color":"#dc3545","padding-right":"calc(1.5em + 0.812rem)","background-image":"url(\"data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 12 12' width='12' height='12' fill='none' stroke='%23dc3545'%3e%3ccircle cx='6' cy='6' r='4.5'/%3e%3cpath stroke-linejoin='round' d='M5.8 3.6h.4L6 6.5z'/%3e%3ccircle cx='6' cy='8.2' r='.6' fill='%23dc3545' stroke='none'/%3e%3c/svg%3e\")","background-repeat":"no-repeat","background-position":"right calc(0.375em + 0.203rem) center","background-size":"calc(0.75em + 0.406rem) calc(0.75em + 0.406rem)"}}},watch:{assets1(){this.assets1=this.$store.getters.assets}},mounted(){document.body.classList.add("sidebar-hide"),this.getAsset()},methods:{getAsset(){let e=this;e.$store.dispatch("post",{uri:"getAsset",data:{asset_id:e.asset_id}}).then((a=>{e.asset=a.data.asset,e.asset_zones=a?.data?.asset?.zone_name,e.asset.QR_Code=a?.data?.QRCode,e.getAssetDataSources()})).catch((function(a){e.errors=a.response?.data?.errors,e.$store.dispatch("error",a.response?.data?.message)}))},getAssetDataSources(){let e=this,a=e.$loading.show();e.datasource_meta_service.asset_id=e.asset.asset_id,e.datasource_meta_service.asset_type_id=e.asset.asset_type_id,e.$store.dispatch("post",{uri:"paginateAssetDataSources",data:e.datasource_meta_service}).then((t=>{a.hide(),e.data_sources=t.data.data_sources,e.asset_data_sources=t.data.paginate_data_sources,e.datasource_meta_service.totalRows=t.data.meta.total,e.datasource_meta_service.from=t.data.meta.from,e.datasource_meta_service.to=t.data.meta.to,e.datasource_meta_service.lastPage=t.data.meta.last_page,e.datasource_meta_service.maxPage=e.datasource_meta_service.lastPage>=3?3:e.datasource_meta_service.lastPage})).catch((function(t){a.hide(),console.log("error",t),e.errors=t.response.data.errors,e.$store.dispatch("error",t.response.data.message)}))},editDataSource(e){this.datasource.data_source_id=e.data_source_id,this.datasource.asset_id=e.asset_id,this.datasource.asset_data_source_id=e.asset_data_source_id,this.datasource.data_source_code=e.data_source_code,this.datasource.data_source_name=e.data_source_name,this.datasource.data_source_asset_zones=[],this.datasource.data_source_asset_zones.push(e.asset_zone_id),this.datasource.asset_zone_id=e.asset_zone_id,this.datasource.script=e.script,this.datasource.asset_datasource_attributes=e.asset_datasource_attributes,this.datasource.initial_data_source_id=e.data_source_id,this.datasource.initial_asset_datasource_attributes=e.asset_datasource_attributes,this.datasource.data_source_asset_zones_obj=[],this.datasource.data_source_asset_zones_obj.push({asset_id:e.asset_zone.asset_id,asset_zone_id:e.asset_zone.asset_zone_id,status:e.asset_zone.status,zone_name:e.asset_zone.zone_name,diameter:e.asset_zone.diameter,height:e.asset_zone.height,asset_spares:e.asset_zone.asset_spares}),this.datasource.data_source_zone_read_only=!0},validateFields(e){if(this.isValid=!0,this.errors={},"Data Sources"==e)for(const a of Object.values(this.datasource.asset_datasource_attributes))a.data_source_attributes.length&&a.data_source_attributes[0].is_required&&!a.field_value&&("Color"===a.data_source_attributes[0].field_type?a.field_value="#000000":(this.errors[a.data_source_attributes[0].display_name]=[`${a.data_source_attributes[0].display_name} is required`],this.isValid=!1))},addDataSource(){let e=this;e.datasource.asset_id=e.asset.asset_id,e.datasource.data_source_asset_zones=[],e.datasource.data_source_asset_zones_obj.map((function(a){e.datasource.data_source_asset_zones.push(a.asset_zone_id)}));let a=e.$loading.show();e.validateFields("Data Sources"),e.isValid?e.$store.dispatch("post",{uri:"addAssetDataSource",data:e.datasource}).then((t=>{a.hide(),e.$store.dispatch("success",t.data.message),e.datasource.data_source_id="",e.errors=[],e.datasource.asset_zone_id="",e.datasource.data_source_asset_zones=[],e.datasource.script="",e.datasource.asset_datasource_attributes=[],e.datasource.initial_data_source_id="",e.datasource.initial_asset_datasource_attributes=[],e.datasource.deleted_asset_datasource_values=[],e.asset_zone_status_datasources=!1,e.datasource.data_source_asset_zones_obj=[],e.datasource.data_source_zone_read_only=!1,e.getAssetDataSources()})).catch((function(t){a.hide(),e.errors=t.response.data.errors,e.$store.dispatch("error",t.response.data.message)})):a.hide()},updateDataSource(){let e=this,a=e.$loading.show();if(e.validateFields("Data Sources"),!e.isValid)return void a.hide();e.datasource.data_source_id!=e.datasource.initial_data_source_id&&e.datasource.initial_asset_datasource_attributes.map((function(a){e.datasource.deleted_asset_datasource_values.push(a.asset_data_source_value_id)}));let t={uri:"updateAssetDataSource",data:e.datasource};e.$store.dispatch("post",t).then((function(t){a.hide(),e.$store.dispatch("success",t.data.message),e.datasource.data_source_id="",e.datasource.asset_zone_id="",e.datasource.asset_data_source_id="",e.datasource.data_source_asset_zones=[],e.datasource.script="",e.datasource.asset_datasource_attributes=[],e.datasource.initial_data_source_id="",e.datasource.initial_asset_datasource_attributes=[],e.datasource.deleted_asset_datasource_values=[],e.asset_zone_status_datasources=!1,e.datasource.data_source_asset_zones_obj=[],e.datasource.data_source_zone_read_only=!1,e.getAssetDataSources()})).catch((function(t){a.hide(),e.errors=t.response?.data?.errors,e.$store.dispatch("error",t?.response?.data?.message)}))},deleteDataSource(e){const a=confirm("Are you sure you want to delete it ?");if(a){let a=this,t=a.$loading.show();a.$store.dispatch("post",{uri:"deleteAssetDataSource",data:e}).then((e=>{t.hide(),a.$store.dispatch("success",e.data.message),a.datasource.data_source_id="",a.errors=[],a.getAssetDataSources()})).catch((function(e){t.hide(),a.errors=e.response.data.errors,a.$store.dispatch("warning",e.response.data.message)}))}},onPageChange(e,a){"Data Sources"==a&&(this.datasource_meta_service.page=e,this.getAssetDataSources())},sort(e,a){"Data Sources"==a&&(this.datasource_meta_service.keyword=e,this.datasource_meta_service.order_by="asc"==this.datasource_meta_service.order_by?"desc":"asc",this.getAssetDataSources())},onPerPageChange(e){"Data Sources"==e&&(this.datasource_meta_service.page=1,this.getAssetDataSources())},getDatasourceAttribute(e){let a=this,t=a.$loading.show();a.datasource.asset_datasource_attributes=[],a.$store.dispatch("post",{uri:"assetDataSourceAttributeValues",data:{data_source_id:e}}).then((e=>{t.hide(),a.datasource.asset_datasource_attributes=e.data.data})).catch((function(e){t.hide(),a.errors=e.response.data.errors,a.$store.dispatch("error",e.response.data.message)}))},viewAsset(e,a){this.$store.commit("setAssets",e),this.asset_type=a,this.assets1=this.$store.getters.assets},searchDataSource(){let e=this;e.datasource_meta_service.page=1,e.getAssetDataSources()}}};const _L=(0,Ze.A)(uL,[["render",cL],["__scopeId","data-v-62a38f8f"]]);var pL=_L;const mL={class:"col-12 mb-2"},bL={class:"card card-one"},kL={class:"card-body"},vL={class:"row mb-3 g-2"},hL={class:"col-md-4"},yL={key:0,class:"invalid-feedback",style:{display:"block !important"}},gL={class:"col-md-4"},fL={key:0,class:"invalid-feedback"},LL={key:0},CL={class:"form-label"},wL={key:0,class:"text-danger"},EL=["placeholder","onUpdate:modelValue"],xL={key:1,class:"invalid-feedback"},XL={key:1},PL={class:"form-label"},$L={key:0,class:"text-danger"},SL=["placeholder","onUpdate:modelValue"],AL={key:1,class:"invalid-feedback"},DL={key:2},TL={class:"form-label"},QL={key:0,class:"text-danger"},VL=["placeholder","onUpdate:modelValue"],FL={key:0,class:"invalid-feedback"},UL={key:3},jL={class:"form-label"},zL={key:0,class:"text-danger"},WL=["placeholder","onUpdate:modelValue"],RL={key:0,class:"invalid-feedback"},qL={key:4},IL={class:"form-label"},NL={key:0,class:"text-danger"},ML=["onUpdate:modelValue"],KL=["value"],JL=["value"],BL=["value"],OL={key:1,class:"invalid-feedback"},HL={key:5},YL={class:"form-label"},ZL={key:0,class:"text-danger"},GL=["onUpdate:modelValue"],eC={key:0,class:"invalid-feedback"},aC={key:6},tC={class:"form-label"},sC={key:0,class:"text-danger"},rC=["onUpdate:modelValue"],lC=["value"],iC=["value"],oC=["value"],dC={key:1,class:"invalid-feedback"},nC={key:0,class:"col-md-2 pt-4"},cC={key:1,class:"col-md-2 pt-4"},uC={class:"row g-2"},_C={class:"col-12"},pC={class:"table-responsive table-responsive-sm"},mC={class:"table table-sm text-nowrap table-striped table-bordered mb-0"},bC={class:""},kC={key:0,class:"ri-arrow-up-line"},vC={key:1,class:"ri-arrow-down-line"},hC={key:2,class:"fas fa-sort"},yC={key:0,class:"ri-arrow-up-line"},gC={key:1,class:"ri-arrow-down-line"},fC={key:2,class:"fas fa-sort"},LC={key:0,class:"ri-arrow-up-line"},CC={key:1,class:"ri-arrow-down-line"},wC={key:2,class:"fas fa-sort"},EC={key:0,class:"ri-arrow-up-line"},xC={key:1,class:"ri-arrow-down-line"},XC={key:2,class:"fas fa-sort"},PC={key:0},$C={class:"text-center"},SC={class:"text-center"},AC=["onClick"],DC=["onClick"],TC=["onClick"],QC={class:"card-footer"},VC={class:"d-flex justify-content-between align-items-center"},FC={class:"modal fade",id:"exampleModal",tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},UC={class:"modal-dialog modal-lg"},jC={class:"modal-content"},zC={class:"modal-header"},WC={class:"modal-title",id:"exampleModalLabel"},RC={class:"modal-body"},qC={class:"row g-2"},IC={class:"col-12 mb-2"},NC={key:0,class:"row g-2"},MC={key:0},KC={class:"form-label"},JC={key:0,class:"text-danger"},BC=["placeholder","value"],OC={key:1,class:"invalid-feedback"},HC={key:1},YC={class:"form-label"},ZC={key:0,class:"text-danger"},GC=["placeholder","value"],ew={key:1,class:"invalid-feedback"},aw={key:2},tw={class:"form-label"},sw={key:0,class:"text-danger"},rw=["placeholder","value"],lw={key:0,class:"invalid-feedback"},iw={key:3},ow={class:"form-label"},dw={key:0,class:"text-danger"},nw=["placeholder","value"],cw={key:0,class:"invalid-feedback"},uw={key:4},_w={class:"form-label"},pw={key:0,class:"text-danger"},mw=["value"],bw=["value"],kw=["value"],vw=["value"],hw={key:1,class:"invalid-feedback"},yw={key:5},gw={class:"form-label"},fw={key:0,class:"text-danger"},Lw=["value"],Cw={key:0,class:"invalid-feedback"},ww={key:6},Ew={class:"form-label"},xw={key:0,class:"text-danger"},Xw=["value"],Pw=["value"],$w=["value"],Sw=["value"],Aw={key:1,class:"invalid-feedback"};function Dw(e,a,t,l,i,o){const d=(0,r.g2)("MultiSelect"),c=(0,r.g2)("search"),u=(0,r.g2)("Pagination"),_=(0,r.gN)("can");return(0,r.uX)(),(0,r.CE)(r.FK,null,[(0,r.bo)(((0,r.uX)(),(0,r.CE)("div",mL,[(0,r.Lk)("div",bL,[a[24]||(a[24]=(0,r.Lk)("div",{class:"card-header d-flex justify-content-between"},[(0,r.Lk)("h6",{class:"card-title"},"Variables")],-1)),(0,r.Lk)("div",kL,[(0,r.bo)(((0,r.uX)(),(0,r.CE)("div",vL,[(0,r.Lk)("div",hL,[a[9]||(a[9]=(0,r.Lk)("label",{class:"form-label"},[(0,r.eW)("Asset Zone "),(0,r.Lk)("span",{class:"text-danger"}," *")],-1)),(0,r.bF)(d,{modelValue:i.variable.variable_asset_zones_obj,"onUpdate:modelValue":a[0]||(a[0]=e=>i.variable.variable_asset_zones_obj=e),filter:"",optionLabel:"zone_name",options:i.asset_zones,placeholder:"Select Asset Zone",maxSelectedLabels:3,style:(0,n.Tr)([{width:"100%",height:"37px"},i.errors?.variable_asset_zones?i.error_style:""]),disabled:i.variable.variable_zone_read_only},null,8,["modelValue","options","style","disabled"]),i.errors?.variable_asset_zones?((0,r.uX)(),(0,r.CE)("span",yL,(0,n.v_)(i.errors?.variable_asset_zones[0]),1)):(0,r.Q3)("",!0)]),(0,r.Lk)("div",gL,[a[10]||(a[10]=(0,r.Lk)("label",{class:"form-label"},[(0,r.eW)("Variable "),(0,r.Lk)("span",{class:"text-danger"}," *")],-1)),(0,r.bF)(c,{class:(0,n.C4)([{"is-invalid":i.errors?.variable_id},"my-auto"]),customClass:{"is-invalid":i.errors?.variable_id},"aria-describedby":"basic-addon2","aria-label":"Select Variable",initialize:i.variable.variable_id,id:"variable_id",label:"variable_name",label2:"variable_code",placeholder:"Select Variable",data:e.variables,onInput:a[1]||(a[1]=e=>i.variable.variable_id=e),onSelectsearch:a[2]||(a[2]=e=>o.getVariableAttribute(i.variable.variable_id))},null,8,["class","customClass","initialize","data"]),i.errors?.variable_id?((0,r.uX)(),(0,r.CE)("span",fL,(0,n.v_)(i.errors?.variable_id[0]),1)):(0,r.Q3)("",!0)]),((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(i.variable.asset_variable_attributes,((e,a)=>((0,r.uX)(),(0,r.CE)("div",{class:"col-md-3",key:a},[e.variable_attributes.length&&"Text"==e.variable_attributes[0].field_type?((0,r.uX)(),(0,r.CE)("div",LL,[(0,r.Lk)("label",CL,(0,n.v_)(e.variable_attributes[0].display_name),1),e.variable_attributes[0].is_required?((0,r.uX)(),(0,r.CE)("span",wL,"*")):(0,r.Q3)("",!0),(0,r.bo)((0,r.Lk)("input",{type:"text",class:(0,n.C4)(["form-control",{"is-invalid":i.errors[e.variable_attributes[0].display_name]}]),placeholder:"Enter "+e.variable_attributes[0].display_name,"onUpdate:modelValue":a=>e.field_value=a},null,10,EL),[[s.Jo,e.field_value]]),i.errors[e.variable_attributes[0].display_name]?((0,r.uX)(),(0,r.CE)("span",xL,(0,n.v_)(i.errors[e.variable_attributes[0].display_name][0]),1)):(0,r.Q3)("",!0)])):(0,r.Q3)("",!0),e.variable_attributes.length&&"Number"==e.variable_attributes[0].field_type?((0,r.uX)(),(0,r.CE)("div",XL,[(0,r.Lk)("label",PL,(0,n.v_)(e.variable_attributes[0].display_name),1),e.variable_attributes[0].is_required?((0,r.uX)(),(0,r.CE)("span",$L,"*")):(0,r.Q3)("",!0),(0,r.bo)((0,r.Lk)("input",{type:"number",class:(0,n.C4)(["form-control",{"is-invalid":i.errors[e.variable_attributes[0].display_name]}]),min:"0",oninput:"validity.valid||(value='');",placeholder:"Enter "+e.variable_attributes[0].display_name,"onUpdate:modelValue":a=>e.field_value=a},null,10,SL),[[s.Jo,e.field_value]]),i.errors[e.variable_attributes[0].display_name]?((0,r.uX)(),(0,r.CE)("span",AL,(0,n.v_)(i.errors[e.variable_attributes[0].display_name][0]),1)):(0,r.Q3)("",!0)])):(0,r.Q3)("",!0),e.variable_attributes.length&&"Date"===e.variable_attributes[0].field_type?((0,r.uX)(),(0,r.CE)("div",DL,[(0,r.Lk)("label",TL,[(0,r.eW)((0,n.v_)(e.variable_attributes[0].display_name)+" ",1),e.variable_attributes[0].is_required?((0,r.uX)(),(0,r.CE)("span",QL,"*")):(0,r.Q3)("",!0)]),(0,r.bo)((0,r.Lk)("input",{type:"date",class:(0,n.C4)(["form-control",{"is-invalid":i.errors[e.variable_attributes[0].display_name]}]),placeholder:"Enter "+e.variable_attributes[0].display_name,"onUpdate:modelValue":a=>e.field_value=a},null,10,VL),[[s.Jo,e.field_value]]),i.errors[e.variable_attributes[0].display_name]?((0,r.uX)(),(0,r.CE)("span",FL,(0,n.v_)(i.errors[e.variable_attributes[0].display_name][0]),1)):(0,r.Q3)("",!0)])):(0,r.Q3)("",!0),e.variable_attributes.length&&"Date&Time"===e.variable_attributes[0].field_type?((0,r.uX)(),(0,r.CE)("div",UL,[(0,r.Lk)("label",jL,[(0,r.eW)((0,n.v_)(e.variable_attributes[0].display_name)+" ",1),e.variable_attributes[0].is_required?((0,r.uX)(),(0,r.CE)("span",zL,"*")):(0,r.Q3)("",!0)]),(0,r.bo)((0,r.Lk)("input",{type:"datetime-local",class:(0,n.C4)(["form-control",{"is-invalid":i.errors[e.variable_attributes[0].display_name]}]),placeholder:"Enter "+e.variable_attributes[0].display_name,"onUpdate:modelValue":a=>e.field_value=a,step:"1"},null,10,WL),[[s.Jo,e.field_value]]),i.errors[e.variable_attributes[0].display_name]?((0,r.uX)(),(0,r.CE)("span",RL,(0,n.v_)(i.errors[e.variable_attributes[0].display_name][0]),1)):(0,r.Q3)("",!0)])):(0,r.Q3)("",!0),e.variable_attributes.length&&"Dropdown"==e.variable_attributes[0].field_type?((0,r.uX)(),(0,r.CE)("div",qL,[(0,r.Lk)("label",IL,(0,n.v_)(e.variable_attributes[0].display_name),1),e.variable_attributes[0].is_required?((0,r.uX)(),(0,r.CE)("span",NL,"*")):(0,r.Q3)("",!0),(0,r.bo)((0,r.Lk)("select",{class:(0,n.C4)(["form-control",{"is-invalid":i.errors[e.variable_attributes[0].display_name]}]),"onUpdate:modelValue":a=>e.field_value=a},[e.field_value?((0,r.uX)(),(0,r.CE)("option",{key:0,value:e.field_value},(0,n.v_)(e.field_value),9,KL)):((0,r.uX)(),(0,r.CE)("option",{key:1,value:e.field_value},"Select "+(0,n.v_)(e.variable_attributes[0].display_name),9,JL)),((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(e.variable_attributes[0].field_values.split(","),((e,a)=>((0,r.uX)(),(0,r.CE)("option",{key:a,value:e},(0,n.v_)(e),9,BL)))),128))],10,ML),[[s.u1,e.field_value]]),i.errors[e.variable_attributes[0].display_name]?((0,r.uX)(),(0,r.CE)("span",OL,(0,n.v_)(i.errors[e.variable_attributes[0].display_name][0]),1)):(0,r.Q3)("",!0)])):(0,r.Q3)("",!0),e.variable_attributes.length&&"Color"==e.variable_attributes[0].field_type?((0,r.uX)(),(0,r.CE)("div",HL,[(0,r.Lk)("label",YL,[(0,r.eW)((0,n.v_)(e.variable_attributes[0].display_name),1),e.variable_attributes[0].is_required?((0,r.uX)(),(0,r.CE)("span",ZL,"*")):(0,r.Q3)("",!0)]),(0,r.bo)((0,r.Lk)("input",{type:"color",class:"form-control","onUpdate:modelValue":a=>e.field_value=a,style:{height:"2.2rem"}},null,8,GL),[[s.Jo,e.field_value]]),i.errors[e.variable_attributes[0].display_name]?((0,r.uX)(),(0,r.CE)("span",eC,(0,n.v_)(i.errors[e.variable_attributes[0].display_name][0]),1)):(0,r.Q3)("",!0)])):(0,r.Q3)("",!0),e.variable_attributes.length&&"List"==e.variable_attributes[0].field_type?((0,r.uX)(),(0,r.CE)("div",aC,[(0,r.Lk)("label",tC,(0,n.v_)(e.variable_attributes[0].display_name),1),e.variable_attributes[0].is_required?((0,r.uX)(),(0,r.CE)("span",sC,"*")):(0,r.Q3)("",!0),(0,r.bo)((0,r.Lk)("select",{class:(0,n.C4)(["form-control",{"is-invalid":i.errors[e.variable_attributes[0].display_name]}]),"onUpdate:modelValue":a=>e.field_value=a},[e.variable_attributes[0].variable_attribute_value?.field_value?((0,r.uX)(),(0,r.CE)("option",{key:0,value:e.variable_attributes[0].variable_attribute_value?.field_value},(0,n.v_)(e.variable_attributes[0].variable_attribute_value?.field_value),9,lC)):((0,r.uX)(),(0,r.CE)("option",{key:1,value:e.variable_attributes[0].variable_attribute_value?.field_value},"Select "+(0,n.v_)(e.variable_attributes[0].display_name),9,iC)),((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(e.variable_attributes[0].list_parameter?.field_values.split(","),((e,a)=>((0,r.uX)(),(0,r.CE)("option",{key:a,value:e.trim()},(0,n.v_)(e.trim()),9,oC)))),128))],10,rC),[[s.u1,e.field_value]]),i.errors[e.variable_attributes[0].display_name]?((0,r.uX)(),(0,r.CE)("span",dC,(0,n.v_)(i.errors[e.variable_attributes[0].display_name][0]),1)):(0,r.Q3)("",!0)])):(0,r.Q3)("",!0)])))),128)),i.variable.asset_variable_id?((0,r.uX)(),(0,r.CE)("div",nC,[(0,r.bo)(((0,r.uX)(),(0,r.CE)("button",{class:"btn btn-outline-success me-2",onClick:a[3]||(a[3]=e=>o.updateVariable())},a[11]||(a[11]=[(0,r.Lk)("i",{class:"ri-add-circle-line icon-hgt"},null,-1),(0,r.eW)(" Update")]))),[[_,"assetVariables.update"]])])):((0,r.uX)(),(0,r.CE)("div",cC,[(0,r.bo)(((0,r.uX)(),(0,r.CE)("button",{class:"btn btn-outline-success me-2",onClick:a[4]||(a[4]=e=>o.addVariable())},a[12]||(a[12]=[(0,r.Lk)("i",{class:"ri-add-circle-line icon-hgt"},null,-1),(0,r.eW)(" Add")]))),[[_,"assetVariables.create"]])]))])),[[_,["assetVariables.create","assetVariables.update"]]]),(0,r.bo)((0,r.Lk)("input",{class:"form-control form-control-sm mb-2",type:"text",placeholder:"Type keyword and press enter key","onUpdate:modelValue":a[5]||(a[5]=e=>i.variable_meta_service.search=e),onKeypress:a[6]||(a[6]=(0,s.jR)((e=>o.searchVariable()),["enter"]))},null,544),[[s.Jo,i.variable_meta_service.search]]),(0,r.Lk)("div",uC,[(0,r.Lk)("div",_C,[(0,r.Lk)("div",pC,[(0,r.Lk)("table",mC,[(0,r.Lk)("thead",null,[(0,r.Lk)("tr",bC,[a[17]||(a[17]=(0,r.Lk)("th",{class:"text-center"},"#",-1)),(0,r.Lk)("th",null,[a[13]||(a[13]=(0,r.eW)(" Asset Zone ")),(0,r.Lk)("span",null,["asset_zone_id"==i.variable_meta_service.keyword&&"asc"==i.variable_meta_service.order_by?((0,r.uX)(),(0,r.CE)("i",kC)):"asset_zone_id"==i.variable_meta_service.keyword&&"desc"==i.variable_meta_service.order_by?((0,r.uX)(),(0,r.CE)("i",vC)):((0,r.uX)(),(0,r.CE)("i",hC))])]),(0,r.Lk)("th",null,[a[14]||(a[14]=(0,r.eW)(" Variable Type ")),(0,r.Lk)("span",null,["variable_type_id"==i.variable_meta_service.keyword&&"asc"==i.variable_meta_service.order_by?((0,r.uX)(),(0,r.CE)("i",yC)):"variable_type_id"==i.variable_meta_service.keyword&&"desc"==i.variable_meta_service.order_by?((0,r.uX)(),(0,r.CE)("i",gC)):((0,r.uX)(),(0,r.CE)("i",fC))])]),(0,r.Lk)("th",null,[a[15]||(a[15]=(0,r.eW)(" Variable Code ")),(0,r.Lk)("span",null,["variable_code"==i.variable_meta_service.keyword&&"asc"==i.variable_meta_service.order_by?((0,r.uX)(),(0,r.CE)("i",LC)):"variable_code"==i.variable_meta_service.keyword&&"desc"==i.variable_meta_service.order_by?((0,r.uX)(),(0,r.CE)("i",CC)):((0,r.uX)(),(0,r.CE)("i",wC))])]),(0,r.Lk)("th",null,[a[16]||(a[16]=(0,r.eW)(" Variable Name ")),(0,r.Lk)("span",null,["variable_name"==i.variable_meta_service.keyword&&"asc"==i.variable_meta_service.order_by?((0,r.uX)(),(0,r.CE)("i",EC)):"variable_name"==i.variable_meta_service.keyword&&"desc"==i.variable_meta_service.order_by?((0,r.uX)(),(0,r.CE)("i",xC)):((0,r.uX)(),(0,r.CE)("i",XC))])]),a[18]||(a[18]=(0,r.Lk)("th",{class:"text-center"},"Actions",-1))])]),(0,r.Lk)("tbody",null,[0==i.asset_variables?.length?((0,r.uX)(),(0,r.CE)("tr",PC,a[19]||(a[19]=[(0,r.Lk)("td",{colspan:"6",class:"text-center"},"No records found",-1)]))):(0,r.Q3)("",!0),((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(i.asset_variables,((e,t)=>((0,r.uX)(),(0,r.CE)("tr",{key:t},[(0,r.Lk)("td",$C,(0,n.v_)((i.variable_meta_service.page-1)*i.variable_meta_service.per_page+t+1),1),(0,r.Lk)("td",null,(0,n.v_)(e.asset_zone?.zone_name),1),(0,r.Lk)("td",null,(0,n.v_)(e.variable?.variable_type?.variable_type_name),1),(0,r.Lk)("td",null,(0,n.v_)(e.variable?.variable_code),1),(0,r.Lk)("td",null,(0,n.v_)(e.variable?.variable_name),1),(0,r.Lk)("td",SC,[(0,r.bo)(((0,r.uX)(),(0,r.CE)("a",{href:"javascript:void(0)",class:"text-success me-2",onClick:a=>o.editVariable(e)},a[20]||(a[20]=[(0,r.Lk)("i",{class:"ri-pencil-line fs-18 lh-1"},null,-1)]),8,AC)),[[_,"assetVariables.update"]]),(0,r.Lk)("a",{href:"javascript:void(0)",class:"text-primary me-2","data-bs-toggle":"modal","data-bs-target":"#exampleModal",onClick:(0,s.D$)((a=>o.viewAsset(e,"Variables")),["prevent"])},a[21]||(a[21]=[(0,r.Lk)("i",{class:"ri-eye-fill fs-18 lh-1"},null,-1)]),8,DC),(0,r.bo)(((0,r.uX)(),(0,r.CE)("a",{href:"javascript:void(0)",class:"text-danger me-2",onClick:a=>o.deleteVariable(e)},a[22]||(a[22]=[(0,r.Lk)("i",{class:"ri-delete-bin-6-line fs-18 lh-1"},null,-1)]),8,TC)),[[_,"assetVariables.delete"]])])])))),128))])])])])])]),(0,r.Lk)("div",QC,[(0,r.Lk)("div",VC,[(0,r.bo)((0,r.Lk)("select",{class:"form-select from-select-sm width-75","onUpdate:modelValue":a[7]||(a[7]=e=>i.variable_meta_service.per_page=e),onChange:a[8]||(a[8]=e=>o.onPerPageChange("Variables"))},a[23]||(a[23]=[(0,r.Lk)("option",null,"5",-1),(0,r.Lk)("option",null,"10",-1),(0,r.Lk)("option",null,"15",-1),(0,r.Lk)("option",null,"20",-1),(0,r.Lk)("option",null,"25",-1),(0,r.Lk)("option",null,"30",-1)]),544),[[s.u1,i.variable_meta_service.per_page]]),(0,r.Lk)("span",null,"Showing "+(0,n.v_)(i.variable_meta_service.from)+" to "+(0,n.v_)(i.variable_meta_service.to)+" of "+(0,n.v_)(i.variable_meta_service.totalRows)+" entries",1),(0,r.bF)(u,{maxPage:i.variable_meta_service.maxPage,totalPages:i.variable_meta_service.lastPage,currentPage:i.variable_meta_service.page,onPagechanged:o.onPageChange,from:"Variables"},null,8,["maxPage","totalPages","currentPage","onPagechanged"])])])])])),[[_,"assetVariables.view"]]),(0,r.Lk)("div",FC,[(0,r.Lk)("div",UC,[(0,r.Lk)("div",jC,[(0,r.Lk)("div",zC,[(0,r.Lk)("h5",WC,(0,n.v_)(i.asset_type),1),a[25]||(a[25]=(0,r.Lk)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1))]),(0,r.Lk)("div",RC,[(0,r.Lk)("div",qC,[(0,r.Lk)("div",IC,["Variables"==i.asset_type?((0,r.uX)(),(0,r.CE)("div",NC,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(i.assets1?.asset_variable_attributes,((e,a)=>((0,r.uX)(),(0,r.CE)("div",{class:"col-md-4",key:a},[e.variable_attributes.length&&"Text"==e.variable_attributes[0].field_type?((0,r.uX)(),(0,r.CE)("div",MC,[(0,r.Lk)("label",KC,(0,n.v_)(e.variable_attributes[0].display_name),1),e.variable_attributes[0].is_required?((0,r.uX)(),(0,r.CE)("span",JC,"*")):(0,r.Q3)("",!0),(0,r.Lk)("input",{type:"text",class:(0,n.C4)(["form-control",{"is-invalid":i.errors[e.variable_attributes[0].display_name]}]),placeholder:"Enter "+e.variable_attributes[0].display_name,value:e.field_value,disabled:"true"},null,10,BC),i.errors[e.variable_attributes[0].display_name]?((0,r.uX)(),(0,r.CE)("span",OC,(0,n.v_)(i.errors[e.variable_attributes[0].display_name][0]),1)):(0,r.Q3)("",!0)])):(0,r.Q3)("",!0),e.variable_attributes.length&&"Number"==e.variable_attributes[0].field_type?((0,r.uX)(),(0,r.CE)("div",HC,[(0,r.Lk)("label",YC,(0,n.v_)(e.variable_attributes[0].display_name),1),e.variable_attributes[0].is_required?((0,r.uX)(),(0,r.CE)("span",ZC,"*")):(0,r.Q3)("",!0),(0,r.Lk)("input",{type:"number",class:(0,n.C4)(["form-control",{"is-invalid":i.errors[e.variable_attributes[0].display_name]}]),min:"0",oninput:"validity.valid||(value='');",placeholder:"Enter "+e.variable_attributes[0].display_name,value:e.field_value,disabled:"true"},null,10,GC),i.errors[e.variable_attributes[0].display_name]?((0,r.uX)(),(0,r.CE)("span",ew,(0,n.v_)(i.errors[e.variable_attributes[0].display_name][0]),1)):(0,r.Q3)("",!0)])):(0,r.Q3)("",!0),e.variable_attributes.length&&"Date"===e.variable_attributes[0].field_type?((0,r.uX)(),(0,r.CE)("div",aw,[(0,r.Lk)("label",tw,[(0,r.eW)((0,n.v_)(e.variable_attributes[0].display_name)+" ",1),e.variable_attributes[0].is_required?((0,r.uX)(),(0,r.CE)("span",sw,"*")):(0,r.Q3)("",!0)]),(0,r.Lk)("input",{type:"date",class:(0,n.C4)(["form-control",{"is-invalid":i.errors[e.variable_attributes[0].display_name]}]),placeholder:"Enter "+e.variable_attributes[0].display_name,value:e.field_value,disabled:"true"},null,10,rw),i.errors[e.variable_attributes[0].display_name]?((0,r.uX)(),(0,r.CE)("span",lw,(0,n.v_)(i.errors[e.variable_attributes[0].display_name][0]),1)):(0,r.Q3)("",!0)])):(0,r.Q3)("",!0),e.variable_attributes.length&&"Date&Time"===e.variable_attributes[0].field_type?((0,r.uX)(),(0,r.CE)("div",iw,[(0,r.Lk)("label",ow,[(0,r.eW)((0,n.v_)(e.variable_attributes[0].display_name)+" ",1),e.variable_attributes[0].is_required?((0,r.uX)(),(0,r.CE)("span",dw,"*")):(0,r.Q3)("",!0)]),(0,r.Lk)("input",{type:"datetime-local",class:(0,n.C4)(["form-control",{"is-invalid":i.errors[e.variable_attributes[0].display_name]}]),placeholder:"Enter "+e.variable_attributes[0].display_name,value:e.field_value,step:"1",disabled:"true"},null,10,nw),i.errors[e.variable_attributes[0].display_name]?((0,r.uX)(),(0,r.CE)("span",cw,(0,n.v_)(i.errors[e.variable_attributes[0].display_name][0]),1)):(0,r.Q3)("",!0)])):(0,r.Q3)("",!0),e.variable_attributes.length&&"Dropdown"==e.variable_attributes[0].field_type?((0,r.uX)(),(0,r.CE)("div",uw,[(0,r.Lk)("label",_w,(0,n.v_)(e.variable_attributes[0].display_name),1),e.variable_attributes[0].is_required?((0,r.uX)(),(0,r.CE)("span",pw,"*")):(0,r.Q3)("",!0),(0,r.Lk)("select",{class:(0,n.C4)(["form-control",{"is-invalid":i.errors[e.variable_attributes[0].display_name]}]),value:e.field_value,disabled:"true"},[e.field_value?((0,r.uX)(),(0,r.CE)("option",{key:0,value:e.field_value},(0,n.v_)(e.field_value),9,bw)):((0,r.uX)(),(0,r.CE)("option",{key:1,value:e.field_value},"Select "+(0,n.v_)(e.variable_attributes[0].display_name),9,kw)),((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(e.variable_attributes[0].field_values.split(","),((e,a)=>((0,r.uX)(),(0,r.CE)("option",{key:a,value:e},(0,n.v_)(e),9,vw)))),128))],10,mw),i.errors[e.variable_attributes[0].display_name]?((0,r.uX)(),(0,r.CE)("span",hw,(0,n.v_)(i.errors[e.variable_attributes[0].display_name][0]),1)):(0,r.Q3)("",!0)])):(0,r.Q3)("",!0),e.variable_attributes.length&&"Color"==e.variable_attributes[0].field_type?((0,r.uX)(),(0,r.CE)("div",yw,[(0,r.Lk)("label",gw,[(0,r.eW)((0,n.v_)(e.variable_attributes[0].display_name),1),e.variable_attributes[0].is_required?((0,r.uX)(),(0,r.CE)("span",fw,"*")):(0,r.Q3)("",!0)]),(0,r.Lk)("input",{type:"color",class:"form-control",value:e.field_value,style:{height:"2.2rem"},disabled:"true"},null,8,Lw),i.errors[e.variable_attributes[0].display_name]?((0,r.uX)(),(0,r.CE)("span",Cw,(0,n.v_)(i.errors[e.variable_attributes[0].display_name][0]),1)):(0,r.Q3)("",!0)])):(0,r.Q3)("",!0),e.variable_attributes.length&&"List"==e.variable_attributes[0].field_type?((0,r.uX)(),(0,r.CE)("div",ww,[(0,r.Lk)("label",Ew,(0,n.v_)(e.variable_attributes[0].display_name),1),e.variable_attributes[0].is_required?((0,r.uX)(),(0,r.CE)("span",xw,"*")):(0,r.Q3)("",!0),(0,r.Lk)("select",{class:(0,n.C4)(["form-control",{"is-invalid":i.errors[e.variable_attributes[0].display_name]}]),value:e.field_value,disabled:"true"},[e.variable_attributes[0].variable_attribute_value?.field_value?((0,r.uX)(),(0,r.CE)("option",{key:0,value:e.variable_attributes[0].variable_attribute_value?.field_value},(0,n.v_)(e.variable_attributes[0].variable_attribute_value?.field_value),9,Pw)):((0,r.uX)(),(0,r.CE)("option",{key:1,value:e.variable_attributes[0].variable_attribute_value?.field_value},"Select "+(0,n.v_)(e.variable_attributes[0].display_name),9,$w)),((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(e.variable_attributes[0].list_parameter?.field_values.split(","),((e,a)=>((0,r.uX)(),(0,r.CE)("option",{key:a,value:e.trim()},(0,n.v_)(e.trim()),9,Sw)))),128))],10,Xw),i.errors[e.variable_attributes[0].display_name]?((0,r.uX)(),(0,r.CE)("span",Aw,(0,n.v_)(i.errors[e.variable_attributes[0].display_name][0]),1)):(0,r.Q3)("",!0)])):(0,r.Q3)("",!0)])))),128))])):(0,r.Q3)("",!0)])])])])])])],64)}var Tw={name:"Assets.View",components:{Search:It.A,Pagination:md,MultiSelect:Ru.A},props:{asset_id:{type:Number,required:!0}},data(){return{asset_type:"",variable_meta_service:{search:"",order_by:"desc",keyword:"variable_id",per_page:10,totalRows:0,page:1,lastPage:1,from:1,to:1,maxPage:1,trashed:!1,asset_id:"",asset_type_id:""},asset:{asset_id:"",plant_id:"",asset_code:"",asset_name:"",asset_type_id:"",section_id:"",serial_no:"",status:"",QR_Code:""},variable:{variable_id:"",variable_code:"",variable_name:"",asset_id:"",asset_zone_id:"",variable_asset_zones_obj:[],variable_asset_zones:[],asset_variable_id:"",asset_variable_attributes:[],initial_variable_id:"",initial_asset_variable_attributes:[],deleted_asset_variable_values:[],variable_zone_read_only:!1},asset_spares:[],checks:[],template_services:[],asset_variables:[],asset_zones:[],asset_spare_services:[],errors:[],status:!0,asset_zone_status:!1,asset_zone_status_variables:!1,isValid:!0,assets1:[],error_style:{"border-color":"#dc3545","padding-right":"calc(1.5em + 0.812rem)","background-image":"url(\"data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 12 12' width='12' height='12' fill='none' stroke='%23dc3545'%3e%3ccircle cx='6' cy='6' r='4.5'/%3e%3cpath stroke-linejoin='round' d='M5.8 3.6h.4L6 6.5z'/%3e%3ccircle cx='6' cy='8.2' r='.6' fill='%23dc3545' stroke='none'/%3e%3c/svg%3e\")","background-repeat":"no-repeat","background-position":"right calc(0.375em + 0.203rem) center","background-size":"calc(0.75em + 0.406rem) calc(0.75em + 0.406rem)"}}},watch:{assets1(){this.assets1=this.$store.getters.assets}},mounted(){document.body.classList.add("sidebar-hide"),this.getAsset()},methods:{getAsset(){let e=this;e.$store.dispatch("post",{uri:"getAsset",data:{asset_id:e.asset_id}}).then((a=>{e.asset=a.data.asset,e.asset_zones=a?.data?.asset?.zone_name,e.asset.QR_Code=a?.data?.QRCode,e.getAssetVariables()})).catch((function(a){e.errors=a.response?.data?.errors,e.$store.dispatch("error",a.response?.data?.message)}))},getAssetVariables(){let e=this,a=e.$loading.show();e.variable_meta_service.asset_id=e.asset.asset_id,e.variable_meta_service.asset_type_id=e.asset.asset_type_id,e.$store.dispatch("post",{uri:"paginateAssetVariables",data:e.variable_meta_service}).then((t=>{a.hide(),console.log("pagevariable",t.data),e.variables=t.data.variables,e.asset_variables=t.data.paginate_variables,e.variable_meta_service.totalRows=t.data.meta.total,e.variable_meta_service.from=t.data.meta.from,e.variable_meta_service.to=t.data.meta.to,e.variable_meta_service.lastPage=t.data.meta.last_page,e.variable_meta_service.maxPage=e.variable_meta_service.lastPage>=3?3:e.variable_meta_service.lastPage})).catch((function(t){a.hide(),e.errors=t.response.data.errors,e.$store.dispatch("error",t.response.data.message)}))},editVariable(e){this.variable.variable_id=e.variable_id,this.variable.asset_id=e.asset_id,this.variable.asset_variable_id=e.asset_variable_id,this.variable.variable_code=e.variable_code,this.variable.variable_name=e.variable_name,this.variable.variable_asset_zones=[],this.variable.variable_asset_zones.push(e.asset_zone_id),this.variable.asset_zone_id=e.asset_zone_id,this.variable.asset_variable_attributes=e.asset_variable_attributes,this.variable.initial_variable_id=e.variable_id,this.variable.initial_asset_variable_attributes=e.asset_variable_attributes;const a=this.asset_zones.find((a=>a.asset_zone_id===e.asset_zone_id));this.variable.variable_asset_zones_obj=a?[a]:[{asset_id:e.asset_zone.asset_id,asset_zone_id:e.asset_zone.asset_zone_id,zone_name:e.asset_zone.zone_name,diameter:e.asset_zone.diameter,height:e.asset_zone.height,asset_spares:e.asset_zone.asset_spares}],this.variable.variable_zone_read_only=!0},validateFields(e){if(this.isValid=!0,this.errors={},"Variables"==e)for(const a of Object.values(this.variable.asset_variable_attributes))a.variable_attributes.length&&a.variable_attributes[0].is_required&&!a.field_value&&("Color"===a.variable_attributes[0].field_type?a.field_value="#000000":(this.errors[a.variable_attributes[0].display_name]=[`${a.variable_attributes[0].display_name} is required`],this.isValid=!1))},addVariable(){let e=this;e.variable.asset_id=e.asset.asset_id,e.variable.variable_asset_zones=[],e.variable.variable_asset_zones_obj.map((function(a){e.variable.variable_asset_zones.push(a.asset_zone_id)}));let a=e.$loading.show();e.validateFields("Variables"),e.isValid?e.$store.dispatch("post",{uri:"addAssetVariable",data:e.variable}).then((t=>{a.hide(),e.$store.dispatch("success",t.data.message),e.variable.variable_id="",e.variable.asset_zone_id="",e.variable.variable_asset_zones=[],e.variable.asset_variable_attributes=[],e.variable.initial_variable_id="",e.variable.initial_asset_variable_attributes=[],e.variable.deleted_asset_variable_values=[],e.asset_zone_status_variables=!1,e.variable.variable_asset_zones_obj=[],e.variable.variable_zone_read_only=!1,e.errors=[],e.getAssetVariables()})).catch((function(t){a.hide(),e.errors=t.response.data.errors,e.$store.dispatch("error",t.response.data.message)})):a.hide()},updateVariable(){let e=this,a=e.$loading.show();if(e.validateFields("Variables"),!e.isValid)return void a.hide();e.variable.variable_id!=e.variable.initial_variable_id&&e.variable.initial_asset_variable_attributes.map((function(a){e.variable.deleted_asset_variable_values.push(a.asset_variable_value_id)}));let t={uri:"updateAssetVariable",data:e.variable};e.$store.dispatch("post",t).then((function(t){a.hide(),e.$store.dispatch("success",t.data.message),e.variable.variable_id="",e.variable.asset_zone_id="",e.variable.asset_variable_id="",e.variable.variable_asset_zones=[],e.variable.asset_variable_attributes=[],e.variable.initial_variable_id="",e.variable.initial_asset_variable_attributes=[],e.variable.deleted_asset_variable_values=[],e.asset_zone_status_variables=!1,e.variable.variable_asset_zones_obj=[],e.variable.variable_zone_read_only=!1,e.errors=[],e.getAssetVariables()})).catch((function(t){a.hide(),e.errors=t.response?.data?.errors,e.$store.dispatch("error",t?.response?.data?.message)}))},deleteVariable(e){const a=confirm("Are you sure you want to delete it ?");if(a){let a=this,t=a.$loading.show();a.$store.dispatch("post",{uri:"deleteAssetVariable",data:e}).then((e=>{t.hide(),a.$store.dispatch("success",e.data.message),a.variable.variable_id="",a.errors=[],a.getAssetVariables()})).catch((function(e){t.hide(),a.errors=e.response.data.errors,a.$store.dispatch("warning",e.response.data.message)}))}},onPageChange(e,a){"Variables"==a&&(this.variable_meta_service.page=e,this.getAssetVariables())},sort(e,a){"Variables"==a&&(this.variable_meta_service.keyword=e,this.variable_meta_service.order_by="asc"==this.variable_meta_service.order_by?"desc":"asc",this.getAssetVariables())},onPerPageChange(e){"Variables"==e&&(this.variable_meta_service.page=1,this.getAssetVariables())},getVariableAttribute(e){let a=this,t=a.$loading.show();a.variable.asset_variable_attributes=[],a.$store.dispatch("post",{uri:"assetVariableAttributeValues",data:{variable_id:e}}).then((e=>{t.hide(),a.variable.asset_variable_attributes=e.data.data})).catch((function(e){t.hide(),a.errors=e.response.data.errors,a.$store.dispatch("error",e.response.data.message)}))},viewAsset(e,a){this.$store.commit("setAssets",e),this.asset_type=a,this.assets1=this.$store.getters.assets},searchVariable(){let e=this;e.variable_meta_service.page=1,e.getAssetVariables()}}};const Qw=(0,Ze.A)(Tw,[["render",Dw],["__scopeId","data-v-46d7027b"]]);var Vw=Qw;const Fw={class:"col-12 mb-2"},Uw={class:"card card-one"},jw={class:"card-body"},zw={class:"row mb-3 g-2"},Ww={class:"col-md-4"},Rw={key:0,class:"invalid-feedback",style:{display:"block !important"}},qw={class:"col-md-4"},Iw={key:0,class:"invalid-feedback"},Nw={class:"col-md-4"},Mw={key:0,class:"invalid-feedback"},Kw={class:"col-md-10"},Jw={key:0,class:"invalid-feedback"},Bw={class:"col-md-2 mt-auto"},Ow={style:{float:"left"}},Hw={class:"row g-2"},Yw={class:"col-12"},Zw={class:"table-responsive table-responsive-sm"},Gw={class:"table table-sm text-nowrap table-striped table-bordered mb-0"},eE={class:""},aE={key:0,class:"ri-arrow-up-line"},tE={key:1,class:"ri-arrow-down-line"},sE={key:2,class:"fas fa-sort"},rE={key:0,class:"ri-arrow-up-line"},lE={key:1,class:"ri-arrow-down-line"},iE={key:2,class:"fas fa-sort"},oE={key:0,class:"ri-arrow-up-line"},dE={key:1,class:"ri-arrow-down-line"},nE={key:2,class:"fas fa-sort"},cE={key:0,class:"ri-arrow-up-line"},uE={key:1,class:"ri-arrow-down-line"},_E={key:2,class:"fas fa-sort"},pE={class:"text-center"},mE={key:0},bE={class:"text-center"},kE=["href"],vE={key:1},hE={class:"text-center"},yE=["onClick"],gE={class:"card-footer"},fE={class:"d-flex justify-content-between align-items-center"};function LE(e,a,t,l,i,o){const d=(0,r.g2)("MultiSelect"),c=(0,r.g2)("search"),u=(0,r.g2)("Pagination"),_=(0,r.gN)("can");return(0,r.bo)(((0,r.uX)(),(0,r.CE)("div",Fw,[(0,r.Lk)("div",Uw,[a[22]||(a[22]=(0,r.Lk)("div",{class:"card-header d-flex justify-content-between"},[(0,r.Lk)("h6",{class:"card-title"},"Accessories")],-1)),(0,r.Lk)("div",jw,[(0,r.bo)(((0,r.uX)(),(0,r.CE)("div",zw,[(0,r.Lk)("div",Ww,[a[8]||(a[8]=(0,r.Lk)("label",{class:"form-label"},[(0,r.eW)("Asset Zone "),(0,r.Lk)("span",{class:"text-danger"}," *")],-1)),(0,r.bF)(d,{modelValue:i.accessory.accessory_asset_zones_obj,"onUpdate:modelValue":a[0]||(a[0]=e=>i.accessory.accessory_asset_zones_obj=e),filter:"",optionLabel:"zone_name",options:i.asset_zones,placeholder:"Select Asset Zone",maxSelectedLabels:3,style:(0,n.Tr)([{width:"100%",height:"37px"},i.errors?.accessory_asset_zones?i.error_style:""]),disabled:i.accessory.accessory_zone_read_only},null,8,["modelValue","options","style","disabled"]),i.errors?.accessory_asset_zones?((0,r.uX)(),(0,r.CE)("span",Rw,(0,n.v_)(i.errors?.accessory_asset_zones[0]),1)):(0,r.Q3)("",!0)]),(0,r.Lk)("div",qw,[a[9]||(a[9]=(0,r.Lk)("label",{class:"form-label"},[(0,r.eW)("Accessory "),(0,r.Lk)("span",{class:"text-danger"}," *")],-1)),(0,r.bF)(c,{class:(0,n.C4)([{"is-invalid":i.errors?.accessory_type_id},"my-auto"]),customClass:{"is-invalid":i.errors?.accessory_type_id},"aria-describedby":"basic-addon2","aria-label":"Select Accessory",initialize:i.accessory.accessory_type_id,id:"accessory_type_id",label:"accessory_type_name",placeholder:"Select Accessory",data:i.accessory_types,onInput:a[1]||(a[1]=e=>i.accessory.accessory_type_id=e)},null,8,["class","customClass","initialize","data"]),i.errors?.accessory_type_id?((0,r.uX)(),(0,r.CE)("span",Iw,(0,n.v_)(i.errors?.accessory_type_id[0]),1)):(0,r.Q3)("",!0)]),(0,r.Lk)("div",Nw,[a[10]||(a[10]=(0,r.Lk)("label",{class:"form-label"},[(0,r.eW)("Accessory Name "),(0,r.Lk)("span",{class:"text-danger"}," *")],-1)),(0,r.bo)((0,r.Lk)("input",{type:"text",placeholder:"Enter accessory name",class:(0,n.C4)(["form-control",{"is-invalid":i.errors?.accessory_name}]),"onUpdate:modelValue":a[2]||(a[2]=e=>i.accessory.accessory_name=e)},null,2),[[s.Jo,i.accessory.accessory_name]]),i.errors?.accessory_name?((0,r.uX)(),(0,r.CE)("span",Mw,(0,n.v_)(i.errors?.accessory_name[0]),1)):(0,r.Q3)("",!0)]),(0,r.Lk)("div",Kw,[a[11]||(a[11]=(0,r.Lk)("label",{class:"form-label"},[(0,r.eW)("Attachment "),(0,r.Lk)("span",{class:"text-danger"}," *")],-1)),(0,r.Lk)("input",{type:"file",class:(0,n.C4)(["form-control",{"is-invalid":i.errors?.attachment}]),id:"attachment",ref:"attachment",name:"attachment"},null,2),i.errors?.attachment?((0,r.uX)(),(0,r.CE)("span",Jw,(0,n.v_)(i.errors?.attachment[0]),1)):(0,r.Q3)("",!0)]),(0,r.Lk)("div",Bw,[(0,r.Lk)("div",Ow,[(0,r.Lk)("button",{class:"btn btn-outline-success me-2",onClick:a[3]||(a[3]=e=>o.addAccessory())},a[12]||(a[12]=[(0,r.Lk)("i",{class:"ri-add-circle-line icon-hgt"},null,-1),(0,r.eW)(" Add")]))])])])),[[_,"asset_accessories.create"]]),(0,r.bo)((0,r.Lk)("input",{class:"form-control form-control-sm mb-2",type:"text",placeholder:"Type keyword and press enter key","onUpdate:modelValue":a[4]||(a[4]=e=>i.accessory_meta_service.search=e),onKeypress:a[5]||(a[5]=(0,s.jR)((e=>o.searchAccessory()),["enter"]))},null,544),[[s.Jo,i.accessory_meta_service.search]]),(0,r.Lk)("div",Hw,[(0,r.Lk)("div",Yw,[(0,r.Lk)("div",Zw,[(0,r.Lk)("table",Gw,[(0,r.Lk)("thead",null,[(0,r.Lk)("tr",eE,[a[18]||(a[18]=(0,r.Lk)("th",{class:"text-center"},"#",-1)),(0,r.Lk)("th",null,[a[13]||(a[13]=(0,r.eW)(" Asset Zone ")),(0,r.Lk)("span",null,["asset_zone_id"==i.accessory_meta_service.keyword&&"asc"==i.accessory_meta_service.order_by?((0,r.uX)(),(0,r.CE)("i",aE)):"asset_zone_id"==i.accessory_meta_service.keyword&&"desc"==i.accessory_meta_service.order_by?((0,r.uX)(),(0,r.CE)("i",tE)):((0,r.uX)(),(0,r.CE)("i",sE))])]),(0,r.Lk)("th",null,[a[14]||(a[14]=(0,r.eW)(" Accessory Type ")),(0,r.Lk)("span",null,["accessory_type_id"==i.accessory_meta_service.keyword&&"asc"==i.accessory_meta_service.order_by?((0,r.uX)(),(0,r.CE)("i",rE)):"accessory_type_id"==i.accessory_meta_service.keyword&&"desc"==i.accessory_meta_service.order_by?((0,r.uX)(),(0,r.CE)("i",lE)):((0,r.uX)(),(0,r.CE)("i",iE))])]),(0,r.Lk)("th",null,[a[15]||(a[15]=(0,r.eW)(" Accessory Name ")),(0,r.Lk)("span",null,["accessory_name"==i.accessory_meta_service.keyword&&"asc"==i.accessory_meta_service.order_by?((0,r.uX)(),(0,r.CE)("i",oE)):"accessory_name"==i.accessory_meta_service.keyword&&"desc"==i.accessory_meta_service.order_by?((0,r.uX)(),(0,r.CE)("i",dE)):((0,r.uX)(),(0,r.CE)("i",nE))])]),(0,r.Lk)("th",null,[a[16]||(a[16]=(0,r.eW)(" Attachment ")),(0,r.Lk)("span",null,["attachment"==i.accessory_meta_service.keyword&&"asc"==i.accessory_meta_service.order_by?((0,r.uX)(),(0,r.CE)("i",cE)):"attachment"==i.accessory_meta_service.keyword&&"desc"==i.accessory_meta_service.order_by?((0,r.uX)(),(0,r.CE)("i",uE)):((0,r.uX)(),(0,r.CE)("i",_E))])]),(0,r.bo)(((0,r.uX)(),(0,r.CE)("th",pE,a[17]||(a[17]=[(0,r.eW)("Actions")]))),[[_,"asset_accessories.delete"]])])]),(0,r.Lk)("tbody",null,[0==i.asset_accessories?.length?((0,r.uX)(),(0,r.CE)("tr",mE,a[19]||(a[19]=[(0,r.Lk)("td",{colspan:"6",class:"text-center"},"No records found",-1)]))):(0,r.Q3)("",!0),((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(i.asset_accessories,((e,t)=>((0,r.uX)(),(0,r.CE)("tr",{key:t},[(0,r.Lk)("td",bE,(0,n.v_)((i.accessory_meta_service.page-1)*i.accessory_meta_service.per_page+t+1),1),(0,r.Lk)("td",null,(0,n.v_)(e.asset_zone?.zone_name),1),(0,r.Lk)("td",null,(0,n.v_)(e.accessory_type.accessory_type_name),1),(0,r.Lk)("td",null,(0,n.v_)(e.accessory_name),1),(0,r.Lk)("td",null,[e.attachment?((0,r.uX)(),(0,r.CE)("a",{key:0,href:o.getAttachmentUrl(e.attachment),target:"_blank",rel:"noopener noreferrer"},(0,n.v_)(o.getAttachmentName(e.attachment)),9,kE)):((0,r.uX)(),(0,r.CE)("span",vE,"No attachment"))]),(0,r.bo)(((0,r.uX)(),(0,r.CE)("td",hE,[(0,r.Lk)("a",{href:"javascript:void(0)",class:"text-danger me-2",onClick:a=>o.deleteAccessory(e)},a[20]||(a[20]=[(0,r.Lk)("i",{class:"ri-delete-bin-6-line fs-18 lh-1"},null,-1)]),8,yE)])),[[_,"asset_accessories.delete"]])])))),128))])])])])])]),(0,r.Lk)("div",gE,[(0,r.Lk)("div",fE,[(0,r.bo)((0,r.Lk)("select",{class:"form-select from-select-sm width-75","onUpdate:modelValue":a[6]||(a[6]=e=>i.accessory_meta_service.per_page=e),onChange:a[7]||(a[7]=e=>o.onPerPageChange("Accessories"))},a[21]||(a[21]=[(0,r.Lk)("option",null,"5",-1),(0,r.Lk)("option",null,"10",-1),(0,r.Lk)("option",null,"15",-1),(0,r.Lk)("option",null,"20",-1),(0,r.Lk)("option",null,"25",-1),(0,r.Lk)("option",null,"30",-1)]),544),[[s.u1,i.accessory_meta_service.per_page]]),(0,r.Lk)("span",null,"Showing "+(0,n.v_)(i.accessory_meta_service.from)+" to "+(0,n.v_)(i.accessory_meta_service.to)+" of "+(0,n.v_)(i.accessory_meta_service.totalRows)+" entries",1),(0,r.bF)(u,{maxPage:i.accessory_meta_service.maxPage,totalPages:i.accessory_meta_service.lastPage,currentPage:i.accessory_meta_service.page,onPagechanged:o.onPageChange,from:"Accessories"},null,8,["maxPage","totalPages","currentPage","onPagechanged"])])])])])),[[_,"asset_accessories.view"]])}var CE={name:"Assets.View",components:{Search:It.A,Pagination:md,MultiSelect:Ru.A},props:{asset_id:{type:Number,required:!0}},data(){return{asset_type:"",accessory_meta_service:{search:"",order_by:"desc",keyword:"asset_accessory_id",per_page:10,totalRows:0,page:1,lastPage:1,from:1,to:1,maxPage:1,trashed:!1,asset_id:"",asset_type_id:""},asset:{asset_id:"",plant_id:"",asset_code:"",asset_name:"",asset_type_id:"",section_id:"",serial_no:"",status:"",QR_Code:""},accessory:{accessory_id:"",asset_id:"",accessory_asset_zones:[],accessory_name:"",accessory_type_id:"",attachment:"",accessory_asset_zones_obj:[],accessory_zone_read_only:!1},checks:[],template_services:[],accessory_types:[],asset_accessories:[],asset_zones:[],asset_spare_services:[],errors:[],status:!0,asset_zone_status:!1,asset_zone_status_accessories:!1,isValid:!0,assets1:[],error_style:{"border-color":"#dc3545","padding-right":"calc(1.5em + 0.812rem)","background-image":"url(\"data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 12 12' width='12' height='12' fill='none' stroke='%23dc3545'%3e%3ccircle cx='6' cy='6' r='4.5'/%3e%3cpath stroke-linejoin='round' d='M5.8 3.6h.4L6 6.5z'/%3e%3ccircle cx='6' cy='8.2' r='.6' fill='%23dc3545' stroke='none'/%3e%3c/svg%3e\")","background-repeat":"no-repeat","background-position":"right calc(0.375em + 0.203rem) center","background-size":"calc(0.75em + 0.406rem) calc(0.75em + 0.406rem)"}}},watch:{assets1(){this.assets1=this.$store.getters.assets}},mounted(){document.body.classList.add("sidebar-hide"),this.getAsset()},methods:{getAsset(){let e=this;e.$store.dispatch("post",{uri:"getAsset",data:{asset_id:e.asset_id}}).then((a=>{e.asset=a.data.asset,e.asset_zones=a?.data?.asset?.zone_name,e.asset.QR_Code=a?.data?.QRCode,e.getAssetAccessories()})).catch((function(a){e.errors=a.response?.data?.errors,e.$store.dispatch("error",a.response?.data?.message)}))},getAssetAccessories(){let e=this;e.accessory_meta_service.asset_id=e.asset.asset_id,e.accessory_meta_service.asset_type_id=e.asset.asset_type_id;let a=e.$loading.show();e.$store.dispatch("post",{uri:"paginateAssetAccessories",data:e.accessory_meta_service}).then((t=>{a.hide(),console.log("access reposne",t.data),e.initial_status=!1,e.accessory_types=t.data.accessory_types,e.asset_accessories=t.data.paginate_accessories,e.accessory_meta_service.totalRows=t.data.meta.total,e.accessory_meta_service.from=t.data.meta.from,e.accessory_meta_service.to=t.data.meta.to,e.accessory_meta_service.lastPage=t.data.meta.last_page,e.accessory_meta_service.maxPage=e.accessory_meta_service.lastPage>=3?3:e.accessory_meta_service.lastPage})).catch((function(t){a.hide(),console.log("errors accessories--",t),e.errors=t.response.data.errors,e.$store.dispatch("error",t.response.data.message)}))},getAttachmentUrl(e){return`${e}`},getAttachmentName(e){return e.split("/").pop()},deleteAccessory(e){const a=confirm("Are you sure you want to delete it ?");if(a){let a=this,t=a.$loading.show();a.$store.dispatch("post",{uri:"deleteAssetAccessory",data:e}).then((e=>{t.hide(),a.$store.dispatch("success",e.data.message),a.accessory.accessory_id="",a.errors=[],a.getAssetAccessories()})).catch((function(e){t.hide(),a.errors=e.response.data.errors,a.$store.dispatch("warning",e.response.data.message)}))}},addAccessory(){let e=this;e.accessory.asset_id=e.asset.asset_id;let a=e.$loading.show();e.accessory.accessory_asset_zones=[],e.accessory.accessory_asset_zones_obj.map((function(a){e.accessory.accessory_asset_zones.push(a.asset_zone_id)}));const t=new FormData;t.append("asset_id",e.accessory.asset_id),t.append("accessory_type_id",e.accessory.accessory_type_id),t.append("accessory_name",e.accessory.accessory_name),e.accessory.accessory_asset_zones.forEach((e=>{t.append("accessory_asset_zones[]",e)})),t.append("attachment",e.$refs.attachment.files[0]),Ea.A.post(e.$store.state.apiUrl+"addAssetAccessory",t,{headers:{"Content-Type":"multipart/form-data",Authorization:"Bearer "+e.$store.getters.token}}).then((t=>{a.hide(),e.$store.dispatch("success",t.data.message),e.accessory.accessory_id="",e.accessory.accessory_name="",e.accessory.accessory_asset_zones=[],e.accessory.accessory_type_id="",e.$refs.attachment.value="",e.errors=[],e.asset_zone_status_accessories=!1,e.accessory.accessory_asset_zones_obj=[],e.accessory.accessory_zone_read_only=!1,e.getAssetAccessories()})).catch((function(t){a.hide(),e.errors=t.response.data.errors,e.$store.dispatch("error",t.response.data.message)}))},onPageChange(e,a){"Accessories"==a&&(this.accessory_meta_service.page=e,this.getAssetAccessories())},sort(e,a){"Accessories"==a&&(this.accessory_meta_service.keyword=e,this.accessory_meta_service.order_by="asc"==this.accessory_meta_service.order_by?"desc":"asc",this.getAssetAccessories())},onPerPageChange(e){"Accessories"==e&&(this.accessory_meta_service.page=1,this.getAssetAccessories())},viewAsset(e,a){this.$store.commit("setAssets",e),this.asset_type=a,this.assets1=this.$store.getters.assets},searchAccessory(){let e=this;e.accessory_meta_service.page=1,e.getAssetAccessories()}}};const wE=(0,Ze.A)(CE,[["render",LE],["__scopeId","data-v-5de129ec"]]);var EE=wE;const xE={class:"col-12 mb-2"},XE={class:"card card-one"},PE={class:"card-body"},$E={class:"row mb-3 g-2"},SE={class:"col-md-4"},AE={key:0,class:"invalid-feedback",style:{display:"block !important"}},DE={class:"col-md-8"},TE={key:0,class:"invalid-feedback"},QE={class:"col-md-12"},VE={class:"row align-items-center g-2"},FE={key:0,class:"col-md-3"},UE={key:1,class:"col-md-3"},jE={key:2,class:"col-md-3"},zE={key:3,class:"col-md-3"},WE={key:0,class:"invalid-feedback"},RE={class:"col-md-3"},qE={key:0,class:"invalid-feedback",style:{display:"block !important"}},IE={key:4,class:"col-md-3 pt-4 d-flex justify-content-end1"},NE={key:5,class:"col-md-3 pt-4 d-flex justify-content-end1"},ME={class:"row g-2"},KE={class:"col-12"},JE={class:"table-responsive table-responsive-sm"},BE={class:"table table-sm text-nowrap table-striped table-bordered mb-0"},OE={key:0,class:"ri-arrow-up-line"},HE={key:1,class:"ri-arrow-down-line"},YE={key:2,class:"fas fa-sort"},ZE={key:0,class:"ri-arrow-up-line"},GE={key:1,class:"ri-arrow-down-line"},ex={key:2,class:"fas fa-sort"},ax={width:"40%",style:{"white-space":"normal"}},tx={key:0,class:"ri-arrow-up-line"},sx={key:1,class:"ri-arrow-down-line"},rx={key:2,class:"fas fa-sort"},lx={width:"10%"},ix={key:0,class:"ri-arrow-up-line"},ox={key:1,class:"ri-arrow-down-line"},dx={key:2,class:"fas fa-sort"},nx={width:"8%"},cx={key:0,class:"ri-arrow-up-line"},ux={key:1,class:"ri-arrow-down-line"},_x={key:2,class:"fas fa-sort"},px={width:"8%"},mx={key:0,class:"ri-arrow-up-line"},bx={key:1,class:"ri-arrow-down-line"},kx={key:2,class:"fas fa-sort"},vx={width:"8%",style:{"white-space":"normal"}},hx={key:0,class:"ri-arrow-up-line"},yx={key:1,class:"ri-arrow-down-line"},gx={key:2,class:"fas fa-sort"},fx={width:"8%",style:{"white-space":"normal"}},Lx={key:0,class:"ri-arrow-up-line"},Cx={key:1,class:"ri-arrow-down-line"},wx={key:2,class:"fas fa-sort"},Ex={class:"text-center"},xx={key:0},Xx={class:"text-center"},Px={style:{"white-space":"normal"}},$x={style:{"white-space":"normal"}},Sx={class:"text-center"},Ax=["onClick"],Dx=["onClick"],Tx={class:"card-footer"},Qx={class:"d-flex justify-content-between align-items-center"};function Vx(e,a,t,l,i,o){const d=(0,r.g2)("MultiSelect"),c=(0,r.g2)("search"),u=(0,r.g2)("Pagination"),_=(0,r.gN)("can");return(0,r.bo)(((0,r.uX)(),(0,r.CE)("div",xE,[(0,r.Lk)("div",XE,[a[38]||(a[38]=(0,r.Lk)("div",{class:"card-header d-flex justify-content-between"},[(0,r.Lk)("h6",{class:"card-title"},"Checks")],-1)),(0,r.Lk)("div",PE,[(0,r.bo)(((0,r.uX)(),(0,r.CE)("div",$E,[(0,r.Lk)("div",SE,[a[15]||(a[15]=(0,r.Lk)("label",{class:"form-label"},[(0,r.eW)("Asset Zone Service "),(0,r.Lk)("span",{class:"text-danger"}," *")],-1)),(0,r.bF)(d,{modelValue:i.check.check_asset_zones_obj,"onUpdate:modelValue":a[0]||(a[0]=e=>i.check.check_asset_zones_obj=e),filter:"",optionLabel:"displayName",options:o.formattedTemplateServices,placeholder:"Select Service",maxSelectedLabels:3,style:{width:"100%",height:"37px"},class:(0,n.C4)({"is-invalid":i.errors?.asset_service_id}),customClass:{"is-invalid":i.errors?.asset_service_id},id:"asset_service_id",onInput:a[1]||(a[1]=e=>i.check.asset_service_id=e),disabled:i.check.check_zone_read_only},null,8,["modelValue","options","class","customClass","disabled"]),i.errors?.asset_service_id?((0,r.uX)(),(0,r.CE)("span",AE,(0,n.v_)(i.errors?.asset_service_id[0]),1)):(0,r.Q3)("",!0)]),(0,r.Lk)("div",DE,[a[16]||(a[16]=(0,r.Lk)("label",{class:"form-label"},[(0,r.eW)("Check "),(0,r.Lk)("span",{class:"text-danger"}," *")],-1)),(0,r.bF)(c,{class:(0,n.C4)([{"is-invalid":i.errors?.check_id},"my-auto"]),customClass:{"is-invalid":i.errors?.check_id},"aria-describedby":"basic-addon2","aria-label":"Select Check",initialize:i.check.check_id,id:"check_id",label:"field_name",placeholder:"Select Check",data:i.checks,onInput:a[2]||(a[2]=e=>i.check.check_id=e),onSelectsearch:a[3]||(a[3]=e=>o.checkstatus())},null,8,["class","customClass","initialize","data"]),i.errors?.check_id?((0,r.uX)(),(0,r.CE)("span",TE,(0,n.v_)(i.errors?.check_id[0]),1)):(0,r.Q3)("",!0)]),(0,r.Lk)("div",QE,[(0,r.Lk)("div",VE,["Number"===i.check.field_type?((0,r.uX)(),(0,r.CE)("div",FE,[a[17]||(a[17]=(0,r.Lk)("label",{class:"form-label"},"Lcl",-1)),(0,r.bo)((0,r.Lk)("input",{type:"text",class:"form-control",placeholder:"Lcl","onUpdate:modelValue":a[4]||(a[4]=e=>i.check.lcl=e)},null,512),[[s.Jo,i.check.lcl]])])):(0,r.Q3)("",!0),"Number"===i.check.field_type?((0,r.uX)(),(0,r.CE)("div",UE,[a[18]||(a[18]=(0,r.Lk)("label",{class:"form-label"},"Ucl",-1)),(0,r.bo)((0,r.Lk)("input",{type:"text",class:"form-control",placeholder:"Ucl","onUpdate:modelValue":a[5]||(a[5]=e=>i.check.ucl=e)},null,512),[[s.Jo,i.check.ucl]])])):(0,r.Q3)("",!0),"Select"===i.check.field_type?((0,r.uX)(),(0,r.CE)("div",jE,[a[19]||(a[19]=(0,r.Lk)("label",{class:"form-label"},"Field Value",-1)),(0,r.bo)((0,r.Lk)("input",{type:"text",disabled:"disabled",class:"form-control",placeholder:"Field Value","onUpdate:modelValue":a[6]||(a[6]=e=>i.check.field_values=e)},null,512),[[s.Jo,i.check.field_values]])])):(0,r.Q3)("",!0),"Select"===i.check.field_type?((0,r.uX)(),(0,r.CE)("div",zE,[a[20]||(a[20]=(0,r.Lk)("label",{class:"form-label"},"Default Value",-1)),(0,r.bo)((0,r.Lk)("input",{class:(0,n.C4)([{"is-invalid":i.errors?.default_value},"form-control"]),type:"text",placeholder:"Default Value","onUpdate:modelValue":a[7]||(a[7]=e=>i.check.default_value=e)},null,2),[[s.Jo,i.check.default_value]]),i.errors?.default_value?((0,r.uX)(),(0,r.CE)("span",WE,(0,n.v_)(i.errors?.default_value[0]),1)):(0,r.Q3)("",!0)])):(0,r.Q3)("",!0),(0,r.Lk)("div",RE,[a[21]||(a[21]=(0,r.Lk)("label",{class:"form-label"},[(0,r.eW)("Order "),(0,r.Lk)("span",{class:"text-danger"}," *")],-1)),(0,r.bo)((0,r.Lk)("input",{type:"text",class:(0,n.C4)(["form-control",{"is-invalid":i.errors?.order}]),placeholder:"Order","onUpdate:modelValue":a[8]||(a[8]=e=>i.check.order=e)},null,2),[[s.Jo,i.check.order]]),i.errors?.order?((0,r.uX)(),(0,r.CE)("span",qE,(0,n.v_)(i.errors?.order[0]),1)):(0,r.Q3)("",!0)]),i.check.asset_check_id?((0,r.uX)(),(0,r.CE)("div",IE,[(0,r.bo)(((0,r.uX)(),(0,r.CE)("button",{class:"btn btn-outline-success me-2",onClick:a[9]||(a[9]=e=>o.updateCheck())},a[22]||(a[22]=[(0,r.Lk)("i",{class:"ri-add-circle-line icon-hgt"},null,-1),(0,r.eW)(" Update")]))),[[_,"assetChecks.update"]])])):((0,r.uX)(),(0,r.CE)("div",NE,[(0,r.bo)(((0,r.uX)(),(0,r.CE)("button",{class:"btn btn-outline-success me-2",onClick:a[10]||(a[10]=e=>o.addCheck())},a[23]||(a[23]=[(0,r.Lk)("i",{class:"ri-add-circle-line icon-hgt"},null,-1),(0,r.eW)(" Add")]))),[[_,"assetChecks.create"]])]))])])])),[[_,["assetChecks.create","assetChecks.update"]]]),(0,r.bo)((0,r.Lk)("input",{class:"form-control form-control-sm mb-2",type:"text",placeholder:"Type keyword and press enter key","onUpdate:modelValue":a[11]||(a[11]=e=>i.check_meta.search=e),onKeypress:a[12]||(a[12]=(0,s.jR)((e=>o.searchCheck()),["enter"]))},null,544),[[s.Jo,i.check_meta.search]]),(0,r.Lk)("div",ME,[(0,r.Lk)("div",KE,[(0,r.Lk)("div",JE,[(0,r.Lk)("table",BE,[(0,r.Lk)("thead",null,[(0,r.Lk)("tr",null,[a[33]||(a[33]=(0,r.Lk)("th",{class:"text-center",width:"2%"},"#",-1)),(0,r.Lk)("th",null,[a[24]||(a[24]=(0,r.eW)(" Asset Zone ")),(0,r.Lk)("span",null,["asset_zone_id"==i.check_meta.keyword&&"asc"==i.check_meta.order_by?((0,r.uX)(),(0,r.CE)("i",OE)):"asset_zone_id"==i.check_meta.keyword&&"desc"==i.check_meta.order_by?((0,r.uX)(),(0,r.CE)("i",HE)):((0,r.uX)(),(0,r.CE)("i",YE))])]),(0,r.Lk)("th",null,[a[25]||(a[25]=(0,r.eW)(" Service ")),(0,r.Lk)("span",null,["asset_zone_id"==i.check_meta.keyword&&"asc"==i.check_meta.order_by?((0,r.uX)(),(0,r.CE)("i",ZE)):"asset_zone_id"==i.check_meta.keyword&&"desc"==i.check_meta.order_by?((0,r.uX)(),(0,r.CE)("i",GE)):((0,r.uX)(),(0,r.CE)("i",ex))])]),(0,r.Lk)("th",ax,[a[26]||(a[26]=(0,r.eW)(" Field Name ")),(0,r.Lk)("span",null,["field_name"==i.check_meta.keyword&&"asc"==i.check_meta.order_by?((0,r.uX)(),(0,r.CE)("i",tx)):"field_name"==i.check_meta.keyword&&"desc"==i.check_meta.order_by?((0,r.uX)(),(0,r.CE)("i",sx)):((0,r.uX)(),(0,r.CE)("i",rx))])]),(0,r.Lk)("th",lx,[a[27]||(a[27]=(0,r.eW)(" Field Type ")),(0,r.Lk)("span",null,["field_type"==i.check_meta.keyword&&"asc"==i.check_meta.order_by?((0,r.uX)(),(0,r.CE)("i",ix)):"field_type"==i.check_meta.keyword&&"desc"==i.check_meta.order_by?((0,r.uX)(),(0,r.CE)("i",ox)):((0,r.uX)(),(0,r.CE)("i",dx))])]),(0,r.Lk)("th",nx,[a[28]||(a[28]=(0,r.eW)(" Lcl ")),(0,r.Lk)("span",null,["lcl"==i.check_meta.keyword&&"asc"==i.check_meta.order_by?((0,r.uX)(),(0,r.CE)("i",cx)):"lcl"==i.check_meta.keyword&&"desc"==i.check_meta.order_by?((0,r.uX)(),(0,r.CE)("i",ux)):((0,r.uX)(),(0,r.CE)("i",_x))])]),(0,r.Lk)("th",px,[a[29]||(a[29]=(0,r.eW)(" Ucl ")),(0,r.Lk)("span",null,["ucl"==i.check_meta.keyword&&"asc"==i.check_meta.order_by?((0,r.uX)(),(0,r.CE)("i",mx)):"ucl"==i.check_meta.keyword&&"desc"==i.check_meta.order_by?((0,r.uX)(),(0,r.CE)("i",bx)):((0,r.uX)(),(0,r.CE)("i",kx))])]),(0,r.Lk)("th",vx,[a[30]||(a[30]=(0,r.eW)(" Default Value ")),(0,r.Lk)("span",null,["default_value"==i.check_meta.keyword&&"asc"==i.check_meta.order_by?((0,r.uX)(),(0,r.CE)("i",hx)):"default_value"==i.check_meta.keyword&&"desc"==i.check_meta.order_by?((0,r.uX)(),(0,r.CE)("i",yx)):((0,r.uX)(),(0,r.CE)("i",gx))])]),(0,r.Lk)("th",fx,[a[31]||(a[31]=(0,r.eW)(" Order ")),(0,r.Lk)("span",null,["default_value"==i.check_meta.keyword&&"asc"==i.check_meta.order_by?((0,r.uX)(),(0,r.CE)("i",Lx)):"default_value"==i.check_meta.keyword&&"desc"==i.check_meta.order_by?((0,r.uX)(),(0,r.CE)("i",Cx)):((0,r.uX)(),(0,r.CE)("i",wx))])]),(0,r.bo)(((0,r.uX)(),(0,r.CE)("th",Ex,a[32]||(a[32]=[(0,r.eW)("Actions")]))),[[_,["assetChecks.update","assetChecks.delete"]]])])]),(0,r.Lk)("tbody",null,[0==i.asset_checks?.length?((0,r.uX)(),(0,r.CE)("tr",xx,a[34]||(a[34]=[(0,r.Lk)("td",{colspan:"10",class:"text-center"},"No records found",-1)]))):(0,r.Q3)("",!0),((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(i.asset_checks,((e,t)=>((0,r.uX)(),(0,r.CE)("tr",{key:t},[(0,r.Lk)("td",Xx,(0,n.v_)((i.check_meta.page-1)*i.check_meta.per_page+t+1),1),(0,r.Lk)("td",null,(0,n.v_)(e?.asset_zone?.zone_name),1),(0,r.Lk)("td",null,(0,n.v_)(e?.asset_service?.service?.service_name),1),(0,r.Lk)("td",Px,(0,n.v_)(e?.check?.field_name),1),(0,r.Lk)("td",null,(0,n.v_)(e?.check?.field_type),1),(0,r.Lk)("td",null,(0,n.v_)(e.lcl),1),(0,r.Lk)("td",null,(0,n.v_)(e.ucl),1),(0,r.Lk)("td",$x,(0,n.v_)(e.default_value),1),(0,r.Lk)("td",null,(0,n.v_)(e?.order),1),(0,r.bo)(((0,r.uX)(),(0,r.CE)("td",Sx,[(0,r.bo)(((0,r.uX)(),(0,r.CE)("a",{href:"javascript:void(0)",class:"text-success me-2",onClick:a=>o.editCheck(e)},a[35]||(a[35]=[(0,r.Lk)("i",{class:"ri-pencil-line fs-18 lh-1"},null,-1)]),8,Ax)),[[_,"assetChecks.update"]]),(0,r.bo)(((0,r.uX)(),(0,r.CE)("a",{href:"javascript:void(0)",class:"text-danger me-2",onClick:a=>o.deleteCheck(e)},a[36]||(a[36]=[(0,r.Lk)("i",{class:"ri-delete-bin-6-line fs-18 lh-1"},null,-1)]),8,Dx)),[[_,"assetChecks.delete"]])])),[[_,["assetChecks.update","assetChecks.delete"]]])])))),128))])])])])])]),(0,r.Lk)("div",Tx,[(0,r.Lk)("div",Qx,[(0,r.bo)((0,r.Lk)("select",{class:"form-select from-select-sm width-75","onUpdate:modelValue":a[13]||(a[13]=e=>i.check_meta.per_page=e),onChange:a[14]||(a[14]=e=>o.onPerPageChange("Checks"))},a[37]||(a[37]=[(0,r.Lk)("option",null,"5",-1),(0,r.Lk)("option",null,"10",-1),(0,r.Lk)("option",null,"15",-1),(0,r.Lk)("option",null,"20",-1),(0,r.Lk)("option",null,"25",-1),(0,r.Lk)("option",null,"30",-1)]),544),[[s.u1,i.check_meta.per_page]]),(0,r.Lk)("span",null,"Showing "+(0,n.v_)(i.check_meta.from)+" to "+(0,n.v_)(i.check_meta.to)+" of "+(0,n.v_)(i.check_meta.totalRows)+" entries",1),(0,r.bF)(u,{maxPage:i.check_meta.maxPage,totalPages:i.check_meta.lastPage,currentPage:i.check_meta.page,onPagechanged:o.onPageChange,from:"Checks"},null,8,["maxPage","totalPages","currentPage","onPagechanged"])])])])])),[[_,"assetChecks.view"]])}var Fx={name:"Assets.View",components:{Search:It.A,Pagination:md,MultiSelect:Ru.A},props:{asset_id:{type:Number,required:!0}},data(){return{asset_type:"",check_meta:{search:"",order_by:"desc",keyword:"check_id",per_page:10,totalRows:0,page:1,lastPage:1,from:1,to:1,maxPage:1,trashed:!1,asset_id:"",asset_type_id:"",department_id:""},asset:{asset_id:"",plant_id:"",asset_code:"",asset_name:"",asset_type_id:"",section_id:"",serial_no:"",status:"",QR_Code:""},check:{check_id:"",check_code:"",check_name:"",asset_id:"",lcl:"",ucl:"",order:"",default_value:"",asset_check_id:"",asset_zone_id:"",check_asset_zones_obj:[],check_asset_zones:[],check_zone_read_only:!1,template_check_status:!1,asset_service_id:""},checks:[],asset_checks:[],template_services:[],asset_zones:[],asset_spare_services:[],errors:[],status:!0,asset_zone_status:!1,asset_zone_status_checks:!1,isValid:!0,assets1:[],error_style:{"border-color":"#dc3545","padding-right":"calc(1.5em + 0.812rem)","background-image":"url(\"data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 12 12' width='12' height='12' fill='none' stroke='%23dc3545'%3e%3ccircle cx='6' cy='6' r='4.5'/%3e%3cpath stroke-linejoin='round' d='M5.8 3.6h.4L6 6.5z'/%3e%3ccircle cx='6' cy='8.2' r='.6' fill='%23dc3545' stroke='none'/%3e%3c/svg%3e\")","background-repeat":"no-repeat","background-position":"right calc(0.375em + 0.203rem) center","background-size":"calc(0.75em + 0.406rem) calc(0.75em + 0.406rem)"}}},watch:{assets1(){this.assets1=this.$store.getters.assets},"check.check_id":function(){let e=this,a=e.checks.filter((a=>a.check_id==e.check.check_id));console.log("vm.check.template_check_status",e.check.template_check_status),a.length&&!e.check.template_check_status&&(e.check.lcl=a[0].lcl,e.check.ucl=a[0].ucl,e.check.order=a[0].order,e.check.default_value=a[0].default_value,e.check.field_type=a[0]?.field_type,e.check.field_values=a[0]?.field_values),e.check.template_check_status&&(e.check.field_type=a[0]?.field_type,e.check.field_values=a[0]?.field_values)}},computed:{formattedTemplateServices(){return this.template_services.map((e=>({...e,displayName:`${e.zone_name} - ${e.service_name}`})))},formattedTemplateSpareServices(){return this.asset_spare_services.map((e=>({...e,displayName:`${e.zone_name} - ${e.service_name}`})))}},mounted(){document.body.classList.add("sidebar-hide"),this.getAsset()},methods:{getAsset(){let e=this;e.$store.dispatch("post",{uri:"getAsset",data:{asset_id:e.asset_id}}).then((a=>{e.asset=a.data.asset,e.asset_zones=a?.data?.asset?.zone_name,e.asset.QR_Code=a?.data?.QRCode,e.getAssetChecks()})).catch((function(a){e.errors=a.response?.data?.errors,e.$store.dispatch("error",a.response?.data?.message)}))},getAssetChecks(){let e=this,a=e.$loading.show();e.check_meta.asset_id=e.asset.asset_id,e.check_meta.asset_type_id=e.asset.asset_type_id,e.check_meta.department_id=e.asset.department_id,e.$store.dispatch("post",{uri:"paginateAssetChecks",data:e.check_meta}).then((t=>{a.hide(),console.log("checks response",t),e.checks=t.data.checks,e.asset_checks=t.data.paginate_checks,e.template_services=t.data.asset_services,e.check_meta.totalRows=t.data.meta.total,e.check_meta.from=t.data.meta.from,e.check_meta.to=t.data.meta.to,e.check_meta.lastPage=t.data.meta.last_page,e.check_meta.maxPage=e.check_meta.lastPage>=3?3:e.check_meta.lastPage})).catch((function(t){a.hide(),e.errors=t.response.data.errors,e.$store.dispatch("error",t.response.data.message)}))},editCheck(e){this.check.template_check_status=!0,this.check.asset_id=e.asset_id,this.check.asset_check_id=e.asset_check_id,this.check.check_id=e.check_id,this.check.lcl=e.lcl,this.check.ucl=e.ucl,this.check.order=e.order,this.check.default_value=e.default_value,this.check.check_asset_zones=[e.asset_zone_id],this.check.asset_zone_id=e.asset_zone_id;const a=this.formattedTemplateServices.find((a=>a.asset_service_id===e.asset_service_id));a?(this.check.check_asset_zones_obj=[a],this.check.asset_service_id=a.asset_service_id):this.check.check_template_zones_obj=[],this.check.check_zone_read_only=!0},checkstatus(){this.check.template_check_status=!1},addCheck(){let e=this;e.check.asset_id=e.asset.asset_id,e.check.check_asset_zones=[],e.check.check_asset_zones_obj.map((function(a){e.check.check_asset_zones.push(a.asset_service_id)}));let a=e.$loading.show();e.$store.dispatch("post",{uri:"addAssetCheck",data:e.check}).then((t=>{a.hide(),e.$store.dispatch("success",t.data.message),e.check.check_id="",e.check.lcl="",e.check.ucl="",e.check.order="",e.check.default_value="",e.check.field_type="",e.errors=[],e.check.asset_zone_id=[],e.check.check_asset_zones_obj=[],e.check.check_asset_zones=[],e.asset_zone_status_checks=!1,e.check.check_zone_read_only=!1,e.getAssetChecks()})).catch((function(t){a.hide(),e.errors=t.response.data.errors,e.$store.dispatch("error",t.response.data.message)}))},updateCheck(){let e=this,a=e.$loading.show(),t={uri:"updateAssetCheck",data:e.check};e.$store.dispatch("post",t).then((function(t){a.hide(),e.$store.dispatch("success",t.data.message),e.check.template_check_status=!1,e.check.check_id="",e.check.lcl="",e.check.ucl="",e.check.order="",e.check.default_value="",e.check.field_type="",e.check.asset_check_id="",e.check.check_asset_zones_obj=[],e.check.check_asset_zones=[],e.asset_zone_status_checks=!1,e.check.check_zone_read_only=!1,e.errors=[],e.getAssetChecks()})).catch((function(t){a.hide(),e.errors=t.response.data.errors,e.$store.dispatch("error",t.response.data.message)}))},deleteCheck(e){const a=confirm("Are you sure you want to delete it ?");if(a){let a=this,t=a.$loading.show();a.$store.dispatch("post",{uri:"forceDeleteAssetCheck",data:e}).then((e=>{t.hide(),a.$store.dispatch("success",e.data.message),a.check.check_id="",a.errors=[],a.getAssetChecks()})).catch((function(e){t.hide(),a.$store.dispatch("warning",e.response.data.message)}))}},onPageChange(e,a){"Checks"==a&&(this.check_meta.page=e,this.getAssetChecks())},sort(e,a){"Checks"==a&&(this.check_meta.keyword=e,this.check_meta.order_by="asc"==this.check_meta.order_by?"desc":"asc",this.getAssetChecks())},onPerPageChange(e){"Checks"==e&&(this.check_meta.page=1,this.getAssetChecks())},viewAsset(e,a){this.$store.commit("setAssets",e),this.asset_type=a,this.assets1=this.$store.getters.assets},searchCheck(){let e=this;e.check_meta.page=1,e.getAssetChecks()}}};const Ux=(0,Ze.A)(Fx,[["render",Vx],["__scopeId","data-v-197359e0"]]);var jx=Ux;const zx={class:"col-12 mb-2"},Wx={class:"card card-one"},Rx={class:"card-body"},qx={class:"row mb-3 g-2"},Ix={class:"col-md-4"},Nx={key:0,class:"invalid-feedback",style:{display:"block !important"}},Mx={class:"col-md-3"},Kx={key:0,class:"invalid-feedback"},Jx={class:"col-md-3"},Bx={key:0,class:"invalid-feedback"},Ox={key:0},Hx={class:"form-label"},Yx={key:0,class:"text-danger"},Zx=["placeholder","onUpdate:modelValue"],Gx={key:1,class:"invalid-feedback"},eX={key:1},aX={class:"form-label"},tX={key:0,class:"text-danger"},sX=["placeholder","onUpdate:modelValue"],rX={key:1,class:"invalid-feedback"},lX={key:2},iX={class:"form-label"},oX={key:0,class:"text-danger"},dX=["placeholder","onUpdate:modelValue"],nX={key:0,class:"invalid-feedback"},cX={key:3},uX={class:"form-label"},_X={key:0,class:"text-danger"},pX=["placeholder","onUpdate:modelValue"],mX={key:0,class:"invalid-feedback"},bX={key:4},kX={class:"form-label"},vX={key:0,class:"text-danger"},hX=["onUpdate:modelValue"],yX=["value"],gX=["value"],fX=["value"],LX={key:1,class:"invalid-feedback"},CX={key:5},wX={class:"form-label"},EX={key:0,class:"text-danger"},xX=["onUpdate:modelValue"],XX={key:0,class:"invalid-feedback"},PX={key:6},$X={class:"form-label"},SX={key:0,class:"text-danger"},AX=["onUpdate:modelValue"],DX=["value"],TX=["value"],QX=["value"],VX={key:1,class:"invalid-feedback"},FX={key:0,class:"col-md-2 pt-4"},UX={key:1,class:"col-md-2 pt-4"},jX={class:"row g-2"},zX={class:"col-12"},WX={class:"table-responsive table-responsive-sm"},RX={class:"table table-sm text-nowrap table-striped table-bordered mb-0"},qX={class:""},IX={key:0,class:"ri-arrow-up-line"},NX={key:1,class:"ri-arrow-down-line"},MX={key:2,class:"fas fa-sort"},KX={key:0,class:"ri-arrow-up-line"},JX={key:1,class:"ri-arrow-down-line"},BX={key:2,class:"fas fa-sort"},OX={key:0,class:"ri-arrow-up-line"},HX={key:1,class:"ri-arrow-down-line"},YX={key:2,class:"fas fa-sort"},ZX={key:0,class:"ri-arrow-up-line"},GX={key:1,class:"ri-arrow-down-line"},eP={key:2,class:"fas fa-sort"},aP={key:0,class:"ri-arrow-up-line"},tP={key:1,class:"ri-arrow-down-line"},sP={key:2,class:"fas fa-sort"},rP={key:0,class:"ri-arrow-up-line"},lP={key:1,class:"ri-arrow-down-line"},iP={key:2,class:"fas fa-sort"},oP={key:0},dP={class:"text-center"},nP={class:"text-center"},cP=["onClick"],uP=["onClick"],_P=["onClick"],pP={class:"card-footer"},mP={class:"d-flex justify-content-between align-items-center"},bP={class:"modal fade",id:"exampleModal",tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},kP={class:"modal-dialog modal-lg"},vP={class:"modal-content"},hP={class:"modal-header"},yP={class:"modal-title",id:"exampleModalLabel"},gP={class:"modal-body"},fP={class:"row g-2"},LP={class:"col-12 mb-2"},CP={key:0,class:"row g-2"},wP={key:0},EP={class:"form-label"},xP={key:0,class:"text-danger"},XP=["placeholder","value"],PP={key:1,class:"invalid-feedback"},$P={key:1},SP={class:"form-label"},AP={key:0,class:"text-danger"},DP=["placeholder","value"],TP={key:1,class:"invalid-feedback"},QP={key:2},VP={class:"form-label"},FP={key:0,class:"text-danger"},UP=["placeholder","value"],jP={key:0,class:"invalid-feedback"},zP={key:3},WP={class:"form-label"},RP={key:0,class:"text-danger"},qP=["placeholder","value"],IP={key:0,class:"invalid-feedback"},NP={key:4},MP={class:"form-label"},KP={key:0,class:"text-danger"},JP=["value"],BP=["value"],OP=["value"],HP=["value"],YP={key:1,class:"invalid-feedback"},ZP={key:5},GP={class:"form-label"},e$={key:0,class:"text-danger"},a$=["value"],t$={key:0,class:"invalid-feedback"},s$={key:6},r$={class:"form-label"},l$={key:0,class:"text-danger"},i$=["value"],o$=["value"],d$=["value"],n$=["value"],c$={key:1,class:"invalid-feedback"};function u$(e,a,t,l,i,o){const d=(0,r.g2)("MultiSelect"),c=(0,r.g2)("search"),u=(0,r.g2)("Pagination"),_=(0,r.gN)("can");return(0,r.uX)(),(0,r.CE)(r.FK,null,[(0,r.bo)(((0,r.uX)(),(0,r.CE)("div",zx,[(0,r.Lk)("div",Wx,[a[29]||(a[29]=(0,r.Lk)("div",{class:"card-header d-flex justify-content-between"},[(0,r.Lk)("h6",{class:"card-title"},"Spares")],-1)),(0,r.Lk)("div",Rx,[(0,r.bo)(((0,r.uX)(),(0,r.CE)("div",qx,[(0,r.Lk)("div",Ix,[a[11]||(a[11]=(0,r.Lk)("label",{class:"form-label"},[(0,r.eW)("Asset Zone Service "),(0,r.Lk)("span",{class:"text-danger"}," *")],-1)),(0,r.bF)(d,{modelValue:i.spare.spare_asset_zones_obj,"onUpdate:modelValue":a[0]||(a[0]=e=>i.spare.spare_asset_zones_obj=e),filter:"",optionLabel:"displayName",options:o.formattedTemplateSpareServices,placeholder:"Select Service",maxSelectedLabels:3,style:{width:"100%",height:"37px"},class:(0,n.C4)({"is-invalid":i.errors?.asset_service_id}),customClass:{"is-invalid":i.errors?.asset_service_id},id:"asset_service_id",onInput:a[1]||(a[1]=e=>i.spare.asset_service_id=e),disabled:i.spare.spare_zone_read_only},null,8,["modelValue","options","class","customClass","disabled"]),i.errors?.asset_service_id?((0,r.uX)(),(0,r.CE)("span",Nx,(0,n.v_)(i.errors?.asset_service_id[0]),1)):(0,r.Q3)("",!0)]),(0,r.Lk)("div",Mx,[a[12]||(a[12]=(0,r.Lk)("label",{class:"form-label"},[(0,r.eW)("Spare "),(0,r.Lk)("span",{class:"text-danger"}," *")],-1)),(0,r.bF)(c,{class:(0,n.C4)([{"is-invalid":i.errors?.spare_id},"my-auto"]),customClass:{"is-invalid":i.errors?.spare_id},"aria-describedby":"basic-addon2","aria-label":"Select Spare",initialize:i.spare.spare_id,id:"spare_id",label:"spare_name",label2:"spare_code",placeholder:"Select Spare",data:i.spares,onInput:a[2]||(a[2]=e=>i.spare.spare_id=e),onSelectsearch:a[3]||(a[3]=e=>o.getSpareAttribute(i.spare.spare_id))},null,8,["class","customClass","initialize","data"]),i.errors?.spare_id?((0,r.uX)(),(0,r.CE)("span",Kx,(0,n.v_)(i.errors?.spare_id[0]),1)):(0,r.Q3)("",!0)]),(0,r.Lk)("div",Jx,[a[13]||(a[13]=(0,r.Lk)("label",{class:"form-label"},[(0,r.eW)("Max Quantity "),(0,r.Lk)("span",{class:"text-danger"}," *")],-1)),(0,r.bo)((0,r.Lk)("input",{type:"number",class:(0,n.C4)(["form-control",{"is-invalid":i.errors?.quantity}]),placeholder:"Enter Max Quantity","onUpdate:modelValue":a[4]||(a[4]=e=>i.spare.quantity=e)},null,2),[[s.Jo,i.spare.quantity]]),i.errors?.quantity?((0,r.uX)(),(0,r.CE)("span",Bx,(0,n.v_)(i.errors?.quantity[0]),1)):(0,r.Q3)("",!0)]),((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(i.spare.asset_spare_attributes,((e,a)=>((0,r.uX)(),(0,r.CE)("div",{class:"col-md-3",key:a},[e.spare_attributes?.length&&"Text"==e.spare_attributes[0].field_type?((0,r.uX)(),(0,r.CE)("div",Ox,[(0,r.Lk)("label",Hx,(0,n.v_)(e.spare_attributes[0].display_name),1),e.spare_attributes[0].is_required?((0,r.uX)(),(0,r.CE)("span",Yx,"*")):(0,r.Q3)("",!0),(0,r.bo)((0,r.Lk)("input",{type:"text",class:(0,n.C4)(["form-control",{"is-invalid":i.errors[e.spare_attributes[0].display_name]}]),placeholder:"Enter "+e.spare_attributes[0].display_name,"onUpdate:modelValue":a=>e.field_value=a},null,10,Zx),[[s.Jo,e.field_value]]),i.errors[e.spare_attributes[0].display_name]?((0,r.uX)(),(0,r.CE)("span",Gx,(0,n.v_)(i.errors[e.spare_attributes[0].display_name][0]),1)):(0,r.Q3)("",!0)])):(0,r.Q3)("",!0),e.spare_attributes?.length&&"Number"==e.spare_attributes[0].field_type?((0,r.uX)(),(0,r.CE)("div",eX,[(0,r.Lk)("label",aX,(0,n.v_)(e.spare_attributes[0].display_name),1),e.spare_attributes[0].is_required?((0,r.uX)(),(0,r.CE)("span",tX,"*")):(0,r.Q3)("",!0),(0,r.bo)((0,r.Lk)("input",{type:"number",class:(0,n.C4)(["form-control",{"is-invalid":i.errors[e.spare_attributes[0].display_name]}]),min:"0",oninput:"validity.valid||(value='');",placeholder:"Enter "+e.spare_attributes[0].display_name,"onUpdate:modelValue":a=>e.field_value=a},null,10,sX),[[s.Jo,e.field_value]]),i.errors[e.spare_attributes[0].display_name]?((0,r.uX)(),(0,r.CE)("span",rX,(0,n.v_)(i.errors[e.spare_attributes[0].display_name][0]),1)):(0,r.Q3)("",!0)])):(0,r.Q3)("",!0),e.spare_attributes?.length&&"Date"===e.spare_attributes[0].field_type?((0,r.uX)(),(0,r.CE)("div",lX,[(0,r.Lk)("label",iX,[(0,r.eW)((0,n.v_)(e.spare_attributes[0].display_name)+" ",1),e.spare_attributes[0].is_required?((0,r.uX)(),(0,r.CE)("span",oX,"*")):(0,r.Q3)("",!0)]),(0,r.bo)((0,r.Lk)("input",{type:"date",class:(0,n.C4)(["form-control",{"is-invalid":i.errors[e.spare_attributes[0].display_name]}]),placeholder:"Enter "+e.spare_attributes[0].display_name,"onUpdate:modelValue":a=>e.field_value=a},null,10,dX),[[s.Jo,e.field_value]]),i.errors[e.spare_attributes[0].display_name]?((0,r.uX)(),(0,r.CE)("span",nX,(0,n.v_)(i.errors[e.spare_attributes[0].display_name][0]),1)):(0,r.Q3)("",!0)])):(0,r.Q3)("",!0),e.spare_attributes?.length&&"Date&Time"===e.spare_attributes[0].field_type?((0,r.uX)(),(0,r.CE)("div",cX,[(0,r.Lk)("label",uX,[(0,r.eW)((0,n.v_)(e.spare_attributes[0].display_name)+" ",1),e.spare_attributes[0].is_required?((0,r.uX)(),(0,r.CE)("span",_X,"*")):(0,r.Q3)("",!0)]),(0,r.bo)((0,r.Lk)("input",{type:"datetime-local",class:(0,n.C4)(["form-control",{"is-invalid":i.errors[e.spare_attributes[0].display_name]}]),placeholder:"Enter "+e.spare_attributes[0].display_name,"onUpdate:modelValue":a=>e.field_value=a,step:"1"},null,10,pX),[[s.Jo,e.field_value]]),i.errors[e.spare_attributes[0].display_name]?((0,r.uX)(),(0,r.CE)("span",mX,(0,n.v_)(i.errors[e.spare_attributes[0].display_name][0]),1)):(0,r.Q3)("",!0)])):(0,r.Q3)("",!0),e.spare_attributes?.length&&"Dropdown"==e.spare_attributes[0].field_type?((0,r.uX)(),(0,r.CE)("div",bX,[(0,r.Lk)("label",kX,(0,n.v_)(e.spare_attributes[0].display_name),1),e.spare_attributes[0].is_required?((0,r.uX)(),(0,r.CE)("span",vX,"*")):(0,r.Q3)("",!0),(0,r.bo)((0,r.Lk)("select",{class:(0,n.C4)(["form-control",{"is-invalid":i.errors[e.spare_attributes[0].display_name]}]),"onUpdate:modelValue":a=>e.field_value=a},[e.field_value?((0,r.uX)(),(0,r.CE)("option",{key:0,value:e.field_value},(0,n.v_)(e.field_value),9,yX)):((0,r.uX)(),(0,r.CE)("option",{key:1,value:e.field_value},"Select "+(0,n.v_)(e.spare_attributes[0].display_name),9,gX)),((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(e.spare_attributes[0].field_values.split(","),((e,a)=>((0,r.uX)(),(0,r.CE)("option",{key:a,value:e},(0,n.v_)(e),9,fX)))),128))],10,hX),[[s.u1,e.field_value]]),i.errors[e.spare_attributes[0].display_name]?((0,r.uX)(),(0,r.CE)("span",LX,(0,n.v_)(i.errors[e.spare_attributes[0].display_name][0]),1)):(0,r.Q3)("",!0)])):(0,r.Q3)("",!0),e.spare_attributes?.length&&"Color"==e.spare_attributes[0].field_type?((0,r.uX)(),(0,r.CE)("div",CX,[(0,r.Lk)("label",wX,[(0,r.eW)((0,n.v_)(e.spare_attributes[0].display_name),1),e.spare_attributes[0].is_required?((0,r.uX)(),(0,r.CE)("span",EX,"*")):(0,r.Q3)("",!0)]),(0,r.bo)((0,r.Lk)("input",{type:"color",class:"form-control","onUpdate:modelValue":a=>e.field_value=a,style:{height:"2.2rem"}},null,8,xX),[[s.Jo,e.field_value]]),i.errors[e.spare_attributes[0].display_name]?((0,r.uX)(),(0,r.CE)("span",XX,(0,n.v_)(i.errors[e.spare_attributes[0].display_name][0]),1)):(0,r.Q3)("",!0)])):(0,r.Q3)("",!0),e.spare_attributes?.length&&"List"==e.spare_attributes[0].field_type?((0,r.uX)(),(0,r.CE)("div",PX,[(0,r.Lk)("label",$X,(0,n.v_)(e.spare_attributes[0].display_name),1),e.spare_attributes[0].is_required?((0,r.uX)(),(0,r.CE)("span",SX,"*")):(0,r.Q3)("",!0),(0,r.bo)((0,r.Lk)("select",{class:(0,n.C4)(["form-control",{"is-invalid":i.errors[e.spare_attributes[0].display_name]}]),"onUpdate:modelValue":a=>e.field_value=a},[e.spare_attributes[0].spare_attribute_value?.field_value?((0,r.uX)(),(0,r.CE)("option",{key:0,value:e.spare_attributes[0].spare_attribute_value?.field_value},(0,n.v_)(e.spare_attributes[0].spare_attribute_value?.field_value),9,DX)):((0,r.uX)(),(0,r.CE)("option",{key:1,value:e.spare_attributes[0].spare_attribute_value?.field_value},"Select "+(0,n.v_)(e.spare_attributes[0].display_name),9,TX)),((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(e.spare_attributes[0].list_parameter?.field_values.split(","),((e,a)=>((0,r.uX)(),(0,r.CE)("option",{key:a,value:e.trim()},(0,n.v_)(e.trim()),9,QX)))),128))],10,AX),[[s.u1,e.field_value]]),i.errors[e.spare_attributes[0].display_name]?((0,r.uX)(),(0,r.CE)("span",VX,(0,n.v_)(i.errors[e.spare_attributes[0].display_name][0]),1)):(0,r.Q3)("",!0)])):(0,r.Q3)("",!0)])))),128)),i.spare.asset_spare_id?((0,r.uX)(),(0,r.CE)("div",FX,[(0,r.bo)(((0,r.uX)(),(0,r.CE)("button",{class:"btn btn-outline-success me-2",onClick:a[5]||(a[5]=e=>o.updateSpare())},a[14]||(a[14]=[(0,r.Lk)("i",{class:"ri-add-circle-line icon-hgt"},null,-1),(0,r.eW)(" Update")]))),[[_,"assetSpares.update"]])])):((0,r.uX)(),(0,r.CE)("div",UX,[(0,r.bo)(((0,r.uX)(),(0,r.CE)("button",{class:"btn btn-outline-success me-2",onClick:a[6]||(a[6]=e=>o.addSpare())},a[15]||(a[15]=[(0,r.Lk)("i",{class:"ri-add-circle-line icon-hgt"},null,-1),(0,r.eW)(" Add")]))),[[_,"assetSpares.create"]])]))])),[[_,["assetSpares.create","assetSpares.update"]]]),(0,r.bo)((0,r.Lk)("input",{class:"form-control form-control-sm mb-2",type:"text",placeholder:"Type keyword and press enter key","onUpdate:modelValue":a[7]||(a[7]=e=>i.meta.search=e),onKeypress:a[8]||(a[8]=(0,s.jR)((e=>o.searchSpare()),["enter"]))},null,544),[[s.Jo,i.meta.search]]),(0,r.Lk)("div",jX,[(0,r.Lk)("div",zX,[(0,r.Lk)("div",WX,[(0,r.Lk)("table",RX,[(0,r.Lk)("thead",null,[(0,r.Lk)("tr",qX,[a[22]||(a[22]=(0,r.Lk)("th",{class:"text-center"},"#",-1)),(0,r.Lk)("th",null,[a[16]||(a[16]=(0,r.eW)(" Asset Zone ")),(0,r.Lk)("span",null,["asset_zone_id"==i.meta.keyword&&"asc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",IX)):"asset_zone_id"==i.meta.keyword&&"desc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",NX)):((0,r.uX)(),(0,r.CE)("i",MX))])]),(0,r.Lk)("th",null,[a[17]||(a[17]=(0,r.eW)(" Service ")),(0,r.Lk)("span",null,["asset_service_id"==i.meta.keyword&&"asc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",KX)):"asset_service_id"==i.meta.keyword&&"desc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",JX)):((0,r.uX)(),(0,r.CE)("i",BX))])]),(0,r.Lk)("th",null,[a[18]||(a[18]=(0,r.eW)(" Spare Type ")),(0,r.Lk)("span",null,["spare_type_id"==i.meta.keyword&&"asc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",OX)):"spare_type_id"==i.meta.keyword&&"desc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",HX)):((0,r.uX)(),(0,r.CE)("i",YX))])]),(0,r.Lk)("th",null,[a[19]||(a[19]=(0,r.eW)(" Spare Code ")),(0,r.Lk)("span",null,["spare_code"==i.meta.keyword&&"asc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",ZX)):"spare_code"==i.meta.keyword&&"desc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",GX)):((0,r.uX)(),(0,r.CE)("i",eP))])]),(0,r.Lk)("th",null,[a[20]||(a[20]=(0,r.eW)(" Spare Name ")),(0,r.Lk)("span",null,["spare_name"==i.meta.keyword&&"asc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",aP)):"spare_name"==i.meta.keyword&&"desc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",tP)):((0,r.uX)(),(0,r.CE)("i",sP))])]),(0,r.Lk)("th",null,[a[21]||(a[21]=(0,r.eW)(" Quantity ")),(0,r.Lk)("span",null,["quantity"==i.meta.keyword&&"asc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",rP)):"quantity"==i.meta.keyword&&"desc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",lP)):((0,r.uX)(),(0,r.CE)("i",iP))])]),a[23]||(a[23]=(0,r.Lk)("th",{class:"text-center"},"Actions",-1))])]),(0,r.Lk)("tbody",null,[0==i.asset_spares?.length?((0,r.uX)(),(0,r.CE)("tr",oP,a[24]||(a[24]=[(0,r.Lk)("td",{colspan:"7",class:"text-center"},"No records found",-1)]))):(0,r.Q3)("",!0),((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(i.asset_spares,((e,t)=>((0,r.uX)(),(0,r.CE)("tr",{key:t},[(0,r.Lk)("td",dP,(0,n.v_)((i.meta.page-1)*i.meta.per_page+t+1),1),(0,r.Lk)("td",null,(0,n.v_)(e.asset_zone?.zone_name),1),(0,r.Lk)("td",null,(0,n.v_)(e?.asset_service?.service?.service_name),1),(0,r.Lk)("td",null,(0,n.v_)(e.spare?.spare_type?.spare_type_name),1),(0,r.Lk)("td",null,(0,n.v_)(e.spare?.spare_code),1),(0,r.Lk)("td",null,(0,n.v_)(e.spare?.spare_name),1),(0,r.Lk)("td",null,(0,n.v_)(e.quantity),1),(0,r.Lk)("td",nP,[(0,r.bo)(((0,r.uX)(),(0,r.CE)("a",{href:"javascript:void(0)",class:"text-success me-2",onClick:a=>o.editSpare(e)},a[25]||(a[25]=[(0,r.Lk)("i",{class:"ri-pencil-line fs-18 lh-1"},null,-1)]),8,cP)),[[_,"assetSpares.update"]]),(0,r.Lk)("a",{href:"javascript:void(0)",class:"text-primary me-2","data-bs-toggle":"modal","data-bs-target":"#exampleModal",onClick:(0,s.D$)((a=>o.viewAsset(e,"Spares")),["prevent"])},a[26]||(a[26]=[(0,r.Lk)("i",{class:"ri-eye-fill fs-18 lh-1"},null,-1)]),8,uP),(0,r.bo)(((0,r.uX)(),(0,r.CE)("a",{href:"javascript:void(0)",class:"text-danger me-2",onClick:a=>o.deleteSpare(e)},a[27]||(a[27]=[(0,r.Lk)("i",{class:"ri-delete-bin-6-line fs-18 lh-1"},null,-1)]),8,_P)),[[_,"assetSpares.delete"]])])])))),128))])])])])])]),(0,r.Lk)("div",pP,[(0,r.Lk)("div",mP,[(0,r.bo)((0,r.Lk)("select",{class:"form-select from-select-sm width-75","onUpdate:modelValue":a[9]||(a[9]=e=>i.meta.per_page=e),onChange:a[10]||(a[10]=e=>o.onPerPageChange("Spares"))},a[28]||(a[28]=[(0,r.Lk)("option",null,"5",-1),(0,r.Lk)("option",null,"10",-1),(0,r.Lk)("option",null,"15",-1),(0,r.Lk)("option",null,"20",-1),(0,r.Lk)("option",null,"25",-1),(0,r.Lk)("option",null,"30",-1)]),544),[[s.u1,i.meta.per_page]]),(0,r.Lk)("span",null,"Showing "+(0,n.v_)(i.meta.from)+" to "+(0,n.v_)(i.meta.to)+" of "+(0,n.v_)(i.meta.totalRows)+" entries",1),(0,r.bF)(u,{maxPage:i.meta.maxPage,totalPages:i.meta.lastPage,currentPage:i.meta.page,onPagechanged:o.onPageChange,from:"Spares"},null,8,["maxPage","totalPages","currentPage","onPagechanged"])])])])])),[[_,"assetSpares.view"]]),(0,r.Lk)("div",bP,[(0,r.Lk)("div",kP,[(0,r.Lk)("div",vP,[(0,r.Lk)("div",hP,[(0,r.Lk)("h5",yP,(0,n.v_)(i.asset_type),1),a[30]||(a[30]=(0,r.Lk)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1))]),(0,r.Lk)("div",gP,[(0,r.Lk)("div",fP,[(0,r.Lk)("div",LP,["Spares"==i.asset_type?((0,r.uX)(),(0,r.CE)("div",CP,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(i.assets1?.asset_spare_attributes,((e,a)=>((0,r.uX)(),(0,r.CE)("div",{class:"col-md-4",key:a},[e.spare_attributes?.length&&"Text"==e.spare_attributes[0].field_type?((0,r.uX)(),(0,r.CE)("div",wP,[(0,r.Lk)("label",EP,(0,n.v_)(e.spare_attributes[0].display_name),1),e.spare_attributes[0].is_required?((0,r.uX)(),(0,r.CE)("span",xP,"*")):(0,r.Q3)("",!0),(0,r.Lk)("input",{type:"text",class:(0,n.C4)(["form-control",{"is-invalid":i.errors[e.spare_attributes[0].display_name]}]),placeholder:"Enter "+e.spare_attributes[0].display_name,value:e.field_value,disabled:"true"},null,10,XP),i.errors[e.spare_attributes[0].display_name]?((0,r.uX)(),(0,r.CE)("span",PP,(0,n.v_)(i.errors[e.spare_attributes[0].display_name][0]),1)):(0,r.Q3)("",!0)])):(0,r.Q3)("",!0),e.spare_attributes?.length&&"Number"==e.spare_attributes[0].field_type?((0,r.uX)(),(0,r.CE)("div",$P,[(0,r.Lk)("label",SP,(0,n.v_)(e.spare_attributes[0].display_name),1),e.spare_attributes[0].is_required?((0,r.uX)(),(0,r.CE)("span",AP,"*")):(0,r.Q3)("",!0),(0,r.Lk)("input",{type:"number",class:(0,n.C4)(["form-control",{"is-invalid":i.errors[e.spare_attributes[0].display_name]}]),min:"0",oninput:"validity.valid||(value='');",placeholder:"Enter "+e.spare_attributes[0].display_name,value:e.field_value,disabled:"true"},null,10,DP),i.errors[e.spare_attributes[0].display_name]?((0,r.uX)(),(0,r.CE)("span",TP,(0,n.v_)(i.errors[e.spare_attributes[0].display_name][0]),1)):(0,r.Q3)("",!0)])):(0,r.Q3)("",!0),e.spare_attributes?.length&&"Date"===e.spare_attributes[0].field_type?((0,r.uX)(),(0,r.CE)("div",QP,[(0,r.Lk)("label",VP,[(0,r.eW)((0,n.v_)(e.spare_attributes[0].display_name)+" ",1),e.spare_attributes[0].is_required?((0,r.uX)(),(0,r.CE)("span",FP,"*")):(0,r.Q3)("",!0)]),(0,r.Lk)("input",{type:"date",class:(0,n.C4)(["form-control",{"is-invalid":i.errors[e.spare_attributes[0].display_name]}]),placeholder:"Enter "+e.spare_attributes[0].display_name,value:e.field_value,disabled:"true"},null,10,UP),i.errors[e.spare_attributes[0].display_name]?((0,r.uX)(),(0,r.CE)("span",jP,(0,n.v_)(i.errors[e.spare_attributes[0].display_name][0]),1)):(0,r.Q3)("",!0)])):(0,r.Q3)("",!0),e.spare_attributes?.length&&"Date&Time"===e.spare_attributes[0].field_type?((0,r.uX)(),(0,r.CE)("div",zP,[(0,r.Lk)("label",WP,[(0,r.eW)((0,n.v_)(e.spare_attributes[0].display_name)+" ",1),e.spare_attributes[0].is_required?((0,r.uX)(),(0,r.CE)("span",RP,"*")):(0,r.Q3)("",!0)]),(0,r.Lk)("input",{type:"datetime-local",class:(0,n.C4)(["form-control",{"is-invalid":i.errors[e.spare_attributes[0].display_name]}]),placeholder:"Enter "+e.spare_attributes[0].display_name,value:e.field_value,step:"1",disabled:"true"},null,10,qP),i.errors[e.spare_attributes[0].display_name]?((0,r.uX)(),(0,r.CE)("span",IP,(0,n.v_)(i.errors[e.spare_attributes[0].display_name][0]),1)):(0,r.Q3)("",!0)])):(0,r.Q3)("",!0),e.spare_attributes?.length&&"Dropdown"==e.spare_attributes[0].field_type?((0,r.uX)(),(0,r.CE)("div",NP,[(0,r.Lk)("label",MP,(0,n.v_)(e.spare_attributes[0].display_name),1),e.spare_attributes[0].is_required?((0,r.uX)(),(0,r.CE)("span",KP,"*")):(0,r.Q3)("",!0),(0,r.Lk)("select",{class:(0,n.C4)(["form-control",{"is-invalid":i.errors[e.spare_attributes[0].display_name]}]),value:e.field_value,disabled:"true"},[e.field_value?((0,r.uX)(),(0,r.CE)("option",{key:0,value:e.field_value},(0,n.v_)(e.field_value),9,BP)):((0,r.uX)(),(0,r.CE)("option",{key:1,value:e.field_value},"Select "+(0,n.v_)(e.spare_attributes[0].display_name),9,OP)),((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(e.spare_attributes[0].field_values.split(","),((e,a)=>((0,r.uX)(),(0,r.CE)("option",{key:a,value:e},(0,n.v_)(e),9,HP)))),128))],10,JP),i.errors[e.spare_attributes[0].display_name]?((0,r.uX)(),(0,r.CE)("span",YP,(0,n.v_)(i.errors[e.spare_attributes[0].display_name][0]),1)):(0,r.Q3)("",!0)])):(0,r.Q3)("",!0),e.spare_attributes?.length&&"Color"==e.spare_attributes[0].field_type?((0,r.uX)(),(0,r.CE)("div",ZP,[(0,r.Lk)("label",GP,[(0,r.eW)((0,n.v_)(e.spare_attributes[0].display_name),1),e.spare_attributes[0].is_required?((0,r.uX)(),(0,r.CE)("span",e$,"*")):(0,r.Q3)("",!0)]),(0,r.Lk)("input",{type:"color",class:"form-control",value:e.field_value,style:{height:"2.2rem"},disabled:"true"},null,8,a$),i.errors[e.spare_attributes[0].display_name]?((0,r.uX)(),(0,r.CE)("span",t$,(0,n.v_)(i.errors[e.spare_attributes[0].display_name][0]),1)):(0,r.Q3)("",!0)])):(0,r.Q3)("",!0),e.spare_attributes?.length&&"List"==e.spare_attributes[0].field_type?((0,r.uX)(),(0,r.CE)("div",s$,[(0,r.Lk)("label",r$,(0,n.v_)(e.spare_attributes[0].display_name),1),e.spare_attributes[0].is_required?((0,r.uX)(),(0,r.CE)("span",l$,"*")):(0,r.Q3)("",!0),(0,r.Lk)("select",{class:(0,n.C4)(["form-control",{"is-invalid":i.errors[e.spare_attributes[0].display_name]}]),value:e.field_value,disabled:"true"},[e.spare_attributes[0].spare_attribute_value.field_value?((0,r.uX)(),(0,r.CE)("option",{key:0,value:e.spare_attributes[0].spare_attribute_value.field_value},(0,n.v_)(e.spare_attributes[0].spare_attribute_value.field_value),9,o$)):((0,r.uX)(),(0,r.CE)("option",{key:1,value:e.spare_attributes[0].spare_attribute_value.field_value},"Select "+(0,n.v_)(e.spare_attributes[0].display_name),9,d$)),((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(e.spare_attributes[0].list_parameter?.field_values.split(","),((e,a)=>((0,r.uX)(),(0,r.CE)("option",{key:a,value:e},(0,n.v_)(e),9,n$)))),128))],10,i$),i.errors[e.spare_attributes[0].display_name]?((0,r.uX)(),(0,r.CE)("span",c$,(0,n.v_)(i.errors[e.spare_attributes[0].display_name][0]),1)):(0,r.Q3)("",!0)])):(0,r.Q3)("",!0)])))),128))])):(0,r.Q3)("",!0)])])])])])])],64)}var _$={name:"Assets.View",components:{Search:It.A,Pagination:md,MultiSelect:Ru.A},props:{asset_id:{type:Number,required:!0}},data(){return{asset_type:"",meta:{search:"",order_by:"desc",keyword:"spare_id",per_page:10,totalRows:0,page:1,lastPage:1,from:1,to:1,maxPage:1,trashed:!1,asset_id:"",asset_type_id:""},asset:{asset_id:"",plant_id:"",asset_code:"",asset_name:"",asset_type_id:"",section_id:"",serial_no:"",status:"",QR_Code:""},spare:{spare_id:"",asset_spare_id:"",spare_code:"",spare_name:"",asset_id:"",asset_zone_id:"",spare_asset_zones_obj:[],spare_asset_zones:[],quantity:"",asset_spare_attributes:[],initial_spare_id:"",initial_asset_spare_attributes:[],deleted_asset_spare_values:[],spare_zone_read_only:!1,asset_service_id:""},spares:[],asset_spares:[],template_services:[],asset_zones:[],asset_spare_services:[],errors:[],status:!0,asset_zone_status:!1,asset_zone_status_spares:!1,isValid:!0,assets1:[],error_style:{"border-color":"#dc3545","padding-right":"calc(1.5em + 0.812rem)","background-image":"url(\"data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 12 12' width='12' height='12' fill='none' stroke='%23dc3545'%3e%3ccircle cx='6' cy='6' r='4.5'/%3e%3cpath stroke-linejoin='round' d='M5.8 3.6h.4L6 6.5z'/%3e%3ccircle cx='6' cy='8.2' r='.6' fill='%23dc3545' stroke='none'/%3e%3c/svg%3e\")","background-repeat":"no-repeat","background-position":"right calc(0.375em + 0.203rem) center","background-size":"calc(0.75em + 0.406rem) calc(0.75em + 0.406rem)"}}},watch:{assets1(){this.assets1=this.$store.getters.assets},"check.check_id":function(){let e=this,a=e.checks.filter((a=>a.check_id==e.check.check_id));console.log("vm.check.template_check_status",e.check.template_check_status),a.length&&!e.check.template_check_status&&(e.check.lcl=a[0].lcl,e.check.ucl=a[0].ucl,e.check.order=a[0].order,e.check.default_value=a[0].default_value,e.check.field_type=a[0]?.field_type,e.check.field_values=a[0]?.field_values),e.check.template_check_status&&(e.check.field_type=a[0]?.field_type,e.check.field_values=a[0]?.field_values)}},computed:{formattedTemplateServices(){return this.template_services.map((e=>({...e,displayName:`${e.zone_name} - ${e.service_name}`})))},formattedTemplateSpareServices(){return this.asset_spare_services.map((e=>({...e,displayName:`${e.zone_name} - ${e.service_name}`})))}},mounted(){document.body.classList.add("sidebar-hide"),this.getAsset()},methods:{getAsset(){let e=this;e.$store.dispatch("post",{uri:"getAsset",data:{asset_id:e.asset_id}}).then((a=>{e.asset=a.data.asset,e.asset_zones=a?.data?.asset?.zone_name,e.asset.QR_Code=a?.data?.QRCode,e.getAssetSpares()})).catch((function(a){e.errors=a.response?.data?.errors,e.$store.dispatch("error",a.response?.data?.message)}))},getAssetSpares(){let e=this,a=e.$loading.show();e.meta.asset_id=e.asset.asset_id,e.meta.asset_type_id=e.asset.asset_type_id,e.$store.dispatch("post",{uri:"paginateAssetSpares",data:e.meta}).then((t=>{a.hide(),e.asset_spares=t.data.paginate_spares,e.spares=t?.data?.spares,e.asset_spare_services=t.data.asset_spare_services,e.meta.totalRows=t.data.meta.total,e.meta.from=t.data.meta.from,e.meta.to=t.data.meta.to,e.meta.lastPage=t.data.meta.last_page,e.meta.maxPage=e.meta.lastPage>=3?3:e.meta.lastPage})).catch((function(t){a.hide(),console.log("errors",t),e.errors=t.response.data.errors,e.$store.dispatch("error",t.response.data.message)}))},editSpare(e){this.spare.spare_id=e.spare_id,this.spare.asset_id=e.asset_id,this.spare.asset_spare_id=e.asset_spare_id,this.spare.spare_code=e.spare_code,this.spare.spare_name=e.spare_name,this.spare.spare_asset_zones=[],this.spare.spare_asset_zones.push(e.asset_zone_id),this.spare.spare_asset_zones_obj=[],this.spare.spare_asset_zones_obj.push({asset_id:e.asset_zone.asset_id,asset_zone_id:e.asset_zone.asset_zone_id,status:e.asset_zone.status,zone_name:e.asset_zone.zone_name,diameter:e.asset_zone.diameter,height:e.asset_zone.height,asset_spares:e.asset_zone.asset_spares}),this.spare.spare_zone_read_only=!0,this.spare.asset_zone_id=e.asset_zone_id,this.spare.quantity=e.quantity,this.spare.asset_spare_attributes=e.asset_spare_attributes,this.spare.initial_spare_id=e.spare_id,this.spare.initial_asset_spare_attributes=e.asset_spare_attributes;const a=this.formattedTemplateSpareServices.find((a=>a.asset_service_id===e.asset_service_id));a&&(this.spare.spare_asset_zones_obj=[a],this.spare.asset_service_id=a.asset_service_id)},validateFields(e){if(this.isValid=!0,this.errors={},"Spares"==e)for(const a of Object.values(this.spare.asset_spare_attributes))a.spare_attributes.length&&a.spare_attributes[0].is_required&&!a.field_value&&(console.log("field.spare_attributes[0]?.field_type:--",a.spare_attributes[0]?.field_type),"Color"===a.spare_attributes[0]?.field_type?a.field_value="#000000":(this.errors[a.spare_attributes[0].display_name]=[`${a.spare_attributes[0].display_name} is required`],this.isValid=!1))},addSpare(){let e=this;e.spare.asset_id=e.asset.asset_id,e.spare.spare_asset_zones=[],e.spare.spare_asset_zones_obj.map((function(a){e.spare.spare_asset_zones.push(a.asset_service_id)}));let a=e.$loading.show();e.validateFields("Spares"),e.isValid?e.$store.dispatch("post",{uri:"addAssetSpare",data:e.spare}).then((t=>{a.hide(),e.$store.dispatch("success",t.data.message),e.spare.spare_id="",e.spare.asset_zone_id=[],e.spare.spare_asset_zones=[],e.spare.spare_asset_zones_obj=[],e.spare.quantity="",e.spare.asset_service_id="",e.spare.asset_spare_attributes=[],e.spare.initial_spare_id="",e.spare.initial_asset_spare_attributes=[],e.spare.deleted_asset_spare_values=[],e.asset_zone_status_spares=!1,e.errors=[],e.spare.spare_zone_read_only=!1,e.getAssetSpares()})).catch((function(t){a.hide(),e.errors=t.response.data.errors,e.$store.dispatch("error",t.response.data.message)})):a.hide()},updateSpare(){let e=this,a=e.$loading.show();if(e.validateFields("Spares"),!e.isValid)return void a.hide();e.spare.spare_id!=e.spare.initial_spare_id&&e.spare.initial_asset_spare_attributes.map((function(a){e.spare.deleted_asset_spare_values.push(a.asset_spare_value_id)}));let t={uri:"updateAssetSpare",data:e.spare};e.$store.dispatch("post",t).then((function(t){a.hide(),e.$store.dispatch("success",t.data.message),e.spare.spare_id="",e.spare.asset_zone_id="",e.spare.asset_spare_id="",e.spare.spare_asset_zones_obj=[],e.spare.spare_asset_zones=[],e.spare.quantity="",e.spare.asset_service_id="",e.spare.asset_spare_attributes=[],e.spare.initial_spare_id="",e.spare.initial_asset_spare_attributes=[],e.spare.deleted_asset_spare_values=[],e.asset_zone_status_spares=!1,e.errors=[],e.spare.spare_zone_read_only=!1,e.getAssetSpares()})).catch((function(t){a.hide(),e.errors=t.response?.data?.errors,e.$store.dispatch("error",t?.response?.data?.message)}))},deleteSpare(e){const a=confirm("Are you sure you want to delete it ?");if(a){let a=this,t=a.$loading.show();a.$store.dispatch("post",{uri:"forceDeleteAssetSpare",data:e}).then((e=>{t.hide(),a.$store.dispatch("success",e.data.message),a.spare.spare_id="",a.errors=[],a.getAssetSpares()})).catch((function(e){t.hide(),a.errors=e.response.data.errors,a.$store.dispatch("warning",e.response.data.message)}))}},onPageChange(e,a){"Spares"==a&&(this.meta.page=e,this.getAssetSpares())},sort(e,a){"Spares"==a&&(this.meta.keyword=e,this.meta.order_by="asc"==this.meta.order_by?"desc":"asc",this.getAssetSpares())},onPerPageChange(e){"Spares"==e&&(this.meta.page=1,this.getAssetSpares())},getSpareAttribute(e){let a=this,t=a.$loading.show();a.spare.asset_spare_attributes=[],a.$store.dispatch("post",{uri:"assetSpareAttributeValues",data:{spare_id:e}}).then((e=>{t.hide(),a.spare.asset_spare_attributes=e.data.data})).catch((function(e){t.hide(),a.errors=e.response.data.errors,a.$store.dispatch("error",e.response.data.message)}))},viewAsset(e,a){this.$store.commit("setAssets",e),this.asset_type=a,this.assets1=this.$store.getters.assets},searchSpare(){let e=this;e.meta.page=1,e.getAssetSpares()}}};const p$=(0,Ze.A)(_$,[["render",u$],["__scopeId","data-v-92adcd68"]]);var m$=p$,b$={name:"Assets.View",components:{DataSources:pL,Accessories:EE,Services:zy,Variables:Vw,Checks:jx,Spares:m$},data(){return{tab:"services",asset:{asset_id:"",plant_id:"",asset_code:"",asset_name:"",asset_type_id:"",section_id:"",serial_no:"",status:"",QR_Code:""},asset_zones:[]}},beforeRouteEnter(e,a,t){t((a=>{document.body.classList.add("sidebar-hide"),a.asset.asset_id=e.params.asset_id;let t={uri:"getAsset",data:{asset_id:e.params.asset_id}};a.$store.dispatch("post",t).then((function(e){a.asset=e.data.asset,a.asset_zones=e?.data?.asset?.zone_name,a.asset.QR_Code=e?.data?.QRCode})).catch((function(e){console.log(e),a.errors=e.response.data.errors,a.$store.dispatch("error",e.response.data.message)}))}))},mounted(){document.body.classList.add("sidebar-hide"),this.getSettings()},methods:{getSettings(){let e=this;e.openTab(e.tab)},openTab(e){let a=this;a.tab=e,"services"==a.tab&&a.$refs.services_tab,"checks"==a.tab&&a.$refs.checks_tab,"spares"==a.tab&&a.$refs.spares_tab,"variables"==a.tab&&a.$refs.variables_tab,"data_sources"==a.tab&&a.$refs.data_sources_tab,"accessories"==a.tab&&a.$refs.accessories_tab},downloadQR(){let e=this;window.open(e.$store.state.apiUrl+"downloadAssetQRCode?asset_code="+e.asset.asset_code)}}};const k$=(0,Ze.A)(b$,[["render",vv],["__scopeId","data-v-218ae1a9"]]);var v$=k$;const h$={class:""},y$={class:"d-sm-flex align-items-center justify-content-between mb-2"},g$={class:"breadcrumb fs-sm mb-1"},f$={class:"breadcrumb-item","aria-current":"page"},L$={class:"breadcrumb-item"},C$={class:"row g-2"},w$={class:"col-12 mb-2"},E$={class:"card card-one"},x$={class:"card-header d-flex justify-content-between"},X$={class:"card-title"},P$={class:"card-body"},$$={key:0,class:"row g-2"},S$={key:0},A$={class:"form-label"},D$={key:0,class:"text-danger"},T$=["placeholder","value"],Q$={key:1,class:"invalid-feedback"},V$={key:1},F$={class:"form-label"},U$={key:0,class:"text-danger"},j$=["placeholder","value"],z$={key:1,class:"invalid-feedback"},W$={key:2},R$={class:"form-label"},q$={key:0,class:"text-danger"},I$=["placeholder","value"],N$={key:0,class:"invalid-feedback"},M$={key:3},K$={class:"form-label"},J$={key:0,class:"text-danger"},B$=["placeholder","value"],O$={key:0,class:"invalid-feedback"},H$={key:4},Y$={class:"form-label"},Z$={key:0,class:"text-danger"},G$=["value"],eS=["value"],aS=["value"],tS=["value"],sS={key:1,class:"invalid-feedback"},rS={key:5},lS={class:"form-label"},iS={key:0,class:"text-danger"},oS=["value"],dS={key:0,class:"invalid-feedback"},nS={key:6},cS={class:"form-label"},uS={key:0,class:"text-danger"},_S=["value"],pS=["value"],mS=["value"],bS=["value"],kS={key:1,class:"invalid-feedback"},vS={key:1,class:"row g-2"},hS={key:0},yS={class:"form-label"},gS={key:0,class:"text-danger"},fS=["placeholder","value"],LS={key:1,class:"invalid-feedback"},CS={key:1},wS={class:"form-label"},ES={key:0,class:"text-danger"},xS=["placeholder","value"],XS={key:1,class:"invalid-feedback"},PS={key:2},$S={class:"form-label"},SS={key:0,class:"text-danger"},AS=["placeholder","value"],DS={key:0,class:"invalid-feedback"},TS={key:3},QS={class:"form-label"},VS={key:0,class:"text-danger"},FS=["placeholder","value"],US={key:0,class:"invalid-feedback"},jS={key:4},zS={class:"form-label"},WS={key:0,class:"text-danger"},RS=["value"],qS=["value"],IS=["value"],NS=["value"],MS={key:1,class:"invalid-feedback"},KS={key:5},JS={class:"form-label"},BS={key:0,class:"text-danger"},OS=["value"],HS={key:0,class:"invalid-feedback"},YS={key:6},ZS={class:"form-label"},GS={key:0,class:"text-danger"},eA=["value"],aA=["value"],tA=["value"],sA=["value"],rA={key:1,class:"invalid-feedback"},lA={key:2,class:"row g-2"},iA={key:0},oA={class:"form-label"},dA={key:0,class:"text-danger"},nA=["placeholder","value"],cA={key:1,class:"invalid-feedback"},uA={key:1},_A={class:"form-label"},pA={key:0,class:"text-danger"},mA=["placeholder","value"],bA={key:1,class:"invalid-feedback"},kA={key:2},vA={class:"form-label"},hA={key:0,class:"text-danger"},yA=["placeholder","value"],gA={key:0,class:"invalid-feedback"},fA={key:3},LA={class:"form-label"},CA={key:0,class:"text-danger"},wA=["placeholder","value"],EA={key:0,class:"invalid-feedback"},xA={key:4},XA={class:"form-label"},PA={key:0,class:"text-danger"},$A=["value"],SA=["value"],AA=["value"],DA=["value"],TA={key:1,class:"invalid-feedback"},QA={key:5},VA={class:"form-label"},FA={key:0,class:"text-danger"},UA=["value"],jA={key:0,class:"invalid-feedback"},zA={key:6},WA={class:"form-label"},RA={key:0,class:"text-danger"},qA=["value"],IA=["value"],NA=["value"],MA=["value"],KA={key:1,class:"invalid-feedback"},JA={key:3,class:"row g-2"},BA={key:0},OA={class:"form-label"},HA={key:0,class:"text-danger"},YA=["placeholder","value"],ZA={key:1,class:"invalid-feedback"},GA={key:1},eD={class:"form-label"},aD={key:0,class:"text-danger"},tD=["placeholder","value"],sD={key:1,class:"invalid-feedback"},rD={key:2},lD={class:"form-label"},iD={key:0,class:"text-danger"},oD=["placeholder","value"],dD={key:0,class:"invalid-feedback"},nD={key:3},cD={class:"form-label"},uD={key:0,class:"text-danger"},_D=["placeholder","value"],pD={key:0,class:"invalid-feedback"},mD={key:4},bD={class:"form-label"},kD={key:0,class:"text-danger"},vD=["value"],hD=["value"],yD=["value"],gD=["value"],fD={key:1,class:"invalid-feedback"},LD={key:5},CD={class:"form-label"},wD={key:0,class:"text-danger"},ED=["value"],xD={key:0,class:"invalid-feedback"},XD={key:6},PD={class:"form-label"},$D={key:0,class:"text-danger"},SD=["value"],AD=["value"],DD=["value"],TD=["value"],QD={key:1,class:"invalid-feedback"};function VD(e,a,t,s,l,i){const o=(0,r.g2)("router-link");return(0,r.uX)(),(0,r.CE)("div",h$,[(0,r.Lk)("div",y$,[(0,r.Lk)("div",null,[(0,r.Lk)("ol",g$,[(0,r.Lk)("li",f$,[(0,r.bF)(o,{to:"/dashboard"},{default:(0,r.k6)((()=>a[0]||(a[0]=[(0,r.eW)("Dashboard")]))),_:1})]),(0,r.Lk)("li",L$,[(0,r.bF)(o,{to:"/assets"},{default:(0,r.k6)((()=>a[1]||(a[1]=[(0,r.eW)("Assets")]))),_:1})]),a[2]||(a[2]=(0,r.Lk)("li",{class:"breadcrumb-item active","aria-current":"page"},"View",-1))]),a[3]||(a[3]=(0,r.Lk)("h4",{class:"main-title mb-0"},"Assets",-1))]),(0,r.bF)(o,{to:"/asset/"+l.assets.asset_id+"/view",type:"submit",class:"btn btn-primary",style:{float:"right"}},{default:(0,r.k6)((()=>a[4]||(a[4]=[(0,r.Lk)("i",{class:"ri-list-check"},null,-1),(0,r.eW)(" ASSETS")]))),_:1},8,["to"])]),(0,r.Lk)("div",C$,[(0,r.Lk)("div",w$,[(0,r.Lk)("div",E$,[(0,r.Lk)("div",x$,[(0,r.Lk)("h6",X$,(0,n.v_)(l.asset_type),1)]),(0,r.Lk)("div",P$,["Spares"==l.asset_type?((0,r.uX)(),(0,r.CE)("div",$$,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(l.assets.asset_spare_attributes,((e,a)=>((0,r.uX)(),(0,r.CE)("div",{class:"col-md-3",key:a},["Text"==e.spare_attributes[0].field_type?((0,r.uX)(),(0,r.CE)("div",S$,[(0,r.Lk)("label",A$,(0,n.v_)(e.spare_attributes[0].display_name),1),e.spare_attributes[0].is_required?((0,r.uX)(),(0,r.CE)("span",D$,"*")):(0,r.Q3)("",!0),(0,r.Lk)("input",{type:"text",class:(0,n.C4)(["form-control",{"is-invalid":l.errors[e.spare_attributes[0].display_name]}]),placeholder:"Enter "+e.spare_attributes[0].display_name,value:e.field_value,disabled:"true"},null,10,T$),l.errors[e.spare_attributes[0].display_name]?((0,r.uX)(),(0,r.CE)("span",Q$,(0,n.v_)(l.errors[e.spare_attributes[0].display_name][0]),1)):(0,r.Q3)("",!0)])):(0,r.Q3)("",!0),"Number"==e.spare_attributes[0].field_type?((0,r.uX)(),(0,r.CE)("div",V$,[(0,r.Lk)("label",F$,(0,n.v_)(e.spare_attributes[0].display_name),1),e.spare_attributes[0].is_required?((0,r.uX)(),(0,r.CE)("span",U$,"*")):(0,r.Q3)("",!0),(0,r.Lk)("input",{type:"number",class:(0,n.C4)(["form-control",{"is-invalid":l.errors[e.spare_attributes[0].display_name]}]),min:"0",oninput:"validity.valid||(value='');",placeholder:"Enter "+e.spare_attributes[0].display_name,value:e.field_value,disabled:"true"},null,10,j$),l.errors[e.spare_attributes[0].display_name]?((0,r.uX)(),(0,r.CE)("span",z$,(0,n.v_)(l.errors[e.spare_attributes[0].display_name][0]),1)):(0,r.Q3)("",!0)])):(0,r.Q3)("",!0),"Date"===e.spare_attributes[0].field_type?((0,r.uX)(),(0,r.CE)("div",W$,[(0,r.Lk)("label",R$,[(0,r.eW)((0,n.v_)(e.spare_attributes[0].display_name)+" ",1),e.spare_attributes[0].is_required?((0,r.uX)(),(0,r.CE)("span",q$,"*")):(0,r.Q3)("",!0)]),(0,r.Lk)("input",{type:"date",class:(0,n.C4)(["form-control",{"is-invalid":l.errors[e.spare_attributes[0].display_name]}]),placeholder:"Enter "+e.spare_attributes[0].display_name,value:e.field_value,disabled:"true"},null,10,I$),l.errors[e.spare_attributes[0].display_name]?((0,r.uX)(),(0,r.CE)("span",N$,(0,n.v_)(l.errors[e.spare_attributes[0].display_name][0]),1)):(0,r.Q3)("",!0)])):(0,r.Q3)("",!0),"Date&Time"===e.spare_attributes[0].field_type?((0,r.uX)(),(0,r.CE)("div",M$,[(0,r.Lk)("label",K$,[(0,r.eW)((0,n.v_)(e.spare_attributes[0].display_name)+" ",1),e.spare_attributes[0].is_required?((0,r.uX)(),(0,r.CE)("span",J$,"*")):(0,r.Q3)("",!0)]),(0,r.Lk)("input",{type:"datetime-local",class:(0,n.C4)(["form-control",{"is-invalid":l.errors[e.spare_attributes[0].display_name]}]),placeholder:"Enter "+e.spare_attributes[0].display_name,value:e.field_value,step:"1",disabled:"true"},null,10,B$),l.errors[e.spare_attributes[0].display_name]?((0,r.uX)(),(0,r.CE)("span",O$,(0,n.v_)(l.errors[e.spare_attributes[0].display_name][0]),1)):(0,r.Q3)("",!0)])):(0,r.Q3)("",!0),"Dropdown"==e.spare_attributes[0].field_type?((0,r.uX)(),(0,r.CE)("div",H$,[(0,r.Lk)("label",Y$,(0,n.v_)(e.spare_attributes[0].display_name),1),e.spare_attributes[0].is_required?((0,r.uX)(),(0,r.CE)("span",Z$,"*")):(0,r.Q3)("",!0),(0,r.Lk)("select",{class:(0,n.C4)(["form-control",{"is-invalid":l.errors[e.spare_attributes[0].display_name]}]),value:e.field_value,disabled:"true"},[e.field_value?((0,r.uX)(),(0,r.CE)("option",{key:0,value:e.field_value},(0,n.v_)(e.field_value),9,eS)):((0,r.uX)(),(0,r.CE)("option",{key:1,value:e.field_value},"Select "+(0,n.v_)(e.spare_attributes[0].display_name),9,aS)),((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(e.spare_attributes[0].field_values.split(","),((e,a)=>((0,r.uX)(),(0,r.CE)("option",{key:a,value:e},(0,n.v_)(e),9,tS)))),128))],10,G$),l.errors[e.spare_attributes[0].display_name]?((0,r.uX)(),(0,r.CE)("span",sS,(0,n.v_)(l.errors[e.spare_attributes[0].display_name][0]),1)):(0,r.Q3)("",!0)])):(0,r.Q3)("",!0),"Color"==e.spare_attributes[0].field_type?((0,r.uX)(),(0,r.CE)("div",rS,[(0,r.Lk)("label",lS,[(0,r.eW)((0,n.v_)(e.spare_attributes[0].display_name),1),e.spare_attributes[0].is_required?((0,r.uX)(),(0,r.CE)("span",iS,"*")):(0,r.Q3)("",!0)]),(0,r.Lk)("input",{type:"color",class:"form-control",value:e.field_value,style:{height:"2.2rem"},disabled:"true"},null,8,oS),l.errors[e.spare_attributes[0].display_name]?((0,r.uX)(),(0,r.CE)("span",dS,(0,n.v_)(l.errors[e.spare_attributes[0].display_name][0]),1)):(0,r.Q3)("",!0)])):(0,r.Q3)("",!0),"List"==e.spare_attributes[0].field_type?((0,r.uX)(),(0,r.CE)("div",nS,[(0,r.Lk)("label",cS,(0,n.v_)(e.spare_attributes[0].display_name),1),e.spare_attributes[0].is_required?((0,r.uX)(),(0,r.CE)("span",uS,"*")):(0,r.Q3)("",!0),(0,r.Lk)("select",{class:(0,n.C4)(["form-control",{"is-invalid":l.errors[e.spare_attributes[0].display_name]}]),value:e.field_value,disabled:"true"},[e.spare_attributes[0].spare_attribute_value.field_value?((0,r.uX)(),(0,r.CE)("option",{key:0,value:e.spare_attributes[0].spare_attribute_value.field_value},(0,n.v_)(e.spare_attributes[0].spare_attribute_value.field_value),9,pS)):((0,r.uX)(),(0,r.CE)("option",{key:1,value:e.spare_attributes[0].spare_attribute_value.field_value},"Select "+(0,n.v_)(e.spare_attributes[0].display_name),9,mS)),((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(e.spare_attributes[0].list_parameter?.field_values.split(","),((e,a)=>((0,r.uX)(),(0,r.CE)("option",{key:a,value:e},(0,n.v_)(e),9,bS)))),128))],10,_S),l.errors[e.spare_attributes[0].display_name]?((0,r.uX)(),(0,r.CE)("span",kS,(0,n.v_)(l.errors[e.spare_attributes[0].display_name][0]),1)):(0,r.Q3)("",!0)])):(0,r.Q3)("",!0)])))),128))])):(0,r.Q3)("",!0),"Services"==l.asset_type?((0,r.uX)(),(0,r.CE)("div",vS,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(l.assets.asset_service_attributes,((e,a)=>((0,r.uX)(),(0,r.CE)("div",{class:"col-md-3",key:a},["Text"==e.service_attributes[0].field_type?((0,r.uX)(),(0,r.CE)("div",hS,[(0,r.Lk)("label",yS,(0,n.v_)(e.service_attributes[0].display_name),1),e.service_attributes[0].is_required?((0,r.uX)(),(0,r.CE)("span",gS,"*")):(0,r.Q3)("",!0),(0,r.Lk)("input",{type:"text",class:(0,n.C4)(["form-control",{"is-invalid":l.errors[e.service_attributes[0].display_name]}]),placeholder:"Enter "+e.service_attributes[0].display_name,value:e.field_value,disabled:"true"},null,10,fS),l.errors[e.service_attributes[0].display_name]?((0,r.uX)(),(0,r.CE)("span",LS,(0,n.v_)(l.errors[e.service_attributes[0].display_name][0]),1)):(0,r.Q3)("",!0)])):(0,r.Q3)("",!0),"Number"==e.service_attributes[0].field_type?((0,r.uX)(),(0,r.CE)("div",CS,[(0,r.Lk)("label",wS,(0,n.v_)(e.service_attributes[0].display_name),1),e.service_attributes[0].is_required?((0,r.uX)(),(0,r.CE)("span",ES,"*")):(0,r.Q3)("",!0),(0,r.Lk)("input",{type:"number",class:(0,n.C4)(["form-control",{"is-invalid":l.errors[e.service_attributes[0].display_name]}]),min:"0",oninput:"validity.valid||(value='');",placeholder:"Enter "+e.service_attributes[0].display_name,value:e.field_value,disabled:"true"},null,10,xS),l.errors[e.service_attributes[0].display_name]?((0,r.uX)(),(0,r.CE)("span",XS,(0,n.v_)(l.errors[e.service_attributes[0].display_name][0]),1)):(0,r.Q3)("",!0)])):(0,r.Q3)("",!0),"Date"===e.service_attributes[0].field_type?((0,r.uX)(),(0,r.CE)("div",PS,[(0,r.Lk)("label",$S,[(0,r.eW)((0,n.v_)(e.service_attributes[0].display_name)+" ",1),e.service_attributes[0].is_required?((0,r.uX)(),(0,r.CE)("span",SS,"*")):(0,r.Q3)("",!0)]),(0,r.Lk)("input",{type:"date",class:(0,n.C4)(["form-control",{"is-invalid":l.errors[e.service_attributes[0].display_name]}]),placeholder:"Enter "+e.service_attributes[0].display_name,value:e.field_value,disabled:"true"},null,10,AS),l.errors[e.service_attributes[0].display_name]?((0,r.uX)(),(0,r.CE)("span",DS,(0,n.v_)(l.errors[e.service_attributes[0].display_name][0]),1)):(0,r.Q3)("",!0)])):(0,r.Q3)("",!0),"Date&Time"===e.service_attributes[0].field_type?((0,r.uX)(),(0,r.CE)("div",TS,[(0,r.Lk)("label",QS,[(0,r.eW)((0,n.v_)(e.service_attributes[0].display_name)+" ",1),e.service_attributes[0].is_required?((0,r.uX)(),(0,r.CE)("span",VS,"*")):(0,r.Q3)("",!0)]),(0,r.Lk)("input",{type:"datetime-local",class:(0,n.C4)(["form-control",{"is-invalid":l.errors[e.service_attributes[0].display_name]}]),placeholder:"Enter "+e.service_attributes[0].display_name,value:e.field_value,step:"1",disabled:"true"},null,10,FS),l.errors[e.service_attributes[0].display_name]?((0,r.uX)(),(0,r.CE)("span",US,(0,n.v_)(l.errors[e.service_attributes[0].display_name][0]),1)):(0,r.Q3)("",!0)])):(0,r.Q3)("",!0),"Dropdown"==e.service_attributes[0].field_type?((0,r.uX)(),(0,r.CE)("div",jS,[(0,r.Lk)("label",zS,(0,n.v_)(e.service_attributes[0].display_name),1),e.service_attributes[0].is_required?((0,r.uX)(),(0,r.CE)("span",WS,"*")):(0,r.Q3)("",!0),(0,r.Lk)("select",{class:(0,n.C4)(["form-control",{"is-invalid":l.errors[e.service_attributes[0].display_name]}]),value:e.field_value,disabled:"true"},[e.field_value?((0,r.uX)(),(0,r.CE)("option",{key:0,value:e.field_value},(0,n.v_)(e.field_value),9,qS)):((0,r.uX)(),(0,r.CE)("option",{key:1,value:e.field_value},"Select "+(0,n.v_)(e.service_attributes[0].display_name),9,IS)),((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(e.service_attributes[0].field_values.split(","),((e,a)=>((0,r.uX)(),(0,r.CE)("option",{key:a,value:e},(0,n.v_)(e),9,NS)))),128))],10,RS),l.errors[e.service_attributes[0].display_name]?((0,r.uX)(),(0,r.CE)("span",MS,(0,n.v_)(l.errors[e.service_attributes[0].display_name][0]),1)):(0,r.Q3)("",!0)])):(0,r.Q3)("",!0),"Color"==e.service_attributes[0].field_type?((0,r.uX)(),(0,r.CE)("div",KS,[(0,r.Lk)("label",JS,[(0,r.eW)((0,n.v_)(e.service_attributes[0].display_name),1),e.service_attributes[0].is_required?((0,r.uX)(),(0,r.CE)("span",BS,"*")):(0,r.Q3)("",!0)]),(0,r.Lk)("input",{type:"color",class:"form-control",value:e.field_value,style:{height:"2.2rem"},disabled:"true"},null,8,OS),l.errors[e.service_attributes[0].display_name]?((0,r.uX)(),(0,r.CE)("span",HS,(0,n.v_)(l.errors[e.service_attributes[0].display_name][0]),1)):(0,r.Q3)("",!0)])):(0,r.Q3)("",!0),"List"==e.service_attributes[0].field_type?((0,r.uX)(),(0,r.CE)("div",YS,[(0,r.Lk)("label",ZS,(0,n.v_)(e.service_attributes[0].display_name),1),e.service_attributes[0].is_required?((0,r.uX)(),(0,r.CE)("span",GS,"*")):(0,r.Q3)("",!0),(0,r.Lk)("select",{class:(0,n.C4)(["form-control",{"is-invalid":l.errors[e.service_attributes[0].display_name]}]),value:e.field_value,disabled:"true"},[e.service_attributes[0].service_attribute_value?.field_value?((0,r.uX)(),(0,r.CE)("option",{key:0,value:e.service_attributes[0].service_attribute_value?.field_value},(0,n.v_)(e.service_attributes[0].service_attribute_value?.field_value),9,aA)):((0,r.uX)(),(0,r.CE)("option",{key:1,value:e.service_attributes[0].service_attribute_value?.field_value},"Select "+(0,n.v_)(e.service_attributes[0].display_name),9,tA)),((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(e.service_attributes[0].list_parameter?.field_values.split(","),((e,a)=>((0,r.uX)(),(0,r.CE)("option",{key:a,value:e.trim()},(0,n.v_)(e.trim()),9,sA)))),128))],10,eA),l.errors[e.service_attributes[0].display_name]?((0,r.uX)(),(0,r.CE)("span",rA,(0,n.v_)(l.errors[e.service_attributes[0].display_name][0]),1)):(0,r.Q3)("",!0)])):(0,r.Q3)("",!0)])))),128))])):(0,r.Q3)("",!0),"Variables"==l.asset_type?((0,r.uX)(),(0,r.CE)("div",lA,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(l.assets.asset_variable_attributes,((e,a)=>((0,r.uX)(),(0,r.CE)("div",{class:"col-md-3",key:a},["Text"==e.variable_attributes[0].field_type?((0,r.uX)(),(0,r.CE)("div",iA,[(0,r.Lk)("label",oA,(0,n.v_)(e.variable_attributes[0].display_name),1),e.variable_attributes[0].is_required?((0,r.uX)(),(0,r.CE)("span",dA,"*")):(0,r.Q3)("",!0),(0,r.Lk)("input",{type:"text",class:(0,n.C4)(["form-control",{"is-invalid":l.errors[e.variable_attributes[0].display_name]}]),placeholder:"Enter "+e.variable_attributes[0].display_name,value:e.field_value,disabled:"true"},null,10,nA),l.errors[e.variable_attributes[0].display_name]?((0,r.uX)(),(0,r.CE)("span",cA,(0,n.v_)(l.errors[e.variable_attributes[0].display_name][0]),1)):(0,r.Q3)("",!0)])):(0,r.Q3)("",!0),"Number"==e.variable_attributes[0].field_type?((0,r.uX)(),(0,r.CE)("div",uA,[(0,r.Lk)("label",_A,(0,n.v_)(e.variable_attributes[0].display_name),1),e.variable_attributes[0].is_required?((0,r.uX)(),(0,r.CE)("span",pA,"*")):(0,r.Q3)("",!0),(0,r.Lk)("input",{type:"number",class:(0,n.C4)(["form-control",{"is-invalid":l.errors[e.variable_attributes[0].display_name]}]),min:"0",oninput:"validity.valid||(value='');",placeholder:"Enter "+e.variable_attributes[0].display_name,value:e.field_value,disabled:"true"},null,10,mA),l.errors[e.variable_attributes[0].display_name]?((0,r.uX)(),(0,r.CE)("span",bA,(0,n.v_)(l.errors[e.variable_attributes[0].display_name][0]),1)):(0,r.Q3)("",!0)])):(0,r.Q3)("",!0),"Date"===e.variable_attributes[0].field_type?((0,r.uX)(),(0,r.CE)("div",kA,[(0,r.Lk)("label",vA,[(0,r.eW)((0,n.v_)(e.variable_attributes[0].display_name)+" ",1),e.variable_attributes[0].is_required?((0,r.uX)(),(0,r.CE)("span",hA,"*")):(0,r.Q3)("",!0)]),(0,r.Lk)("input",{type:"date",class:(0,n.C4)(["form-control",{"is-invalid":l.errors[e.variable_attributes[0].display_name]}]),placeholder:"Enter "+e.variable_attributes[0].display_name,value:e.field_value,disabled:"true"},null,10,yA),l.errors[e.variable_attributes[0].display_name]?((0,r.uX)(),(0,r.CE)("span",gA,(0,n.v_)(l.errors[e.variable_attributes[0].display_name][0]),1)):(0,r.Q3)("",!0)])):(0,r.Q3)("",!0),"Date&Time"===e.variable_attributes[0].field_type?((0,r.uX)(),(0,r.CE)("div",fA,[(0,r.Lk)("label",LA,[(0,r.eW)((0,n.v_)(e.variable_attributes[0].display_name)+" ",1),e.variable_attributes[0].is_required?((0,r.uX)(),(0,r.CE)("span",CA,"*")):(0,r.Q3)("",!0)]),(0,r.Lk)("input",{type:"datetime-local",class:(0,n.C4)(["form-control",{"is-invalid":l.errors[e.variable_attributes[0].display_name]}]),placeholder:"Enter "+e.variable_attributes[0].display_name,value:e.field_value,step:"1",disabled:"true"},null,10,wA),l.errors[e.variable_attributes[0].display_name]?((0,r.uX)(),(0,r.CE)("span",EA,(0,n.v_)(l.errors[e.variable_attributes[0].display_name][0]),1)):(0,r.Q3)("",!0)])):(0,r.Q3)("",!0),"Dropdown"==e.variable_attributes[0].field_type?((0,r.uX)(),(0,r.CE)("div",xA,[(0,r.Lk)("label",XA,(0,n.v_)(e.variable_attributes[0].display_name),1),e.variable_attributes[0].is_required?((0,r.uX)(),(0,r.CE)("span",PA,"*")):(0,r.Q3)("",!0),(0,r.Lk)("select",{class:(0,n.C4)(["form-control",{"is-invalid":l.errors[e.variable_attributes[0].display_name]}]),value:e.field_value,disabled:"true"},[e.field_value?((0,r.uX)(),(0,r.CE)("option",{key:0,value:e.field_value},(0,n.v_)(e.field_value),9,SA)):((0,r.uX)(),(0,r.CE)("option",{key:1,value:e.field_value},"Select "+(0,n.v_)(e.variable_attributes[0].display_name),9,AA)),((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(e.variable_attributes[0].field_values.split(","),((e,a)=>((0,r.uX)(),(0,r.CE)("option",{key:a,value:e},(0,n.v_)(e),9,DA)))),128))],10,$A),l.errors[e.variable_attributes[0].display_name]?((0,r.uX)(),(0,r.CE)("span",TA,(0,n.v_)(l.errors[e.variable_attributes[0].display_name][0]),1)):(0,r.Q3)("",!0)])):(0,r.Q3)("",!0),"Color"==e.variable_attributes[0].field_type?((0,r.uX)(),(0,r.CE)("div",QA,[(0,r.Lk)("label",VA,[(0,r.eW)((0,n.v_)(e.variable_attributes[0].display_name),1),e.variable_attributes[0].is_required?((0,r.uX)(),(0,r.CE)("span",FA,"*")):(0,r.Q3)("",!0)]),(0,r.Lk)("input",{type:"color",class:"form-control",value:e.field_value,style:{height:"2.2rem"},disabled:"true"},null,8,UA),l.errors[e.variable_attributes[0].display_name]?((0,r.uX)(),(0,r.CE)("span",jA,(0,n.v_)(l.errors[e.variable_attributes[0].display_name][0]),1)):(0,r.Q3)("",!0)])):(0,r.Q3)("",!0),"List"==e.variable_attributes[0].field_type?((0,r.uX)(),(0,r.CE)("div",zA,[(0,r.Lk)("label",WA,(0,n.v_)(e.variable_attributes[0].display_name),1),e.variable_attributes[0].is_required?((0,r.uX)(),(0,r.CE)("span",RA,"*")):(0,r.Q3)("",!0),(0,r.Lk)("select",{class:(0,n.C4)(["form-control",{"is-invalid":l.errors[e.variable_attributes[0].display_name]}]),value:e.field_value,disabled:"true"},[e.variable_attributes[0].variable_attribute_value?.field_value?((0,r.uX)(),(0,r.CE)("option",{key:0,value:e.variable_attributes[0].variable_attribute_value?.field_value},(0,n.v_)(e.variable_attributes[0].variable_attribute_value?.field_value),9,IA)):((0,r.uX)(),(0,r.CE)("option",{key:1,value:e.variable_attributes[0].variable_attribute_value?.field_value},"Select "+(0,n.v_)(e.variable_attributes[0].display_name),9,NA)),((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(e.variable_attributes[0].list_parameter?.field_values.split(","),((e,a)=>((0,r.uX)(),(0,r.CE)("option",{key:a,value:e.trim()},(0,n.v_)(e.trim()),9,MA)))),128))],10,qA),l.errors[e.variable_attributes[0].display_name]?((0,r.uX)(),(0,r.CE)("span",KA,(0,n.v_)(l.errors[e.variable_attributes[0].display_name][0]),1)):(0,r.Q3)("",!0)])):(0,r.Q3)("",!0)])))),128))])):(0,r.Q3)("",!0),"Data Sources"==l.asset_type?((0,r.uX)(),(0,r.CE)("div",JA,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(l.assets.asset_datasource_attributes,((e,a)=>((0,r.uX)(),(0,r.CE)("div",{class:"col-md-3",key:a},["Text"==e.data_source_attributes[0].field_type?((0,r.uX)(),(0,r.CE)("div",BA,[(0,r.Lk)("label",OA,(0,n.v_)(e.data_source_attributes[0].display_name),1),e.data_source_attributes[0].is_required?((0,r.uX)(),(0,r.CE)("span",HA,"*")):(0,r.Q3)("",!0),(0,r.Lk)("input",{type:"text",class:(0,n.C4)(["form-control",{"is-invalid":l.errors[e.data_source_attributes[0].display_name]}]),placeholder:"Enter "+e.data_source_attributes[0].display_name,value:e.field_value,disabled:"true"},null,10,YA),l.errors[e.data_source_attributes[0].display_name]?((0,r.uX)(),(0,r.CE)("span",ZA,(0,n.v_)(l.errors[e.data_source_attributes[0].display_name][0]),1)):(0,r.Q3)("",!0)])):(0,r.Q3)("",!0),"Number"==e.data_source_attributes[0].field_type?((0,r.uX)(),(0,r.CE)("div",GA,[(0,r.Lk)("label",eD,(0,n.v_)(e.data_source_attributes[0].display_name),1),e.data_source_attributes[0].is_required?((0,r.uX)(),(0,r.CE)("span",aD,"*")):(0,r.Q3)("",!0),(0,r.Lk)("input",{type:"number",class:(0,n.C4)(["form-control",{"is-invalid":l.errors[e.data_source_attributes[0].display_name]}]),min:"0",oninput:"validity.valid||(value='');",placeholder:"Enter "+e.data_source_attributes[0].display_name,value:e.field_value,disabled:"true"},null,10,tD),l.errors[e.data_source_attributes[0].display_name]?((0,r.uX)(),(0,r.CE)("span",sD,(0,n.v_)(l.errors[e.data_source_attributes[0].display_name][0]),1)):(0,r.Q3)("",!0)])):(0,r.Q3)("",!0),"Date"===e.data_source_attributes[0].field_type?((0,r.uX)(),(0,r.CE)("div",rD,[(0,r.Lk)("label",lD,[(0,r.eW)((0,n.v_)(e.data_source_attributes[0].display_name)+" ",1),e.data_source_attributes[0].is_required?((0,r.uX)(),(0,r.CE)("span",iD,"*")):(0,r.Q3)("",!0)]),(0,r.Lk)("input",{type:"date",class:(0,n.C4)(["form-control",{"is-invalid":l.errors[e.data_source_attributes[0].display_name]}]),placeholder:"Enter "+e.data_source_attributes[0].display_name,value:e.field_value,disabled:"true"},null,10,oD),l.errors[e.data_source_attributes[0].display_name]?((0,r.uX)(),(0,r.CE)("span",dD,(0,n.v_)(l.errors[e.data_source_attributes[0].display_name][0]),1)):(0,r.Q3)("",!0)])):(0,r.Q3)("",!0),"Date&Time"===e.data_source_attributes[0].field_type?((0,r.uX)(),(0,r.CE)("div",nD,[(0,r.Lk)("label",cD,[(0,r.eW)((0,n.v_)(e.data_source_attributes[0].display_name)+" ",1),e.data_source_attributes[0].is_required?((0,r.uX)(),(0,r.CE)("span",uD,"*")):(0,r.Q3)("",!0)]),(0,r.Lk)("input",{type:"datetime-local",class:(0,n.C4)(["form-control",{"is-invalid":l.errors[e.data_source_attributes[0].display_name]}]),placeholder:"Enter "+e.data_source_attributes[0].display_name,value:e.field_value,step:"1",disabled:"true"},null,10,_D),l.errors[e.data_source_attributes[0].display_name]?((0,r.uX)(),(0,r.CE)("span",pD,(0,n.v_)(l.errors[e.data_source_attributes[0].display_name][0]),1)):(0,r.Q3)("",!0)])):(0,r.Q3)("",!0),"Dropdown"==e.data_source_attributes[0].field_type?((0,r.uX)(),(0,r.CE)("div",mD,[(0,r.Lk)("label",bD,(0,n.v_)(e.data_source_attributes[0].display_name),1),e.data_source_attributes[0].is_required?((0,r.uX)(),(0,r.CE)("span",kD,"*")):(0,r.Q3)("",!0),(0,r.Lk)("select",{class:(0,n.C4)(["form-control",{"is-invalid":l.errors[e.data_source_attributes[0].display_name]}]),value:e.field_value,disabled:"true"},[e.field_value?((0,r.uX)(),(0,r.CE)("option",{key:0,value:e.field_value},(0,n.v_)(e.field_value),9,hD)):((0,r.uX)(),(0,r.CE)("option",{key:1,value:e.field_value},"Select "+(0,n.v_)(e.data_source_attributes[0].display_name),9,yD)),((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(e.data_source_attributes[0].field_values.split(","),((e,a)=>((0,r.uX)(),(0,r.CE)("option",{key:a,value:e},(0,n.v_)(e),9,gD)))),128))],10,vD),l.errors[e.data_source_attributes[0].display_name]?((0,r.uX)(),(0,r.CE)("span",fD,(0,n.v_)(l.errors[e.data_source_attributes[0].display_name][0]),1)):(0,r.Q3)("",!0)])):(0,r.Q3)("",!0),"Color"==e.data_source_attributes[0].field_type?((0,r.uX)(),(0,r.CE)("div",LD,[(0,r.Lk)("label",CD,[(0,r.eW)((0,n.v_)(e.data_source_attributes[0].display_name),1),e.data_source_attributes[0].is_required?((0,r.uX)(),(0,r.CE)("span",wD,"*")):(0,r.Q3)("",!0)]),(0,r.Lk)("input",{type:"color",class:"form-control",value:e.field_value,style:{height:"2.2rem"},disabled:"true"},null,8,ED),l.errors[e.data_source_attributes[0].display_name]?((0,r.uX)(),(0,r.CE)("span",xD,(0,n.v_)(l.errors[e.data_source_attributes[0].display_name][0]),1)):(0,r.Q3)("",!0)])):(0,r.Q3)("",!0),"List"==e.data_source_attributes[0].field_type?((0,r.uX)(),(0,r.CE)("div",XD,[(0,r.Lk)("label",PD,(0,n.v_)(e.data_source_attributes[0].display_name),1),e.data_source_attributes[0].is_required?((0,r.uX)(),(0,r.CE)("span",$D,"*")):(0,r.Q3)("",!0),(0,r.Lk)("select",{class:(0,n.C4)(["form-control",{"is-invalid":l.errors[e.data_source_attributes[0].display_name]}]),value:e.field_value,disabled:"true"},[e.data_source_attributes[0].data_source_attribute_value?.field_value?((0,r.uX)(),(0,r.CE)("option",{key:0,value:e.data_source_attributes[0].data_source_attribute_value?.field_value},(0,n.v_)(e.data_source_attributes[0].data_source_attribute_value?.field_value),9,AD)):((0,r.uX)(),(0,r.CE)("option",{key:1,value:e.data_source_attributes[0].data_source_attribute_value?.field_value},"Select "+(0,n.v_)(e.data_source_attributes[0].display_name),9,DD)),((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(e.data_source_attributes[0].list_parameter?.field_values.split(","),((e,a)=>((0,r.uX)(),(0,r.CE)("option",{key:a,value:e.trim()},(0,n.v_)(e.trim()),9,TD)))),128))],10,SD),l.errors[e.data_source_attributes[0].display_name]?((0,r.uX)(),(0,r.CE)("span",QD,(0,n.v_)(l.errors[e.data_source_attributes[0].display_name][0]),1)):(0,r.Q3)("",!0)])):(0,r.Q3)("",!0)])))),128))])):(0,r.Q3)("",!0)])])])])])}var FD={name:"DynamicAssets.View",data(){return{asset_type:"",assets:[],errors:[]}},beforeRouteEnter(e,a,t){t((a=>{document.body.classList.remove("sidebar-hide"),a.asset_type=e.params.assets,a.assets=a.$store.getters.assets,console.log("vm.asset_type:-----",a.asset_type),console.log("vm.assets:-----",a.assets)}))},mounted(){},methods:{}};const UD=(0,Ze.A)(FD,[["render",VD]]);var jD=UD;const zD={class:""},WD={class:"d-sm-flex align-items-center justify-content-between mb-2"},RD={class:"breadcrumb fs-sm mb-1"},qD={class:"breadcrumb-item","aria-current":"page"},ID={class:"breadcrumb-item"},ND={class:"row text-center",style:{"justify-content":"center"}},MD={class:"col-4"},KD={class:"card card-one"},JD={class:"card-body text-center"},BD={class:"mb-5 mt-5"},OD=["src"],HD={class:"card-title"},YD={class:"row g-2 g-sm-3 mb-5"},ZD={class:"col-sm"};function GD(e,a,t,s,l,i){const o=(0,r.g2)("router-link");return(0,r.uX)(),(0,r.CE)(r.FK,null,[(0,r.Lk)("div",zD,[(0,r.Lk)("div",WD,[(0,r.Lk)("div",null,[(0,r.Lk)("ol",RD,[(0,r.Lk)("li",qD,[(0,r.bF)(o,{to:"/dashboard"},{default:(0,r.k6)((()=>a[1]||(a[1]=[(0,r.eW)("Dashboard")]))),_:1})]),a[3]||(a[3]=(0,r.Lk)("li",{class:"breadcrumb-item"},[(0,r.Lk)("a",{href:"javascript:void(0)"},"Masters")],-1)),(0,r.Lk)("li",ID,[(0,r.bF)(o,{to:"/assets"},{default:(0,r.k6)((()=>a[2]||(a[2]=[(0,r.eW)("Assets")]))),_:1})]),a[4]||(a[4]=(0,r.Lk)("li",{class:"breadcrumb-item active","aria-current":"page"},"QR Code",-1))]),a[5]||(a[5]=(0,r.Lk)("h4",{class:"main-title mb-0"},"Asset QR- Code",-1))]),(0,r.bF)(o,{to:"/assets",type:"submit",class:"btn btn-primary",style:{float:"right"}},{default:(0,r.k6)((()=>a[6]||(a[6]=[(0,r.Lk)("i",{class:"ri-list-check"},null,-1),(0,r.eW)(" ASSETS")]))),_:1})])]),(0,r.Lk)("div",ND,[(0,r.Lk)("div",MD,[(0,r.Lk)("div",KD,[(0,r.Lk)("div",JD,[(0,r.Lk)("div",BD,[(0,r.Lk)("img",{src:l.asset?.QR_Code,class:"img",style:{width:"200px"}},null,8,OD)]),(0,r.Lk)("h3",HD,(0,n.v_)(l.asset.asset_code),1),a[8]||(a[8]=(0,r.Lk)("p",{class:"card-text"},"Please scan the QR Code to get the asset details...",-1)),(0,r.Lk)("div",YD,[(0,r.Lk)("div",ZD,[(0,r.Lk)("button",{type:"button",class:"btn btn-primary",onClick:a[0]||(a[0]=e=>i.downloadQR())},a[7]||(a[7]=[(0,r.Lk)("i",{class:"ri-download-2-line fs-18 lh-1"},null,-1),(0,r.eW)(" Download QR")]))])])])])])])],64)}var eT={name:"GenerateQR",data(){return{asset:{asset_id:"",asset_code:"",QR_Code:""}}},beforeRouteEnter(e,a,t){t((a=>{a.asset.asset_id=e.params.asset_id;let t={uri:"getAsset",data:{asset_id:e.params.asset_id}};a.$store.dispatch("post",t).then((function(e){a.asset=e.data.data,a.getQRCode()})).catch((function(e){a.errors=e.response.data.errors,a.$store.dispatch("error",e.response.data.message)}))}))},methods:{getQRCode(){let e=this,a=e.$loading.show();e.$store.dispatch("post",{uri:"getAssetQRCode",data:e.asset}).then((t=>{a.hide(),e.asset.QR_Code=t.data.QRCode})).catch((function(t){a.hide(),e.errors=t.response.data.errors,e.$store.dispatch("error",t.response.data.message)}))},downloadQR(){let e=this;window.open(e.$store.state.apiUrl+"downloadAssetQRCode?asset_code="+e.asset.asset_code)}}};const aT=(0,Ze.A)(eT,[["render",GD],["__scopeId","data-v-1b64bde4"]]);var tT=aT;const sT={class:""},rT={class:"d-sm-flex align-items-center justify-content-between mb-2"},lT={class:"breadcrumb fs-sm mb-1"},iT={class:"breadcrumb-item","aria-current":"page"},oT={key:0,class:"breadcrumb-item"},dT={key:1,class:"breadcrumb-item"},nT={key:2,class:"breadcrumb-item"},cT={key:3,class:"breadcrumb-item"},uT={class:"row g-2"},_T={class:"col-12 mb-2"},pT={class:"card card-one"},mT={class:"card-body"},bT={class:"col-12"},kT={class:"table-responsive table-responsive-sm"},vT={class:"table table-sm text-nowrap table-striped table-bordered mb-0"},hT={class:""},yT={key:0,class:"ri-arrow-up-line"},gT={key:1,class:"ri-arrow-down-line"},fT={key:2,class:"fas fa-sort"},LT={key:0,class:"ri-arrow-up-line"},CT={key:1,class:"ri-arrow-down-line"},wT={key:2,class:"fas fa-sort"},ET={key:0,class:"ri-arrow-up-line"},xT={key:1,class:"ri-arrow-down-line"},XT={key:2,class:"fas fa-sort"},PT={key:0,class:"ri-arrow-up-line"},$T={key:1,class:"ri-arrow-down-line"},ST={key:2,class:"fas fa-sort"},AT={key:0},DT={class:"text-center"},TT=["href"],QT={key:1},VT={class:"card-footer"},FT={class:"d-flex justify-content-between align-items-center"};function UT(e,a,t,l,i,o){const d=(0,r.g2)("router-link"),c=(0,r.g2)("Pagination");return(0,r.uX)(),(0,r.CE)("div",sT,[(0,r.Lk)("div",rT,[(0,r.Lk)("div",null,[(0,r.Lk)("ol",lT,[(0,r.Lk)("li",iT,[(0,r.bF)(d,{to:"/dashboard"},{default:(0,r.k6)((()=>a[2]||(a[2]=[(0,r.eW)("Dashboard")]))),_:1})]),i.asset_from?((0,r.uX)(),(0,r.CE)("li",oT,a[3]||(a[3]=[(0,r.Lk)("a",{href:"javascript:void(0)"},"Masters",-1)]))):((0,r.uX)(),(0,r.CE)("li",dT,a[4]||(a[4]=[(0,r.Lk)("a",{href:"javascript:void(0)"},"Reviews",-1)]))),i.asset_from?((0,r.uX)(),(0,r.CE)("li",nT,[(0,r.bF)(d,{to:"/assets"},{default:(0,r.k6)((()=>a[5]||(a[5]=[(0,r.eW)("Assets")]))),_:1})])):((0,r.uX)(),(0,r.CE)("li",cT,[(0,r.bF)(d,{to:"/asset_details"},{default:(0,r.k6)((()=>a[6]||(a[6]=[(0,r.eW)("Asset Details")]))),_:1})])),a[7]||(a[7]=(0,r.Lk)("li",{class:"breadcrumb-item active","aria-current":"page"},"Accessories",-1))]),a[8]||(a[8]=(0,r.Lk)("h4",{class:"main-title mb-0"},"Assets",-1))]),i.asset_from?((0,r.uX)(),(0,r.Wv)(d,{key:0,to:"/assets",type:"submit",class:"btn btn-primary",style:{float:"right"}},{default:(0,r.k6)((()=>a[9]||(a[9]=[(0,r.Lk)("i",{class:"ri-list-check"},null,-1),(0,r.eW)(" ASSETS")]))),_:1})):((0,r.uX)(),(0,r.Wv)(d,{key:1,to:"/asset_details",type:"submit",class:"btn btn-primary",style:{float:"right"}},{default:(0,r.k6)((()=>a[10]||(a[10]=[(0,r.Lk)("i",{class:"ri-list-check"},null,-1),(0,r.eW)(" ASSETS DETAILS")]))),_:1}))]),(0,r.Lk)("div",uT,[(0,r.Lk)("div",_T,[(0,r.Lk)("div",pT,[a[18]||(a[18]=(0,r.Lk)("div",{class:"card-header d-flex justify-content-between"},[(0,r.Lk)("h6",{class:"card-title"},"Accessories")],-1)),(0,r.Lk)("div",mT,[(0,r.Lk)("div",bT,[(0,r.Lk)("div",kT,[(0,r.Lk)("table",vT,[(0,r.Lk)("thead",null,[(0,r.Lk)("tr",hT,[a[15]||(a[15]=(0,r.Lk)("th",{class:"text-center"},"#",-1)),(0,r.Lk)("th",null,[a[11]||(a[11]=(0,r.eW)(" Asset Zone ")),(0,r.Lk)("span",null,["asset_zone_id"==i.accessory_meta_service.keyword&&"asc"==i.accessory_meta_service.order_by?((0,r.uX)(),(0,r.CE)("i",yT)):"asset_zone_id"==i.accessory_meta_service.keyword&&"desc"==i.accessory_meta_service.order_by?((0,r.uX)(),(0,r.CE)("i",gT)):((0,r.uX)(),(0,r.CE)("i",fT))])]),(0,r.Lk)("th",null,[a[12]||(a[12]=(0,r.eW)(" Accessory Type ")),(0,r.Lk)("span",null,["accessory_type_id"==i.accessory_meta_service.keyword&&"asc"==i.accessory_meta_service.order_by?((0,r.uX)(),(0,r.CE)("i",LT)):"accessory_type_id"==i.accessory_meta_service.keyword&&"desc"==i.accessory_meta_service.order_by?((0,r.uX)(),(0,r.CE)("i",CT)):((0,r.uX)(),(0,r.CE)("i",wT))])]),(0,r.Lk)("th",null,[a[13]||(a[13]=(0,r.eW)(" Accessory Name ")),(0,r.Lk)("span",null,["accessory_name"==i.accessory_meta_service.keyword&&"asc"==i.accessory_meta_service.order_by?((0,r.uX)(),(0,r.CE)("i",ET)):"accessory_name"==i.accessory_meta_service.keyword&&"desc"==i.accessory_meta_service.order_by?((0,r.uX)(),(0,r.CE)("i",xT)):((0,r.uX)(),(0,r.CE)("i",XT))])]),(0,r.Lk)("th",null,[a[14]||(a[14]=(0,r.eW)(" Attachment ")),(0,r.Lk)("span",null,["attachment"==i.accessory_meta_service.keyword&&"asc"==i.accessory_meta_service.order_by?((0,r.uX)(),(0,r.CE)("i",PT)):"attachment"==i.accessory_meta_service.keyword&&"desc"==i.accessory_meta_service.order_by?((0,r.uX)(),(0,r.CE)("i",$T)):((0,r.uX)(),(0,r.CE)("i",ST))])])])]),(0,r.Lk)("tbody",null,[0==i.asset_accessories?.length?((0,r.uX)(),(0,r.CE)("tr",AT,a[16]||(a[16]=[(0,r.Lk)("td",{colspan:"5",class:"text-center"},"No records found",-1)]))):(0,r.Q3)("",!0),((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(i.asset_accessories,((e,a)=>((0,r.uX)(),(0,r.CE)("tr",{key:a},[(0,r.Lk)("td",DT,(0,n.v_)(i.accessory_meta_service.from+a),1),(0,r.Lk)("td",null,(0,n.v_)(e.asset_zone?.zone_name),1),(0,r.Lk)("td",null,(0,n.v_)(e.accessory_type.accessory_type_name),1),(0,r.Lk)("td",null,(0,n.v_)(e.accessory_name),1),(0,r.Lk)("td",null,[e.attachment?((0,r.uX)(),(0,r.CE)("a",{key:0,href:o.getAttachmentUrl(e.attachment),target:"_blank",rel:"noopener noreferrer"},(0,n.v_)(o.getAttachmentName(e.attachment)),9,TT)):((0,r.uX)(),(0,r.CE)("span",QT,"No attachment"))])])))),128))])])])])]),(0,r.Lk)("div",VT,[(0,r.Lk)("div",FT,[(0,r.bo)((0,r.Lk)("select",{class:"form-select from-select-sm width-75","onUpdate:modelValue":a[0]||(a[0]=e=>i.accessory_meta_service.per_page=e),onChange:a[1]||(a[1]=(...e)=>o.onPerPageChange&&o.onPerPageChange(...e))},a[17]||(a[17]=[(0,r.Lk)("option",null,"5",-1),(0,r.Lk)("option",null,"10",-1),(0,r.Lk)("option",null,"15",-1),(0,r.Lk)("option",null,"20",-1),(0,r.Lk)("option",null,"25",-1),(0,r.Lk)("option",null,"30",-1)]),544),[[s.u1,i.accessory_meta_service.per_page]]),(0,r.Lk)("span",null,"Showing "+(0,n.v_)(i.accessory_meta_service.from)+" to "+(0,n.v_)(i.accessory_meta_service.to)+" of "+(0,n.v_)(i.accessory_meta_service.totalRows)+" entries",1),(0,r.bF)(c,{maxPage:i.accessory_meta_service.maxPage,totalPages:i.accessory_meta_service.lastPage,currentPage:i.accessory_meta_service.page,onPagechanged:e.onPageChange},null,8,["maxPage","totalPages","currentPage","onPagechanged"])])])])])])])}var jT={name:"Assets.Accessories",data(){return{asset_accessories:[],accessory_meta_service:{search:"",order_by:"desc",keyword:"asset_accessory_id",per_page:5,totalRows:0,page:1,lastPage:1,from:1,to:1,maxPage:1,trashed:!1,asset_id:"",asset_type_id:""},asset_from:!0}},mounted(){},beforeRouteEnter(e,a,t){t((t=>{"Assets"==a.name?t.asset_from=!0:t.asset_from=!1,t.accessory_meta_service.asset_id=e.params.asset_id,t.index()}))},methods:{index(){let e=this,a=e.$loading.show();e.$store.dispatch("post",{uri:"paginateAssetAccessories",data:e.accessory_meta_service}).then((t=>{a.hide(),console.log("access reposne",t.data),e.initial_status=!1,e.asset_accessories=t.data.paginate_accessories,e.accessory_meta_service.totalRows=t.data.meta.total,e.accessory_meta_service.lastPage=t.data.meta.last_page,e.accessory_meta_service.maxPage=e.accessory_meta_service.lastPage>=3?3:e.accessory_meta_service.lastPage})).catch((function(e){a.hide(),console.log("errors accessories--",e)}))},getAttachmentUrl(e){return`${e}`},getAttachmentName(e){return e.split("/").pop()},onPerPageChange(){let e=this;e.meta.page=1,e.index()}}};const zT=(0,Ze.A)(jT,[["render",UT]]);var WT=zT;const RT={class:""},qT={class:"d-sm-flex align-items-center justify-content-between mb-2"},IT={class:"breadcrumb fs-sm mb-1"},NT={class:"breadcrumb-item","aria-current":"page"},MT={class:"row"},KT={class:"col-12"},JT={class:"card card-one"},BT={class:"card-body"},OT={class:"table-responsive table-responsive-sm"},HT={class:"table table-sm text-nowrap table-striped table-bordered mb-0"},YT={class:"",style:{"background-color":"#9b9b9b",color:"white"}},ZT={key:0,class:"ri-arrow-up-line"},GT={key:1,class:"ri-arrow-down-line"},eQ={key:2,class:"fas fa-sort"},aQ={key:0,class:"ri-arrow-up-line"},tQ={key:1,class:"ri-arrow-down-line"},sQ={key:2,class:"fas fa-sort"},rQ={key:0,class:"ri-arrow-up-line"},lQ={key:1,class:"ri-arrow-down-line"},iQ={key:2,class:"fas fa-sort"},oQ={key:0,class:"ri-arrow-up-line"},dQ={key:1,class:"ri-arrow-down-line"},nQ={key:2,class:"fas fa-sort"},cQ={key:0,class:"ri-arrow-up-line"},uQ={key:1,class:"ri-arrow-down-line"},_Q={key:2,class:"fas fa-sort"},pQ={key:0,class:"ri-arrow-up-line"},mQ={key:1,class:"ri-arrow-down-line"},bQ={key:2,class:"fas fa-sort"},kQ={class:"text-center"},vQ={key:0,class:"text-center"},hQ={class:"text-center"},yQ={class:"text-center"},gQ={class:"form-switch"},fQ=["id","checked","value","onChange"],LQ=["for"],CQ={key:0,class:"text-center"},wQ=["onClick"],EQ=["onClick"],xQ=["onClick"],XQ={key:0},PQ={class:"card-footer"},$Q={class:"d-flex justify-content-between align-items-center"};function SQ(e,a,t,l,i,o){const d=(0,r.g2)("router-link"),c=(0,r.g2)("Pagination"),u=(0,r.gN)("can");return(0,r.uX)(),(0,r.CE)("div",RT,[(0,r.Lk)("div",qT,[(0,r.Lk)("div",null,[(0,r.Lk)("ol",IT,[(0,r.Lk)("li",NT,[(0,r.bF)(d,{to:"/dashboard"},{default:(0,r.k6)((()=>a[10]||(a[10]=[(0,r.eW)("Dashboard")]))),_:1})]),a[11]||(a[11]=(0,r.Lk)("li",{class:"breadcrumb-item active","aria-current":"page"},"Asset Templates",-1))]),a[12]||(a[12]=(0,r.Lk)("h4",{class:"main-title mb-0"},"Asset Templates",-1))]),(0,r.bo)(((0,r.uX)(),(0,r.Wv)(d,{to:"/asset_templates/create",class:"btn btn-primary",style:{float:"right"}},{default:(0,r.k6)((()=>a[13]||(a[13]=[(0,r.Lk)("i",{class:"ri-list-check"},null,-1),(0,r.eW)(" ADD ASSET TEMPLATE")]))),_:1})),[[u,"asset_templates.create"]])]),(0,r.Lk)("div",MT,[(0,r.Lk)("div",KT,[(0,r.Lk)("div",JT,[a[28]||(a[28]=(0,r.Lk)("div",{class:"card-header d-flex justify-content-between"},[(0,r.Lk)("h6",{class:"card-title"},"Asset Templates")],-1)),(0,r.Lk)("div",BT,[(0,r.bo)((0,r.Lk)("input",{class:"form-control form-control-sm mb-2",type:"text",placeholder:"Type keyword and press enter key","onUpdate:modelValue":a[0]||(a[0]=e=>i.meta.search=e),onKeypress:a[1]||(a[1]=(0,s.jR)((e=>o.search()),["enter"]))},null,544),[[s.Jo,i.meta.search]]),(0,r.Lk)("div",OT,[(0,r.Lk)("table",HT,[(0,r.Lk)("thead",null,[(0,r.Lk)("tr",YT,[a[22]||(a[22]=(0,r.Lk)("th",{class:"text-center"},"#",-1)),(0,r.Lk)("th",{onClick:a[2]||(a[2]=e=>o.sort("asset_type_name"))},[a[14]||(a[14]=(0,r.eW)(" Asset Type ")),(0,r.Lk)("span",null,["asset_type_name"==i.meta.keyword&&"asc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",ZT)):"asset_type_name"==i.meta.keyword&&"desc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",GT)):((0,r.uX)(),(0,r.CE)("i",eQ))])]),(0,r.Lk)("th",{onClick:a[3]||(a[3]=e=>o.sort("template_code"))},[a[15]||(a[15]=(0,r.eW)(" Template Code ")),(0,r.Lk)("span",null,["template_code"==i.meta.keyword&&"asc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",aQ)):"template_code"==i.meta.keyword&&"desc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",tQ)):((0,r.uX)(),(0,r.CE)("i",sQ))])]),(0,r.Lk)("th",{onClick:a[4]||(a[4]=e=>o.sort("template_name"))},[a[16]||(a[16]=(0,r.eW)(" Template Name ")),(0,r.Lk)("span",null,["template_name"==i.meta.keyword&&"asc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",rQ)):"template_name"==i.meta.keyword&&"desc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",lQ)):((0,r.uX)(),(0,r.CE)("i",iQ))])]),(0,r.Lk)("th",{onClick:a[5]||(a[5]=e=>o.sort("latitude"))},[a[17]||(a[17]=(0,r.eW)(" Latitude ")),(0,r.Lk)("span",null,["latitude"==i.meta.keyword&&"asc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",oQ)):"latitude"==i.meta.keyword&&"desc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",dQ)):((0,r.uX)(),(0,r.CE)("i",nQ))])]),(0,r.Lk)("th",{onClick:a[6]||(a[6]=e=>o.sort("longitude"))},[a[18]||(a[18]=(0,r.eW)(" Longitude ")),(0,r.Lk)("span",null,["longitude"==i.meta.keyword&&"asc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",cQ)):"longitude"==i.meta.keyword&&"desc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",uQ)):((0,r.uX)(),(0,r.CE)("i",_Q))])]),(0,r.Lk)("th",{onClick:a[7]||(a[7]=e=>o.sort("radius"))},[a[19]||(a[19]=(0,r.eW)(" Radius ")),(0,r.Lk)("span",null,["radius"==i.meta.keyword&&"asc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",pQ)):"radius"==i.meta.keyword&&"desc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",mQ)):((0,r.uX)(),(0,r.CE)("i",bQ))])]),(0,r.bo)(((0,r.uX)(),(0,r.CE)("th",kQ,a[20]||(a[20]=[(0,r.eW)("Status")]))),[[u,"asset_templates.delete"]]),i.get_assetviews.length||i.get_asset.length?(0,r.bo)(((0,r.uX)(),(0,r.CE)("th",vQ,a[21]||(a[21]=[(0,r.eW)("Actions")]))),[[u,["asset_templates.update","asset_template_views.details","asset_template_permanent.delete"]]]):(0,r.Q3)("",!0)])]),(0,r.Lk)("tbody",null,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(i.assets,((e,t)=>((0,r.uX)(),(0,r.CE)("tr",{key:t},[(0,r.Lk)("td",hQ,(0,n.v_)(i.meta.from+t),1),(0,r.Lk)("td",null,(0,n.v_)(e.asset_type.asset_type_name),1),(0,r.Lk)("td",null,(0,n.v_)(e.template_code),1),(0,r.Lk)("td",null,(0,n.v_)(e.template_name),1),(0,r.Lk)("td",null,(0,n.v_)(e.latitude),1),(0,r.Lk)("td",null,(0,n.v_)(e.longitude),1),(0,r.Lk)("td",null,(0,n.v_)(e.radius),1),(0,r.bo)(((0,r.uX)(),(0,r.CE)("td",yQ,[(0,r.Lk)("div",gQ,[(0,r.Lk)("input",{class:"form-check-input",type:"checkbox",role:"switch",id:"asset"+e.asset_id,checked:e.status,value:e.status,onChange:a=>o.deleteAsset(e)},null,40,fQ),(0,r.Lk)("label",{class:"custom-control-label",for:"asset"+e.asset_id},null,8,LQ)])])),[[u,"asset_templates.delete"]]),i.get_assetviews.length||i.get_asset.length?(0,r.bo)(((0,r.uX)(),(0,r.CE)("td",CQ,[e.status?(0,r.bo)(((0,r.uX)(),(0,r.CE)("a",{key:0,title:"Edit Asset Template Attributes",href:"javascript:void(0)",class:"text-success me-2",onClick:a=>o.editAsset(e)},a[23]||(a[23]=[(0,r.Lk)("i",{class:"ri-pencil-line fs-18 lh-1"},null,-1)]),8,wQ)),[[u,"asset_templates.update"]]):(0,r.Q3)("",!0),e.status?(0,r.bo)(((0,r.uX)(),(0,r.CE)("a",{key:1,title:"View Register Attributes",href:"javascript:void(0)",class:"text-primary me-2",onClick:(0,s.D$)((a=>o.viewAsset(e)),["prevent"])},a[24]||(a[24]=[(0,r.Lk)("i",{class:"ri-eye-fill fs-18 lh-1"},null,-1)]),8,EQ)),[[u,"asset_template_views.details"]]):(0,r.Q3)("",!0),(0,r.bo)(((0,r.uX)(),(0,r.CE)("a",{title:"Asset Delete",href:"javascript:void(0)",class:"text-danger me-2",onClick:(0,s.D$)((a=>o.forceDeleteAsset(e)),["prevent"])},a[25]||(a[25]=[(0,r.Lk)("i",{class:"ri-delete-bin-6-line fs-18 lh-1"},null,-1)]),8,xQ)),[[u,"asset_template_permanent.delete"]])])),[[u,["asset_templates.update","asset_template_views.details","asset_template_permanent.delete"]]]):(0,r.Q3)("",!0)])))),128)),0==i.assets.length?((0,r.uX)(),(0,r.CE)("tr",XQ,a[26]||(a[26]=[(0,r.Lk)("td",{colspan:"10",class:"text-center"},"No records found",-1)]))):(0,r.Q3)("",!0)])])])]),(0,r.Lk)("div",PQ,[(0,r.Lk)("div",$Q,[(0,r.bo)((0,r.Lk)("select",{class:"form-select from-select-sm width-75","onUpdate:modelValue":a[8]||(a[8]=e=>i.meta.per_page=e),onChange:a[9]||(a[9]=(...e)=>o.onPerPageChange&&o.onPerPageChange(...e))},a[27]||(a[27]=[(0,r.Lk)("option",null,"10",-1),(0,r.Lk)("option",null,"15",-1),(0,r.Lk)("option",null,"20",-1),(0,r.Lk)("option",null,"25",-1),(0,r.Lk)("option",null,"30",-1)]),544),[[s.u1,i.meta.per_page]]),(0,r.Lk)("span",null,"Showing "+(0,n.v_)(i.meta.from)+" to "+(0,n.v_)(i.meta.to)+" of "+(0,n.v_)(i.meta.totalRows)+" entries",1),(0,r.bF)(c,{maxPage:i.meta.maxPage,totalPages:i.meta.lastPage,currentPage:parseInt(i.meta.page),onPagechanged:o.onPageChange},null,8,["maxPage","totalPages","currentPage","onPagechanged"])])])])])])])}var AQ={components:{Pagination:md},data(){return{meta:{search:"",order_by:"desc",keyword:"asset_template_id",per_page:10,totalRows:0,page:1,lastPage:1,from:1,to:1,maxPage:1,trashed:!1},get_assetviews:[],get_asset:[],assets:[],errors:[],status:!0}},beforeRouteEnter(e,a,t){t((e=>{"AssetTemplates.Edit"==a.name&&"AssetTemplates.View"==a.name?e.meta.page=e.$store.getters.current_page:e.meta.page=1}))},mounted(){this.assetviews=this.$store.getters.permissions.filter((function(e){return e.ability.ability.includes("assetviews.view")})),this.get_asset=this.$store.getters.permissions.filter((function(e){return e.ability.ability.includes("assets.update")})),document.body.classList.remove("sidebar-hide"),this.$store.commit("setAssetId",""),this.index()},methods:{index(){let e=this,a=e.$loading.show();e.$store.dispatch("post",{uri:"paginateAssetTemplates",data:e.meta}).then((t=>{a.hide(),e.assets=t.data.data,e.meta.totalRows=t.data.meta.total,e.meta.from=t.data.meta.from,e.meta.to=t.data.meta.to,e.meta.lastPage=t.data.meta.last_page,e.meta.maxPage=e.meta.lastPage>=3?3:e.meta.lastPage})).catch((function(t){a.hide(),e.errors=t.response.data.errors,e.$store.dispatch("error",t.response.data.message)}))},editAsset(e){this.$store.commit("setCurrentPage",parseInt(this.meta.page)),this.$router.push("/asset_template/"+e.asset_template_id+"/edit")},viewAsset(e){document.body.classList.add("sidebar-hide"),this.$store.commit("setCurrentPage",this.meta.page),this.$router.push("/asset_template/"+e.asset_template_id+"/view")},forceDeleteAsset(e){const a=confirm("Are you sure you want to delete it ?");if(a){let a=this,t=a.$loading.show();a.$store.dispatch("post",{uri:"forceDeleteAssetTemplate",data:e}).then((e=>{t.hide(),a.$store.dispatch("success",e.data.message),a.index()})).catch((function(e){t.hide(),a.errors=e.response.data.errors,a.$store.dispatch("error",e.response.data.message)}))}},viewRegister(e,a){this.$store.commit("setCurrentPage",this.meta.page),this.$store.commit("setAssetId",e.asset_id),this.$router.push(a)},getQRCode(e){this.$router.push("/QR_code/"+e.asset_id+"/get")},deleteAsset(e){let a=this,t=a.$loading.show();a.$store.dispatch("post",{uri:"deleteAssetTemplate",data:e}).then((e=>{t.hide(),a.$store.dispatch("success",e.data.message),a.index()})).catch((function(e){t.hide(),a.errors=e.response.data.errors,a.$store.dispatch("error",e.response.data.message)}))},search(){let e=this;e.meta.page=1,e.index()},onPageChange(e){this.meta.page=e,this.index()},sort(e){this.meta.keyword=e,this.meta.order_by="asc"==this.meta.order_by?"desc":"asc",this.index()},onPerPageChange(){let e=this;e.meta.page=1,e.index()}}};const DQ=(0,Ze.A)(AQ,[["render",SQ]]);var TQ=DQ;const QQ={class:""},VQ={class:"d-sm-flex align-items-center justify-content-between mb-2"},FQ={class:"breadcrumb fs-sm mb-1"},UQ={class:"breadcrumb-item","aria-current":"page"},jQ={class:"breadcrumb-item","aria-current":"page"},zQ={key:0,class:"breadcrumb-item","aria-current":"page"},WQ={key:1,class:"breadcrumb-item active","aria-current":"page"},RQ={class:"row"},qQ={class:"col-12"},IQ={class:"card card-one"},NQ={class:"card-header d-flex justify-content-between"},MQ={key:0,class:"card-title"},KQ={key:1,class:"card-title"},JQ={class:"card-body"},BQ={class:"card mb-3"},OQ={class:"card-body"},HQ={class:"row g-2"},YQ={class:"col-md-4"},ZQ={class:"d-flex justify-content-between"},GQ={key:0,class:"invalid-feedback"},eV={class:"col-md-4"},aV={key:0,class:"invalid-feedback"},tV={class:"col-md-4"},sV={key:0,class:"invalid-feedback"},rV={class:"col-md-4"},lV={key:0,class:"invalid-feedback"},iV={class:"col-md-4"},oV={key:0,class:"invalid-feedback"},dV={class:"card mb-3"},nV={class:"card-body"},cV={class:"row g-2"},uV={class:"col-md-4"},_V={key:0,class:"invalid-feedback"},pV={class:"col-md-4"},mV={key:0,class:"invalid-feedback"},bV={class:"col-md-4"},kV={key:0,class:"invalid-feedback"},vV={class:"col-md-4"},hV={key:0,class:"invalid-feedback"},yV={class:"col-md-4"},gV=["value"],fV={key:0,class:"invalid-feedback"},LV={class:"col-md-4"},CV={key:0,class:"invalid-feedback"},wV={class:"card mb-3"},EV={class:"card-body"},xV={class:"row g-2"},XV={class:"col-md-4"},PV={key:0,class:"invalid-feedback"},$V={key:0,class:"col-md-4"},SV={key:0,class:"invalid-feedback"},AV={key:1,class:"invalid-feedback"},DV={key:1,class:"col-md-4"},TV={key:0,class:"invalid-feedback"},QV={key:1,class:"invalid-feedback"},VV={class:"col-md-4"},FV=["min"],UV={key:0,class:"invalid-feedback"},jV={class:"col-md-4 mt-0"},zV={class:"form-label"},WV=["onUpdate:modelValue","disabled"],RV={key:0,class:"invalid-feedback"},qV={class:"col-md-4 mt-0"},IV=["onUpdate:modelValue","disabled"],NV={class:"col-md-4 mt-0"},MV=["onUpdate:modelValue","disabled"],KV={class:"row g-2"},JV={class:"col-md-4"},BV={key:0,class:"invalid-feedback"},OV={class:"col-md-4"},HV={key:0,class:"invalid-feedback"},YV={class:"col-md-4"},ZV={key:0,class:"invalid-feedback"},GV={key:0,class:"card mb-3"},eF={class:"card-body"},aF={class:"row g-2"},tF={key:0},sF={class:"form-label"},rF={key:0,class:"text-danger"},lF=["placeholder","maxlength","onUpdate:modelValue"],iF={key:1,class:"invalid-feedback"},oF={key:1},dF={class:"form-label"},nF={key:0,class:"text-danger"},cF=["onInput","placeholder","onUpdate:modelValue"],uF={key:1,class:"invalid-feedback"},_F={key:2},pF={class:"form-label"},mF={key:0,class:"text-danger"},bF=["placeholder","onUpdate:modelValue"],kF={key:0,class:"invalid-feedback"},vF={key:3},hF={class:"form-label"},yF={key:0,class:"text-danger"},gF=["placeholder","onUpdate:modelValue"],fF={key:0,class:"invalid-feedback"},LF={key:4},CF={class:"form-label"},wF={key:0,class:"text-danger"},EF=["onUpdate:modelValue"],xF=["value"],XF=["value"],PF=["value"],$F={key:1,class:"invalid-feedback"},SF={key:5},AF={class:"form-label"},DF={key:0,class:"text-danger"},TF=["onUpdate:modelValue"],QF=["value"],VF=["value"],FF=["value"],UF={key:1,class:"invalid-feedback"},jF={key:6},zF={class:"form-label"},WF={key:0,class:"text-danger"},RF=["onUpdate:modelValue"],qF={key:0,class:"invalid-feedback"},IF={class:"card-footer text-end"},NF={type:"submit",class:"btn btn-primary"},MF={key:0},KF={key:1};function JF(e,a,t,l,i,o){const d=(0,r.g2)("router-link"),c=(0,r.g2)("search"),u=(0,r.g2)("MultiSelect");return(0,r.uX)(),(0,r.CE)("div",QQ,[(0,r.Lk)("div",VQ,[(0,r.Lk)("div",null,[(0,r.Lk)("ol",FQ,[(0,r.Lk)("li",UQ,[(0,r.bF)(d,{to:"/dashboard"},{default:(0,r.k6)((()=>a[22]||(a[22]=[(0,r.eW)("Dashboard")]))),_:1})]),(0,r.Lk)("li",jQ,[(0,r.bF)(d,{to:"/asset_templates"},{default:(0,r.k6)((()=>a[23]||(a[23]=[(0,r.eW)("Asset Templates")]))),_:1})]),i.status?((0,r.uX)(),(0,r.CE)("li",zQ,"New Asset Template")):((0,r.uX)(),(0,r.CE)("li",WQ,"Update Asset Template"))]),a[24]||(a[24]=(0,r.Lk)("h4",{class:"main-title mb-0"},"Asset Template",-1))]),(0,r.bF)(d,{to:"/asset_templates",type:"submit",class:"btn btn-primary",style:{float:"right"}},{default:(0,r.k6)((()=>a[25]||(a[25]=[(0,r.Lk)("i",{class:"ri-list-check"},null,-1),(0,r.eW)(" ASSET TEMPLATES")]))),_:1})]),(0,r.Lk)("div",RQ,[(0,r.Lk)("div",qQ,[(0,r.Lk)("form",{onSubmit:a[21]||(a[21]=(0,s.D$)((e=>o.submitForm()),["prevent"]))},[(0,r.Lk)("div",IQ,[(0,r.Lk)("div",NQ,[i.status?((0,r.uX)(),(0,r.CE)("h6",MQ,"Add Asset Template")):((0,r.uX)(),(0,r.CE)("h6",KQ,"Update Asset Template"))]),(0,r.Lk)("div",JQ,[(0,r.Lk)("div",BQ,[a[34]||(a[34]=(0,r.Lk)("div",{class:"card-header d-flex justify-content-between"},[(0,r.Lk)("h6",{class:"card-title"},"Asset Template Details")],-1)),(0,r.Lk)("div",OQ,[(0,r.Lk)("div",HQ,[(0,r.Lk)("div",YQ,[(0,r.Lk)("div",ZQ,[a[27]||(a[27]=(0,r.Lk)("div",null,[(0,r.Lk)("label",{class:"form-label"},"Asset Type"),(0,r.Lk)("span",{class:"text-danger"}," *")],-1)),(0,r.Lk)("a",{type:"button",class:"text-danger me-2",onClick:a[0]||(a[0]=e=>o.reset())},a[26]||(a[26]=[(0,r.Lk)("i",{class:"ri-close-line fs-20 lh-1"},null,-1)]))]),(0,r.bF)(c,{class:(0,n.C4)({"is-invalid":i.errors?.asset_type_id}),customClass:{"is-invalid":i.errors?.asset_type_id},initialize:i.asset?.asset_type_id,id:"asset_type_id",label:"asset_type_name",label2:"asset_type_code",placeholder:"Select Asset Type",data:e.asset_attributes,onInput:a[1]||(a[1]=e=>i.asset.asset_type_id=e),onSelectsearch:a[2]||(a[2]=e=>o.getAssetType(i.asset.asset_type_id))},null,8,["class","customClass","initialize","data"]),i.errors?.asset_type_id?((0,r.uX)(),(0,r.CE)("span",GQ,(0,n.v_)(i.errors?.asset_type_id[0]),1)):(0,r.Q3)("",!0)]),(0,r.Lk)("div",eV,[a[28]||(a[28]=(0,r.Lk)("label",{class:"form-label"},"Template Code",-1)),a[29]||(a[29]=(0,r.Lk)("span",{class:"text-danger"}," *",-1)),(0,r.bo)((0,r.Lk)("input",{type:"text",placeholder:"Enter Template Code",class:(0,n.C4)(["form-control",{"is-invalid":i.errors?.template_code}]),"onUpdate:modelValue":a[3]||(a[3]=e=>i.asset.template_code=e)},null,2),[[s.Jo,i.asset.template_code]]),i.errors?.template_code?((0,r.uX)(),(0,r.CE)("span",aV,"Template Code is required")):(0,r.Q3)("",!0)]),(0,r.Lk)("div",tV,[a[30]||(a[30]=(0,r.Lk)("label",{class:"form-label"},"Template Name",-1)),a[31]||(a[31]=(0,r.Lk)("span",{class:"text-danger"}," *",-1)),(0,r.bo)((0,r.Lk)("input",{type:"text",placeholder:"Enter Template Name",class:(0,n.C4)(["form-control",{"is-invalid":i.errors?.template_name}]),"onUpdate:modelValue":a[4]||(a[4]=e=>i.asset.template_name=e)},null,2),[[s.Jo,i.asset.template_name]]),i.errors?.template_name?((0,r.uX)(),(0,r.CE)("span",sV,"Template Name is required")):(0,r.Q3)("",!0)]),(0,r.Lk)("div",rV,[a[32]||(a[32]=(0,r.Lk)("label",{class:"form-label"},"Scanner Code",-1)),(0,r.bo)((0,r.Lk)("input",{type:"text",placeholder:"Enter Scanner Code",class:(0,n.C4)(["form-control",{"is-invalid":i.errors?.scanner_code}]),"onUpdate:modelValue":a[5]||(a[5]=e=>i.asset.scanner_code=e)},null,2),[[s.Jo,i.asset.scanner_code]]),i.errors?.scanner_code?((0,r.uX)(),(0,r.CE)("span",lV,(0,n.v_)(i.errors.scanner_code[0]),1)):(0,r.Q3)("",!0)]),(0,r.Lk)("div",iV,[a[33]||(a[33]=(0,r.Lk)("label",{class:"form-label"},"PPMS Code",-1)),(0,r.bo)((0,r.Lk)("input",{type:"text",placeholder:"Enter PPMS Code",class:(0,n.C4)(["form-control",{"is-invalid":i.errors?.ppms_code}]),"onUpdate:modelValue":a[6]||(a[6]=e=>i.asset.ppms_code=e)},null,2),[[s.Jo,i.asset.ppms_code]]),i.errors?.ppms_code?((0,r.uX)(),(0,r.CE)("span",oV,(0,n.v_)(i.errors.ppms_code[0]),1)):(0,r.Q3)("",!0)])])])]),(0,r.Lk)("div",dV,[a[44]||(a[44]=(0,r.Lk)("div",{class:"card-header d-flex justify-content-between"},[(0,r.Lk)("h6",{class:"card-title"},"Lineage Parameters")],-1)),(0,r.Lk)("div",nV,[(0,r.Lk)("div",cV,[(0,r.Lk)("div",uV,[a[35]||(a[35]=(0,r.Lk)("label",{class:"form-label"},"Department",-1)),(0,r.bF)(u,{modelValue:i.asset.asset_departments_obj,"onUpdate:modelValue":a[7]||(a[7]=e=>i.asset.asset_departments_obj=e),filter:"",optionLabel:"department_name",options:i.departments,placeholder:"Select Department",maxSelectedLabels:3,style:(0,n.Tr)([{width:"100%",height:"37px"},i.errors?.department_id?i.error_style:""])},null,8,["modelValue","options","style"]),i.errors?.department_id?((0,r.uX)(),(0,r.CE)("span",_V,(0,n.v_)(i.errors.department_id[0]),1)):(0,r.Q3)("",!0)]),(0,r.Lk)("div",pV,[a[36]||(a[36]=(0,r.Lk)("label",{class:"form-label"},"Section",-1)),(0,r.bF)(c,{class:(0,n.C4)({"is-invalid":i.errors?.section_id}),customClass:{"is-invalid":i.errors?.section_id},initialize:i.asset?.section_id,id:"section_id",label:"section_name",placeholder:"Select Section",data:i.sections,onInput:a[8]||(a[8]=e=>i.asset.section_id=e)},null,8,["class","customClass","initialize","data"]),i.errors?.section_id?((0,r.uX)(),(0,r.CE)("span",mV,(0,n.v_)(i.errors.section_id[0]),1)):(0,r.Q3)("",!0)]),(0,r.Lk)("div",bV,[a[37]||(a[37]=(0,r.Lk)("label",{class:"form-label"},"Functional",-1)),(0,r.bF)(c,{class:(0,n.C4)({"is-invalid":i.errors?.functional_id}),customClass:{"is-invalid":i.errors?.functional_id},initialize:i.asset?.functional_id,id:"functional_id",label:"functional_name",placeholder:"Select Functional",data:i.functionals,onInput:a[9]||(a[9]=e=>i.asset.functional_id=e)},null,8,["class","customClass","initialize","data"]),i.errors?.functional_id?((0,r.uX)(),(0,r.CE)("span",kV,(0,n.v_)(i.errors.functional_id[0]),1)):(0,r.Q3)("",!0)]),(0,r.Lk)("div",vV,[a[38]||(a[38]=(0,r.Lk)("label",{class:"form-label"},"Shop",-1)),a[39]||(a[39]=(0,r.Lk)("span",{class:"text-danger"}," *",-1)),(0,r.bF)(c,{class:(0,n.C4)({"is-invalid":i.errors?.plant_id}),customClass:{"is-invalid":i.errors?.plant_id},initialize:i.asset?.plant_id,id:"plant_id",label:"plant_name",placeholder:"Select Shop",data:i.plants,onInput:a[10]||(a[10]=e=>i.asset.plant_id=e),onSelectsearch:a[11]||(a[11]=e=>o.getAreaValue())},null,8,["class","customClass","initialize","data"]),i.errors?.plant_id?((0,r.uX)(),(0,r.CE)("span",hV,"The shop field is required ")):(0,r.Q3)("",!0)]),(0,r.Lk)("div",yV,[a[40]||(a[40]=(0,r.Lk)("label",{class:"form-label"},"Area",-1)),a[41]||(a[41]=(0,r.Lk)("span",{class:"text-danger"}," *",-1)),(0,r.Lk)("input",{type:"text",disabled:"disabled",class:"form-control",value:i.asset?.area_name},null,8,gV),i.errors?.area_id?((0,r.uX)(),(0,r.CE)("span",fV,(0,n.v_)(i.errors.area_id[0]),1)):(0,r.Q3)("",!0)]),(0,r.Lk)("div",LV,[a[42]||(a[42]=(0,r.Lk)("label",{class:"form-label"},"Phase",-1)),a[43]||(a[43]=(0,r.Lk)("span",{class:"text-danger"}," *",-1)),(0,r.bF)(c,{class:(0,n.C4)({"is-invalid":i.errors?.phase_id}),customClass:{"is-invalid":i.errors?.phase_id},initialize:i.asset?.phase_id,id:"phase_id",label:"phase_name",placeholder:"Select Phases",data:i.phases,onInput:a[12]||(a[12]=e=>i.asset.phase_id=e)},null,8,["class","customClass","initialize","data"]),i.errors?.phase_id?((0,r.uX)(),(0,r.CE)("span",CV,(0,n.v_)(i.errors.phase_id[0]),1)):(0,r.Q3)("",!0)])])])]),(0,r.Lk)("div",wV,[a[59]||(a[59]=(0,r.Lk)("div",{class:"card-header d-flex justify-content-between"},[(0,r.Lk)("h6",{class:"card-title"},"Settings")],-1)),(0,r.Lk)("div",EV,[(0,r.Lk)("div",xV,[(0,r.Lk)("div",XV,[a[46]||(a[46]=(0,r.Lk)("label",{class:"form-label"},"Geometry Type",-1)),(0,r.bo)((0,r.Lk)("select",{class:(0,n.C4)(["form-control",{"is-invalid":i.errors?.geometry_type}]),"onUpdate:modelValue":a[13]||(a[13]=e=>i.asset.geometry_type=e)},a[45]||(a[45]=[(0,r.Fv)('<option value="">Select Geometry Type</option><option value="V-Cylindrical">V-Cylindrical (Vertical) </option><option value="H-Cylindrical">H-Cylindrical (Horizontal) </option><option value="Cubical">Cubical</option><option value="Conical">Conical</option><option value="Trapezoidal">Trapezoidal</option><option value="Others">Others</option>',7)]),2),[[s.u1,i.asset.geometry_type]]),i.errors?.geometry_type?((0,r.uX)(),(0,r.CE)("span",PV,(0,n.v_)(i.errors.geometry_type[0]),1)):(0,r.Q3)("",!0)]),["V-Cylindrical","H-Cylindrical"].includes(i.asset.geometry_type)?((0,r.uX)(),(0,r.CE)("div",$V,[a[47]||(a[47]=(0,r.Lk)("label",{class:"form-label"},"Height (in m)",-1)),a[48]||(a[48]=(0,r.Lk)("span",{class:"text-danger"}," *",-1)),(0,r.bo)((0,r.Lk)("input",{type:"number",step:"any",placeholder:"Enter Height ",class:(0,n.C4)(["form-control",{"is-invalid":i.errors?.zone_name&&i.errors.zone_name.some((e=>e.includes("height")))||i.errors?.height}]),"onUpdate:modelValue":a[14]||(a[14]=e=>i.asset.height=e)},null,2),[[s.Jo,i.asset.height]]),i.errors?.height?((0,r.uX)(),(0,r.CE)("span",SV,(0,n.v_)(i.errors.height[0]),1)):(0,r.Q3)("",!0),i.errors?.zone_name&&i.errors.zone_name.some((e=>e.includes("height")))?((0,r.uX)(),(0,r.CE)("span",AV,(0,n.v_)(i.errors.zone_name[0]),1)):(0,r.Q3)("",!0)])):(0,r.Q3)("",!0),["V-Cylindrical","H-Cylindrical"].includes(i.asset.geometry_type)?((0,r.uX)(),(0,r.CE)("div",DV,[a[49]||(a[49]=(0,r.Lk)("label",{class:"form-label"},"Diameter (in m)",-1)),a[50]||(a[50]=(0,r.Lk)("span",{class:"text-danger"}," *",-1)),(0,r.bo)((0,r.Lk)("input",{type:"number",step:"any",placeholder:"Enter Diameter ",class:(0,n.C4)(["form-control",{"is-invalid":i.errors?.zone_name&&i.errors.zone_name.some((e=>e.includes("diameter")))||i.errors?.diameter}]),"onUpdate:modelValue":a[15]||(a[15]=e=>i.asset.diameter=e)},null,2),[[s.Jo,i.asset.diameter]]),i.errors?.diameter?((0,r.uX)(),(0,r.CE)("span",TV,(0,n.v_)(i.errors.diameter[0]),1)):(0,r.Q3)("",!0),i.errors?.zone_name&&i.errors.zone_name.some((e=>e.includes("diameter")))?((0,r.uX)(),(0,r.CE)("span",QV,(0,n.v_)(i.errors.zone_name[0]),1)):(0,r.Q3)("",!0)])):(0,r.Q3)("",!0),(0,r.Lk)("div",VV,[a[51]||(a[51]=(0,r.Lk)("label",{class:"form-label"},"No Of Zones ",-1)),a[52]||(a[52]=(0,r.Lk)("span",{class:"text-danger"}," *",-1)),(0,r.bo)((0,r.Lk)("input",{type:"number",placeholder:"Enter No Of Zones ",class:(0,n.C4)(["form-control",{"is-invalid":i.errors?.no_of_zones}]),"onUpdate:modelValue":a[16]||(a[16]=e=>i.asset.no_of_zones=e),min:i.initial_zone_no??0,onInput:a[17]||(a[17]=e=>o.checkZoneValue(e,i.asset))},null,42,FV),[[s.Jo,i.asset.no_of_zones]]),i.errors?.no_of_zones?((0,r.uX)(),(0,r.CE)("span",UV,(0,n.v_)(i.errors.no_of_zones[0]),1)):(0,r.Q3)("",!0)]),((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(i.asset.zone_name,((e,t)=>((0,r.uX)(),(0,r.CE)("div",{class:"row zone-border g-2",key:t},[(0,r.Lk)("div",jV,[(0,r.Lk)("label",zV," Zone "+(0,n.v_)(0===t?"0 (Overall)":t),1),a[53]||(a[53]=(0,r.Lk)("span",{class:"text-danger"}," *",-1)),(0,r.bo)((0,r.Lk)("input",{type:"text","onUpdate:modelValue":a=>e.zone_name=a,class:(0,n.C4)(["form-control",{"is-invalid":i.errors[`zone_name_${t}`]}]),disabled:0===t},null,10,WV),[[s.Jo,e.zone_name]]),i.errors[`zone_name_${t}`]?((0,r.uX)(),(0,r.CE)("span",RV,(0,n.v_)(i.errors[`zone_name_${t}`][0]),1)):(0,r.Q3)("",!0)]),(0,r.Lk)("div",qV,[a[54]||(a[54]=(0,r.Lk)("label",{class:"form-label"},"Height (in m)",-1)),(0,r.bo)((0,r.Lk)("input",{type:"number",step:"any","onUpdate:modelValue":a=>e.height=a,class:"form-control",disabled:0===t},null,8,IV),[[s.Jo,e.height]])]),(0,r.Lk)("div",NV,[a[55]||(a[55]=(0,r.Lk)("label",{class:"form-label"},"Diameter (in m)",-1)),(0,r.bo)((0,r.Lk)("input",{type:"number",step:"any","onUpdate:modelValue":a=>e.diameter=a,class:"form-control",disabled:0===t},null,8,MV),[[s.Jo,e.diameter]])])])))),128)),(0,r.Lk)("div",KV,[(0,r.Lk)("div",JV,[a[56]||(a[56]=(0,r.Lk)("label",{class:"form-label"},"Latitude",-1)),(0,r.bo)((0,r.Lk)("input",{type:"number",placeholder:"Enter Latitude",class:(0,n.C4)(["form-control",{"is-invalid":i.errors?.latitude}]),"onUpdate:modelValue":a[18]||(a[18]=e=>i.asset.latitude=e)},null,2),[[s.Jo,i.asset.latitude]]),i.errors?.latitude?((0,r.uX)(),(0,r.CE)("span",BV,(0,n.v_)(i.errors.latitude[0]),1)):(0,r.Q3)("",!0)]),(0,r.Lk)("div",OV,[a[57]||(a[57]=(0,r.Lk)("label",{class:"form-label"},"Longitude",-1)),(0,r.bo)((0,r.Lk)("input",{type:"number",placeholder:"Enter Longitude",class:(0,n.C4)(["form-control",{"is-invalid":i.errors?.longitude}]),"onUpdate:modelValue":a[19]||(a[19]=e=>i.asset.longitude=e)},null,2),[[s.Jo,i.asset.longitude]]),i.errors?.longitude?((0,r.uX)(),(0,r.CE)("span",HV,(0,n.v_)(i.errors.longitude[0]),1)):(0,r.Q3)("",!0)]),(0,r.Lk)("div",YV,[a[58]||(a[58]=(0,r.Lk)("label",{class:"form-label"},"Radius",-1)),(0,r.bo)((0,r.Lk)("input",{type:"number",placeholder:"Enter Radius",class:(0,n.C4)(["form-control",{"is-invalid":i.errors?.radius}]),"onUpdate:modelValue":a[20]||(a[20]=e=>i.asset.radius=e)},null,2),[[s.Jo,i.asset.radius]]),i.errors?.radius?((0,r.uX)(),(0,r.CE)("span",ZV,(0,n.v_)(i.errors.radius[0]),1)):(0,r.Q3)("",!0)])])])])]),i.asset.asset_attributes.length?((0,r.uX)(),(0,r.CE)("div",GV,[a[60]||(a[60]=(0,r.Lk)("div",{class:"card-header d-flex justify-content-between"},[(0,r.Lk)("h6",{class:"card-title"},"Attributes")],-1)),(0,r.Lk)("div",eF,[(0,r.Lk)("div",aF,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(i.asset.asset_attributes,((e,a)=>((0,r.uX)(),(0,r.CE)("div",{class:"col-md-4",key:a},["Text"==e.field_type?((0,r.uX)(),(0,r.CE)("div",tF,[(0,r.Lk)("label",sF,(0,n.v_)(e.display_name),1),e.is_required?((0,r.uX)(),(0,r.CE)("span",rF,"*")):(0,r.Q3)("",!0),(0,r.bo)((0,r.Lk)("input",{type:"text",class:(0,n.C4)(["form-control",{"is-invalid":i.errors[e.display_name]}]),placeholder:"Enter "+e.display_name,maxlength:e.field_length,"onUpdate:modelValue":a=>e.asset_attribute_value.field_value=a},null,10,lF),[[s.Jo,e.asset_attribute_value.field_value]]),i.errors[e.display_name]?((0,r.uX)(),(0,r.CE)("span",iF,(0,n.v_)(i.errors[e.display_name][0]),1)):(0,r.Q3)("",!0)])):(0,r.Q3)("",!0),"Number"==e.field_type?((0,r.uX)(),(0,r.CE)("div",oF,[(0,r.Lk)("label",dF,(0,n.v_)(e.display_name),1),e.is_required?((0,r.uX)(),(0,r.CE)("span",nF,"*")):(0,r.Q3)("",!0),(0,r.bo)((0,r.Lk)("input",{type:"number",class:(0,n.C4)(["form-control",{"is-invalid":i.errors[e.display_name]}]),min:"0",onInput:a=>o.validateNumberLength(e),placeholder:"Enter "+e.display_name,"onUpdate:modelValue":a=>e.asset_attribute_value.field_value=a},null,42,cF),[[s.Jo,e.asset_attribute_value.field_value]]),i.errors[e.display_name]?((0,r.uX)(),(0,r.CE)("span",uF,(0,n.v_)(i.errors[e.display_name][0]),1)):(0,r.Q3)("",!0)])):(0,r.Q3)("",!0),"Date"===e.field_type?((0,r.uX)(),(0,r.CE)("div",_F,[(0,r.Lk)("label",pF,[(0,r.eW)((0,n.v_)(e.display_name)+" ",1),e.is_required?((0,r.uX)(),(0,r.CE)("span",mF,"*")):(0,r.Q3)("",!0)]),(0,r.bo)((0,r.Lk)("input",{type:"date",class:(0,n.C4)(["form-control",{"is-invalid":i.errors[e.display_name]}]),placeholder:"Enter "+e.display_name,"onUpdate:modelValue":a=>e.asset_attribute_value.field_value=a},null,10,bF),[[s.Jo,e.asset_attribute_value.field_value]]),i.errors[e.display_name]?((0,r.uX)(),(0,r.CE)("span",kF,(0,n.v_)(i.errors[e.display_name][0]),1)):(0,r.Q3)("",!0)])):(0,r.Q3)("",!0),"Date&Time"===e.field_type?((0,r.uX)(),(0,r.CE)("div",vF,[(0,r.Lk)("label",hF,[(0,r.eW)((0,n.v_)(e.display_name)+" ",1),e.is_required?((0,r.uX)(),(0,r.CE)("span",yF,"*")):(0,r.Q3)("",!0)]),(0,r.bo)((0,r.Lk)("input",{type:"datetime-local",class:(0,n.C4)(["form-control",{"is-invalid":i.errors[e.display_name]}]),placeholder:"Enter "+e.display_name,"onUpdate:modelValue":a=>e.asset_attribute_value.field_value=a,step:"1"},null,10,gF),[[s.Jo,e.asset_attribute_value.field_value]]),i.errors[e.display_name]?((0,r.uX)(),(0,r.CE)("span",fF,(0,n.v_)(i.errors[e.display_name][0]),1)):(0,r.Q3)("",!0)])):(0,r.Q3)("",!0),"Dropdown"==e.field_type?((0,r.uX)(),(0,r.CE)("div",LF,[(0,r.Lk)("label",CF,(0,n.v_)(e.display_name),1),e.is_required?((0,r.uX)(),(0,r.CE)("span",wF,"*")):(0,r.Q3)("",!0),(0,r.bo)((0,r.Lk)("select",{class:(0,n.C4)(["form-control",{"is-invalid":i.errors[e.display_name]}]),"onUpdate:modelValue":a=>e.asset_attribute_value.field_value=a},[e.asset_attribute_value.field_value?((0,r.uX)(),(0,r.CE)("option",{key:0,value:e.asset_attribute_value.field_value},(0,n.v_)(e.asset_attribute_value.field_value),9,xF)):((0,r.uX)(),(0,r.CE)("option",{key:1,value:e.asset_attribute_value.field_value},"Select "+(0,n.v_)(e.display_name),9,XF)),((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(e.field_values.split(","),((e,a)=>((0,r.uX)(),(0,r.CE)("option",{key:a,value:e},(0,n.v_)(e),9,PF)))),128))],10,EF),[[s.u1,e.asset_attribute_value.field_value]]),i.errors[e.display_name]?((0,r.uX)(),(0,r.CE)("span",$F,(0,n.v_)(i.errors[e.display_name][0]),1)):(0,r.Q3)("",!0)])):(0,r.Q3)("",!0),"List"==e.field_type?((0,r.uX)(),(0,r.CE)("div",SF,[(0,r.Lk)("label",AF,(0,n.v_)(e.display_name),1),e.is_required?((0,r.uX)(),(0,r.CE)("span",DF,"*")):(0,r.Q3)("",!0),(0,r.bo)((0,r.Lk)("select",{class:(0,n.C4)(["form-control",{"is-invalid":i.errors[e.display_name]}]),"onUpdate:modelValue":a=>e.asset_attribute_value.field_value=a},[e.asset_attribute_value?.field_value?((0,r.uX)(),(0,r.CE)("option",{key:0,value:e.asset_attribute_value?.field_value},(0,n.v_)(e.asset_attribute_value?.field_value),9,QF)):((0,r.uX)(),(0,r.CE)("option",{key:1,value:e.asset_attribute_value?.field_value},"Select "+(0,n.v_)(e.display_name),9,VF)),((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(e.list_parameter?.field_values.split(","),((e,a)=>((0,r.uX)(),(0,r.CE)("option",{key:a,value:e.trim()},(0,n.v_)(e.trim()),9,FF)))),128))],10,TF),[[s.u1,e.asset_attribute_value.field_value]]),i.errors[e.display_name]?((0,r.uX)(),(0,r.CE)("span",UF,(0,n.v_)(i.errors[e.display_name][0]),1)):(0,r.Q3)("",!0)])):(0,r.Q3)("",!0),"Color"==e.field_type?((0,r.uX)(),(0,r.CE)("div",jF,[(0,r.Lk)("label",zF,[(0,r.eW)((0,n.v_)(e.display_name),1),e.is_required?((0,r.uX)(),(0,r.CE)("span",WF,"*")):(0,r.Q3)("",!0)]),(0,r.bo)((0,r.Lk)("input",{type:"color",class:"form-control","onUpdate:modelValue":a=>e.asset_attribute_value.field_value=a,style:{height:"2.2rem"}},null,8,RF),[[s.Jo,e.asset_attribute_value.field_value]]),i.errors[e.display_name]?((0,r.uX)(),(0,r.CE)("span",qF,(0,n.v_)(i.errors[e.display_name][0]),1)):(0,r.Q3)("",!0)])):(0,r.Q3)("",!0)])))),128))])])])):(0,r.Q3)("",!0)]),(0,r.Lk)("div",IF,[(0,r.bF)(d,{type:"button",class:"btn btn-danger me-2",to:"/asset_templates"},{default:(0,r.k6)((()=>a[61]||(a[61]=[(0,r.Lk)("i",{class:"ri-close-line fs-18 lh-1"},null,-1),(0,r.eW)(" Discard")]))),_:1}),(0,r.Lk)("button",NF,[i.status?((0,r.uX)(),(0,r.CE)("span",MF,a[62]||(a[62]=[(0,r.Lk)("i",{class:"ri-save-line fs-18 lh-1"},null,-1),(0,r.eW)(" Submit")]))):((0,r.uX)(),(0,r.CE)("span",KF,a[63]||(a[63]=[(0,r.Lk)("i",{class:"ri-save-line fs-18 lh-1"},null,-1),(0,r.eW)(" Update")])))])])])],32)])])])}var BF={name:"AssetTemplates.Create",components:{Search:It.A,MultiSelect:Ru.A},data(){return{sample:"",asset:{asset_template_id:"",plant_id:"",template_code:"",template_name:"",asset_type_id:"",latitude:"",longitude:"",no_of_zones:0,status:"",asset_attributes:[],department_id:"",asset_departments_obj:[],asset_departments:[],asset_department_ids:[],section_id:"",functional_id:"",area_id:"",area_name:null,radius:"",zone_name:[],deleted_asset_attribute_values:[],area_name:"",deleted_asset_departments:[],deleted_asset_zones:[],geometry_type:"",height:"",diameter:"",scanner_code:"",ppms_code:"",phase_id:""},voltage:{color:"#ffffff",voltage_code:""},errors:{no_of_zones:[]},device_code:"",deleted_asset_attribute_values:[],deleted_asset_departments:[],showDepartment:!1,departments:[],sections:[],functionals:[],areas:[],plants:[],asset_types:[],show_assets:[],errors:[],status:!0,zones:[],initial_zone_no:null,new_zone_names:[],prev_zone_names:[],phases:[],error_style:{"border-color":"#dc3545","padding-right":"calc(1.5em + 0.812rem)","background-image":"url(\"data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 12 12' width='12' height='12' fill='none' stroke='%23dc3545'%3e%3ccircle cx='6' cy='6' r='4.5'/%3e%3cpath stroke-linejoin='round' d='M5.8 3.6h.4L6 6.5z'/%3e%3ccircle cx='6' cy='8.2' r='.6' fill='%23dc3545' stroke='none'/%3e%3c/svg%3e\")","background-repeat":"no-repeat","background-position":"right calc(0.375em + 0.203rem) center","background-size":"calc(0.75em + 0.406rem) calc(0.75em + 0.406rem)"}}},beforeRouteEnter(e,a,t){t((a=>{if(a.asset.asset_attributes=[],a.getAssetsDropdown(),"AssetTemplates.Create"==e.name)a.asset.zone_name.push({zone_name:"Overall"});else{a.status=!1;let t={uri:"getAssetTemplate",data:{asset_template_id:e.params.asset_template_id}};a.$store.dispatch("post",t).then((function(e){a.asset=e.data.data,a.initial_zone_no=a.asset.no_of_zones,a.prev_zone_names=a.asset.zone_name,a.show_assets=e.data.data?.asset_attributes,a.asset.area_id=a.asset.area.area_id,a.asset.area_name=a.asset.area.area_name,a.asset.deleted_asset_departments=[],a.asset.deleted_asset_zones=[],a.asset.asset_attributes.map((function(e){a.deleted_asset_attribute_values.push(e.asset_attribute_value.template_attribute_value_id)})),a.asset.deleted_asset_attribute_values=[],a.asset.asset_departments_obj=[],a.asset.asset_department_ids.map((function(e){a.asset.asset_departments_obj.push({department_code:e.department.department_code,department_id:e.department.department_id,status:e.department.status,department_name:e.department.department_name})}))})).catch((function(e){console.log(e)}))}}))},watch:{"asset.height"(e){this.asset.zone_name.length>0&&(this.asset.zone_name[0].height=e)},"asset.diameter"(e){this.asset.zone_name.length>0&&(this.asset.zone_name[0].diameter=e)},"asset.no_of_zones":function(e){let a=this;if(e<a.initial_zone_no)return a.asset.no_of_zones=a.initial_zone_no,void a.$store.dispatch("error",`You cannot reduce zones below ${a.initial_zone_no}`);let t=a.asset.zone_name.length>0&&"Overall"===a.asset.zone_name[0].zone_name?a.asset.zone_name[0]:null;if(console.log("existingOverallZone====",t),0===e){if(a.asset.zone_name.length>1){let e=a.asset.zone_name[1];null!=e.template_zone_id&&a.asset.deleted_asset_zones.push(e.template_zone_id)}return a.asset.zone_name=[{zone_name:"Overall",height:t?.height??a.asset.height,diameter:t?.diameter??a.asset.diameter,template_zone_id:t?.template_zone_id??null}],void console.log(a.asset.zone_name)}a.asset.zone_name.length&&"Overall"===a.asset.zone_name[0].zone_name?(a.asset.zone_name[0].height=t?.height??a.asset.height,a.asset.zone_name[0].diameter=t?.diameter??a.asset.diameter):a.asset.zone_name.unshift({zone_name:"Overall",height:a.asset.height,diameter:a.asset.diameter,template_zone_id:null});let s=e+1;if(console.log("+======"),a.asset.zone_name.length>s){for(let e=s;e<a.asset.zone_name.length;e++){let t=a.asset.zone_name[e];null!=t.template_zone_id&&a.asset.deleted_asset_zones.push(t.template_zone_id)}a.asset.zone_name.splice(s)}else for(let r=a.asset.zone_name.length;r<s;r++)a.asset.zone_name.push({zone_name:null,height:null,diameter:null});console.log("Updated Zones: ",a.asset.zone_name),console.log("Deleted Asset Zones: ",a.asset.deleted_asset_zones)}},computed:{getComponentCode(){return this.device_code=[this.voltage.voltage_code,this.watt_rating,this.frame,this.mounting,this.section,this.make,this.speed,this.asset.serial_no],this.device_code.join("")}},methods:{validateNumberLength(e){if(e.asset_attribute_value.field_value){const a=String(e.asset_attribute_value.field_value);a.length>e.field_length?(e.asset_attribute_value.field_value=a.slice(0,e.field_length),this.errors[e.display_name]=[`${e.display_name} must be at most ${e.field_length} digits.`]):this.errors[e.display_name]=null}},getZoneNameError(e){let a=Object.entries(this.errors),t=a.filter((function(a){return a[0].includes("zone_name")&&a[0].includes(e)}));if(console.log(t),t.length)return"Zone name field is required"},checkZoneValue11(e,a){this.asset.no_of_zones<=0&&(this.asset.no_of_zones=1,this.asset.zone_name.push({zone_name:"Overall"}));let t=e?.target?.value?.replace(/[^0-9]/g,"");if(t>=1){let e=a.no_of_zones-t;for(let t=0;t<e;t++){let e=a.zone_name.pop();this.asset.deleted_asset_zones.push(e.asset_zone_id),this.prev_zone_names.pop()}}a.no_of_zones=a.zone_name.length},checkZoneValue(e,a){let t=parseInt(e?.target?.value)||0,s=t+1;while(a.zone_name.length<s)a.zone_name.push({zone_name:null,height:null,diameter:null});while(a.zone_name.length>s)a.zone_name.pop();a.no_of_zones=t},updateAssetParameters(e){let a=this.asset.asset_attributes.filter((function(a){return a.asset_attribute_id==e.asset_attribute_id}));a.length||this.asset.asset_attributes.push({asset_attribute_id:e.asset_attribute_id,field_value:e.field_value})},submitForm(){let e=this;e.status?e.addAsset():e.updateAsset()},getAssetsDropdown(){let e=this;e.$store.dispatch("post",{uri:"getAssetTypes"}).then((a=>{e.asset_attributes=a.data.data,e.getDepartments()})).catch((function(a){e.errors=a.response.data.errors,e.$store.dispatch("error",a.response.data.message)}))},toggleDepartmentStatus(){this.showDepartment=!this.showDepartment},getDepartments(){let e=this;e.$store.dispatch("post",{uri:"getDepartments"}).then((a=>{e.departments=a.data.data,e.getSections()})).catch((function(a){e.errors=a.response.data.errors,e.$store.dispatch("error",a.response.data.message)}))},updateDepartemnts(e,a){let t=this;const s=e.target.checked;let r=a.asset_department_ids.filter((function(a){return a.department_id==e.target.value}));if(r.length){let e=r[0].asset_department_id;if(s){if(t.asset.deleted_asset_departments.includes(e)){let a=t.asset.deleted_asset_departments.filter((function(a){return a!=e}));t.asset.deleted_asset_departments=a}}else t.asset.deleted_asset_departments.includes(e)||(console.log(e),t.asset.deleted_asset_departments.push(e))}},getSections(){let e=this;e.$store.dispatch("post",{uri:"getSections"}).then((a=>{e.sections=a.data.data,e.getFunctionals()})).catch((function(a){e.errors=a.response.data.errors,e.$store.dispatch("error",a.response.data.message)}))},getFunctionals(){let e=this;e.$store.dispatch("post",{uri:"getFunctionals"}).then((a=>{e.functionals=a.data.data,e.getShops()})).catch((function(a){e.errors=a.response.data.errors,e.$store.dispatch("error",a.response.data.message)}))},getShops(){let e=this;e.$store.dispatch("post",{uri:"getPlants"}).then((a=>{e.plants=a.data.data,e.getAreas()})).catch((function(a){e.errors=a.response.data.errors,e.$store.dispatch("error",a.response.data.message)}))},getAreas(){let e=this;e.$store.dispatch("post",{uri:"getAreas"}).then((a=>{e.areas=a.data.data,e.getPhases()})).catch((function(a){e.errors=a.response.data.errors,e.$store.dispatch("error",a.response.data.message)}))},getPhases(){let e=this;e.$store.dispatch("post",{uri:"getPhases"}).then((a=>{e.phases=a.data.data})).catch((function(a){e.errors=a.response.data.errors,e.$store.dispatch("error",a.response.data.message)}))},validateFields(){let e=!0;this.errors={},this.asset.template_code||(this.errors.template_code=["Asset Code is required"],e=!1),this.asset.template_name||(this.errors.template_name=["Asset Name is required"],e=!1),this.asset.asset_type_id||(this.errors.asset_type_id=["Asset Type is required"],e=!1),this.asset.plant_id||(this.errors.plant_id=["Shop id is required"],e=!1),!this.asset.no_of_zones<0?(this.errors.no_of_zones=["No. of zones id is required"],e=!1):this.asset.zone_name.forEach(((a,t)=>{a.zone_name||(this.errors[`zone_name_${t}`]=[`Zone ${t+1} is required`],e=!1)}));for(const a of Object.values(this.asset.asset_attributes))a.is_required&&!a.asset_attribute_value.field_value&&("Color"===a.field_type?a.asset_attribute_value.field_value="#000000":(this.errors[a.display_name]=[`${a.display_name} is required`],e=!1));return console.log("Validation Errors:",this.errors),e},addAsset(){let e=this;if(!this.validateFields())return;e.asset.asset_departments_obj.map((function(a){e.asset.asset_departments.push(a.department_id)}));let a=e.$loading.show();e.$store.dispatch("post",{uri:"addAssetTemplate",data:e.asset}).then((t=>{a.hide(),e.$store.dispatch("success",t.data.message),e.$router.push("/asset_templates")})).catch((function(t){a.hide(),e.errors=t.response.data.errors,e.$store.dispatch("error",t.response.data.message)}))},updateAsset(){let e=this;if(e.asset.deleted_asset_departments=e.asset?.asset_department_ids.filter((a=>!e.asset.asset_departments_obj.some((e=>a.department_id===e.department_id)))),e.asset.asset_departments=e.asset?.asset_departments_obj?.map((e=>e.department_id)),e.asset.deleted_asset_departments=e.asset?.deleted_asset_departments?.map((e=>e.template_department_id)),!e.validateFields())return;let a=e.$loading.show();e.$store.dispatch("post",{uri:"updateAssetTemplate",data:e.asset}).then((t=>{a.hide(),e.$store.dispatch("success",t.data.message),e.$router.push("/asset_templates")})).catch((function(t){a.hide(),e.errors=t.response.data.errors,e.$store.dispatch("error",t.response.data.message)}))},getAsset(){let e=this;e.$store.dispatch("post",{uri:"getAsset",data:e.asset}).then((a=>{e.asset=a.data.data})).catch((function(a){e.errors=a.response.data.errors,e.$store.dispatch("error",a.response.data.message)}))},discard(){let e=this;e.asset.template_code="",e.asset.template_name="",e.asset.latitude="",e.asset.longitude="",e.asset.radius="",e.asset.geometry_type="",e.asset.department_id="",e.asset.section_id="",e.asset.functional_id="",e.errors=[],e.voltage.color="#ffffff",e.voltage.voltage_code="",e.asset.serial_no="",e.watt_rating="",e.frame="",e.device_code="",e.mounting="",e.section="",e.make="",e.speed="",e.show_assets=[],e.asset.asset_attributes=[],e.asset.asset_type_id="";e.asset.zone_name.filter((function(e){e.zone_name=""}))},reset(){let e=this;e.asset.asset_attributes=[],e.asset.asset_type_id="",e.errors=[]},getAssetType(e){let a=this;a.deleted_asset_attribute_values.length&&(a.asset.deleted_asset_attribute_values=a.deleted_asset_attribute_values),a.$store.dispatch("post",{uri:"getAssetsDropdown",data:{asset_type_id:e}}).then((e=>{a.show_assets=e.data.data,a.asset.asset_attributes=e.data.data})).catch((function(e){a.errors=e.response.data.errors,a.$store.dispatch("error",e.response.data.message)}))},getAreaValue(){let e=this,a=e.plants.filter((function(a){return a.plant_id==e.asset.plant_id}));a.length&&"Area"in a[0]&&(e.asset.area_id=a[0].Area?.area_id,e.asset.area_name=a[0].Area?.area_name)}}};const OF=(0,Ze.A)(BF,[["render",JF]]);var HF=OF;const YF={class:""},ZF={class:"d-sm-flex align-items-center justify-content-between mb-2"},GF={class:"breadcrumb fs-sm mb-1"},eU={class:"breadcrumb-item","aria-current":"page"},aU={class:"breadcrumb-item"},tU={class:"row g-2"},sU={class:"col-xl-3 mb-1"},rU={class:"row"},lU={class:"col-12 mb-2"},iU={class:"card card-one"},oU={class:"card-header d-flex justify-content-between"},dU={class:"card-title"},nU={class:"card-body"},cU={class:"nav nav-classic"},uU={class:"nav-link text-dark"},_U={class:"badge text-dark",style:{"text-wrap":"balance"}},pU={class:"nav-link text-dark"},mU={class:"badge text-dark"},bU={class:"nav-link text-dark"},kU={class:"badge text-dark"},vU={class:"nav-link text-dark"},hU={class:"badge text-dark"},yU={class:"nav-link text-dark"},gU={class:"badge text-dark"},fU={class:"nav-link text-dark"},LU={class:"badge text-dark"},CU={class:"nav-link text-dark"},wU={class:"badge text-dark"},EU={class:"nav-link text-dark"},xU={class:"badge text-dark"},XU={class:"nav-link text-dark"},PU={class:"badge text-dark"},$U={class:"nav-link text-dark"},SU={class:"",style:{"margin-left":"auto","padding-right":"5px"}},AU={class:"list_style_none mb-0 text-end"},DU={key:0},TU={class:"nav-link text-dark"},QU={class:"badge text-dark"},VU={class:"badge text-dark"},FU={key:1},UU={class:"col-xl-9 mb-2"},jU={class:"card1 card-one1"},zU={class:"card-content1"},WU={class:"nav nav-tabs nav-tabs-mb-icon nav-tabs-card"},RU={class:"nav-item"},qU={class:"nav-item"},IU={class:"nav-item"},NU={class:"nav-item"},MU={class:"nav-item"},KU={class:"nav-item"},JU={class:"card-inner"},BU={class:"tab-content"},OU={class:"tab-pane fade show active",id:"services"},HU={class:"tab-pane fade",id:"checks"},YU={class:"tab-pane fade",id:"spares"},ZU={class:"tab-pane fade",id:"variables"},GU={class:"tab-pane fade",id:"data_sources"},ej={class:"tab-pane fade",id:"accessories"};function aj(e,a,t,s,l,i){const o=(0,r.g2)("router-link"),d=(0,r.g2)("Services"),c=(0,r.g2)("Checks"),u=(0,r.g2)("Spares"),_=(0,r.g2)("Variables"),p=(0,r.g2)("DataSources"),m=(0,r.g2)("Accessories");return(0,r.uX)(),(0,r.CE)("div",YF,[(0,r.Lk)("div",ZF,[(0,r.Lk)("div",null,[(0,r.Lk)("ol",GF,[(0,r.Lk)("li",eU,[(0,r.bF)(o,{to:"/dashboard"},{default:(0,r.k6)((()=>a[6]||(a[6]=[(0,r.eW)("Dashboard")]))),_:1})]),(0,r.Lk)("li",aU,[(0,r.bF)(o,{to:"/asset_templates"},{default:(0,r.k6)((()=>a[7]||(a[7]=[(0,r.eW)("Asset Templates")]))),_:1})]),a[8]||(a[8]=(0,r.Lk)("li",{class:"breadcrumb-item active","aria-current":"page"},"View",-1))]),a[9]||(a[9]=(0,r.Lk)("h4",{class:"main-title mb-0"},"Asset Templates",-1))]),(0,r.bF)(o,{to:"/asset_templates",type:"submit",class:"btn btn-primary",style:{float:"right"}},{default:(0,r.k6)((()=>a[10]||(a[10]=[(0,r.Lk)("i",{class:"ri-list-check"},null,-1),(0,r.eW)(" ASSET TEMPLATES")]))),_:1})]),(0,r.Lk)("div",tU,[(0,r.Lk)("div",sU,[(0,r.Lk)("div",rU,[(0,r.Lk)("div",lU,[(0,r.Lk)("div",iU,[(0,r.Lk)("div",oU,[(0,r.Lk)("h6",dU,(0,n.v_)(l.asset?.template_code),1)]),(0,r.Lk)("div",nU,[(0,r.Lk)("nav",cU,[(0,r.Lk)("span",uU,[a[11]||(a[11]=(0,r.Lk)("span",null,"Template Code",-1)),a[12]||(a[12]=(0,r.eW)()),(0,r.Lk)("span",_U,(0,n.v_)(l.asset.template_code),1)]),(0,r.Lk)("span",pU,[a[13]||(a[13]=(0,r.Lk)("span",null,"Template Name",-1)),a[14]||(a[14]=(0,r.eW)()),(0,r.Lk)("span",mU,(0,n.v_)(l.asset.template_name),1)]),(0,r.Lk)("span",bU,[a[15]||(a[15]=(0,r.Lk)("span",null,"Scanner Code",-1)),a[16]||(a[16]=(0,r.eW)()),(0,r.Lk)("span",kU,(0,n.v_)(l.asset?.scanner_code),1)]),(0,r.Lk)("span",vU,[a[17]||(a[17]=(0,r.Lk)("span",null,"PPMS Code",-1)),a[18]||(a[18]=(0,r.eW)()),(0,r.Lk)("span",hU,(0,n.v_)(l.asset?.ppms_code),1)]),(0,r.Lk)("span",yU,[a[19]||(a[19]=(0,r.Lk)("span",null,"Asset Type",-1)),a[20]||(a[20]=(0,r.eW)()),(0,r.Lk)("span",gU,(0,n.v_)(l.asset.asset_type?.asset_type_name),1)]),(0,r.Lk)("span",fU,[a[21]||(a[21]=(0,r.Lk)("span",null,"Latitude",-1)),a[22]||(a[22]=(0,r.eW)()),(0,r.Lk)("span",LU,(0,n.v_)(l.asset.latitude),1)]),(0,r.Lk)("span",CU,[a[23]||(a[23]=(0,r.Lk)("span",null,"Longitude",-1)),a[24]||(a[24]=(0,r.eW)()),(0,r.Lk)("span",wU,(0,n.v_)(l.asset.longitude),1)]),(0,r.Lk)("span",EU,[a[25]||(a[25]=(0,r.Lk)("span",null,"Radius",-1)),a[26]||(a[26]=(0,r.eW)()),(0,r.Lk)("span",xU,(0,n.v_)(l.asset.radius),1)]),(0,r.Lk)("span",XU,[a[27]||(a[27]=(0,r.Lk)("span",null,"Phase",-1)),a[28]||(a[28]=(0,r.eW)()),(0,r.Lk)("span",PU,(0,n.v_)(l.asset?.phase?.phase_name),1)]),(0,r.Lk)("span",$U,[a[29]||(a[29]=(0,r.Lk)("span",null,"Department",-1)),(0,r.Lk)("span",SU,[(0,r.Lk)("ul",AU,[0===l.asset?.asset_department_ids?.length?((0,r.uX)(),(0,r.CE)("li",DU,"No departments")):(0,r.Q3)("",!0),((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(l.asset.asset_department_ids,(e=>((0,r.uX)(),(0,r.CE)("li",{key:e.id},(0,n.v_)(e.department?.department_name),1)))),128))])])]),(0,r.Lk)("span",TU,[a[30]||(a[30]=(0,r.Lk)("span",null,"Functional",-1)),a[31]||(a[31]=(0,r.eW)()),(0,r.Lk)("span",QU,(0,n.v_)(l.asset.functional?.functional_name),1)]),((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(l.asset.zone_name,((e,a)=>((0,r.uX)(),(0,r.CE)("span",{class:"nav-link text-dark",key:e.template_zone_id},[(0,r.Lk)("span",null,"Zone "+(0,n.v_)(a+1),1),(0,r.Lk)("span",VU,(0,n.v_)(e.zone_name),1)])))),128)),((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(l.asset.asset_attributes,((a,t)=>((0,r.uX)(),(0,r.CE)("h6",{class:"nav-link text-dark d-flex justify-content-between",key:t},[(0,r.eW)((0,n.v_)(a.display_name)+" ",1),"Color"==a.field_name?((0,r.uX)(),(0,r.CE)("span",{key:0,style:(0,n.Tr)(e.getColor(a))},(0,n.v_)(a?.asset_attribute_value?.field_value),5)):((0,r.uX)(),(0,r.CE)("span",FU,(0,n.v_)(a?.asset_attribute_value?.field_value),1))])))),128))])])])])])]),(0,r.Lk)("div",UU,[(0,r.Lk)("div",jU,[(0,r.Lk)("div",zU,[(0,r.Lk)("ul",WU,[(0,r.Lk)("li",RU,[(0,r.Lk)("a",{class:"nav-link active","data-bs-toggle":"tab",ref:"services",href:"#services",onClick:a[0]||(a[0]=e=>i.openTab("services"))},a[32]||(a[32]=[(0,r.Lk)("em",{class:"icon ni ni-web-development"},null,-1),(0,r.Lk)("span",null,"Services",-1)]),512)]),(0,r.Lk)("li",qU,[(0,r.Lk)("a",{class:"nav-link","data-bs-toggle":"tab",ref:"checks",onClick:a[1]||(a[1]=e=>i.openTab("checks")),href:"#checks"},a[33]||(a[33]=[(0,r.Lk)("em",{class:"icon ni ni-web-development"},null,-1),(0,r.Lk)("span",null,"Checks",-1)]),512)]),(0,r.Lk)("li",IU,[(0,r.Lk)("a",{class:"nav-link","data-bs-toggle":"tab",ref:"spares",href:"#spares",onClick:a[2]||(a[2]=e=>i.openTab("spares"))},a[34]||(a[34]=[(0,r.Lk)("em",{class:"icon ni ni-web-development"},null,-1),(0,r.Lk)("span",null,"Spares",-1)]),512)]),(0,r.Lk)("li",NU,[(0,r.Lk)("a",{class:"nav-link","data-bs-toggle":"tab",ref:"variables",onClick:a[3]||(a[3]=e=>i.openTab("variables")),href:"#variables"},a[35]||(a[35]=[(0,r.Lk)("em",{class:"icon ni ni-web-development"},null,-1),(0,r.Lk)("span",null,"Variables",-1)]),512)]),(0,r.Lk)("li",MU,[(0,r.Lk)("a",{class:"nav-link","data-bs-toggle":"tab",ref:"data_sources",onClick:a[4]||(a[4]=e=>i.openTab("data_sources")),href:"#data_sources"},a[36]||(a[36]=[(0,r.Lk)("em",{class:"icon ni ni-web-development"},null,-1),(0,r.Lk)("span",null,"Data Sources",-1)]),512)]),(0,r.Lk)("li",KU,[(0,r.Lk)("a",{class:"nav-link","data-bs-toggle":"tab",ref:"accessories",onClick:a[5]||(a[5]=e=>i.openTab("accessories")),href:"#accessories"},a[37]||(a[37]=[(0,r.Lk)("em",{class:"icon ni ni-web-development"},null,-1),(0,r.Lk)("span",null,"Accessories",-1)]),512)])]),(0,r.Lk)("div",JU,[(0,r.Lk)("div",BU,[(0,r.Lk)("div",OU,[l.asset.asset_template_id&&"services"===l.tab?((0,r.uX)(),(0,r.Wv)(d,{key:0,ref:"services_tab",asset_template_id:l.asset.asset_template_id},null,8,["asset_template_id"])):(0,r.Q3)("",!0)]),(0,r.Lk)("div",HU,[l.asset.asset_template_id&&"checks"===l.tab?((0,r.uX)(),(0,r.Wv)(c,{key:0,ref:"checks_tab",asset_template_id:l.asset.asset_template_id},null,8,["asset_template_id"])):(0,r.Q3)("",!0)]),(0,r.Lk)("div",YU,[l.asset.asset_template_id&&"spares"===l.tab?((0,r.uX)(),(0,r.Wv)(u,{key:0,ref:"spares_tab",asset_template_id:l.asset.asset_template_id},null,8,["asset_template_id"])):(0,r.Q3)("",!0)]),(0,r.Lk)("div",ZU,[l.asset.asset_template_id&&"variables"===l.tab?((0,r.uX)(),(0,r.Wv)(_,{key:0,ref:"variables_tab",asset_template_id:l.asset.asset_template_id},null,8,["asset_template_id"])):(0,r.Q3)("",!0)]),(0,r.Lk)("div",GU,[l.asset.asset_template_id&&"data_sources"===l.tab?((0,r.uX)(),(0,r.Wv)(p,{key:0,ref:"data_sources_tab",asset_template_id:l.asset.asset_template_id},null,8,["asset_template_id"])):(0,r.Q3)("",!0)]),(0,r.Lk)("div",ej,[l.asset.asset_template_id&&"accessories"===l.tab?((0,r.uX)(),(0,r.Wv)(m,{key:0,ref:"accessories_tab",asset_template_id:l.asset.asset_template_id},null,8,["asset_template_id"])):(0,r.Q3)("",!0)])])])])])])])])}const tj={class:"col-12 mb-2"},sj={class:"card card-one"},rj={class:"card-body"},lj={class:"row mb-3 g-2"},ij={class:"col-md-4"},oj={key:0,class:"invalid-feedback",style:{display:"block !important"}},dj={class:"col-md-4"},nj={key:0,class:"invalid-feedback"},cj={key:0},uj={class:"form-label"},_j={key:0,class:"text-danger"},pj=["placeholder","onUpdate:modelValue"],mj={key:1,class:"invalid-feedback"},bj={key:1},kj={class:"form-label"},vj={key:0,class:"text-danger"},hj=["placeholder","onUpdate:modelValue"],yj={key:1,class:"invalid-feedback"},gj={key:2},fj={class:"form-label"},Lj={key:0,class:"text-danger"},Cj=["placeholder","onUpdate:modelValue"],wj={key:0,class:"invalid-feedback"},Ej={key:3},xj={class:"form-label"},Xj={key:0,class:"text-danger"},Pj=["placeholder","onUpdate:modelValue"],$j={key:0,class:"invalid-feedback"},Sj={key:4},Aj={class:"form-label"},Dj={key:0,class:"text-danger"},Tj=["onUpdate:modelValue"],Qj=["value"],Vj=["value"],Fj=["value"],Uj={key:1,class:"invalid-feedback"},jj={key:5},zj={class:"form-label"},Wj={key:0,class:"text-danger"},Rj=["onUpdate:modelValue"],qj={key:0,class:"invalid-feedback"},Ij={key:6},Nj={class:"form-label"},Mj={key:0,class:"text-danger"},Kj=["onUpdate:modelValue"],Jj=["value"],Bj=["value"],Oj=["value"],Hj=["value"],Yj={key:1,class:"invalid-feedback"},Zj={key:0,class:"col-md-2 pt-4"},Gj={key:1,class:"col-md-2 pt-4"},ez={class:"row g-2"},az={class:"col-12"},tz={class:"table-responsive table-responsive-sm"},sz={class:"table table-sm text-nowrap table-striped table-bordered mb-0"},rz={class:""},lz={key:0,class:"ri-arrow-up-line"},iz={key:1,class:"ri-arrow-down-line"},oz={key:2,class:"fas fa-sort"},dz={key:0,class:"ri-arrow-up-line"},nz={key:1,class:"ri-arrow-down-line"},cz={key:2,class:"fas fa-sort"},uz={key:0,class:"ri-arrow-up-line"},_z={key:1,class:"ri-arrow-down-line"},pz={key:2,class:"fas fa-sort"},mz={key:0,class:"ri-arrow-up-line"},bz={key:1,class:"ri-arrow-down-line"},kz={key:2,class:"fas fa-sort"},vz={class:"text-center"},hz={key:0},yz={class:"text-center"},gz={class:"text-center"},fz=["onClick"],Lz=["onClick"],Cz=["onClick"],wz={class:"card-footer"},Ez={class:"d-flex justify-content-between align-items-center"},xz={class:"modal fade",id:"exampleModal",tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},Xz={class:"modal-dialog modal-lg"},Pz={class:"modal-content"},$z={class:"modal-header"},Sz={class:"modal-title",id:"exampleModalLabel"},Az={class:"modal-body"},Dz={class:"row g-2"},Tz={class:"col-12 mb-2"},Qz={key:0,class:"row g-2"},Vz={key:0},Fz={class:"form-label"},Uz={key:0,class:"text-danger"},jz=["placeholder","value"],zz={key:1,class:"invalid-feedback"},Wz={key:1},Rz={class:"form-label"},qz={key:0,class:"text-danger"},Iz=["placeholder","value"],Nz={key:1,class:"invalid-feedback"},Mz={key:2},Kz={class:"form-label"},Jz={key:0,class:"text-danger"},Bz=["placeholder","value"],Oz={key:0,class:"invalid-feedback"},Hz={key:3},Yz={class:"form-label"},Zz={key:0,class:"text-danger"},Gz=["placeholder","value"],eW={key:0,class:"invalid-feedback"},aW={key:4},tW={class:"form-label"},sW={key:0,class:"text-danger"},rW=["value"],lW=["value"],iW=["value"],oW=["value"],dW={key:1,class:"invalid-feedback"},nW={key:5},cW={class:"form-label"},uW={key:0,class:"text-danger"},_W=["value"],pW={key:0,class:"invalid-feedback"},mW={key:6},bW={class:"form-label"},kW={key:0,class:"text-danger"},vW=["value"],hW=["value"],yW=["value"],gW=["value"],fW={key:1,class:"invalid-feedback"};function LW(e,a,t,l,i,o){const d=(0,r.g2)("MultiSelect"),c=(0,r.g2)("search"),u=(0,r.g2)("Pagination"),_=(0,r.gN)("can");return(0,r.uX)(),(0,r.CE)(r.FK,null,[(0,r.bo)(((0,r.uX)(),(0,r.CE)("div",tj,[(0,r.Lk)("div",sj,[a[24]||(a[24]=(0,r.Lk)("div",{class:"card-header d-flex justify-content-between"},[(0,r.Lk)("h6",{class:"card-title"},"Services")],-1)),(0,r.Lk)("div",rj,[(0,r.bo)(((0,r.uX)(),(0,r.CE)("div",lj,[(0,r.Lk)("div",ij,[a[9]||(a[9]=(0,r.Lk)("label",{class:"form-label"},[(0,r.eW)("Template Zone "),(0,r.Lk)("span",{class:"text-danger"}," *")],-1)),(0,r.bF)(d,{modelValue:i.service.service_template_zones_obj,"onUpdate:modelValue":a[0]||(a[0]=e=>i.service.service_template_zones_obj=e),filter:"",optionLabel:"zone_name",options:i.asset_zones,placeholder:"Select Template Zone",maxSelectedLabels:3,style:(0,n.Tr)([{width:"100%",height:"37px"},i.errors?.service_template_zones?i.error_style:""]),disabled:i.service.service_zone_read_only},null,8,["modelValue","options","style","disabled"]),i.errors?.service_template_zones?((0,r.uX)(),(0,r.CE)("span",oj,(0,n.v_)(i.errors?.service_template_zones[0]),1)):(0,r.Q3)("",!0)]),(0,r.Lk)("div",dj,[a[10]||(a[10]=(0,r.Lk)("label",{class:"form-label"},[(0,r.eW)("Service "),(0,r.Lk)("span",{class:"text-danger"}," *")],-1)),(0,r.bF)(c,{class:(0,n.C4)([{"is-invalid":i.errors?.service_id},"my-auto"]),customClass:{"is-invalid":i.errors?.service_id},"aria-describedby":"basic-addon2","aria-label":"Select Check",initialize:i.service.service_id,id:"service_id",label:"service_name",placeholder:"Select Service",data:e.services,onInput:a[1]||(a[1]=e=>i.service.service_id=e),onSelectsearch:a[2]||(a[2]=e=>o.getServiceAttribute(i.service.service_id))},null,8,["class","customClass","initialize","data"]),i.errors?.service_id?((0,r.uX)(),(0,r.CE)("span",nj,(0,n.v_)(i.errors?.service_id[0]),1)):(0,r.Q3)("",!0)]),((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(i.service.asset_service_attributes,((e,a)=>((0,r.uX)(),(0,r.CE)("div",{class:"col-md-3",key:a},[e.service_attributes.length&&"Text"==e.service_attributes[0].field_type?((0,r.uX)(),(0,r.CE)("div",cj,[(0,r.Lk)("label",uj,(0,n.v_)(e.service_attributes[0].display_name),1),e.service_attributes[0].is_required?((0,r.uX)(),(0,r.CE)("span",_j,"*")):(0,r.Q3)("",!0),(0,r.bo)((0,r.Lk)("input",{type:"text",class:(0,n.C4)(["form-control",{"is-invalid":i.errors[e?.service_attributes[0]?.display_name]}]),placeholder:"Enter "+e.service_attributes[0].display_name,"onUpdate:modelValue":a=>e.field_value=a},null,10,pj),[[s.Jo,e.field_value]]),i.errors[e?.service_attributes[0]?.display_name]?((0,r.uX)(),(0,r.CE)("span",mj,(0,n.v_)(i.errors[e?.service_attributes[0]?.display_name][0]),1)):(0,r.Q3)("",!0)])):(0,r.Q3)("",!0),e.service_attributes.length&&"Number"==e.service_attributes[0].field_type?((0,r.uX)(),(0,r.CE)("div",bj,[(0,r.Lk)("label",kj,(0,n.v_)(e.service_attributes[0].display_name),1),e.service_attributes[0].is_required?((0,r.uX)(),(0,r.CE)("span",vj,"*")):(0,r.Q3)("",!0),(0,r.bo)((0,r.Lk)("input",{type:"number",class:(0,n.C4)(["form-control",{"is-invalid":i.errors[e?.service_attributes[0]?.display_name]}]),min:"0",oninput:"validity.valid||(value='');",placeholder:"Enter "+e.service_attributes[0].display_name,"onUpdate:modelValue":a=>e.field_value=a},null,10,hj),[[s.Jo,e.field_value]]),i.errors[e?.service_attributes[0]?.display_name]?((0,r.uX)(),(0,r.CE)("span",yj,(0,n.v_)(i.errors[e?.service_attributes[0]?.display_name][0]),1)):(0,r.Q3)("",!0)])):(0,r.Q3)("",!0),e.service_attributes.length&&"Date"===e.service_attributes[0].field_type?((0,r.uX)(),(0,r.CE)("div",gj,[(0,r.Lk)("label",fj,[(0,r.eW)((0,n.v_)(e.service_attributes[0].display_name)+" ",1),e.service_attributes[0].is_required?((0,r.uX)(),(0,r.CE)("span",Lj,"*")):(0,r.Q3)("",!0)]),(0,r.bo)((0,r.Lk)("input",{type:"date",class:(0,n.C4)(["form-control",{"is-invalid":i.errors[e?.service_attributes[0]?.display_name]}]),placeholder:"Enter "+e.service_attributes[0].display_name,"onUpdate:modelValue":a=>e.field_value=a},null,10,Cj),[[s.Jo,e.field_value]]),i.errors[e?.service_attributes[0]?.display_name]?((0,r.uX)(),(0,r.CE)("span",wj,(0,n.v_)(i.errors[e?.service_attributes[0]?.display_name][0]),1)):(0,r.Q3)("",!0)])):(0,r.Q3)("",!0),e.service_attributes.length&&"Date&Time"===e.service_attributes[0].field_type?((0,r.uX)(),(0,r.CE)("div",Ej,[(0,r.Lk)("label",xj,[(0,r.eW)((0,n.v_)(e.service_attributes[0].display_name)+" ",1),e.service_attributes[0].is_required?((0,r.uX)(),(0,r.CE)("span",Xj,"*")):(0,r.Q3)("",!0)]),(0,r.bo)((0,r.Lk)("input",{type:"datetime-local",class:(0,n.C4)(["form-control",{"is-invalid":i.errors[e?.service_attributes[0]?.display_name]}]),placeholder:"Enter "+e.service_attributes[0].display_name,"onUpdate:modelValue":a=>e.field_value=a,step:"1"},null,10,Pj),[[s.Jo,e.field_value]]),i.errors[e?.service_attributes[0]?.display_name]?((0,r.uX)(),(0,r.CE)("span",$j,(0,n.v_)(i.errors[e?.service_attributes[0]?.display_name][0]),1)):(0,r.Q3)("",!0)])):(0,r.Q3)("",!0),e.service_attributes.length&&"Dropdown"==e.service_attributes[0].field_type?((0,r.uX)(),(0,r.CE)("div",Sj,[(0,r.Lk)("label",Aj,(0,n.v_)(e.service_attributes[0].display_name),1),e.service_attributes[0].is_required?((0,r.uX)(),(0,r.CE)("span",Dj,"*")):(0,r.Q3)("",!0),(0,r.bo)((0,r.Lk)("select",{class:(0,n.C4)(["form-control",{"is-invalid":i.errors[e?.service_attributes[0]?.display_name]}]),"onUpdate:modelValue":a=>e.field_value=a},[e.field_value?((0,r.uX)(),(0,r.CE)("option",{key:0,value:e.field_value},(0,n.v_)(e.field_value),9,Qj)):((0,r.uX)(),(0,r.CE)("option",{key:1,value:e.field_value},"Select "+(0,n.v_)(e.service_attributes[0].display_name),9,Vj)),((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(e.service_attributes[0].field_values.split(","),((e,a)=>((0,r.uX)(),(0,r.CE)("option",{key:a,value:e},(0,n.v_)(e),9,Fj)))),128))],10,Tj),[[s.u1,e.field_value]]),i.errors[e?.service_attributes[0]?.display_name]?((0,r.uX)(),(0,r.CE)("span",Uj,(0,n.v_)(i.errors[e?.service_attributes[0]?.display_name][0]),1)):(0,r.Q3)("",!0)])):(0,r.Q3)("",!0),e.service_attributes.length&&"Color"==e.service_attributes[0].field_type?((0,r.uX)(),(0,r.CE)("div",jj,[(0,r.Lk)("label",zj,[(0,r.eW)((0,n.v_)(e.service_attributes[0].display_name),1),e.service_attributes[0].is_required?((0,r.uX)(),(0,r.CE)("span",Wj,"*")):(0,r.Q3)("",!0)]),(0,r.bo)((0,r.Lk)("input",{type:"color",class:"form-control","onUpdate:modelValue":a=>e.field_value=a,style:{height:"2.2rem"}},null,8,Rj),[[s.Jo,e.field_value]]),i.errors[e?.service_attributes[0]?.display_name]?((0,r.uX)(),(0,r.CE)("span",qj,(0,n.v_)(i.errors[e?.service_attributes[0]?.display_name][0]),1)):(0,r.Q3)("",!0)])):(0,r.Q3)("",!0),e.service_attributes.length&&"List"==e.service_attributes[0].field_type?((0,r.uX)(),(0,r.CE)("div",Ij,[(0,r.Lk)("label",Nj,(0,n.v_)(e.service_attributes[0].display_name),1),e.service_attributes[0].is_required?((0,r.uX)(),(0,r.CE)("span",Mj,"*")):(0,r.Q3)("",!0),(0,r.bo)((0,r.Lk)("select",{class:(0,n.C4)(["form-control",{"is-invalid":i.errors[e?.service_attributes[0]?.display_name]}]),"onUpdate:modelValue":a=>e.field_value=a},[e.field_value?((0,r.uX)(),(0,r.CE)("option",{key:0,value:e.field_value},(0,n.v_)(e.field_value),9,Jj)):(0,r.Q3)("",!0),e.service_attributes[0]?.service_attribute_value?.field_value?((0,r.uX)(),(0,r.CE)("option",{key:1,value:e.service_attributes[0].service_attribute_value?.field_value},(0,n.v_)(e.service_attributes[0].service_attribute_value?.field_value),9,Bj)):((0,r.uX)(),(0,r.CE)("option",{key:2,value:e.service_attributes[0].service_attribute_value?.field_value},"Select "+(0,n.v_)(e.service_attributes[0].display_name),9,Oj)),((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(e.service_attributes[0].list_parameter?.field_values.split(","),((e,a)=>((0,r.uX)(),(0,r.CE)("option",{key:a,value:e.trim()},(0,n.v_)(e.trim()),9,Hj)))),128))],10,Kj),[[s.u1,e.field_value]]),i.errors[e?.service_attributes[0]?.display_name]?((0,r.uX)(),(0,r.CE)("span",Yj,(0,n.v_)(i.errors[e?.service_attributes[0]?.display_name][0]),1)):(0,r.Q3)("",!0)])):(0,r.Q3)("",!0)])))),128)),i.service.asset_template_service_id?((0,r.uX)(),(0,r.CE)("div",Zj,[(0,r.bo)(((0,r.uX)(),(0,r.CE)("button",{class:"btn btn-outline-success me-2",onClick:a[3]||(a[3]=e=>o.updateService())},a[11]||(a[11]=[(0,r.Lk)("i",{class:"ri-add-circle-line icon-hgt"},null,-1),(0,r.eW)(" Update")]))),[[_,"asset_template_Services.update"]])])):((0,r.uX)(),(0,r.CE)("div",Gj,[(0,r.bo)(((0,r.uX)(),(0,r.CE)("button",{class:"btn btn-outline-success me-2",onClick:a[4]||(a[4]=e=>o.addService())},a[12]||(a[12]=[(0,r.Lk)("i",{class:"ri-add-circle-line icon-hgt"},null,-1),(0,r.eW)(" Add")]))),[[_,"asset_template_Services.create"]])]))])),[[_,["asset_template_Services.create","asset_template_Services.update"]]]),(0,r.bo)((0,r.Lk)("input",{class:"form-control form-control-sm mb-2",type:"text",placeholder:"Type keyword and press enter key","onUpdate:modelValue":a[5]||(a[5]=e=>i.check_meta_service.search=e),onKeypress:a[6]||(a[6]=(0,s.jR)((e=>o.searchService()),["enter"]))},null,544),[[s.Jo,i.check_meta_service.search]]),(0,r.Lk)("div",ez,[(0,r.Lk)("div",az,[(0,r.Lk)("div",tz,[(0,r.Lk)("table",sz,[(0,r.Lk)("thead",null,[(0,r.Lk)("tr",rz,[a[18]||(a[18]=(0,r.Lk)("th",{class:"text-center"},"#",-1)),(0,r.Lk)("th",null,[a[13]||(a[13]=(0,r.eW)(" Template Zone ")),(0,r.Lk)("span",null,["template_zone_id"==i.check_meta_service.keyword&&"asc"==i.check_meta_service.order_by?((0,r.uX)(),(0,r.CE)("i",lz)):"template_zone_id"==i.check_meta_service.keyword&&"desc"==i.check_meta_service.order_by?((0,r.uX)(),(0,r.CE)("i",iz)):((0,r.uX)(),(0,r.CE)("i",oz))])]),(0,r.Lk)("th",null,[a[14]||(a[14]=(0,r.eW)(" Service Type ")),(0,r.Lk)("span",null,["service_type_id"==i.check_meta_service.keyword&&"asc"==i.check_meta_service.order_by?((0,r.uX)(),(0,r.CE)("i",dz)):"service_type_id"==i.check_meta_service.keyword&&"desc"==i.check_meta_service.order_by?((0,r.uX)(),(0,r.CE)("i",nz)):((0,r.uX)(),(0,r.CE)("i",cz))])]),(0,r.Lk)("th",null,[a[15]||(a[15]=(0,r.eW)(" Service Name ")),(0,r.Lk)("span",null,["service_name"==i.check_meta_service.keyword&&"asc"==i.check_meta_service.order_by?((0,r.uX)(),(0,r.CE)("i",uz)):"service_name"==i.check_meta_service.keyword&&"desc"==i.check_meta_service.order_by?((0,r.uX)(),(0,r.CE)("i",_z)):((0,r.uX)(),(0,r.CE)("i",pz))])]),(0,r.Lk)("th",null,[a[16]||(a[16]=(0,r.eW)(" Service Code ")),(0,r.Lk)("span",null,["service_code"==i.check_meta_service.keyword&&"asc"==e.check_meta.order_by?((0,r.uX)(),(0,r.CE)("i",mz)):"service_code"==i.check_meta_service.keyword&&"desc"==i.check_meta_service.order_by?((0,r.uX)(),(0,r.CE)("i",bz)):((0,r.uX)(),(0,r.CE)("i",kz))])]),(0,r.bo)(((0,r.uX)(),(0,r.CE)("th",vz,a[17]||(a[17]=[(0,r.eW)("Actions")]))),[[_,["asset_template_Services.update","asset_template_Services.delete"]]])])]),(0,r.Lk)("tbody",null,[0==i.asset_services?.length?((0,r.uX)(),(0,r.CE)("tr",hz,a[19]||(a[19]=[(0,r.Lk)("td",{colspan:"6",class:"text-center"},"No records found",-1)]))):(0,r.Q3)("",!0),((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(i.asset_services,((e,t)=>((0,r.uX)(),(0,r.CE)("tr",{key:t},[(0,r.Lk)("td",yz,(0,n.v_)((i.check_meta_service.page-1)*i.check_meta_service.per_page+t+1),1),(0,r.Lk)("td",null,(0,n.v_)(e?.asset_zone?.zone_name),1),(0,r.Lk)("td",null,(0,n.v_)(e?.service?.service_type?.service_type_name),1),(0,r.Lk)("td",null,(0,n.v_)(e?.service?.service_name),1),(0,r.Lk)("td",null,(0,n.v_)(e?.service?.service_code),1),(0,r.bo)(((0,r.uX)(),(0,r.CE)("td",gz,[(0,r.bo)(((0,r.uX)(),(0,r.CE)("a",{href:"javascript:void(0)",class:"text-success me-2",onClick:a=>o.editService(e)},a[20]||(a[20]=[(0,r.Lk)("i",{class:"ri-pencil-line fs-18 lh-1"},null,-1)]),8,fz)),[[_,"asset_template_Services.update"]]),(0,r.Lk)("a",{href:"javascript:void(0)",class:"text-primary me-2","data-bs-toggle":"modal","data-bs-target":"#exampleModal",onClick:(0,s.D$)((a=>o.viewAsset(e,"Services")),["prevent"])},a[21]||(a[21]=[(0,r.Lk)("i",{class:"ri-eye-fill fs-18 lh-1"},null,-1)]),8,Lz),(0,r.bo)(((0,r.uX)(),(0,r.CE)("a",{href:"javascript:void(0)",class:"text-danger me-2",onClick:a=>o.deleteService(e)},a[22]||(a[22]=[(0,r.Lk)("i",{class:"ri-delete-bin-6-line fs-18 lh-1"},null,-1)]),8,Cz)),[[_,"asset_template_Services.delete"]])])),[[_,["asset_template_Services.update","asset_template_Services.delete"]]])])))),128))])])])])])]),(0,r.Lk)("div",wz,[(0,r.Lk)("div",Ez,[(0,r.bo)((0,r.Lk)("select",{class:"form-select from-select-sm width-75","onUpdate:modelValue":a[7]||(a[7]=e=>i.check_meta_service.per_page=e),onChange:a[8]||(a[8]=e=>o.onPerPageChange("Services"))},a[23]||(a[23]=[(0,r.Lk)("option",null,"5",-1),(0,r.Lk)("option",null,"10",-1),(0,r.Lk)("option",null,"15",-1),(0,r.Lk)("option",null,"20",-1),(0,r.Lk)("option",null,"25",-1),(0,r.Lk)("option",null,"30",-1)]),544),[[s.u1,i.check_meta_service.per_page]]),(0,r.Lk)("span",null,"Showing "+(0,n.v_)(i.check_meta_service.from)+" to "+(0,n.v_)(i.check_meta_service.to)+" of "+(0,n.v_)(i.check_meta_service.totalRows)+" entries",1),(0,r.bF)(u,{maxPage:i.check_meta_service.maxPage,totalPages:i.check_meta_service.lastPage,currentPage:i.check_meta_service.page,onPagechanged:o.onPageChange,from:"Services"},null,8,["maxPage","totalPages","currentPage","onPagechanged"])])])])])),[[_,"asset_template_Services.view"]]),(0,r.Lk)("div",xz,[(0,r.Lk)("div",Xz,[(0,r.Lk)("div",Pz,[(0,r.Lk)("div",$z,[(0,r.Lk)("h5",Sz,(0,n.v_)(i.asset_type),1),a[25]||(a[25]=(0,r.Lk)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1))]),(0,r.Lk)("div",Az,[(0,r.Lk)("div",Dz,[(0,r.Lk)("div",Tz,["Services"==i.asset_type?((0,r.uX)(),(0,r.CE)("div",Qz,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(i.assets1?.asset_service_attributes,((e,a)=>((0,r.uX)(),(0,r.CE)("div",{class:"col-md-4",key:a},[e.service_attributes.length&&"Text"==e.service_attributes[0].field_type?((0,r.uX)(),(0,r.CE)("div",Vz,[(0,r.Lk)("label",Fz,(0,n.v_)(e.service_attributes[0].display_name),1),e.service_attributes[0].is_required?((0,r.uX)(),(0,r.CE)("span",Uz,"*")):(0,r.Q3)("",!0),(0,r.Lk)("input",{type:"text",class:(0,n.C4)(["form-control",{"is-invalid":i.errors[e?.service_attributes[0]?.display_name]}]),placeholder:"Enter "+e.service_attributes[0].display_name,value:e.field_value,disabled:"true"},null,10,jz),i.errors[e?.service_attributes[0]?.display_name]?((0,r.uX)(),(0,r.CE)("span",zz,(0,n.v_)(i.errors[e?.service_attributes[0]?.display_name][0]),1)):(0,r.Q3)("",!0)])):(0,r.Q3)("",!0),e.service_attributes.length&&"Number"==e.service_attributes[0].field_type?((0,r.uX)(),(0,r.CE)("div",Wz,[(0,r.Lk)("label",Rz,(0,n.v_)(e.service_attributes[0].display_name),1),e.service_attributes[0].is_required?((0,r.uX)(),(0,r.CE)("span",qz,"*")):(0,r.Q3)("",!0),(0,r.Lk)("input",{type:"number",class:(0,n.C4)(["form-control",{"is-invalid":i.errors[e?.service_attributes[0]?.display_name]}]),min:"0",oninput:"validity.valid||(value='');",placeholder:"Enter "+e.service_attributes[0].display_name,value:e.field_value,disabled:"true"},null,10,Iz),i.errors[e?.service_attributes[0]?.display_name]?((0,r.uX)(),(0,r.CE)("span",Nz,(0,n.v_)(i.errors[e?.service_attributes[0]?.display_name][0]),1)):(0,r.Q3)("",!0)])):(0,r.Q3)("",!0),e.service_attributes.length&&"Date"===e.service_attributes[0].field_type?((0,r.uX)(),(0,r.CE)("div",Mz,[(0,r.Lk)("label",Kz,[(0,r.eW)((0,n.v_)(e.service_attributes[0].display_name)+" ",1),e.service_attributes[0].is_required?((0,r.uX)(),(0,r.CE)("span",Jz,"*")):(0,r.Q3)("",!0)]),(0,r.Lk)("input",{type:"date",class:(0,n.C4)(["form-control",{"is-invalid":i.errors[e?.service_attributes[0]?.display_name]}]),placeholder:"Enter "+e.service_attributes[0].display_name,value:e.field_value,disabled:"true"},null,10,Bz),i.errors[e?.service_attributes[0]?.display_name]?((0,r.uX)(),(0,r.CE)("span",Oz,(0,n.v_)(i.errors[e?.service_attributes[0]?.display_name][0]),1)):(0,r.Q3)("",!0)])):(0,r.Q3)("",!0),e.service_attributes.length&&"Date&Time"===e.service_attributes[0].field_type?((0,r.uX)(),(0,r.CE)("div",Hz,[(0,r.Lk)("label",Yz,[(0,r.eW)((0,n.v_)(e.service_attributes[0].display_name)+" ",1),e.service_attributes[0].is_required?((0,r.uX)(),(0,r.CE)("span",Zz,"*")):(0,r.Q3)("",!0)]),(0,r.Lk)("input",{type:"datetime-local",class:(0,n.C4)(["form-control",{"is-invalid":i.errors[e?.service_attributes[0]?.display_name]}]),placeholder:"Enter "+e.service_attributes[0].display_name,value:e.field_value,step:"1",disabled:"true"},null,10,Gz),i.errors[e?.service_attributes[0]?.display_name]?((0,r.uX)(),(0,r.CE)("span",eW,(0,n.v_)(i.errors[e?.service_attributes[0]?.display_name][0]),1)):(0,r.Q3)("",!0)])):(0,r.Q3)("",!0),e.service_attributes.length&&"Dropdown"==e.service_attributes[0].field_type?((0,r.uX)(),(0,r.CE)("div",aW,[(0,r.Lk)("label",tW,(0,n.v_)(e.service_attributes[0].display_name),1),e.service_attributes[0].is_required?((0,r.uX)(),(0,r.CE)("span",sW,"*")):(0,r.Q3)("",!0),(0,r.Lk)("select",{class:(0,n.C4)(["form-control",{"is-invalid":i.errors[e?.service_attributes[0]?.display_name]}]),value:e.field_value,disabled:"true"},[e.field_value?((0,r.uX)(),(0,r.CE)("option",{key:0,value:e.field_value},(0,n.v_)(e.field_value),9,lW)):((0,r.uX)(),(0,r.CE)("option",{key:1,value:e.field_value},"Select "+(0,n.v_)(e.service_attributes[0].display_name),9,iW)),((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(e.service_attributes[0].field_values.split(","),((e,a)=>((0,r.uX)(),(0,r.CE)("option",{key:a,value:e},(0,n.v_)(e),9,oW)))),128))],10,rW),i.errors[e?.service_attributes[0]?.display_name]?((0,r.uX)(),(0,r.CE)("span",dW,(0,n.v_)(i.errors[e?.service_attributes[0]?.display_name][0]),1)):(0,r.Q3)("",!0)])):(0,r.Q3)("",!0),e.service_attributes.length&&"Color"==e.service_attributes[0].field_type?((0,r.uX)(),(0,r.CE)("div",nW,[(0,r.Lk)("label",cW,[(0,r.eW)((0,n.v_)(e.service_attributes[0].display_name),1),e.service_attributes[0].is_required?((0,r.uX)(),(0,r.CE)("span",uW,"*")):(0,r.Q3)("",!0)]),(0,r.Lk)("input",{type:"color",class:"form-control",value:e.field_value,style:{height:"2.2rem"},disabled:"true"},null,8,_W),i.errors[e?.service_attributes[0]?.display_name]?((0,r.uX)(),(0,r.CE)("span",pW,(0,n.v_)(i.errors[e?.service_attributes[0]?.display_name][0]),1)):(0,r.Q3)("",!0)])):(0,r.Q3)("",!0),e.service_attributes.length&&"List"==e.service_attributes[0].field_type?((0,r.uX)(),(0,r.CE)("div",mW,[(0,r.Lk)("label",bW,(0,n.v_)(e.service_attributes[0].display_name),1),e.service_attributes[0].is_required?((0,r.uX)(),(0,r.CE)("span",kW,"*")):(0,r.Q3)("",!0),(0,r.Lk)("select",{class:(0,n.C4)(["form-control",{"is-invalid":i.errors[e?.service_attributes[0]?.display_name]}]),value:e.field_value,disabled:"true"},[e.service_attributes[0].service_attribute_value?.field_value?((0,r.uX)(),(0,r.CE)("option",{key:0,value:e.service_attributes[0].service_attribute_value?.field_value},(0,n.v_)(e.service_attributes[0].service_attribute_value?.field_value),9,hW)):((0,r.uX)(),(0,r.CE)("option",{key:1,value:e.service_attributes[0].service_attribute_value?.field_value},"Select "+(0,n.v_)(e.service_attributes[0].display_name),9,yW)),((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(e.service_attributes[0].list_parameter?.field_values.split(","),((e,a)=>((0,r.uX)(),(0,r.CE)("option",{key:a,value:e.trim()},(0,n.v_)(e.trim()),9,gW)))),128))],10,vW),i.errors[e?.service_attributes[0]?.display_name]?((0,r.uX)(),(0,r.CE)("span",fW,(0,n.v_)(i.errors[e?.service_attributes[0]?.display_name][0]),1)):(0,r.Q3)("",!0)])):(0,r.Q3)("",!0)])))),128))])):(0,r.Q3)("",!0)])])])])])])],64)}var CW={name:"AssetTemplates.View",components:{Search:It.A,Pagination:md,MultiSelect:Ru.A},props:{asset_template_id:{type:Number,required:!0}},data(){return{check_meta_service:{search:"",order_by:"desc",keyword:"service_id",per_page:10,totalRows:0,page:1,lastPage:1,from:1,to:1,maxPage:1,trashed:!1,asset_template_id:"",asset_type_id:""},asset:{asset_template_id:"",plant_id:"",template_code:"",template_name:"",asset_type_id:"",section_id:"",serial_no:"",status:"",QR_Code:""},service:{service_id:"",service_code:"",service_name:"",asset_template_id:"",template_zone_id:"",asset_template_service_id:"",service_template_zones_obj:[],service_template_zones:[],asset_service_attributes:[],initial_service_id:"",initial_asset_service_attributes:[],deleted_asset_service_values:[],service_zone_read_only:!1},asset_spares:[],asset_services:[],asset_zones:[],errors:[],status:!0,asset_zone_status:!1,asset_zone_status_services:!1,asset_type:"",isValid:!0,assets1:[],error_style:{"border-color":"#dc3545","padding-right":"calc(1.5em + 0.812rem)","background-image":"url(\"data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 12 12' width='12' height='12' fill='none' stroke='%23dc3545'%3e%3ccircle cx='6' cy='6' r='4.5'/%3e%3cpath stroke-linejoin='round' d='M5.8 3.6h.4L6 6.5z'/%3e%3ccircle cx='6' cy='8.2' r='.6' fill='%23dc3545' stroke='none'/%3e%3c/svg%3e\")","background-repeat":"no-repeat","background-position":"right calc(0.375em + 0.203rem) center","background-size":"calc(0.75em + 0.406rem) calc(0.75em + 0.406rem)"}}},mounted(){document.body.classList.add("sidebar-hide"),this.getAssetTemplate()},methods:{getAssetTemplate(){let e=this;e.$store.dispatch("post",{uri:"getAssetTemplate",data:{asset_template_id:e.asset_template_id}}).then((a=>{e.asset=a.data.data,e.asset_zones=a?.data?.data?.zone_name,e.getAssetServices()})).catch((function(a){e.errors=a.response?.data?.errors,e.$store.dispatch("error",a.response?.data?.message)}))},getAssetServices(){let e=this,a=e.$loading.show();e.check_meta_service.asset_template_id=e.asset.asset_template_id,e.check_meta_service.asset_type_id=e.asset.asset_type_id,e.$store.dispatch("post",{uri:"paginateAssetTemplateServices",data:e.check_meta_service}).then((t=>{a.hide(),e.services=t.data.services,e.asset_services=t.data.paginate_services,e.check_meta_service.totalRows=t.data.meta.total,e.check_meta_service.from=t.data.meta.from,e.check_meta_service.to=t.data.meta.to,e.check_meta_service.lastPage=t.data.meta.last_page,e.check_meta_service.maxPage=e.check_meta_service.lastPage>=3?3:e.check_meta_service.lastPage})).catch((function(t){a.hide(),e.errors=t.response.data.errors,e.$store.dispatch("error",t.response.data.message)}))},editService(e){console.log("service",e),this.service.service_id=e.service_id,this.service.asset_template_id=e.asset_template_id,this.service.asset_template_service_id=e.asset_template_service_id,this.service.service_code=e.service_code,this.service.service_name=e.service_name,this.service.service_template_zones=[],this.service.service_template_zones.push(e.template_zone_id),this.service.template_zone_id=e.template_zone_id,this.service.asset_service_attributes=e.asset_service_attributes,this.service.initial_service_id=e.service_id,this.service.initial_asset_service_attributes=e.asset_service_attributes;const a=this.asset_zones.find((a=>a.template_zone_id===e.template_zone_id));this.service.service_template_zones_obj=a?[a]:[{asset_template_id:e.asset_zone.asset_template_id,template_zone_id:e.asset_zone.template_zone_id,zone_name:e.asset_zone.zone_name,diameter:e.asset_zone.diameter,height:e.asset_zone.height,asset_spares:e.asset_zone.asset_spares}],this.service.service_zone_read_only=!0},validateFields(e){if(this.isValid=!0,this.errors={},"Services"==e)for(const a of Object.values(this.service.asset_service_attributes))a.service_attributes.length&&a.service_attributes[0].is_required&&!a.field_value&&("Color"===a.service_attributes[0].field_type?a.field_value="#000000":(this.errors[a?.service_attributes[0]?.display_name]=[`${a.service_attributes[0].display_name} is required`],this.isValid=!1))},addService(){let e=this;e.service.asset_template_id=e.asset.asset_template_id,e.service.service_template_zones=[],e.service.service_template_zones_obj.map((function(a){e.service.service_template_zones.push(a.template_zone_id)}));let a=e.$loading.show();e.validateFields("Services"),e.isValid?e.$store.dispatch("post",{uri:"addAssetTemplateService",data:e.service}).then((t=>{a.hide(),e.$store.dispatch("success",t.data.message),e.service.service_id="",e.service.template_zone_id="",e.service.service_template_zones=[],e.service.asset_service_attributes=[],e.service.service_template_zones_obj=[],e.service.service_zone_read_only=!1,e.service.initial_service_id="",e.service.initial_asset_service_attributes=[],e.service.deleted_asset_service_values=[],e.asset_zone_status_services=!1,e.errors=[],e.getAssetServices()})).catch((function(t){a.hide(),e.errors=t.response.data.errors,e.$store.dispatch("error",t.response.data.message)})):a.hide()},updateService(){let e=this,a=e.$loading.show();if(e.validateFields("Services"),!e.isValid)return void a.hide();e.service.service_id!=e.service.initial_service_id&&e.service.initial_asset_service_attributes.map((function(a){e.service.deleted_asset_service_values.push(a.template_service_value_id)}));let t={uri:"updateAssetTemplateService",data:e.service};e.$store.dispatch("post",t).then((function(t){a.hide(),e.$store.dispatch("success",t.data.message),e.service.service_id="",e.service.template_zone_id="",e.service.asset_template_service_id="",e.service.service_template_zones=[],e.service.asset_service_attributes=[],e.service.service_template_zones_obj=[],e.service.service_zone_read_only=!1,e.service.initial_service_id="",e.service.initial_asset_service_attributes=[],e.service.deleted_asset_service_values=[],e.asset_zone_status_services=!1,e.errors=[],e.getAssetServices()})).catch((function(t){a.hide(),e.errors=t.response.data.errors,e.$store.dispatch("error",t.response.data.message)}))},viewAsset(e,a){this.$store.commit("setAssetTemplates",e),this.asset_type=a,this.assets1=this.$store.getters.asset_templates},deleteService(e){const a=confirm("Are you sure you want to delete it ?");if(a){let a=this,t=a.$loading.show();a.$store.dispatch("post",{uri:"forceDeleteAssetTemplateService",data:e}).then((e=>{t.hide(),a.$store.dispatch("success",e.data.message),a.service.service_id="",a.errors=[],a.getAssetServices()})).catch((function(e){t.hide(),a.errors=e.response.data.errors,a.$store.dispatch("error",e.response.data.message)}))}},searchService(){let e=this;e.check_meta_service.page=1,e.getAssetServices()},onPageChange(e,a){"Services"==a&&(this.check_meta_service.page=e,this.getAssetServices())},sort(e,a){"Services"==a&&(this.check_meta_service.keyword=e,this.check_meta_service.order_by="asc"==this.check_meta_service.order_by?"desc":"asc",this.getAssetServices())},onPerPageChange(e){"Services"==e&&(this.check_meta_service.page=1,this.getAssetServices())},getServiceAttribute(e){let a=this,t=a.$loading.show();a.service.asset_service_attributes=[],a.$store.dispatch("post",{uri:"assetServiceAttributeValues",data:{service_id:e}}).then((e=>{t.hide(),a.service.asset_service_attributes=e.data.data})).catch((function(e){t.hide(),a.errors=e.response.data.errors,a.$store.dispatch("error",e.response.data.message)}))}}};const wW=(0,Ze.A)(CW,[["render",LW],["__scopeId","data-v-3c06f199"]]);var EW=wW;const xW={class:"col-12 mb-2"},XW={class:"card card-one"},PW={class:"card-body"},$W={class:"row mb-3 g-2"},SW={class:"col-md-4"},AW={key:0,class:"invalid-feedback",style:{display:"block !important"}},DW={class:"col-md-4"},TW={key:0,class:"invalid-feedback"},QW={class:"col-md-4"},VW={key:0,class:"invalid-feedback"},FW={class:"col-md-10"},UW={key:0,class:"invalid-feedback"},jW={class:"col-md-2 pt-4"},zW={style:{float:"left"}},WW={class:"row g-2"},RW={class:"col-12"},qW={class:"table-responsive table-responsive-sm"},IW={class:"table table-sm text-nowrap table-striped table-bordered mb-0"},NW={class:""},MW={key:0,class:"ri-arrow-up-line"},KW={key:1,class:"ri-arrow-down-line"},JW={key:2,class:"fas fa-sort"},BW={key:0,class:"ri-arrow-up-line"},OW={key:1,class:"ri-arrow-down-line"},HW={key:2,class:"fas fa-sort"},YW={key:0,class:"ri-arrow-up-line"},ZW={key:1,class:"ri-arrow-down-line"},GW={key:2,class:"fas fa-sort"},eR={key:0,class:"ri-arrow-up-line"},aR={key:1,class:"ri-arrow-down-line"},tR={key:2,class:"fas fa-sort"},sR={class:"text-center"},rR={key:0},lR={class:"text-center"},iR=["href"],oR={key:1},dR={class:"text-center"},nR=["onClick"],cR={class:"card-footer"},uR={class:"d-flex justify-content-between align-items-center"};function _R(e,a,t,l,i,o){const d=(0,r.g2)("MultiSelect"),c=(0,r.g2)("search"),u=(0,r.g2)("Pagination"),_=(0,r.gN)("can");return(0,r.bo)(((0,r.uX)(),(0,r.CE)("div",xW,[(0,r.Lk)("div",XW,[a[22]||(a[22]=(0,r.Lk)("div",{class:"card-header d-flex justify-content-between"},[(0,r.Lk)("h6",{class:"card-title"},"Accessories")],-1)),(0,r.Lk)("div",PW,[(0,r.bo)(((0,r.uX)(),(0,r.CE)("div",$W,[(0,r.Lk)("div",SW,[a[8]||(a[8]=(0,r.Lk)("label",{class:"form-label"},[(0,r.eW)("Template Zone "),(0,r.Lk)("span",{class:"text-danger"}," *")],-1)),(0,r.bF)(d,{modelValue:i.accessory.accessory_template_zones_obj,"onUpdate:modelValue":a[0]||(a[0]=e=>i.accessory.accessory_template_zones_obj=e),filter:"",optionLabel:"zone_name",options:i.asset_zones,placeholder:"Select Template Zone",maxSelectedLabels:3,style:(0,n.Tr)([{width:"100%",height:"37px"},i.errors?.accessory_template_zones?i.error_style:""]),disabled:i.accessory.accessory_zone_read_only},null,8,["modelValue","options","style","disabled"]),i.errors?.accessory_template_zones?((0,r.uX)(),(0,r.CE)("span",AW,(0,n.v_)(i.errors?.accessory_template_zones[0]),1)):(0,r.Q3)("",!0)]),(0,r.Lk)("div",DW,[a[9]||(a[9]=(0,r.Lk)("label",{class:"form-label"},[(0,r.eW)("Accessory "),(0,r.Lk)("span",{class:"text-danger"}," *")],-1)),(0,r.bF)(c,{class:(0,n.C4)([{"is-invalid":i.errors?.accessory_type_id},"my-auto"]),customClass:{"is-invalid":i.errors?.accessory_type_id},"aria-describedby":"basic-addon2","aria-label":"Select Accessory",initialize:i.accessory.accessory_type_id,id:"accessory_type_id",label:"accessory_type_name",placeholder:"Select Accessory",data:i.accessory_types,onInput:a[1]||(a[1]=e=>i.accessory.accessory_type_id=e)},null,8,["class","customClass","initialize","data"]),i.errors?.accessory_type_id?((0,r.uX)(),(0,r.CE)("span",TW,(0,n.v_)(i.errors?.accessory_type_id[0]),1)):(0,r.Q3)("",!0)]),(0,r.Lk)("div",QW,[a[10]||(a[10]=(0,r.Lk)("label",{class:"form-label"},[(0,r.eW)("Accessory Name "),(0,r.Lk)("span",{class:"text-danger"}," *")],-1)),(0,r.bo)((0,r.Lk)("input",{type:"text",placeholder:"Enter accessory name",class:(0,n.C4)(["form-control",{"is-invalid":i.errors?.accessory_name}]),"onUpdate:modelValue":a[2]||(a[2]=e=>i.accessory.accessory_name=e)},null,2),[[s.Jo,i.accessory.accessory_name]]),i.errors?.accessory_name?((0,r.uX)(),(0,r.CE)("span",VW,(0,n.v_)(i.errors.accessory_name[0]),1)):(0,r.Q3)("",!0)]),(0,r.Lk)("div",FW,[a[11]||(a[11]=(0,r.Lk)("label",{class:"form-label"},[(0,r.eW)("Attachment "),(0,r.Lk)("span",{class:"text-danger"}," *")],-1)),(0,r.Lk)("input",{type:"file",class:(0,n.C4)(["form-control",{"is-invalid":i.errors?.attachment}]),id:"attachment",ref:"attachment",name:"attachment"},null,2),i.errors?.attachment?((0,r.uX)(),(0,r.CE)("span",UW,(0,n.v_)(i.errors?.attachment[0]),1)):(0,r.Q3)("",!0)]),(0,r.Lk)("div",jW,[(0,r.Lk)("div",zW,[(0,r.Lk)("button",{class:"btn btn-outline-success me-2",onClick:a[3]||(a[3]=e=>o.addAccessory())},a[12]||(a[12]=[(0,r.Lk)("i",{class:"ri-add-circle-line icon-hgt"},null,-1),(0,r.eW)(" Add")]))])])])),[[_,"asset_template_accessories.create"]]),(0,r.bo)((0,r.Lk)("input",{class:"form-control form-control-sm mb-2",type:"text",placeholder:"Type keyword and press enter key","onUpdate:modelValue":a[4]||(a[4]=e=>i.accessory_meta_service.search=e),onKeypress:a[5]||(a[5]=(0,s.jR)((e=>o.searchAccessory()),["enter"]))},null,544),[[s.Jo,i.accessory_meta_service.search]]),(0,r.Lk)("div",WW,[(0,r.Lk)("div",RW,[(0,r.Lk)("div",qW,[(0,r.Lk)("table",IW,[(0,r.Lk)("thead",null,[(0,r.Lk)("tr",NW,[a[18]||(a[18]=(0,r.Lk)("th",{class:"text-center"},"#",-1)),(0,r.Lk)("th",null,[a[13]||(a[13]=(0,r.eW)(" Template Zone ")),(0,r.Lk)("span",null,["template_zone_id"==i.accessory_meta_service.keyword&&"asc"==i.accessory_meta_service.order_by?((0,r.uX)(),(0,r.CE)("i",MW)):"template_zone_id"==i.accessory_meta_service.keyword&&"desc"==i.accessory_meta_service.order_by?((0,r.uX)(),(0,r.CE)("i",KW)):((0,r.uX)(),(0,r.CE)("i",JW))])]),(0,r.Lk)("th",null,[a[14]||(a[14]=(0,r.eW)(" Accessory Type ")),(0,r.Lk)("span",null,["accessory_type_id"==i.accessory_meta_service.keyword&&"asc"==i.accessory_meta_service.order_by?((0,r.uX)(),(0,r.CE)("i",BW)):"accessory_type_id"==i.accessory_meta_service.keyword&&"desc"==i.accessory_meta_service.order_by?((0,r.uX)(),(0,r.CE)("i",OW)):((0,r.uX)(),(0,r.CE)("i",HW))])]),(0,r.Lk)("th",null,[a[15]||(a[15]=(0,r.eW)(" Accessory Name ")),(0,r.Lk)("span",null,["accessory_name"==i.accessory_meta_service.keyword&&"asc"==i.accessory_meta_service.order_by?((0,r.uX)(),(0,r.CE)("i",YW)):"accessory_name"==i.accessory_meta_service.keyword&&"desc"==i.accessory_meta_service.order_by?((0,r.uX)(),(0,r.CE)("i",ZW)):((0,r.uX)(),(0,r.CE)("i",GW))])]),(0,r.Lk)("th",null,[a[16]||(a[16]=(0,r.eW)(" Attachment ")),(0,r.Lk)("span",null,["attachment"==i.accessory_meta_service.keyword&&"asc"==i.accessory_meta_service.order_by?((0,r.uX)(),(0,r.CE)("i",eR)):"attachment"==i.accessory_meta_service.keyword&&"desc"==i.accessory_meta_service.order_by?((0,r.uX)(),(0,r.CE)("i",aR)):((0,r.uX)(),(0,r.CE)("i",tR))])]),(0,r.bo)(((0,r.uX)(),(0,r.CE)("th",sR,a[17]||(a[17]=[(0,r.eW)("Actions")]))),[[_,"asset_template_accessories.delete"]])])]),(0,r.Lk)("tbody",null,[0==i.asset_accessories?.length?((0,r.uX)(),(0,r.CE)("tr",rR,a[19]||(a[19]=[(0,r.Lk)("td",{colspan:"6",class:"text-center"},"No records found",-1)]))):(0,r.Q3)("",!0),((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(i.asset_accessories,((e,t)=>((0,r.uX)(),(0,r.CE)("tr",{key:t},[(0,r.Lk)("td",lR,(0,n.v_)((i.accessory_meta_service.page-1)*i.accessory_meta_service.per_page+t+1),1),(0,r.Lk)("td",null,(0,n.v_)(e.asset_zone?.zone_name),1),(0,r.Lk)("td",null,(0,n.v_)(e.accessory_type.accessory_type_name),1),(0,r.Lk)("td",null,(0,n.v_)(e.accessory_name),1),(0,r.Lk)("td",null,[e.attachment?((0,r.uX)(),(0,r.CE)("a",{key:0,href:o.getAttachmentUrl(e.attachment),target:"_blank",rel:"noopener noreferrer"},(0,n.v_)(o.getAttachmentName(e.attachment)),9,iR)):((0,r.uX)(),(0,r.CE)("span",oR,"No attachment"))]),(0,r.bo)(((0,r.uX)(),(0,r.CE)("td",dR,[(0,r.Lk)("a",{href:"javascript:void(0)",class:"text-danger me-2",onClick:a=>o.deleteAccessory(e)},a[20]||(a[20]=[(0,r.Lk)("i",{class:"ri-delete-bin-6-line fs-18 lh-1"},null,-1)]),8,nR)])),[[_,"asset_template_accessories.delete"]])])))),128))])])])])])]),(0,r.Lk)("div",cR,[(0,r.Lk)("div",uR,[(0,r.bo)((0,r.Lk)("select",{class:"form-select from-select-sm width-75","onUpdate:modelValue":a[6]||(a[6]=e=>i.accessory_meta_service.per_page=e),onChange:a[7]||(a[7]=e=>o.onPerPageChange("Accessories"))},a[21]||(a[21]=[(0,r.Lk)("option",null,"5",-1),(0,r.Lk)("option",null,"10",-1),(0,r.Lk)("option",null,"15",-1),(0,r.Lk)("option",null,"20",-1),(0,r.Lk)("option",null,"25",-1),(0,r.Lk)("option",null,"30",-1)]),544),[[s.u1,i.accessory_meta_service.per_page]]),(0,r.Lk)("span",null,"Showing "+(0,n.v_)(i.accessory_meta_service.from)+" to "+(0,n.v_)(i.accessory_meta_service.to)+" of "+(0,n.v_)(i.accessory_meta_service.totalRows)+" entries",1),(0,r.bF)(u,{maxPage:i.accessory_meta_service.maxPage,totalPages:i.accessory_meta_service.lastPage,currentPage:i.accessory_meta_service.page,onPagechanged:o.onPageChange,from:"Accessories"},null,8,["maxPage","totalPages","currentPage","onPagechanged"])])])])])),[[_,"asset_template_accessories.view"]])}var pR={name:"AssetTemplates.View",components:{Search:It.A,Pagination:md,MultiSelect:Ru.A},props:{asset_template_id:{type:Number,required:!0}},data(){return{accessory_meta_service:{search:"",order_by:"desc",keyword:"asset_template_accessory_id",per_page:10,totalRows:0,page:1,lastPage:1,from:1,to:1,maxPage:1,trashed:!1,asset_template_id:"",asset_type_id:""},asset:{asset_template_id:"",plant_id:"",template_code:"",template_name:"",asset_type_id:"",section_id:"",serial_no:"",status:"",QR_Code:""},accessory:{accessory_id:"",asset_template_id:"",accessory_template_zones:[],accessory_name:"",accessory_type_id:"",attachment:"",accessory_template_zones_obj:[],accessory_zone_read_only:!1},checks:[],accessory_types:[],asset_accessories:[],template_services:[],template_spare_services:[],asset_zones:[],errors:[],status:!0,asset_zone_status:!1,asset_zone_status_accessories:!1,asset_type:"",isValid:!0,assets1:[],error_style:{"border-color":"#dc3545","padding-right":"calc(1.5em + 0.812rem)","background-image":"url(\"data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 12 12' width='12' height='12' fill='none' stroke='%23dc3545'%3e%3ccircle cx='6' cy='6' r='4.5'/%3e%3cpath stroke-linejoin='round' d='M5.8 3.6h.4L6 6.5z'/%3e%3ccircle cx='6' cy='8.2' r='.6' fill='%23dc3545' stroke='none'/%3e%3c/svg%3e\")","background-repeat":"no-repeat","background-position":"right calc(0.375em + 0.203rem) center","background-size":"calc(0.75em + 0.406rem) calc(0.75em + 0.406rem)"}}},watch:{assets1(){this.assets1=this.$store.getters.asset_templates},"check.check_id":function(){let e=this,a=e.checks.filter((a=>a.check_id==e.check.check_id));console.log("vm.check.template_check_status",e.check.template_check_status),a.length&&!e.check.template_check_status&&(e.check.lcl=a[0].lcl,e.check.ucl=a[0].ucl,e.check.order=a[0].order,e.check.default_value=a[0].default_value,e.check.field_type=a[0]?.field_type,e.check.field_values=a[0]?.field_values),e.check.template_check_status&&(e.check.field_type=a[0]?.field_type,e.check.field_values=a[0]?.field_values)}},computed:{formattedTemplateServices(){return this.template_services.map((e=>({...e,displayName:`${e.zone_name} - ${e.service_name}`})))},formattedTemplateSpareServices(){return this.template_spare_services.map((e=>({...e,displayName:`${e.zone_name} - ${e.service_name}`})))}},mounted(){document.body.classList.add("sidebar-hide"),this.getAssetTemplate()},methods:{getAssetTemplate(){let e=this;e.$store.dispatch("post",{uri:"getAssetTemplate",data:{asset_template_id:e.asset_template_id}}).then((a=>{e.asset=a.data.data,e.asset_zones=a?.data?.data?.zone_name,e.getAssetAccessories()})).catch((function(a){e.errors=a.response?.data?.errors,e.$store.dispatch("error",a.response?.data?.message)}))},getAssetAccessories(){let e=this;e.accessory_meta_service.asset_template_id=e.asset.asset_template_id,e.accessory_meta_service.asset_type_id=e.asset.asset_type_id;let a=e.$loading.show();e.$store.dispatch("post",{uri:"paginateAssetTemplateAccessories",data:e.accessory_meta_service}).then((t=>{a.hide(),e.accessory_types=t.data.accessory_types,e.asset_accessories=t.data.paginate_accessories,e.accessory_meta_service.totalRows=t.data.meta.total,e.accessory_meta_service.from=t.data.meta.from,e.accessory_meta_service.to=t.data.meta.to,e.accessory_meta_service.lastPage=t.data.meta.last_page,e.accessory_meta_service.maxPage=e.accessory_meta_service.lastPage>=3?3:e.accessory_meta_service.lastPage})).catch((function(t){a.hide(),console.log("errors accessories--",t),e.errors=t.response.data.errors,e.$store.dispatch("error",t.response.data.message)}))},getAttachmentUrl(e){return`${e}`},getAttachmentName(e){return e.split("/").pop()},deleteAccessory(e){const a=confirm("Are you sure you want to delete it ?");if(a){let a=this,t=a.$loading.show();a.$store.dispatch("post",{uri:"deleteAssetTemplateAccessory",data:e}).then((e=>{t.hide(),a.$store.dispatch("success",e.data.message),a.accessory.accessory_id="",a.errors=[],a.getAssetAccessories()})).catch((function(e){t.hide(),a.errors=e.response.data.errors,a.$store.dispatch("error",e.response.data.message)}))}},addAccessory(){let e=this;e.accessory.asset_template_id=e.asset.asset_template_id;let a=e.$loading.show();e.accessory.accessory_template_zones=[],e.accessory.accessory_template_zones_obj.map((function(a){e.accessory.accessory_template_zones.push(a.template_zone_id)}));const t=new FormData;t.append("asset_template_id",e.accessory.asset_template_id),t.append("accessory_type_id",e.accessory.accessory_type_id),t.append("accessory_name",e.accessory.accessory_name),e.accessory.accessory_template_zones.forEach((e=>{t.append("accessory_template_zones[]",e)})),t.append("attachment",e.$refs.attachment.files[0]),Ea.A.post(e.$store.state.apiUrl+"addAssetTemplateAccessory",t,{headers:{"Content-Type":"multipart/form-data",Authorization:"Bearer "+e.$store.getters.token}}).then((t=>{a.hide(),e.$store.dispatch("success",t.data.message),e.accessory.accessory_id="",e.accessory.accessory_name="",e.accessory.accessory_template_zones=[],e.accessory.accessory_type_id="",e.$refs.attachment.value="",e.errors=[],e.asset_zone_status_accessories=!1,e.accessory.accessory_template_zones_obj=[],e.accessory.accessory_zone_read_only=!1,e.getAssetAccessories()})).catch((function(t){a.hide(),e.errors=t.response.data.errors,e.$store.dispatch("error",t.response.data.message)}))},searchAccessory(){let e=this;e.accessory_meta_service.page=1,e.getAssetAccessories()},onPageChange(e,a){"Accessories"==a&&(this.accessory_meta_service.page=e,this.getAssetAccessories())},sort(e,a){"Accessories"==a&&(this.accessory_meta_service.keyword=e,this.accessory_meta_service.order_by="asc"==this.accessory_meta_service.order_by?"desc":"asc",this.getAssetAccessories())},onPerPageChange(e){"Accessories"==e&&(this.accessory_meta_service.page=1,this.getAssetAccessories())}}};const mR=(0,Ze.A)(pR,[["render",_R],["__scopeId","data-v-5028e02c"]]);var bR=mR;const kR={class:"col-12 mb-2"},vR={class:"card card-one"},hR={class:"card-body"},yR={class:"row mb-3 g-2"},gR={class:"col-md-3"},fR={key:0,class:"invalid-feedback",style:{display:"block !important"}},LR={class:"col-md-3"},CR={key:0,class:"invalid-feedback"},wR={class:"col-md-3"},ER={key:0,class:"invalid-feedback"},xR={key:0},XR={class:"form-label"},PR={key:0,class:"text-danger"},$R=["placeholder","onUpdate:modelValue"],SR={key:1,class:"invalid-feedback"},AR={key:1},DR={class:"form-label"},TR={key:0,class:"text-danger"},QR=["placeholder","onUpdate:modelValue"],VR={key:1,class:"invalid-feedback"},FR={key:2},UR={class:"form-label"},jR={key:0,class:"text-danger"},zR=["placeholder","onUpdate:modelValue"],WR={key:0,class:"invalid-feedback"},RR={key:3},qR={class:"form-label"},IR={key:0,class:"text-danger"},NR=["placeholder","onUpdate:modelValue"],MR={key:0,class:"invalid-feedback"},KR={key:4},JR={class:"form-label"},BR={key:0,class:"text-danger"},OR=["onUpdate:modelValue"],HR=["value"],YR=["value"],ZR=["value"],GR={key:1,class:"invalid-feedback"},eq={key:5},aq={class:"form-label"},tq={key:0,class:"text-danger"},sq=["onUpdate:modelValue"],rq={key:0,class:"invalid-feedback"},lq={key:6},iq={class:"form-label"},oq={key:0,class:"text-danger"},dq=["onUpdate:modelValue"],nq=["value"],cq=["value"],uq=["value"],_q=["value"],pq={key:1,class:"invalid-feedback"},mq={key:0,class:"col-md-2 pt-4"},bq={key:1,class:"col-md-2 pt-4"},kq={class:"row g-2"},vq={class:"col-12"},hq={class:"table-responsive table-responsive-sm"},yq={class:"table table-sm text-nowrap table-striped table-bordered mb-0"},gq={class:""},fq={key:0,class:"ri-arrow-up-line"},Lq={key:1,class:"ri-arrow-down-line"},Cq={key:2,class:"fas fa-sort"},wq={key:0,class:"ri-arrow-up-line"},Eq={key:1,class:"ri-arrow-down-line"},xq={key:2,class:"fas fa-sort"},Xq={key:0,class:"ri-arrow-up-line"},Pq={key:1,class:"ri-arrow-down-line"},$q={key:2,class:"fas fa-sort"},Sq={key:0,class:"ri-arrow-up-line"},Aq={key:1,class:"ri-arrow-down-line"},Dq={key:2,class:"fas fa-sort"},Tq={key:0,class:"ri-arrow-up-line"},Qq={key:1,class:"ri-arrow-down-line"},Vq={key:2,class:"fas fa-sort"},Fq={key:0},Uq={class:"text-center"},jq={class:"text-center"},zq=["onClick"],Wq=["onClick"],Rq=["onClick"],qq={class:"card-footer"},Iq={class:"d-flex justify-content-between align-items-center"},Nq={class:"modal fade",id:"exampleModal",tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},Mq={class:"modal-dialog modal-lg"},Kq={class:"modal-content"},Jq={class:"modal-header"},Bq={class:"modal-title",id:"exampleModalLabel"},Oq={class:"modal-body"},Hq={class:"row g-2"},Yq={class:"col-12 mb-2"},Zq={key:0,class:"row g-2"},Gq={key:0},eI={class:"form-label"},aI={key:0,class:"text-danger"},tI=["placeholder","value"],sI={key:1,class:"invalid-feedback"},rI={key:1},lI={class:"form-label"},iI={key:0,class:"text-danger"},oI=["placeholder","value"],dI={key:1,class:"invalid-feedback"},nI={key:2},cI={class:"form-label"},uI={key:0,class:"text-danger"},_I=["placeholder","value"],pI={key:0,class:"invalid-feedback"},mI={key:3},bI={class:"form-label"},kI={key:0,class:"text-danger"},vI=["placeholder","value"],hI={key:0,class:"invalid-feedback"},yI={key:4},gI={class:"form-label"},fI={key:0,class:"text-danger"},LI=["value"],CI=["value"],wI=["value"],EI=["value"],xI={key:1,class:"invalid-feedback"},XI={key:5},PI={class:"form-label"},$I={key:0,class:"text-danger"},SI=["value"],AI={key:0,class:"invalid-feedback"},DI={key:6},TI={class:"form-label"},QI={key:0,class:"text-danger"},VI=["value"],FI=["value"],UI=["value"],jI=["value"],zI={key:1,class:"invalid-feedback"},WI={key:1,class:"row g-2"},RI={key:0},qI={class:"form-label"},II={key:0,class:"text-danger"},NI=["placeholder","value"],MI={key:1,class:"invalid-feedback"},KI={key:1},JI={class:"form-label"},BI={key:0,class:"text-danger"},OI=["placeholder","value"],HI={key:1,class:"invalid-feedback"},YI={key:2},ZI={class:"form-label"},GI={key:0,class:"text-danger"},eN=["placeholder","value"],aN={key:0,class:"invalid-feedback"},tN={key:3},sN={class:"form-label"},rN={key:0,class:"text-danger"},lN=["placeholder","value"],iN={key:0,class:"invalid-feedback"},oN={key:4},dN={class:"form-label"},nN={key:0,class:"text-danger"},cN=["value"],uN=["value"],_N=["value"],pN=["value"],mN={key:1,class:"invalid-feedback"},bN={key:5},kN={class:"form-label"},vN={key:0,class:"text-danger"},hN=["value"],yN={key:0,class:"invalid-feedback"},gN={key:6},fN={class:"form-label"},LN={key:0,class:"text-danger"},CN=["value"],wN=["value"],EN=["value"],xN=["value"],XN={key:1,class:"invalid-feedback"},PN={key:2,class:"row g-2"},$N={key:0},SN={class:"form-label"},AN={key:0,class:"text-danger"},DN=["placeholder","value"],TN={key:1,class:"invalid-feedback"},QN={key:1},VN={class:"form-label"},FN={key:0,class:"text-danger"},UN=["placeholder","value"],jN={key:1,class:"invalid-feedback"},zN={key:2},WN={class:"form-label"},RN={key:0,class:"text-danger"},qN=["placeholder","value"],IN={key:0,class:"invalid-feedback"},NN={key:3},MN={class:"form-label"},KN={key:0,class:"text-danger"},JN=["placeholder","value"],BN={key:0,class:"invalid-feedback"},ON={key:4},HN={class:"form-label"},YN={key:0,class:"text-danger"},ZN=["value"],GN=["value"],eM=["value"],aM=["value"],tM={key:1,class:"invalid-feedback"},sM={key:5},rM={class:"form-label"},lM={key:0,class:"text-danger"},iM=["value"],oM={key:0,class:"invalid-feedback"},dM={key:6},nM={class:"form-label"},cM={key:0,class:"text-danger"},uM=["value"],_M=["value"],pM=["value"],mM=["value"],bM={key:1,class:"invalid-feedback"},kM={key:3,class:"row g-2"},vM={key:0},hM={class:"form-label"},yM={key:0,class:"text-danger"},gM=["placeholder","value"],fM={key:1,class:"invalid-feedback"},LM={key:1},CM={class:"form-label"},wM={key:0,class:"text-danger"},EM=["placeholder","value"],xM={key:1,class:"invalid-feedback"},XM={key:2},PM={class:"form-label"},$M={key:0,class:"text-danger"},SM=["placeholder","value"],AM={key:0,class:"invalid-feedback"},DM={key:3},TM={class:"form-label"},QM={key:0,class:"text-danger"},VM=["placeholder","value"],FM={key:0,class:"invalid-feedback"},UM={key:4},jM={class:"form-label"},zM={key:0,class:"text-danger"},WM=["value"],RM=["value"],qM=["value"],IM=["value"],NM={key:1,class:"invalid-feedback"},MM={key:5},KM={class:"form-label"},JM={key:0,class:"text-danger"},BM=["value"],OM={key:0,class:"invalid-feedback"},HM={key:6},YM={class:"form-label"},ZM={key:0,class:"text-danger"},GM=["value"],eK=["value"],aK=["value"],tK=["value"],sK={key:1,class:"invalid-feedback"};function rK(e,a,t,l,i,o){const d=(0,r.g2)("MultiSelect"),c=(0,r.g2)("search"),u=(0,r.g2)("Pagination"),_=(0,r.gN)("can");return(0,r.uX)(),(0,r.CE)(r.FK,null,[(0,r.bo)(((0,r.uX)(),(0,r.CE)("div",kR,[(0,r.Lk)("div",vR,[a[28]||(a[28]=(0,r.Lk)("div",{class:"card-header d-flex justify-content-between"},[(0,r.Lk)("h6",{class:"card-title"},"Data Sources")],-1)),(0,r.Lk)("div",hR,[(0,r.bo)(((0,r.uX)(),(0,r.CE)("div",yR,[(0,r.Lk)("div",gR,[a[10]||(a[10]=(0,r.Lk)("label",{class:"form-label"},[(0,r.eW)("Template Zone "),(0,r.Lk)("span",{class:"text-danger"}," *")],-1)),(0,r.bF)(d,{modelValue:i.datasource.data_source_template_zones_obj,"onUpdate:modelValue":a[0]||(a[0]=e=>i.datasource.data_source_template_zones_obj=e),filter:"",optionLabel:"zone_name",options:i.asset_zones,placeholder:"Select Template Zone",maxSelectedLabels:3,style:(0,n.Tr)([{width:"100%",height:"37px"},i.errors?.data_source_template_zones?i.error_style:""]),disabled:i.datasource.data_source_zone_read_only},null,8,["modelValue","options","style","disabled"]),i.errors?.data_source_template_zones?((0,r.uX)(),(0,r.CE)("span",fR,(0,n.v_)(i.errors?.data_source_template_zones[0]),1)):(0,r.Q3)("",!0)]),(0,r.Lk)("div",LR,[a[11]||(a[11]=(0,r.Lk)("label",{class:"form-label"},[(0,r.eW)("Data Source "),(0,r.Lk)("span",{class:"text-danger"}," *")],-1)),(0,r.bF)(c,{class:(0,n.C4)([{"is-invalid":i.errors?.data_source_id},"my-auto"]),customClass:{"is-invalid":i.errors?.data_source_id},"aria-describedby":"basic-addon2","aria-label":"Select Data Source",initialize:i.datasource.data_source_id,id:"data_source_id",label:"data_source_name",label2:"data_source_code",placeholder:"Select Data Source",data:e.data_sources,onInput:a[1]||(a[1]=e=>i.datasource.data_source_id=e),onSelectsearch:a[2]||(a[2]=e=>o.getDatasourceAttribute(i.datasource.data_source_id))},null,8,["class","customClass","initialize","data"]),i.errors?.data_source_id?((0,r.uX)(),(0,r.CE)("span",CR,(0,n.v_)(i.errors?.data_source_id[0]),1)):(0,r.Q3)("",!0)]),(0,r.Lk)("div",wR,[a[13]||(a[13]=(0,r.Lk)("label",{class:"form-label"},[(0,r.eW)("Script "),(0,r.Lk)("span",{class:"text-danger"}," *")],-1)),(0,r.bo)((0,r.Lk)("select",{class:(0,n.C4)(["form-control form-control",{"is-invalid":i.errors?.script}]),"onUpdate:modelValue":a[3]||(a[3]=e=>i.datasource.script=e)},a[12]||(a[12]=[(0,r.Lk)("option",{value:""},"Select Script",-1),(0,r.Lk)("option",{value:"Ladle Scanner"},"Ladle Scanner",-1),(0,r.Lk)("option",{value:"Torpedo Scanner"},"Torpedo Scanner",-1)]),2),[[s.u1,i.datasource.script]]),i.errors?.script?((0,r.uX)(),(0,r.CE)("span",ER,(0,n.v_)(i.errors?.script[0]),1)):(0,r.Q3)("",!0)]),((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(i.datasource.asset_datasource_attributes,((e,a)=>((0,r.uX)(),(0,r.CE)("div",{class:"col-md-3",key:a},[e.data_source_attributes.length&&"Text"==e.data_source_attributes[0].field_type?((0,r.uX)(),(0,r.CE)("div",xR,[(0,r.Lk)("label",XR,(0,n.v_)(e.data_source_attributes[0].display_name),1),e.data_source_attributes[0].is_required?((0,r.uX)(),(0,r.CE)("span",PR,"*")):(0,r.Q3)("",!0),(0,r.bo)((0,r.Lk)("input",{type:"text",class:(0,n.C4)(["form-control",{"is-invalid":i.errors[e.data_source_attributes[0].display_name]}]),placeholder:"Enter "+e.data_source_attributes[0].display_name,"onUpdate:modelValue":a=>e.field_value=a},null,10,$R),[[s.Jo,e.field_value]]),i.errors[e.data_source_attributes[0].display_name]?((0,r.uX)(),(0,r.CE)("span",SR,(0,n.v_)(i.errors[e.data_source_attributes[0].display_name][0]),1)):(0,r.Q3)("",!0)])):(0,r.Q3)("",!0),e.data_source_attributes.length&&"Number"==e.data_source_attributes[0].field_type?((0,r.uX)(),(0,r.CE)("div",AR,[(0,r.Lk)("label",DR,(0,n.v_)(e.data_source_attributes[0].display_name),1),e.data_source_attributes[0].is_required?((0,r.uX)(),(0,r.CE)("span",TR,"*")):(0,r.Q3)("",!0),(0,r.bo)((0,r.Lk)("input",{type:"number",class:(0,n.C4)(["form-control",{"is-invalid":i.errors[e.data_source_attributes[0].display_name]}]),min:"0",oninput:"validity.valid||(value='');",placeholder:"Enter "+e.data_source_attributes[0].display_name,"onUpdate:modelValue":a=>e.field_value=a},null,10,QR),[[s.Jo,e.field_value]]),i.errors[e.data_source_attributes[0].display_name]?((0,r.uX)(),(0,r.CE)("span",VR,(0,n.v_)(i.errors[e.data_source_attributes[0].display_name][0]),1)):(0,r.Q3)("",!0)])):(0,r.Q3)("",!0),e.data_source_attributes.length&&"Date"===e.data_source_attributes[0].field_type?((0,r.uX)(),(0,r.CE)("div",FR,[(0,r.Lk)("label",UR,[(0,r.eW)((0,n.v_)(e.data_source_attributes[0].display_name)+" ",1),e.data_source_attributes[0].is_required?((0,r.uX)(),(0,r.CE)("span",jR,"*")):(0,r.Q3)("",!0)]),(0,r.bo)((0,r.Lk)("input",{type:"date",class:(0,n.C4)(["form-control",{"is-invalid":i.errors[e.data_source_attributes[0].display_name]}]),placeholder:"Enter "+e.data_source_attributes[0].display_name,"onUpdate:modelValue":a=>e.field_value=a},null,10,zR),[[s.Jo,e.field_value]]),i.errors[e.data_source_attributes[0].display_name]?((0,r.uX)(),(0,r.CE)("span",WR,(0,n.v_)(i.errors[e.data_source_attributes[0].display_name][0]),1)):(0,r.Q3)("",!0)])):(0,r.Q3)("",!0),e.data_source_attributes.length&&"Date&Time"===e.data_source_attributes[0].field_type?((0,r.uX)(),(0,r.CE)("div",RR,[(0,r.Lk)("label",qR,[(0,r.eW)((0,n.v_)(e.data_source_attributes[0].display_name)+" ",1),e.data_source_attributes[0].is_required?((0,r.uX)(),(0,r.CE)("span",IR,"*")):(0,r.Q3)("",!0)]),(0,r.bo)((0,r.Lk)("input",{type:"datetime-local",class:(0,n.C4)(["form-control",{"is-invalid":i.errors[e.data_source_attributes[0].display_name]}]),placeholder:"Enter "+e.data_source_attributes[0].display_name,"onUpdate:modelValue":a=>e.field_value=a,step:"1"},null,10,NR),[[s.Jo,e.field_value]]),i.errors[e.data_source_attributes[0].display_name]?((0,r.uX)(),(0,r.CE)("span",MR,(0,n.v_)(i.errors[e.data_source_attributes[0].display_name][0]),1)):(0,r.Q3)("",!0)])):(0,r.Q3)("",!0),e.data_source_attributes.length&&"Dropdown"==e.data_source_attributes[0].field_type?((0,r.uX)(),(0,r.CE)("div",KR,[(0,r.Lk)("label",JR,(0,n.v_)(e.data_source_attributes[0].display_name),1),e.data_source_attributes[0].is_required?((0,r.uX)(),(0,r.CE)("span",BR,"*")):(0,r.Q3)("",!0),(0,r.bo)((0,r.Lk)("select",{class:(0,n.C4)(["form-control",{"is-invalid":i.errors[e.data_source_attributes[0].display_name]}]),"onUpdate:modelValue":a=>e.field_value=a},[e.field_value?((0,r.uX)(),(0,r.CE)("option",{key:0,value:e.field_value},(0,n.v_)(e.field_value),9,HR)):((0,r.uX)(),(0,r.CE)("option",{key:1,value:e.field_value},"Select "+(0,n.v_)(e.data_source_attributes[0].display_name),9,YR)),((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(e.data_source_attributes[0].field_values.split(","),((e,a)=>((0,r.uX)(),(0,r.CE)("option",{key:a,value:e},(0,n.v_)(e),9,ZR)))),128))],10,OR),[[s.u1,e.field_value]]),i.errors[e.data_source_attributes[0].display_name]?((0,r.uX)(),(0,r.CE)("span",GR,(0,n.v_)(i.errors[e.data_source_attributes[0].display_name][0]),1)):(0,r.Q3)("",!0)])):(0,r.Q3)("",!0),e.data_source_attributes.length&&"Color"==e.data_source_attributes[0].field_type?((0,r.uX)(),(0,r.CE)("div",eq,[(0,r.Lk)("label",aq,[(0,r.eW)((0,n.v_)(e.data_source_attributes[0].display_name),1),e.data_source_attributes[0].is_required?((0,r.uX)(),(0,r.CE)("span",tq,"*")):(0,r.Q3)("",!0)]),(0,r.bo)((0,r.Lk)("input",{type:"color",class:"form-control","onUpdate:modelValue":a=>e.field_value=a,style:{height:"2.2rem"}},null,8,sq),[[s.Jo,e.field_value]]),i.errors[e.data_source_attributes[0].display_name]?((0,r.uX)(),(0,r.CE)("span",rq,(0,n.v_)(i.errors[e.data_source_attributes[0].display_name][0]),1)):(0,r.Q3)("",!0)])):(0,r.Q3)("",!0),e.data_source_attributes.length&&"List"==e.data_source_attributes[0].field_type?((0,r.uX)(),(0,r.CE)("div",lq,[(0,r.Lk)("label",iq,(0,n.v_)(e.data_source_attributes[0].display_name),1),e.data_source_attributes[0].is_required?((0,r.uX)(),(0,r.CE)("span",oq,"*")):(0,r.Q3)("",!0),(0,r.bo)((0,r.Lk)("select",{class:(0,n.C4)(["form-control",{"is-invalid":i.errors[e.data_source_attributes[0].display_name]}]),"onUpdate:modelValue":a=>e.field_value=a},[e.field_value?((0,r.uX)(),(0,r.CE)("option",{key:0,value:e.field_value},(0,n.v_)(e.field_value),9,nq)):(0,r.Q3)("",!0),e.data_source_attributes[0].data_source_attribute_value?.field_value?((0,r.uX)(),(0,r.CE)("option",{key:1,value:e.data_source_attributes[0].data_source_attribute_value?.field_value},(0,n.v_)(e.data_source_attributes[0].data_source_attribute_value?.field_value),9,cq)):((0,r.uX)(),(0,r.CE)("option",{key:2,value:e.data_source_attributes[0].data_source_attribute_value?.field_value},"Select "+(0,n.v_)(e.data_source_attributes[0].display_name),9,uq)),((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(e.data_source_attributes[0].list_parameter?.field_values.split(","),((e,a)=>((0,r.uX)(),(0,r.CE)("option",{key:a,value:e.trim()},(0,n.v_)(e.trim()),9,_q)))),128))],10,dq),[[s.u1,e.field_value]]),i.errors[e.data_source_attributes[0].display_name]?((0,r.uX)(),(0,r.CE)("span",pq,(0,n.v_)(i.errors[e.data_source_attributes[0].display_name][0]),1)):(0,r.Q3)("",!0)])):(0,r.Q3)("",!0)])))),128)),i.datasource.asset_template_datasource_id?((0,r.uX)(),(0,r.CE)("div",mq,[(0,r.bo)(((0,r.uX)(),(0,r.CE)("button",{class:"btn btn-outline-success me-2",onClick:a[4]||(a[4]=e=>o.updateDataSource())},a[14]||(a[14]=[(0,r.Lk)("i",{class:"ri-add-circle-line icon-hgt"},null,-1),(0,r.eW)(" Update")]))),[[_,"asset_template_data_sources.update"]])])):((0,r.uX)(),(0,r.CE)("div",bq,[(0,r.bo)(((0,r.uX)(),(0,r.CE)("button",{class:"btn btn-outline-success me-2",onClick:a[5]||(a[5]=e=>o.addDataSource())},a[15]||(a[15]=[(0,r.Lk)("i",{class:"ri-add-circle-line icon-hgt"},null,-1),(0,r.eW)(" Add")]))),[[_,"asset_template_data_sources.create"]])]))])),[[_,["asset_template_data_sources.create","asset_template_data_sources.update"]]]),(0,r.bo)((0,r.Lk)("input",{class:"form-control form-control-sm mb-2",type:"text",placeholder:"Type keyword and press enter key","onUpdate:modelValue":a[6]||(a[6]=e=>i.datasource_meta_service.search=e),onKeypress:a[7]||(a[7]=(0,s.jR)((e=>o.searchDataSource()),["enter"]))},null,544),[[s.Jo,i.datasource_meta_service.search]]),(0,r.Lk)("div",kq,[(0,r.Lk)("div",vq,[(0,r.Lk)("div",hq,[(0,r.Lk)("table",yq,[(0,r.Lk)("thead",null,[(0,r.Lk)("tr",gq,[a[21]||(a[21]=(0,r.Lk)("th",{class:"text-center"},"#",-1)),(0,r.Lk)("th",null,[a[16]||(a[16]=(0,r.eW)(" Template Zone ")),(0,r.Lk)("span",null,["template_zone_id"==i.datasource_meta_service.keyword&&"asc"==i.datasource_meta_service.order_by?((0,r.uX)(),(0,r.CE)("i",fq)):"template_zone_id"==i.datasource_meta_service.keyword&&"desc"==i.datasource_meta_service.order_by?((0,r.uX)(),(0,r.CE)("i",Lq)):((0,r.uX)(),(0,r.CE)("i",Cq))])]),(0,r.Lk)("th",null,[a[17]||(a[17]=(0,r.eW)(" Data Source Type ")),(0,r.Lk)("span",null,["data_source_type_id"==i.datasource_meta_service.keyword&&"asc"==i.datasource_meta_service.order_by?((0,r.uX)(),(0,r.CE)("i",wq)):"data_source_type_id"==i.datasource_meta_service.keyword&&"desc"==i.datasource_meta_service.order_by?((0,r.uX)(),(0,r.CE)("i",Eq)):((0,r.uX)(),(0,r.CE)("i",xq))])]),(0,r.Lk)("th",null,[a[18]||(a[18]=(0,r.eW)(" Data Source Code ")),(0,r.Lk)("span",null,["data_source_code"==i.datasource_meta_service.keyword&&"asc"==i.datasource_meta_service.order_by?((0,r.uX)(),(0,r.CE)("i",Xq)):"data_source_code"==i.datasource_meta_service.keyword&&"desc"==i.datasource_meta_service.order_by?((0,r.uX)(),(0,r.CE)("i",Pq)):((0,r.uX)(),(0,r.CE)("i",$q))])]),(0,r.Lk)("th",null,[a[19]||(a[19]=(0,r.eW)(" Data Source Name ")),(0,r.Lk)("span",null,["data_source_name"==i.datasource_meta_service.keyword&&"asc"==i.datasource_meta_service.order_by?((0,r.uX)(),(0,r.CE)("i",Sq)):"data_source_name"==i.datasource_meta_service.keyword&&"desc"==i.datasource_meta_service.order_by?((0,r.uX)(),(0,r.CE)("i",Aq)):((0,r.uX)(),(0,r.CE)("i",Dq))])]),(0,r.Lk)("th",null,[a[20]||(a[20]=(0,r.eW)(" Script ")),(0,r.Lk)("span",null,["script"==i.datasource_meta_service.keyword&&"asc"==i.datasource_meta_service.order_by?((0,r.uX)(),(0,r.CE)("i",Tq)):"script"==i.datasource_meta_service.keyword&&"desc"==i.datasource_meta_service.order_by?((0,r.uX)(),(0,r.CE)("i",Qq)):((0,r.uX)(),(0,r.CE)("i",Vq))])]),a[22]||(a[22]=(0,r.Lk)("th",{class:"text-center"},"Actions",-1))])]),(0,r.Lk)("tbody",null,[0==i.asset_data_sources.length?((0,r.uX)(),(0,r.CE)("tr",Fq,a[23]||(a[23]=[(0,r.Lk)("td",{colspan:"7",class:"text-center"},"No records found",-1)]))):(0,r.Q3)("",!0),((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(i.asset_data_sources,((e,t)=>((0,r.uX)(),(0,r.CE)("tr",{key:t},[(0,r.Lk)("td",Uq,(0,n.v_)((i.datasource_meta_service.page-1)*i.datasource_meta_service.per_page+t+1),1),(0,r.Lk)("td",null,(0,n.v_)(e.asset_zone?.zone_name),1),(0,r.Lk)("td",null,(0,n.v_)(e.data_source?.data_source_type?.data_source_type_name),1),(0,r.Lk)("td",null,(0,n.v_)(e?.data_source?.data_source_code),1),(0,r.Lk)("td",null,(0,n.v_)(e?.data_source?.data_source_name),1),(0,r.Lk)("td",null,(0,n.v_)(e?.script),1),(0,r.Lk)("td",jq,[(0,r.bo)(((0,r.uX)(),(0,r.CE)("a",{href:"javascript:void(0)",class:"text-success me-2",onClick:a=>o.editDataSource(e)},a[24]||(a[24]=[(0,r.Lk)("i",{class:"ri-pencil-line fs-18 lh-1"},null,-1)]),8,zq)),[[_,"asset_template_data_sources.update"]]),(0,r.Lk)("a",{href:"javascript:void(0)",class:"text-primary me-2","data-bs-toggle":"modal","data-bs-target":"#exampleModal",onClick:(0,s.D$)((a=>o.viewAsset(e,"Data Sources")),["prevent"])},a[25]||(a[25]=[(0,r.Lk)("i",{class:"ri-eye-fill fs-18 lh-1"},null,-1)]),8,Wq),(0,r.bo)(((0,r.uX)(),(0,r.CE)("a",{href:"javascript:void(0)",class:"text-danger me-2",onClick:a=>o.deleteDataSource(e)},a[26]||(a[26]=[(0,r.Lk)("i",{class:"ri-delete-bin-6-line fs-18 lh-1"},null,-1)]),8,Rq)),[[_,"asset_template_data_sources.delete"]])])])))),128))])])])])])]),(0,r.Lk)("div",qq,[(0,r.Lk)("div",Iq,[(0,r.bo)((0,r.Lk)("select",{class:"form-select from-select-sm width-75","onUpdate:modelValue":a[8]||(a[8]=e=>i.datasource_meta_service.per_page=e),onChange:a[9]||(a[9]=e=>o.onPerPageChange("Data Sources"))},a[27]||(a[27]=[(0,r.Lk)("option",null,"5",-1),(0,r.Lk)("option",null,"10",-1),(0,r.Lk)("option",null,"15",-1),(0,r.Lk)("option",null,"20",-1),(0,r.Lk)("option",null,"25",-1),(0,r.Lk)("option",null,"30",-1)]),544),[[s.u1,i.datasource_meta_service.per_page]]),(0,r.Lk)("span",null,"Showing "+(0,n.v_)(i.datasource_meta_service.from)+" to "+(0,n.v_)(i.datasource_meta_service.to)+" of "+(0,n.v_)(i.datasource_meta_service.totalRows)+" entries",1),(0,r.bF)(u,{maxPage:i.datasource_meta_service.maxPage,totalPages:i.datasource_meta_service.lastPage,currentPage:i.datasource_meta_service.page,onPagechanged:o.onPageChange,from:"Data Sources"},null,8,["maxPage","totalPages","currentPage","onPagechanged"])])])])])),[[_,"asset_template_data_sources.view"]]),(0,r.Lk)("div",Nq,[(0,r.Lk)("div",Mq,[(0,r.Lk)("div",Kq,[(0,r.Lk)("div",Jq,[(0,r.Lk)("h5",Bq,(0,n.v_)(i.asset_type),1),a[29]||(a[29]=(0,r.Lk)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1))]),(0,r.Lk)("div",Oq,[(0,r.Lk)("div",Hq,[(0,r.Lk)("div",Yq,["Spares"==i.asset_type?((0,r.uX)(),(0,r.CE)("div",Zq,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(i.assets1?.asset_spare_attributes,((e,a)=>((0,r.uX)(),(0,r.CE)("div",{class:"col-md-4",key:a},[e.spare_attributes.length&&"Text"==e.spare_attributes[0].field_type?((0,r.uX)(),(0,r.CE)("div",Gq,[(0,r.Lk)("label",eI,(0,n.v_)(e.spare_attributes[0].display_name),1),e.spare_attributes[0].is_required?((0,r.uX)(),(0,r.CE)("span",aI,"*")):(0,r.Q3)("",!0),(0,r.Lk)("input",{type:"text",class:(0,n.C4)(["form-control",{"is-invalid":i.errors[e.spare_attributes[0].display_name]}]),placeholder:"Enter "+e.spare_attributes[0].display_name,value:e.field_value,disabled:"true"},null,10,tI),i.errors[e.spare_attributes[0].display_name]?((0,r.uX)(),(0,r.CE)("span",sI,(0,n.v_)(i.errors[e.spare_attributes[0].display_name][0]),1)):(0,r.Q3)("",!0)])):(0,r.Q3)("",!0),e.spare_attributes.length&&"Number"==e.spare_attributes[0].field_type?((0,r.uX)(),(0,r.CE)("div",rI,[(0,r.Lk)("label",lI,(0,n.v_)(e.spare_attributes[0].display_name),1),e.spare_attributes[0].is_required?((0,r.uX)(),(0,r.CE)("span",iI,"*")):(0,r.Q3)("",!0),(0,r.Lk)("input",{type:"number",class:(0,n.C4)(["form-control",{"is-invalid":i.errors[e.spare_attributes[0].display_name]}]),min:"0",oninput:"validity.valid||(value='');",placeholder:"Enter "+e.spare_attributes[0].display_name,value:e.field_value,disabled:"true"},null,10,oI),i.errors[e.spare_attributes[0].display_name]?((0,r.uX)(),(0,r.CE)("span",dI,(0,n.v_)(i.errors[e.spare_attributes[0].display_name][0]),1)):(0,r.Q3)("",!0)])):(0,r.Q3)("",!0),e.spare_attributes.length&&"Date"===e.spare_attributes[0].field_type?((0,r.uX)(),(0,r.CE)("div",nI,[(0,r.Lk)("label",cI,[(0,r.eW)((0,n.v_)(e.spare_attributes[0].display_name)+" ",1),e.spare_attributes[0].is_required?((0,r.uX)(),(0,r.CE)("span",uI,"*")):(0,r.Q3)("",!0)]),(0,r.Lk)("input",{type:"date",class:(0,n.C4)(["form-control",{"is-invalid":i.errors[e.spare_attributes[0].display_name]}]),placeholder:"Enter "+e.spare_attributes[0].display_name,value:e.field_value,disabled:"true"},null,10,_I),i.errors[e.spare_attributes[0].display_name]?((0,r.uX)(),(0,r.CE)("span",pI,(0,n.v_)(i.errors[e.spare_attributes[0].display_name][0]),1)):(0,r.Q3)("",!0)])):(0,r.Q3)("",!0),e.spare_attributes.length&&"Date&Time"===e.spare_attributes[0].field_type?((0,r.uX)(),(0,r.CE)("div",mI,[(0,r.Lk)("label",bI,[(0,r.eW)((0,n.v_)(e.spare_attributes[0].display_name)+" ",1),e.spare_attributes[0].is_required?((0,r.uX)(),(0,r.CE)("span",kI,"*")):(0,r.Q3)("",!0)]),(0,r.Lk)("input",{type:"datetime-local",class:(0,n.C4)(["form-control",{"is-invalid":i.errors[e.spare_attributes[0].display_name]}]),placeholder:"Enter "+e.spare_attributes[0].display_name,value:e.field_value,step:"1",disabled:"true"},null,10,vI),i.errors[e.spare_attributes[0].display_name]?((0,r.uX)(),(0,r.CE)("span",hI,(0,n.v_)(i.errors[e.spare_attributes[0].display_name][0]),1)):(0,r.Q3)("",!0)])):(0,r.Q3)("",!0),e.spare_attributes.length&&"Dropdown"==e.spare_attributes[0].field_type?((0,r.uX)(),(0,r.CE)("div",yI,[(0,r.Lk)("label",gI,(0,n.v_)(e.spare_attributes[0].display_name),1),e.spare_attributes[0].is_required?((0,r.uX)(),(0,r.CE)("span",fI,"*")):(0,r.Q3)("",!0),(0,r.Lk)("select",{class:(0,n.C4)(["form-control",{"is-invalid":i.errors[e.spare_attributes[0].display_name]}]),value:e.field_value,disabled:"true"},[e.field_value?((0,r.uX)(),(0,r.CE)("option",{key:0,value:e.field_value},(0,n.v_)(e.field_value),9,CI)):((0,r.uX)(),(0,r.CE)("option",{key:1,value:e.field_value},"Select "+(0,n.v_)(e.spare_attributes[0].display_name),9,wI)),((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(e.spare_attributes[0].field_values.split(","),((e,a)=>((0,r.uX)(),(0,r.CE)("option",{key:a,value:e},(0,n.v_)(e),9,EI)))),128))],10,LI),i.errors[e.spare_attributes[0].display_name]?((0,r.uX)(),(0,r.CE)("span",xI,(0,n.v_)(i.errors[e.spare_attributes[0].display_name][0]),1)):(0,r.Q3)("",!0)])):(0,r.Q3)("",!0),e.spare_attributes.length&&"Color"==e.spare_attributes[0].field_type?((0,r.uX)(),(0,r.CE)("div",XI,[(0,r.Lk)("label",PI,[(0,r.eW)((0,n.v_)(e.spare_attributes[0].display_name),1),e.spare_attributes[0].is_required?((0,r.uX)(),(0,r.CE)("span",$I,"*")):(0,r.Q3)("",!0)]),(0,r.Lk)("input",{type:"color",class:"form-control",value:e.field_value,style:{height:"2.2rem"},disabled:"true"},null,8,SI),i.errors[e.spare_attributes[0].display_name]?((0,r.uX)(),(0,r.CE)("span",AI,(0,n.v_)(i.errors[e.spare_attributes[0].display_name][0]),1)):(0,r.Q3)("",!0)])):(0,r.Q3)("",!0),e.spare_attributes.length&&"List"==e.spare_attributes[0].field_type?((0,r.uX)(),(0,r.CE)("div",DI,[(0,r.Lk)("label",TI,(0,n.v_)(e.spare_attributes[0].display_name),1),e.spare_attributes[0].is_required?((0,r.uX)(),(0,r.CE)("span",QI,"*")):(0,r.Q3)("",!0),(0,r.Lk)("select",{class:(0,n.C4)(["form-control",{"is-invalid":i.errors[e.spare_attributes[0].display_name]}]),value:e.field_value,disabled:"true"},[e.spare_attributes[0].spare_attribute_value.field_value?((0,r.uX)(),(0,r.CE)("option",{key:0,value:e.spare_attributes[0].spare_attribute_value.field_value},(0,n.v_)(e.spare_attributes[0].spare_attribute_value.field_value),9,FI)):((0,r.uX)(),(0,r.CE)("option",{key:1,value:e.spare_attributes[0].spare_attribute_value.field_value},"Select "+(0,n.v_)(e.spare_attributes[0].display_name),9,UI)),((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(e.spare_attributes[0].list_parameter?.field_values.split(","),((e,a)=>((0,r.uX)(),(0,r.CE)("option",{key:a,value:e},(0,n.v_)(e),9,jI)))),128))],10,VI),i.errors[e.spare_attributes[0].display_name]?((0,r.uX)(),(0,r.CE)("span",zI,(0,n.v_)(i.errors[e.spare_attributes[0].display_name][0]),1)):(0,r.Q3)("",!0)])):(0,r.Q3)("",!0)])))),128))])):(0,r.Q3)("",!0),"Services"==i.asset_type?((0,r.uX)(),(0,r.CE)("div",WI,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(i.assets1?.asset_service_attributes,((e,a)=>((0,r.uX)(),(0,r.CE)("div",{class:"col-md-4",key:a},[e.service_attributes.length&&"Text"==e.service_attributes[0].field_type?((0,r.uX)(),(0,r.CE)("div",RI,[(0,r.Lk)("label",qI,(0,n.v_)(e.service_attributes[0].display_name),1),e.service_attributes[0].is_required?((0,r.uX)(),(0,r.CE)("span",II,"*")):(0,r.Q3)("",!0),(0,r.Lk)("input",{type:"text",class:(0,n.C4)(["form-control",{"is-invalid":i.errors[e.service_attributes[0].display_name]}]),placeholder:"Enter "+e.service_attributes[0].display_name,value:e.field_value,disabled:"true"},null,10,NI),i.errors[e.service_attributes[0].display_name]?((0,r.uX)(),(0,r.CE)("span",MI,(0,n.v_)(i.errors[e.service_attributes[0].display_name][0]),1)):(0,r.Q3)("",!0)])):(0,r.Q3)("",!0),e.service_attributes.length&&"Number"==e.service_attributes[0].field_type?((0,r.uX)(),(0,r.CE)("div",KI,[(0,r.Lk)("label",JI,(0,n.v_)(e.service_attributes[0].display_name),1),e.service_attributes[0].is_required?((0,r.uX)(),(0,r.CE)("span",BI,"*")):(0,r.Q3)("",!0),(0,r.Lk)("input",{type:"number",class:(0,n.C4)(["form-control",{"is-invalid":i.errors[e.service_attributes[0].display_name]}]),min:"0",oninput:"validity.valid||(value='');",placeholder:"Enter "+e.service_attributes[0].display_name,value:e.field_value,disabled:"true"},null,10,OI),i.errors[e.service_attributes[0].display_name]?((0,r.uX)(),(0,r.CE)("span",HI,(0,n.v_)(i.errors[e.service_attributes[0].display_name][0]),1)):(0,r.Q3)("",!0)])):(0,r.Q3)("",!0),e.service_attributes.length&&"Date"===e.service_attributes[0].field_type?((0,r.uX)(),(0,r.CE)("div",YI,[(0,r.Lk)("label",ZI,[(0,r.eW)((0,n.v_)(e.service_attributes[0].display_name)+" ",1),e.service_attributes[0].is_required?((0,r.uX)(),(0,r.CE)("span",GI,"*")):(0,r.Q3)("",!0)]),(0,r.Lk)("input",{type:"date",class:(0,n.C4)(["form-control",{"is-invalid":i.errors[e.service_attributes[0].display_name]}]),placeholder:"Enter "+e.service_attributes[0].display_name,value:e.field_value,disabled:"true"},null,10,eN),i.errors[e.service_attributes[0].display_name]?((0,r.uX)(),(0,r.CE)("span",aN,(0,n.v_)(i.errors[e.service_attributes[0].display_name][0]),1)):(0,r.Q3)("",!0)])):(0,r.Q3)("",!0),e.service_attributes.length&&"Date&Time"===e.service_attributes[0].field_type?((0,r.uX)(),(0,r.CE)("div",tN,[(0,r.Lk)("label",sN,[(0,r.eW)((0,n.v_)(e.service_attributes[0].display_name)+" ",1),e.service_attributes[0].is_required?((0,r.uX)(),(0,r.CE)("span",rN,"*")):(0,r.Q3)("",!0)]),(0,r.Lk)("input",{type:"datetime-local",class:(0,n.C4)(["form-control",{"is-invalid":i.errors[e.service_attributes[0].display_name]}]),placeholder:"Enter "+e.service_attributes[0].display_name,value:e.field_value,step:"1",disabled:"true"},null,10,lN),i.errors[e.service_attributes[0].display_name]?((0,r.uX)(),(0,r.CE)("span",iN,(0,n.v_)(i.errors[e.service_attributes[0].display_name][0]),1)):(0,r.Q3)("",!0)])):(0,r.Q3)("",!0),e.service_attributes.length&&"Dropdown"==e.service_attributes[0].field_type?((0,r.uX)(),(0,r.CE)("div",oN,[(0,r.Lk)("label",dN,(0,n.v_)(e.service_attributes[0].display_name),1),e.service_attributes[0].is_required?((0,r.uX)(),(0,r.CE)("span",nN,"*")):(0,r.Q3)("",!0),(0,r.Lk)("select",{class:(0,n.C4)(["form-control",{"is-invalid":i.errors[e.service_attributes[0].display_name]}]),value:e.field_value,disabled:"true"},[e.field_value?((0,r.uX)(),(0,r.CE)("option",{key:0,value:e.field_value},(0,n.v_)(e.field_value),9,uN)):((0,r.uX)(),(0,r.CE)("option",{key:1,value:e.field_value},"Select "+(0,n.v_)(e.service_attributes[0].display_name),9,_N)),((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(e.service_attributes[0].field_values.split(","),((e,a)=>((0,r.uX)(),(0,r.CE)("option",{key:a,value:e},(0,n.v_)(e),9,pN)))),128))],10,cN),i.errors[e.service_attributes[0].display_name]?((0,r.uX)(),(0,r.CE)("span",mN,(0,n.v_)(i.errors[e.service_attributes[0].display_name][0]),1)):(0,r.Q3)("",!0)])):(0,r.Q3)("",!0),e.service_attributes.length&&"Color"==e.service_attributes[0].field_type?((0,r.uX)(),(0,r.CE)("div",bN,[(0,r.Lk)("label",kN,[(0,r.eW)((0,n.v_)(e.service_attributes[0].display_name),1),e.service_attributes[0].is_required?((0,r.uX)(),(0,r.CE)("span",vN,"*")):(0,r.Q3)("",!0)]),(0,r.Lk)("input",{type:"color",class:"form-control",value:e.field_value,style:{height:"2.2rem"},disabled:"true"},null,8,hN),i.errors[e.service_attributes[0].display_name]?((0,r.uX)(),(0,r.CE)("span",yN,(0,n.v_)(i.errors[e.service_attributes[0].display_name][0]),1)):(0,r.Q3)("",!0)])):(0,r.Q3)("",!0),e.service_attributes.length&&"List"==e.service_attributes[0].field_type?((0,r.uX)(),(0,r.CE)("div",gN,[(0,r.Lk)("label",fN,(0,n.v_)(e.service_attributes[0].display_name),1),e.service_attributes[0].is_required?((0,r.uX)(),(0,r.CE)("span",LN,"*")):(0,r.Q3)("",!0),(0,r.Lk)("select",{class:(0,n.C4)(["form-control",{"is-invalid":i.errors[e.service_attributes[0].display_name]}]),value:e.field_value,disabled:"true"},[e.service_attributes[0].service_attribute_value?.field_value?((0,r.uX)(),(0,r.CE)("option",{key:0,value:e.service_attributes[0].service_attribute_value?.field_value},(0,n.v_)(e.service_attributes[0].service_attribute_value?.field_value),9,wN)):((0,r.uX)(),(0,r.CE)("option",{key:1,value:e.service_attributes[0].service_attribute_value?.field_value},"Select "+(0,n.v_)(e.service_attributes[0].display_name),9,EN)),((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(e.service_attributes[0].list_parameter?.field_values.split(","),((e,a)=>((0,r.uX)(),(0,r.CE)("option",{key:a,value:e.trim()},(0,n.v_)(e.trim()),9,xN)))),128))],10,CN),i.errors[e.service_attributes[0].display_name]?((0,r.uX)(),(0,r.CE)("span",XN,(0,n.v_)(i.errors[e.service_attributes[0].display_name][0]),1)):(0,r.Q3)("",!0)])):(0,r.Q3)("",!0)])))),128))])):(0,r.Q3)("",!0),"Variables"==i.asset_type?((0,r.uX)(),(0,r.CE)("div",PN,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(i.assets1?.asset_variable_attributes,((e,a)=>((0,r.uX)(),(0,r.CE)("div",{class:"col-md-4",key:a},[e.variable_attributes.length&&"Text"==e.variable_attributes[0].field_type?((0,r.uX)(),(0,r.CE)("div",$N,[(0,r.Lk)("label",SN,(0,n.v_)(e.variable_attributes[0].display_name),1),e.variable_attributes[0].is_required?((0,r.uX)(),(0,r.CE)("span",AN,"*")):(0,r.Q3)("",!0),(0,r.Lk)("input",{type:"text",class:(0,n.C4)(["form-control",{"is-invalid":i.errors[e.variable_attributes[0].display_name]}]),placeholder:"Enter "+e.variable_attributes[0].display_name,value:e.field_value,disabled:"true"},null,10,DN),i.errors[e.variable_attributes[0].display_name]?((0,r.uX)(),(0,r.CE)("span",TN,(0,n.v_)(i.errors[e.variable_attributes[0].display_name][0]),1)):(0,r.Q3)("",!0)])):(0,r.Q3)("",!0),e.variable_attributes.length&&"Number"==e.variable_attributes[0].field_type?((0,r.uX)(),(0,r.CE)("div",QN,[(0,r.Lk)("label",VN,(0,n.v_)(e.variable_attributes[0].display_name),1),e.variable_attributes[0].is_required?((0,r.uX)(),(0,r.CE)("span",FN,"*")):(0,r.Q3)("",!0),(0,r.Lk)("input",{type:"number",class:(0,n.C4)(["form-control",{"is-invalid":i.errors[e.variable_attributes[0].display_name]}]),min:"0",oninput:"validity.valid||(value='');",placeholder:"Enter "+e.variable_attributes[0].display_name,value:e.field_value,disabled:"true"},null,10,UN),i.errors[e.variable_attributes[0].display_name]?((0,r.uX)(),(0,r.CE)("span",jN,(0,n.v_)(i.errors[e.variable_attributes[0].display_name][0]),1)):(0,r.Q3)("",!0)])):(0,r.Q3)("",!0),e.variable_attributes.length&&"Date"===e.variable_attributes[0].field_type?((0,r.uX)(),(0,r.CE)("div",zN,[(0,r.Lk)("label",WN,[(0,r.eW)((0,n.v_)(e.variable_attributes[0].display_name)+" ",1),e.variable_attributes[0].is_required?((0,r.uX)(),(0,r.CE)("span",RN,"*")):(0,r.Q3)("",!0)]),(0,r.Lk)("input",{type:"date",class:(0,n.C4)(["form-control",{"is-invalid":i.errors[e.variable_attributes[0].display_name]}]),placeholder:"Enter "+e.variable_attributes[0].display_name,value:e.field_value,disabled:"true"},null,10,qN),i.errors[e.variable_attributes[0].display_name]?((0,r.uX)(),(0,r.CE)("span",IN,(0,n.v_)(i.errors[e.variable_attributes[0].display_name][0]),1)):(0,r.Q3)("",!0)])):(0,r.Q3)("",!0),e.variable_attributes.length&&"Date&Time"===e.variable_attributes[0].field_type?((0,r.uX)(),(0,r.CE)("div",NN,[(0,r.Lk)("label",MN,[(0,r.eW)((0,n.v_)(e.variable_attributes[0].display_name)+" ",1),e.variable_attributes[0].is_required?((0,r.uX)(),(0,r.CE)("span",KN,"*")):(0,r.Q3)("",!0)]),(0,r.Lk)("input",{type:"datetime-local",class:(0,n.C4)(["form-control",{"is-invalid":i.errors[e.variable_attributes[0].display_name]}]),placeholder:"Enter "+e.variable_attributes[0].display_name,value:e.field_value,step:"1",disabled:"true"},null,10,JN),i.errors[e.variable_attributes[0].display_name]?((0,r.uX)(),(0,r.CE)("span",BN,(0,n.v_)(i.errors[e.variable_attributes[0].display_name][0]),1)):(0,r.Q3)("",!0)])):(0,r.Q3)("",!0),e.variable_attributes.length&&"Dropdown"==e.variable_attributes[0].field_type?((0,r.uX)(),(0,r.CE)("div",ON,[(0,r.Lk)("label",HN,(0,n.v_)(e.variable_attributes[0].display_name),1),e.variable_attributes[0].is_required?((0,r.uX)(),(0,r.CE)("span",YN,"*")):(0,r.Q3)("",!0),(0,r.Lk)("select",{class:(0,n.C4)(["form-control",{"is-invalid":i.errors[e.variable_attributes[0].display_name]}]),value:e.field_value,disabled:"true"},[e.field_value?((0,r.uX)(),(0,r.CE)("option",{key:0,value:e.field_value},(0,n.v_)(e.field_value),9,GN)):((0,r.uX)(),(0,r.CE)("option",{key:1,value:e.field_value},"Select "+(0,n.v_)(e.variable_attributes[0].display_name),9,eM)),((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(e.variable_attributes[0].field_values.split(","),((e,a)=>((0,r.uX)(),(0,r.CE)("option",{key:a,value:e},(0,n.v_)(e),9,aM)))),128))],10,ZN),i.errors[e.variable_attributes[0].display_name]?((0,r.uX)(),(0,r.CE)("span",tM,(0,n.v_)(i.errors[e.variable_attributes[0].display_name][0]),1)):(0,r.Q3)("",!0)])):(0,r.Q3)("",!0),e.variable_attributes.length&&"Color"==e.variable_attributes[0].field_type?((0,r.uX)(),(0,r.CE)("div",sM,[(0,r.Lk)("label",rM,[(0,r.eW)((0,n.v_)(e.variable_attributes[0].display_name),1),e.variable_attributes[0].is_required?((0,r.uX)(),(0,r.CE)("span",lM,"*")):(0,r.Q3)("",!0)]),(0,r.Lk)("input",{type:"color",class:"form-control",value:e.field_value,style:{height:"2.2rem"},disabled:"true"},null,8,iM),i.errors[e.variable_attributes[0].display_name]?((0,r.uX)(),(0,r.CE)("span",oM,(0,n.v_)(i.errors[e.variable_attributes[0].display_name][0]),1)):(0,r.Q3)("",!0)])):(0,r.Q3)("",!0),e.variable_attributes.length&&"List"==e.variable_attributes[0].field_type?((0,r.uX)(),(0,r.CE)("div",dM,[(0,r.Lk)("label",nM,(0,n.v_)(e.variable_attributes[0].display_name),1),e.variable_attributes[0].is_required?((0,r.uX)(),(0,r.CE)("span",cM,"*")):(0,r.Q3)("",!0),(0,r.Lk)("select",{class:(0,n.C4)(["form-control",{"is-invalid":i.errors[e.variable_attributes[0].display_name]}]),value:e.field_value,disabled:"true"},[e.variable_attributes[0].variable_attribute_value?.field_value?((0,r.uX)(),(0,r.CE)("option",{key:0,value:e.variable_attributes[0].variable_attribute_value?.field_value},(0,n.v_)(e.variable_attributes[0].variable_attribute_value?.field_value),9,_M)):((0,r.uX)(),(0,r.CE)("option",{key:1,value:e.variable_attributes[0].variable_attribute_value?.field_value},"Select "+(0,n.v_)(e.variable_attributes[0].display_name),9,pM)),((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(e.variable_attributes[0].list_parameter?.field_values.split(","),((e,a)=>((0,r.uX)(),(0,r.CE)("option",{key:a,value:e.trim()},(0,n.v_)(e.trim()),9,mM)))),128))],10,uM),i.errors[e.variable_attributes[0].display_name]?((0,r.uX)(),(0,r.CE)("span",bM,(0,n.v_)(i.errors[e.variable_attributes[0].display_name][0]),1)):(0,r.Q3)("",!0)])):(0,r.Q3)("",!0)])))),128))])):(0,r.Q3)("",!0),"Data Sources"==i.asset_type?((0,r.uX)(),(0,r.CE)("div",kM,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(i.assets1?.asset_datasource_attributes,((e,a)=>((0,r.uX)(),(0,r.CE)("div",{class:"col-md-4",key:a},[e.data_source_attributes.length&&"Text"==e.data_source_attributes[0].field_type?((0,r.uX)(),(0,r.CE)("div",vM,[(0,r.Lk)("label",hM,(0,n.v_)(e.data_source_attributes[0].display_name),1),e.data_source_attributes[0].is_required?((0,r.uX)(),(0,r.CE)("span",yM,"*")):(0,r.Q3)("",!0),(0,r.Lk)("input",{type:"text",class:(0,n.C4)(["form-control",{"is-invalid":i.errors[e.data_source_attributes[0].display_name]}]),placeholder:"Enter "+e.data_source_attributes[0].display_name,value:e.field_value,disabled:"true"},null,10,gM),i.errors[e.data_source_attributes[0].display_name]?((0,r.uX)(),(0,r.CE)("span",fM,(0,n.v_)(i.errors[e.data_source_attributes[0].display_name][0]),1)):(0,r.Q3)("",!0)])):(0,r.Q3)("",!0),e.data_source_attributes.length&&"Number"==e.data_source_attributes[0].field_type?((0,r.uX)(),(0,r.CE)("div",LM,[(0,r.Lk)("label",CM,(0,n.v_)(e.data_source_attributes[0].display_name),1),e.data_source_attributes[0].is_required?((0,r.uX)(),(0,r.CE)("span",wM,"*")):(0,r.Q3)("",!0),(0,r.Lk)("input",{type:"number",class:(0,n.C4)(["form-control",{"is-invalid":i.errors[e.data_source_attributes[0].display_name]}]),min:"0",oninput:"validity.valid||(value='');",placeholder:"Enter "+e.data_source_attributes[0].display_name,value:e.field_value,disabled:"true"},null,10,EM),i.errors[e.data_source_attributes[0].display_name]?((0,r.uX)(),(0,r.CE)("span",xM,(0,n.v_)(i.errors[e.data_source_attributes[0].display_name][0]),1)):(0,r.Q3)("",!0)])):(0,r.Q3)("",!0),e.data_source_attributes.length&&"Date"===e.data_source_attributes[0].field_type?((0,r.uX)(),(0,r.CE)("div",XM,[(0,r.Lk)("label",PM,[(0,r.eW)((0,n.v_)(e.data_source_attributes[0].display_name)+" ",1),e.data_source_attributes[0].is_required?((0,r.uX)(),(0,r.CE)("span",$M,"*")):(0,r.Q3)("",!0)]),(0,r.Lk)("input",{type:"date",class:(0,n.C4)(["form-control",{"is-invalid":i.errors[e.data_source_attributes[0].display_name]}]),placeholder:"Enter "+e.data_source_attributes[0].display_name,value:e.field_value,disabled:"true"},null,10,SM),i.errors[e.data_source_attributes[0].display_name]?((0,r.uX)(),(0,r.CE)("span",AM,(0,n.v_)(i.errors[e.data_source_attributes[0].display_name][0]),1)):(0,r.Q3)("",!0)])):(0,r.Q3)("",!0),e.data_source_attributes.length&&"Date&Time"===e.data_source_attributes[0].field_type?((0,r.uX)(),(0,r.CE)("div",DM,[(0,r.Lk)("label",TM,[(0,r.eW)((0,n.v_)(e.data_source_attributes[0].display_name)+" ",1),e.data_source_attributes[0].is_required?((0,r.uX)(),(0,r.CE)("span",QM,"*")):(0,r.Q3)("",!0)]),(0,r.Lk)("input",{type:"datetime-local",class:(0,n.C4)(["form-control",{"is-invalid":i.errors[e.data_source_attributes[0].display_name]}]),placeholder:"Enter "+e.data_source_attributes[0].display_name,value:e.field_value,step:"1",disabled:"true"},null,10,VM),i.errors[e.data_source_attributes[0].display_name]?((0,r.uX)(),(0,r.CE)("span",FM,(0,n.v_)(i.errors[e.data_source_attributes[0].display_name][0]),1)):(0,r.Q3)("",!0)])):(0,r.Q3)("",!0),e.data_source_attributes.length&&"Dropdown"==e.data_source_attributes[0].field_type?((0,r.uX)(),(0,r.CE)("div",UM,[(0,r.Lk)("label",jM,(0,n.v_)(e.data_source_attributes[0].display_name),1),e.data_source_attributes[0].is_required?((0,r.uX)(),(0,r.CE)("span",zM,"*")):(0,r.Q3)("",!0),(0,r.Lk)("select",{class:(0,n.C4)(["form-control",{"is-invalid":i.errors[e.data_source_attributes[0].display_name]}]),value:e.field_value,disabled:"true"},[e.field_value?((0,r.uX)(),(0,r.CE)("option",{key:0,value:e.field_value},(0,n.v_)(e.field_value),9,RM)):((0,r.uX)(),(0,r.CE)("option",{key:1,value:e.field_value},"Select "+(0,n.v_)(e.data_source_attributes[0].display_name),9,qM)),((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(e.data_source_attributes[0].field_values.split(","),((e,a)=>((0,r.uX)(),(0,r.CE)("option",{key:a,value:e},(0,n.v_)(e),9,IM)))),128))],10,WM),i.errors[e.data_source_attributes[0].display_name]?((0,r.uX)(),(0,r.CE)("span",NM,(0,n.v_)(i.errors[e.data_source_attributes[0].display_name][0]),1)):(0,r.Q3)("",!0)])):(0,r.Q3)("",!0),e.data_source_attributes.length&&"Color"==e.data_source_attributes[0].field_type?((0,r.uX)(),(0,r.CE)("div",MM,[(0,r.Lk)("label",KM,[(0,r.eW)((0,n.v_)(e.data_source_attributes[0].display_name),1),e.data_source_attributes[0].is_required?((0,r.uX)(),(0,r.CE)("span",JM,"*")):(0,r.Q3)("",!0)]),(0,r.Lk)("input",{type:"color",class:"form-control",value:e.field_value,style:{height:"2.2rem"},disabled:"true"},null,8,BM),i.errors[e.data_source_attributes[0].display_name]?((0,r.uX)(),(0,r.CE)("span",OM,(0,n.v_)(i.errors[e.data_source_attributes[0].display_name][0]),1)):(0,r.Q3)("",!0)])):(0,r.Q3)("",!0),e.data_source_attributes.length&&"List"==e.data_source_attributes[0].field_type?((0,r.uX)(),(0,r.CE)("div",HM,[(0,r.Lk)("label",YM,(0,n.v_)(e.data_source_attributes[0].display_name),1),e.data_source_attributes[0].is_required?((0,r.uX)(),(0,r.CE)("span",ZM,"*")):(0,r.Q3)("",!0),(0,r.Lk)("select",{class:(0,n.C4)(["form-control",{"is-invalid":i.errors[e.data_source_attributes[0].display_name]}]),value:e.field_value,disabled:"true"},[e.data_source_attributes[0].data_source_attribute_value?.field_value?((0,r.uX)(),(0,r.CE)("option",{key:0,value:e.data_source_attributes[0].data_source_attribute_value?.field_value},(0,n.v_)(e.data_source_attributes[0].data_source_attribute_value?.field_value),9,eK)):((0,r.uX)(),(0,r.CE)("option",{key:1,value:e.data_source_attributes[0].data_source_attribute_value?.field_value},"Select "+(0,n.v_)(e.data_source_attributes[0].display_name),9,aK)),((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(e.data_source_attributes[0].list_parameter?.field_values.split(","),((e,a)=>((0,r.uX)(),(0,r.CE)("option",{key:a,value:e.trim()},(0,n.v_)(e.trim()),9,tK)))),128))],10,GM),i.errors[e.data_source_attributes[0].display_name]?((0,r.uX)(),(0,r.CE)("span",sK,(0,n.v_)(i.errors[e.data_source_attributes[0].display_name][0]),1)):(0,r.Q3)("",!0)])):(0,r.Q3)("",!0)])))),128))])):(0,r.Q3)("",!0)])])])])])])],64)}var lK={name:"AssetTemplates.View",components:{Search:It.A,Pagination:md,MultiSelect:Ru.A},props:{asset_template_id:{type:Number,required:!0}},data(){return{datasource_meta_service:{search:"",order_by:"desc",keyword:"data_source_id",per_page:10,totalRows:0,page:1,lastPage:1,from:1,to:1,maxPage:1,trashed:!1,asset_template_id:"",asset_type_id:""},asset:{asset_template_id:"",plant_id:"",template_code:"",template_name:"",asset_type_id:"",section_id:"",serial_no:"",status:"",QR_Code:""},datasource:{data_source_id:"",data_source_code:"",data_source_name:"",asset_template_id:"",template_zone_id:"",data_source_template_zones_obj:[],data_source_template_zones:[],asset_template_datasource_id:"",script:"",asset_datasource_attributes:[],initial_data_source_id:"",initial_asset_datasource_attributes:[],deleted_asset_datasource_values:[],data_source_zone_read_only:!1},asset_spares:[],checks:[],asset_data_sources:[],template_services:[],template_spare_services:[],asset_zones:[],errors:[],status:!0,asset_zone_status:!1,asset_zone_status_datasources:!1,asset_type:"",isValid:!0,assets1:[],error_style:{"border-color":"#dc3545","padding-right":"calc(1.5em + 0.812rem)","background-image":"url(\"data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 12 12' width='12' height='12' fill='none' stroke='%23dc3545'%3e%3ccircle cx='6' cy='6' r='4.5'/%3e%3cpath stroke-linejoin='round' d='M5.8 3.6h.4L6 6.5z'/%3e%3ccircle cx='6' cy='8.2' r='.6' fill='%23dc3545' stroke='none'/%3e%3c/svg%3e\")","background-repeat":"no-repeat","background-position":"right calc(0.375em + 0.203rem) center","background-size":"calc(0.75em + 0.406rem) calc(0.75em + 0.406rem)"}}},watch:{assets1(){this.assets1=this.$store.getters.asset_templates},"check.check_id":function(){let e=this,a=e.checks.filter((a=>a.check_id==e.check.check_id));console.log("vm.check.template_check_status",e.check.template_check_status),a.length&&!e.check.template_check_status&&(e.check.lcl=a[0].lcl,e.check.ucl=a[0].ucl,e.check.order=a[0].order,e.check.default_value=a[0].default_value,e.check.field_type=a[0]?.field_type,e.check.field_values=a[0]?.field_values),e.check.template_check_status&&(e.check.field_type=a[0]?.field_type,e.check.field_values=a[0]?.field_values)}},computed:{formattedTemplateServices(){return this.template_services.map((e=>({...e,displayName:`${e.zone_name} - ${e.service_name}`})))},formattedTemplateSpareServices(){return this.template_spare_services.map((e=>({...e,displayName:`${e.zone_name} - ${e.service_name}`})))}},mounted(){document.body.classList.add("sidebar-hide"),this.getAssetTemplate()},methods:{getAssetTemplate(){let e=this;e.$store.dispatch("post",{uri:"getAssetTemplate",data:{asset_template_id:e.asset_template_id}}).then((a=>{e.asset=a.data.data,e.asset_zones=a?.data?.data?.zone_name,e.getAssetDataSources()})).catch((function(a){e.errors=a.response?.data?.errors,e.$store.dispatch("error",a.response?.data?.message)}))},getAssetDataSources(){let e=this,a=e.$loading.show();e.datasource_meta_service.asset_template_id=e.asset.asset_template_id,e.datasource_meta_service.asset_type_id=e.asset.asset_type_id,e.$store.dispatch("post",{uri:"paginateAssetTemplateDataSources",data:e.datasource_meta_service}).then((t=>{a.hide(),e.data_sources=t.data.data_sources,e.asset_data_sources=t.data.paginate_data_sources,e.datasource_meta_service.totalRows=t.data.meta.total,e.datasource_meta_service.from=t.data.meta.from,e.datasource_meta_service.to=t.data.meta.to,e.datasource_meta_service.lastPage=t.data?.meta?.last_page,e.datasource_meta_service.maxPage=e.datasource_meta_service.lastPage>=3?3:e.datasource_meta_service.lastPage})).catch((function(t){a.hide(),e.errors=t.response?.data?.errors,e.$store.dispatch("error",t.response.data.message)}))},editDataSource(e){this.datasource.data_source_id=e.data_source_id,this.datasource.asset_template_id=e.asset_template_id,this.datasource.asset_template_datasource_id=e.asset_template_datasource_id,this.datasource.data_source_code=e.data_source_code,this.datasource.data_source_name=e.data_source_name,this.datasource.data_source_template_zones=[],this.datasource.data_source_template_zones.push(e.template_zone_id),this.datasource.template_zone_id=e.template_zone_id,this.datasource.script=e.script,this.datasource.asset_datasource_attributes=e.asset_datasource_attributes,this.datasource.initial_data_source_id=e.data_source_id,this.datasource.initial_asset_datasource_attributes=e.asset_datasource_attributes,this.datasource.data_source_template_zones_obj=[],this.datasource.data_source_template_zones_obj.push({asset_template_id:e.asset_zone.asset_template_id,template_zone_id:e.asset_zone.template_zone_id,zone_name:e.asset_zone.zone_name,diameter:e.asset_zone.diameter,height:e.asset_zone.height,asset_spares:e.asset_zone.asset_spares}),this.datasource.data_source_zone_read_only=!0},validateFields(e){if(this.isValid=!0,this.errors={},"Data Sources"==e)for(const a of Object.values(this.datasource.asset_datasource_attributes))a.data_source_attributes.length&&a.data_source_attributes[0].is_required&&!a.field_value&&("Color"===a.data_source_attributes[0].field_type?a.field_value="#000000":(this.errors[a.data_source_attributes[0].display_name]=[`${a.data_source_attributes[0].display_name} is required`],this.isValid=!1))},addDataSource(){let e=this;e.datasource.asset_template_id=e.asset.asset_template_id,e.datasource.data_source_template_zones=[],e.datasource.data_source_template_zones_obj.map((function(a){e.datasource.data_source_template_zones.push(a.template_zone_id)}));let a=e.$loading.show();e.validateFields("Data Sources"),e.isValid?e.$store.dispatch("post",{uri:"addAssetTemplateDataSource",data:e.datasource}).then((t=>{a.hide(),e.$store.dispatch("success",t.data.message),e.datasource.data_source_id="",e.errors=[],e.datasource.template_zone_id="",e.datasource.data_source_template_zones=[],e.datasource.script="",e.datasource.asset_datasource_attributes=[],e.datasource.initial_data_source_id="",e.datasource.initial_asset_datasource_attributes=[],e.datasource.deleted_asset_datasource_values=[],e.asset_zone_status_datasources=!1,e.datasource.data_source_template_zones_obj=[],e.datasource.data_source_zone_read_only=!1,e.getAssetDataSources()})).catch((function(t){a.hide(),e.errors=t.response.data.errors,e.$store.dispatch("error",t.response.data.message)})):a.hide()},updateDataSource(){let e=this,a=e.$loading.show();if(e.validateFields("Data Sources"),!e.isValid)return void a.hide();e.datasource.data_source_id!=e.datasource.initial_data_source_id&&e.datasource.initial_asset_datasource_attributes.map((function(a){e.datasource.deleted_asset_datasource_values.push(a.template_datasource_value_id)}));let t={uri:"updateAssetTemplateDataSource",data:e.datasource};e.$store.dispatch("post",t).then((function(t){a.hide(),e.$store.dispatch("success",t.data.message),e.datasource.data_source_id="",e.datasource.template_zone_id="",e.datasource.asset_template_datasource_id="",e.datasource.data_source_template_zones=[],e.datasource.script="",e.datasource.asset_datasource_attributes=[],e.datasource.initial_data_source_id="",e.datasource.initial_asset_datasource_attributes=[],e.datasource.deleted_asset_datasource_values=[],e.asset_zone_status_datasources=!1,e.datasource.data_source_template_zones_obj=[],e.datasource.data_source_zone_read_only=!1,e.getAssetDataSources()})).catch((function(t){a.hide(),e.errors=t.response?.data?.errors,e.$store.dispatch("error",t?.response?.data?.message)}))},deleteDataSource(e){const a=confirm("Are you sure you want to delete it ?");if(a){let a=this,t=a.$loading.show();a.$store.dispatch("post",{uri:"deleteAssetTemplateDataSource",data:e}).then((e=>{t.hide(),a.$store.dispatch("success",e.data.message),a.datasource.data_source_id="",a.errors=[],a.getAssetDataSources()})).catch((function(e){t.hide(),a.errors=e.response.data.errors,a.$store.dispatch("error",e.response.data.message)}))}},searchDataSource(){let e=this;e.datasource_meta_service.page=1,e.getAssetDataSources()},onPageChange(e,a){"Data Sources"==a&&(this.datasource_meta_service.page=e,this.getAssetDataSources())},sort(e,a){"Data Sources"==a&&(this.datasource_meta_service.keyword=e,this.datasource_meta_service.order_by="asc"==this.datasource_meta_service.order_by?"desc":"asc",this.getAssetDataSources())},onPerPageChange(e){"Data Sources"==e&&(this.datasource_meta_service.page=1,this.getAssetDataSources())},getDatasourceAttribute(e){let a=this,t=a.$loading.show();a.datasource.asset_datasource_attributes=[],a.$store.dispatch("post",{uri:"assetDataSourceAttributeValues",data:{data_source_id:e}}).then((e=>{t.hide(),a.datasource.asset_datasource_attributes=e.data.data})).catch((function(e){t.hide(),a.errors=e.response.data.errors,a.$store.dispatch("error",e.response.data.message)}))},viewAsset(e,a){this.$store.commit("setAssetTemplates",e),this.asset_type=a,this.assets1=this.$store.getters.asset_templates}}};const iK=(0,Ze.A)(lK,[["render",rK],["__scopeId","data-v-c106f93e"]]);var oK=iK;const dK={class:"col-12 mb-2"},nK={class:"card card-one"},cK={class:"card-body"},uK={class:"row mb-3 g-2"},_K={class:"col-md-4"},pK={key:0,class:"invalid-feedback",style:{display:"block !important"}},mK={class:"col-md-4"},bK={key:0,class:"invalid-feedback"},kK={key:0},vK={class:"form-label"},hK={key:0,class:"text-danger"},yK=["placeholder","onUpdate:modelValue"],gK={key:1,class:"invalid-feedback"},fK={key:1},LK={class:"form-label"},CK={key:0,class:"text-danger"},wK=["placeholder","onUpdate:modelValue"],EK={key:1,class:"invalid-feedback"},xK={key:2},XK={class:"form-label"},PK={key:0,class:"text-danger"},$K=["placeholder","onUpdate:modelValue"],SK={key:0,class:"invalid-feedback"},AK={key:3},DK={class:"form-label"},TK={key:0,class:"text-danger"},QK=["placeholder","onUpdate:modelValue"],VK={key:0,class:"invalid-feedback"},FK={key:4},UK={class:"form-label"},jK={key:0,class:"text-danger"},zK=["onUpdate:modelValue"],WK=["value"],RK=["value"],qK=["value"],IK={key:1,class:"invalid-feedback"},NK={key:5},MK={class:"form-label"},KK={key:0,class:"text-danger"},JK=["onUpdate:modelValue"],BK={key:0,class:"invalid-feedback"},OK={key:6},HK={class:"form-label"},YK={key:0,class:"text-danger"},ZK=["onUpdate:modelValue"],GK=["value"],eJ=["value"],aJ=["value"],tJ=["value"],sJ={key:1,class:"invalid-feedback"},rJ={key:0,class:"col-md-2 pt-4"},lJ={key:1,class:"col-md-2 pt-4"},iJ={class:"row g-2"},oJ={class:"col-12"},dJ={class:"table-responsive table-responsive-sm"},nJ={class:"table table-sm text-nowrap table-striped table-bordered mb-0"},cJ={class:""},uJ={key:0,class:"ri-arrow-up-line"},_J={key:1,class:"ri-arrow-down-line"},pJ={key:2,class:"fas fa-sort"},mJ={key:0,class:"ri-arrow-up-line"},bJ={key:1,class:"ri-arrow-down-line"},kJ={key:2,class:"fas fa-sort"},vJ={key:0,class:"ri-arrow-up-line"},hJ={key:1,class:"ri-arrow-down-line"},yJ={key:2,class:"fas fa-sort"},gJ={key:0,class:"ri-arrow-up-line"},fJ={key:1,class:"ri-arrow-down-line"},LJ={key:2,class:"fas fa-sort"},CJ={key:0},wJ={class:"text-center"},EJ={class:"text-center"},xJ=["onClick"],XJ=["onClick"],PJ=["onClick"],$J={class:"card-footer"},SJ={class:"d-flex justify-content-between align-items-center"},AJ={class:"modal fade",id:"exampleModal",tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},DJ={class:"modal-dialog modal-lg"},TJ={class:"modal-content"},QJ={class:"modal-header"},VJ={class:"modal-title",id:"exampleModalLabel"},FJ={class:"modal-body"},UJ={class:"row g-2"},jJ={class:"col-12 mb-2"},zJ={key:0,class:"row g-2"},WJ={key:0},RJ={class:"form-label"},qJ={key:0,class:"text-danger"},IJ=["placeholder","value"],NJ={key:1,class:"invalid-feedback"},MJ={key:1},KJ={class:"form-label"},JJ={key:0,class:"text-danger"},BJ=["placeholder","value"],OJ={key:1,class:"invalid-feedback"},HJ={key:2},YJ={class:"form-label"},ZJ={key:0,class:"text-danger"},GJ=["placeholder","value"],eB={key:0,class:"invalid-feedback"},aB={key:3},tB={class:"form-label"},sB={key:0,class:"text-danger"},rB=["placeholder","value"],lB={key:0,class:"invalid-feedback"},iB={key:4},oB={class:"form-label"},dB={key:0,class:"text-danger"},nB=["value"],cB=["value"],uB=["value"],_B=["value"],pB={key:1,class:"invalid-feedback"},mB={key:5},bB={class:"form-label"},kB={key:0,class:"text-danger"},vB=["value"],hB={key:0,class:"invalid-feedback"},yB={key:6},gB={class:"form-label"},fB={key:0,class:"text-danger"},LB=["value"],CB=["value"],wB=["value"],EB=["value"],xB={key:1,class:"invalid-feedback"};function XB(e,a,t,l,i,o){const d=(0,r.g2)("MultiSelect"),c=(0,r.g2)("search"),u=(0,r.g2)("Pagination"),_=(0,r.gN)("can");return(0,r.uX)(),(0,r.CE)(r.FK,null,[(0,r.bo)(((0,r.uX)(),(0,r.CE)("div",dK,[(0,r.Lk)("div",nK,[a[24]||(a[24]=(0,r.Lk)("div",{class:"card-header d-flex justify-content-between"},[(0,r.Lk)("h6",{class:"card-title"},"Variables")],-1)),(0,r.Lk)("div",cK,[(0,r.bo)(((0,r.uX)(),(0,r.CE)("div",uK,[(0,r.Lk)("div",_K,[a[9]||(a[9]=(0,r.Lk)("label",{class:"form-label"},[(0,r.eW)("Template Zone "),(0,r.Lk)("span",{class:"text-danger"}," *")],-1)),(0,r.bF)(d,{modelValue:i.variable.variable_template_zones_obj,"onUpdate:modelValue":a[0]||(a[0]=e=>i.variable.variable_template_zones_obj=e),filter:"",optionLabel:"zone_name",options:i.asset_zones,placeholder:"Select Template Zone",maxSelectedLabels:3,style:(0,n.Tr)([{width:"100%",height:"37px"},i.errors?.variable_template_zones?i.error_style:""]),disabled:i.variable.variable_zone_read_only},null,8,["modelValue","options","style","disabled"]),i.errors?.variable_template_zones?((0,r.uX)(),(0,r.CE)("span",pK,(0,n.v_)(i.errors?.variable_template_zones[0]),1)):(0,r.Q3)("",!0)]),(0,r.Lk)("div",mK,[a[10]||(a[10]=(0,r.Lk)("label",{class:"form-label"},[(0,r.eW)("Variable "),(0,r.Lk)("span",{class:"text-danger"}," *")],-1)),(0,r.bF)(c,{class:(0,n.C4)([{"is-invalid":i.errors?.variable_id},"my-auto"]),customClass:{"is-invalid":i.errors?.variable_id},"aria-describedby":"basic-addon2","aria-label":"Select Variable",initialize:i.variable.variable_id,id:"variable_id",label:"variable_name",label2:"variable_code",placeholder:"Select Variable",data:e.variables,onInput:a[1]||(a[1]=e=>i.variable.variable_id=e),onSelectsearch:a[2]||(a[2]=e=>o.getVariableAttribute(i.variable.variable_id))},null,8,["class","customClass","initialize","data"]),i.errors?.variable_id?((0,r.uX)(),(0,r.CE)("span",bK,(0,n.v_)(i.errors?.variable_id[0]),1)):(0,r.Q3)("",!0)]),((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(i.variable.asset_variable_attributes,((e,a)=>((0,r.uX)(),(0,r.CE)("div",{class:"col-md-3",key:a},[e.variable_attributes.length&&"Text"==e.variable_attributes[0].field_type?((0,r.uX)(),(0,r.CE)("div",kK,[(0,r.Lk)("label",vK,(0,n.v_)(e.variable_attributes[0].display_name),1),e.variable_attributes[0].is_required?((0,r.uX)(),(0,r.CE)("span",hK,"*")):(0,r.Q3)("",!0),(0,r.bo)((0,r.Lk)("input",{type:"text",class:(0,n.C4)(["form-control",{"is-invalid":i.errors[e.variable_attributes[0].display_name]}]),placeholder:"Enter "+e.variable_attributes[0].display_name,"onUpdate:modelValue":a=>e.field_value=a},null,10,yK),[[s.Jo,e.field_value]]),i.errors[e.variable_attributes[0].display_name]?((0,r.uX)(),(0,r.CE)("span",gK,(0,n.v_)(i.errors[e.variable_attributes[0].display_name][0]),1)):(0,r.Q3)("",!0)])):(0,r.Q3)("",!0),e.variable_attributes.length&&"Number"==e.variable_attributes[0].field_type?((0,r.uX)(),(0,r.CE)("div",fK,[(0,r.Lk)("label",LK,(0,n.v_)(e.variable_attributes[0].display_name),1),e.variable_attributes[0].is_required?((0,r.uX)(),(0,r.CE)("span",CK,"*")):(0,r.Q3)("",!0),(0,r.bo)((0,r.Lk)("input",{type:"number",class:(0,n.C4)(["form-control",{"is-invalid":i.errors[e.variable_attributes[0].display_name]}]),min:"0",oninput:"validity.valid||(value='');",placeholder:"Enter "+e.variable_attributes[0].display_name,"onUpdate:modelValue":a=>e.field_value=a},null,10,wK),[[s.Jo,e.field_value]]),i.errors[e.variable_attributes[0].display_name]?((0,r.uX)(),(0,r.CE)("span",EK,(0,n.v_)(i.errors[e.variable_attributes[0].display_name][0]),1)):(0,r.Q3)("",!0)])):(0,r.Q3)("",!0),e.variable_attributes.length&&"Date"===e.variable_attributes[0].field_type?((0,r.uX)(),(0,r.CE)("div",xK,[(0,r.Lk)("label",XK,[(0,r.eW)((0,n.v_)(e.variable_attributes[0].display_name)+" ",1),e.variable_attributes[0].is_required?((0,r.uX)(),(0,r.CE)("span",PK,"*")):(0,r.Q3)("",!0)]),(0,r.bo)((0,r.Lk)("input",{type:"date",class:(0,n.C4)(["form-control",{"is-invalid":i.errors[e.variable_attributes[0].display_name]}]),placeholder:"Enter "+e.variable_attributes[0].display_name,"onUpdate:modelValue":a=>e.field_value=a},null,10,$K),[[s.Jo,e.field_value]]),i.errors[e.variable_attributes[0].display_name]?((0,r.uX)(),(0,r.CE)("span",SK,(0,n.v_)(i.errors[e.variable_attributes[0].display_name][0]),1)):(0,r.Q3)("",!0)])):(0,r.Q3)("",!0),e.variable_attributes.length&&"Date&Time"===e.variable_attributes[0].field_type?((0,r.uX)(),(0,r.CE)("div",AK,[(0,r.Lk)("label",DK,[(0,r.eW)((0,n.v_)(e.variable_attributes[0].display_name)+" ",1),e.variable_attributes[0].is_required?((0,r.uX)(),(0,r.CE)("span",TK,"*")):(0,r.Q3)("",!0)]),(0,r.bo)((0,r.Lk)("input",{type:"datetime-local",class:(0,n.C4)(["form-control",{"is-invalid":i.errors[e.variable_attributes[0].display_name]}]),placeholder:"Enter "+e.variable_attributes[0].display_name,"onUpdate:modelValue":a=>e.field_value=a,step:"1"},null,10,QK),[[s.Jo,e.field_value]]),i.errors[e.variable_attributes[0].display_name]?((0,r.uX)(),(0,r.CE)("span",VK,(0,n.v_)(i.errors[e.variable_attributes[0].display_name][0]),1)):(0,r.Q3)("",!0)])):(0,r.Q3)("",!0),e.variable_attributes.length&&"Dropdown"==e.variable_attributes[0].field_type?((0,r.uX)(),(0,r.CE)("div",FK,[(0,r.Lk)("label",UK,(0,n.v_)(e.variable_attributes[0].display_name),1),e.variable_attributes[0].is_required?((0,r.uX)(),(0,r.CE)("span",jK,"*")):(0,r.Q3)("",!0),(0,r.bo)((0,r.Lk)("select",{class:(0,n.C4)(["form-control",{"is-invalid":i.errors[e.variable_attributes[0].display_name]}]),"onUpdate:modelValue":a=>e.field_value=a},[e.field_value?((0,r.uX)(),(0,r.CE)("option",{key:0,value:e.field_value},(0,n.v_)(e.field_value),9,WK)):((0,r.uX)(),(0,r.CE)("option",{key:1,value:e.field_value},"Select "+(0,n.v_)(e.variable_attributes[0].display_name),9,RK)),((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(e.variable_attributes[0].field_values.split(","),((e,a)=>((0,r.uX)(),(0,r.CE)("option",{key:a,value:e},(0,n.v_)(e),9,qK)))),128))],10,zK),[[s.u1,e.field_value]]),i.errors[e.variable_attributes[0].display_name]?((0,r.uX)(),(0,r.CE)("span",IK,(0,n.v_)(i.errors[e.variable_attributes[0].display_name][0]),1)):(0,r.Q3)("",!0)])):(0,r.Q3)("",!0),e.variable_attributes.length&&"Color"==e.variable_attributes[0].field_type?((0,r.uX)(),(0,r.CE)("div",NK,[(0,r.Lk)("label",MK,[(0,r.eW)((0,n.v_)(e.variable_attributes[0].display_name),1),e.variable_attributes[0].is_required?((0,r.uX)(),(0,r.CE)("span",KK,"*")):(0,r.Q3)("",!0)]),(0,r.bo)((0,r.Lk)("input",{type:"color",class:"form-control","onUpdate:modelValue":a=>e.field_value=a,style:{height:"2.2rem"}},null,8,JK),[[s.Jo,e.field_value]]),i.errors[e.variable_attributes[0].display_name]?((0,r.uX)(),(0,r.CE)("span",BK,(0,n.v_)(i.errors[e.variable_attributes[0].display_name][0]),1)):(0,r.Q3)("",!0)])):(0,r.Q3)("",!0),e.variable_attributes.length&&"List"==e.variable_attributes[0].field_type?((0,r.uX)(),(0,r.CE)("div",OK,[(0,r.Lk)("label",HK,(0,n.v_)(e.variable_attributes[0].display_name),1),e.variable_attributes[0].is_required?((0,r.uX)(),(0,r.CE)("span",YK,"*")):(0,r.Q3)("",!0),(0,r.bo)((0,r.Lk)("select",{class:(0,n.C4)(["form-control",{"is-invalid":i.errors[e.variable_attributes[0].display_name]}]),"onUpdate:modelValue":a=>e.field_value=a},[e.field_value?((0,r.uX)(),(0,r.CE)("option",{key:0,value:e.field_value},(0,n.v_)(e.field_value),9,GK)):(0,r.Q3)("",!0),e.variable_attributes[0].variable_attribute_value?.field_value?((0,r.uX)(),(0,r.CE)("option",{key:1,value:e.variable_attributes[0].variable_attribute_value?.field_value},(0,n.v_)(e.variable_attributes[0].variable_attribute_value?.field_value),9,eJ)):((0,r.uX)(),(0,r.CE)("option",{key:2,value:e.variable_attributes[0].variable_attribute_value?.field_value},"Select "+(0,n.v_)(e.variable_attributes[0].display_name),9,aJ)),((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(e.variable_attributes[0].list_parameter?.field_values.split(","),((e,a)=>((0,r.uX)(),(0,r.CE)("option",{key:a,value:e.trim()},(0,n.v_)(e.trim()),9,tJ)))),128))],10,ZK),[[s.u1,e.field_value]]),i.errors[e.variable_attributes[0].display_name]?((0,r.uX)(),(0,r.CE)("span",sJ,(0,n.v_)(i.errors[e.variable_attributes[0].display_name][0]),1)):(0,r.Q3)("",!0)])):(0,r.Q3)("",!0)])))),128)),i.variable.asset_template_variable_id?((0,r.uX)(),(0,r.CE)("div",rJ,[(0,r.bo)(((0,r.uX)(),(0,r.CE)("button",{class:"btn btn-outline-success me-2",onClick:a[3]||(a[3]=e=>o.updateVariable())},a[11]||(a[11]=[(0,r.Lk)("i",{class:"ri-add-circle-line icon-hgt"},null,-1),(0,r.eW)(" Update")]))),[[_,"asset_template_Variables.update"]])])):((0,r.uX)(),(0,r.CE)("div",lJ,[(0,r.bo)(((0,r.uX)(),(0,r.CE)("button",{class:"btn btn-outline-success me-2",onClick:a[4]||(a[4]=e=>o.addVariable())},a[12]||(a[12]=[(0,r.Lk)("i",{class:"ri-add-circle-line icon-hgt"},null,-1),(0,r.eW)(" Add")]))),[[_,"asset_template_Variables.create"]])]))])),[[_,["asset_template_Variables.create","asset_template_Variables.update"]]]),(0,r.bo)((0,r.Lk)("input",{class:"form-control form-control-sm mb-2",type:"text",placeholder:"Type keyword and press enter key","onUpdate:modelValue":a[5]||(a[5]=e=>i.variable_meta_service.search=e),onKeypress:a[6]||(a[6]=(0,s.jR)((e=>o.searchVariable()),["enter"]))},null,544),[[s.Jo,i.variable_meta_service.search]]),(0,r.Lk)("div",iJ,[(0,r.Lk)("div",oJ,[(0,r.Lk)("div",dJ,[(0,r.Lk)("table",nJ,[(0,r.Lk)("thead",null,[(0,r.Lk)("tr",cJ,[a[17]||(a[17]=(0,r.Lk)("th",{class:"text-center"},"#",-1)),(0,r.Lk)("th",null,[a[13]||(a[13]=(0,r.eW)(" Template Zone ")),(0,r.Lk)("span",null,["template_zone_id"==i.variable_meta_service.keyword&&"asc"==i.variable_meta_service.order_by?((0,r.uX)(),(0,r.CE)("i",uJ)):"template_zone_id"==i.variable_meta_service.keyword&&"desc"==i.variable_meta_service.order_by?((0,r.uX)(),(0,r.CE)("i",_J)):((0,r.uX)(),(0,r.CE)("i",pJ))])]),(0,r.Lk)("th",null,[a[14]||(a[14]=(0,r.eW)(" Variable Type ")),(0,r.Lk)("span",null,["variable_type_id"==i.variable_meta_service.keyword&&"asc"==i.variable_meta_service.order_by?((0,r.uX)(),(0,r.CE)("i",mJ)):"variable_type_id"==i.variable_meta_service.keyword&&"desc"==i.variable_meta_service.order_by?((0,r.uX)(),(0,r.CE)("i",bJ)):((0,r.uX)(),(0,r.CE)("i",kJ))])]),(0,r.Lk)("th",null,[a[15]||(a[15]=(0,r.eW)(" Variable Code ")),(0,r.Lk)("span",null,["variable_code"==i.variable_meta_service.keyword&&"asc"==i.variable_meta_service.order_by?((0,r.uX)(),(0,r.CE)("i",vJ)):"variable_code"==i.variable_meta_service.keyword&&"desc"==i.variable_meta_service.order_by?((0,r.uX)(),(0,r.CE)("i",hJ)):((0,r.uX)(),(0,r.CE)("i",yJ))])]),(0,r.Lk)("th",null,[a[16]||(a[16]=(0,r.eW)(" Variable Name ")),(0,r.Lk)("span",null,["variable_name"==i.variable_meta_service.keyword&&"asc"==i.variable_meta_service.order_by?((0,r.uX)(),(0,r.CE)("i",gJ)):"variable_name"==i.variable_meta_service.keyword&&"desc"==i.variable_meta_service.order_by?((0,r.uX)(),(0,r.CE)("i",fJ)):((0,r.uX)(),(0,r.CE)("i",LJ))])]),a[18]||(a[18]=(0,r.Lk)("th",{class:"text-center"},"Actions",-1))])]),(0,r.Lk)("tbody",null,[0==i.asset_variables?.length?((0,r.uX)(),(0,r.CE)("tr",CJ,a[19]||(a[19]=[(0,r.Lk)("td",{colspan:"6",class:"text-center"},"No records found",-1)]))):(0,r.Q3)("",!0),((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(i.asset_variables,((e,t)=>((0,r.uX)(),(0,r.CE)("tr",{key:t},[(0,r.Lk)("td",wJ,(0,n.v_)((i.variable_meta_service.page-1)*i.variable_meta_service.per_page+t+1),1),(0,r.Lk)("td",null,(0,n.v_)(e.asset_zone?.zone_name),1),(0,r.Lk)("td",null,(0,n.v_)(e.variable?.variable_type?.variable_type_name),1),(0,r.Lk)("td",null,(0,n.v_)(e.variable?.variable_code),1),(0,r.Lk)("td",null,(0,n.v_)(e.variable?.variable_name),1),(0,r.Lk)("td",EJ,[(0,r.bo)(((0,r.uX)(),(0,r.CE)("a",{href:"javascript:void(0)",class:"text-success me-2",onClick:a=>o.editVariable(e)},a[20]||(a[20]=[(0,r.Lk)("i",{class:"ri-pencil-line fs-18 lh-1"},null,-1)]),8,xJ)),[[_,"asset_template_Variables.update"]]),(0,r.Lk)("a",{href:"javascript:void(0)",class:"text-primary me-2","data-bs-toggle":"modal","data-bs-target":"#exampleModal",onClick:(0,s.D$)((a=>o.viewAsset(e,"Variables")),["prevent"])},a[21]||(a[21]=[(0,r.Lk)("i",{class:"ri-eye-fill fs-18 lh-1"},null,-1)]),8,XJ),(0,r.bo)(((0,r.uX)(),(0,r.CE)("a",{href:"javascript:void(0)",class:"text-danger me-2",onClick:a=>o.deleteVariable(e)},a[22]||(a[22]=[(0,r.Lk)("i",{class:"ri-delete-bin-6-line fs-18 lh-1"},null,-1)]),8,PJ)),[[_,"asset_template_Variables.delete"]])])])))),128))])])])])])]),(0,r.Lk)("div",$J,[(0,r.Lk)("div",SJ,[(0,r.bo)((0,r.Lk)("select",{class:"form-select from-select-sm width-75","onUpdate:modelValue":a[7]||(a[7]=e=>i.variable_meta_service.per_page=e),onChange:a[8]||(a[8]=e=>o.onPerPageChange("Variables"))},a[23]||(a[23]=[(0,r.Lk)("option",null,"5",-1),(0,r.Lk)("option",null,"10",-1),(0,r.Lk)("option",null,"15",-1),(0,r.Lk)("option",null,"20",-1),(0,r.Lk)("option",null,"25",-1),(0,r.Lk)("option",null,"30",-1)]),544),[[s.u1,i.variable_meta_service.per_page]]),(0,r.Lk)("span",null,"Showing "+(0,n.v_)(i.variable_meta_service.from)+" to "+(0,n.v_)(i.variable_meta_service.to)+" of "+(0,n.v_)(i.variable_meta_service.totalRows)+" entries",1),(0,r.bF)(u,{maxPage:i.variable_meta_service.maxPage,totalPages:i.variable_meta_service.lastPage,currentPage:i.variable_meta_service.page,onPagechanged:o.onPageChange,from:"Variables"},null,8,["maxPage","totalPages","currentPage","onPagechanged"])])])])])),[[_,"asset_template_Variables.view"]]),(0,r.Lk)("div",AJ,[(0,r.Lk)("div",DJ,[(0,r.Lk)("div",TJ,[(0,r.Lk)("div",QJ,[(0,r.Lk)("h5",VJ,(0,n.v_)(i.asset_type),1),a[25]||(a[25]=(0,r.Lk)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1))]),(0,r.Lk)("div",FJ,[(0,r.Lk)("div",UJ,[(0,r.Lk)("div",jJ,["Variables"==i.asset_type?((0,r.uX)(),(0,r.CE)("div",zJ,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(i.assets1?.asset_variable_attributes,((e,a)=>((0,r.uX)(),(0,r.CE)("div",{class:"col-md-4",key:a},[e.variable_attributes.length&&"Text"==e.variable_attributes[0].field_type?((0,r.uX)(),(0,r.CE)("div",WJ,[(0,r.Lk)("label",RJ,(0,n.v_)(e.variable_attributes[0].display_name),1),e.variable_attributes[0].is_required?((0,r.uX)(),(0,r.CE)("span",qJ,"*")):(0,r.Q3)("",!0),(0,r.Lk)("input",{type:"text",class:(0,n.C4)(["form-control",{"is-invalid":i.errors[e.variable_attributes[0].display_name]}]),placeholder:"Enter "+e.variable_attributes[0].display_name,value:e.field_value,disabled:"true"},null,10,IJ),i.errors[e.variable_attributes[0].display_name]?((0,r.uX)(),(0,r.CE)("span",NJ,(0,n.v_)(i.errors[e.variable_attributes[0].display_name][0]),1)):(0,r.Q3)("",!0)])):(0,r.Q3)("",!0),e.variable_attributes.length&&"Number"==e.variable_attributes[0].field_type?((0,r.uX)(),(0,r.CE)("div",MJ,[(0,r.Lk)("label",KJ,(0,n.v_)(e.variable_attributes[0].display_name),1),e.variable_attributes[0].is_required?((0,r.uX)(),(0,r.CE)("span",JJ,"*")):(0,r.Q3)("",!0),(0,r.Lk)("input",{type:"number",class:(0,n.C4)(["form-control",{"is-invalid":i.errors[e.variable_attributes[0].display_name]}]),min:"0",oninput:"validity.valid||(value='');",placeholder:"Enter "+e.variable_attributes[0].display_name,value:e.field_value,disabled:"true"},null,10,BJ),i.errors[e.variable_attributes[0].display_name]?((0,r.uX)(),(0,r.CE)("span",OJ,(0,n.v_)(i.errors[e.variable_attributes[0].display_name][0]),1)):(0,r.Q3)("",!0)])):(0,r.Q3)("",!0),e.variable_attributes.length&&"Date"===e.variable_attributes[0].field_type?((0,r.uX)(),(0,r.CE)("div",HJ,[(0,r.Lk)("label",YJ,[(0,r.eW)((0,n.v_)(e.variable_attributes[0].display_name)+" ",1),e.variable_attributes[0].is_required?((0,r.uX)(),(0,r.CE)("span",ZJ,"*")):(0,r.Q3)("",!0)]),(0,r.Lk)("input",{type:"date",class:(0,n.C4)(["form-control",{"is-invalid":i.errors[e.variable_attributes[0].display_name]}]),placeholder:"Enter "+e.variable_attributes[0].display_name,value:e.field_value,disabled:"true"},null,10,GJ),i.errors[e.variable_attributes[0].display_name]?((0,r.uX)(),(0,r.CE)("span",eB,(0,n.v_)(i.errors[e.variable_attributes[0].display_name][0]),1)):(0,r.Q3)("",!0)])):(0,r.Q3)("",!0),e.variable_attributes.length&&"Date&Time"===e.variable_attributes[0].field_type?((0,r.uX)(),(0,r.CE)("div",aB,[(0,r.Lk)("label",tB,[(0,r.eW)((0,n.v_)(e.variable_attributes[0].display_name)+" ",1),e.variable_attributes[0].is_required?((0,r.uX)(),(0,r.CE)("span",sB,"*")):(0,r.Q3)("",!0)]),(0,r.Lk)("input",{type:"datetime-local",class:(0,n.C4)(["form-control",{"is-invalid":i.errors[e.variable_attributes[0].display_name]}]),placeholder:"Enter "+e.variable_attributes[0].display_name,value:e.field_value,step:"1",disabled:"true"},null,10,rB),i.errors[e.variable_attributes[0].display_name]?((0,r.uX)(),(0,r.CE)("span",lB,(0,n.v_)(i.errors[e.variable_attributes[0].display_name][0]),1)):(0,r.Q3)("",!0)])):(0,r.Q3)("",!0),e.variable_attributes.length&&"Dropdown"==e.variable_attributes[0].field_type?((0,r.uX)(),(0,r.CE)("div",iB,[(0,r.Lk)("label",oB,(0,n.v_)(e.variable_attributes[0].display_name),1),e.variable_attributes[0].is_required?((0,r.uX)(),(0,r.CE)("span",dB,"*")):(0,r.Q3)("",!0),(0,r.Lk)("select",{class:(0,n.C4)(["form-control",{"is-invalid":i.errors[e.variable_attributes[0].display_name]}]),value:e.field_value,disabled:"true"},[e.field_value?((0,r.uX)(),(0,r.CE)("option",{key:0,value:e.field_value},(0,n.v_)(e.field_value),9,cB)):((0,r.uX)(),(0,r.CE)("option",{key:1,value:e.field_value},"Select "+(0,n.v_)(e.variable_attributes[0].display_name),9,uB)),((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(e.variable_attributes[0].field_values.split(","),((e,a)=>((0,r.uX)(),(0,r.CE)("option",{key:a,value:e},(0,n.v_)(e),9,_B)))),128))],10,nB),i.errors[e.variable_attributes[0].display_name]?((0,r.uX)(),(0,r.CE)("span",pB,(0,n.v_)(i.errors[e.variable_attributes[0].display_name][0]),1)):(0,r.Q3)("",!0)])):(0,r.Q3)("",!0),e.variable_attributes.length&&"Color"==e.variable_attributes[0].field_type?((0,r.uX)(),(0,r.CE)("div",mB,[(0,r.Lk)("label",bB,[(0,r.eW)((0,n.v_)(e.variable_attributes[0].display_name),1),e.variable_attributes[0].is_required?((0,r.uX)(),(0,r.CE)("span",kB,"*")):(0,r.Q3)("",!0)]),(0,r.Lk)("input",{type:"color",class:"form-control",value:e.field_value,style:{height:"2.2rem"},disabled:"true"},null,8,vB),i.errors[e.variable_attributes[0].display_name]?((0,r.uX)(),(0,r.CE)("span",hB,(0,n.v_)(i.errors[e.variable_attributes[0].display_name][0]),1)):(0,r.Q3)("",!0)])):(0,r.Q3)("",!0),e.variable_attributes.length&&"List"==e.variable_attributes[0].field_type?((0,r.uX)(),(0,r.CE)("div",yB,[(0,r.Lk)("label",gB,(0,n.v_)(e.variable_attributes[0].display_name),1),e.variable_attributes[0].is_required?((0,r.uX)(),(0,r.CE)("span",fB,"*")):(0,r.Q3)("",!0),(0,r.Lk)("select",{class:(0,n.C4)(["form-control",{"is-invalid":i.errors[e.variable_attributes[0].display_name]}]),value:e.field_value,disabled:"true"},[e.variable_attributes[0].variable_attribute_value?.field_value?((0,r.uX)(),(0,r.CE)("option",{key:0,value:e.variable_attributes[0].variable_attribute_value?.field_value},(0,n.v_)(e.variable_attributes[0].variable_attribute_value?.field_value),9,CB)):((0,r.uX)(),(0,r.CE)("option",{key:1,value:e.variable_attributes[0].variable_attribute_value?.field_value},"Select "+(0,n.v_)(e.variable_attributes[0].display_name),9,wB)),((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(e.variable_attributes[0].list_parameter?.field_values.split(","),((e,a)=>((0,r.uX)(),(0,r.CE)("option",{key:a,value:e.trim()},(0,n.v_)(e.trim()),9,EB)))),128))],10,LB),i.errors[e.variable_attributes[0].display_name]?((0,r.uX)(),(0,r.CE)("span",xB,(0,n.v_)(i.errors[e.variable_attributes[0].display_name][0]),1)):(0,r.Q3)("",!0)])):(0,r.Q3)("",!0)])))),128))])):(0,r.Q3)("",!0)])])])])])])],64)}var PB={name:"AssetTemplates.View",components:{Search:It.A,Pagination:md,MultiSelect:Ru.A},props:{asset_template_id:{type:Number,required:!0}},data(){return{variable_meta_service:{search:"",order_by:"desc",keyword:"variable_id",per_page:10,totalRows:0,page:1,lastPage:1,from:1,to:1,maxPage:1,trashed:!1,asset_template_id:"",asset_type_id:""},asset:{asset_template_id:"",plant_id:"",template_code:"",template_name:"",asset_type_id:"",section_id:"",serial_no:"",status:"",QR_Code:""},variable:{variable_id:"",variable_code:"",variable_name:"",asset_template_id:"",template_zone_id:"",variable_template_zones_obj:[],variable_template_zones:[],asset_template_variable_id:"",asset_variable_attributes:[],initial_variable_id:"",initial_asset_variable_attributes:[],deleted_asset_variable_values:[],variable_zone_read_only:!1},asset_spares:[],checks:[],asset_variables:[],template_services:[],template_spare_services:[],asset_zones:[],errors:[],status:!0,asset_zone_status:!1,asset_zone_status_variables:!1,asset_type:"",initial_status:!0,isValid:!0,assets1:[],filter_check:{},error_style:{"border-color":"#dc3545","padding-right":"calc(1.5em + 0.812rem)","background-image":"url(\"data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 12 12' width='12' height='12' fill='none' stroke='%23dc3545'%3e%3ccircle cx='6' cy='6' r='4.5'/%3e%3cpath stroke-linejoin='round' d='M5.8 3.6h.4L6 6.5z'/%3e%3ccircle cx='6' cy='8.2' r='.6' fill='%23dc3545' stroke='none'/%3e%3c/svg%3e\")","background-repeat":"no-repeat","background-position":"right calc(0.375em + 0.203rem) center","background-size":"calc(0.75em + 0.406rem) calc(0.75em + 0.406rem)"}}},watch:{assets1(){this.assets1=this.$store.getters.asset_templates},"check.check_id":function(){let e=this,a=e.checks.filter((a=>a.check_id==e.check.check_id));console.log("vm.check.template_check_status",e.check.template_check_status),a.length&&!e.check.template_check_status&&(e.check.lcl=a[0].lcl,e.check.ucl=a[0].ucl,e.check.order=a[0].order,e.check.default_value=a[0].default_value,e.check.field_type=a[0]?.field_type,e.check.field_values=a[0]?.field_values),e.check.template_check_status&&(e.check.field_type=a[0]?.field_type,e.check.field_values=a[0]?.field_values)}},computed:{formattedTemplateServices(){return this.template_services.map((e=>({...e,displayName:`${e.zone_name} - ${e.service_name}`})))},formattedTemplateSpareServices(){return this.template_spare_services.map((e=>({...e,displayName:`${e.zone_name} - ${e.service_name}`})))}},mounted(){document.body.classList.add("sidebar-hide"),this.getAssetTemplate()},methods:{getAssetTemplate(){let e=this;e.$store.dispatch("post",{uri:"getAssetTemplate",data:{asset_template_id:e.asset_template_id}}).then((a=>{e.asset=a.data.data,e.asset_zones=a?.data?.data?.zone_name,e.getAssetVariables()})).catch((function(a){e.errors=a.response?.data?.errors,e.$store.dispatch("error",a.response?.data?.message)}))},getAssetVariables(){let e=this,a=e.$loading.show();e.variable_meta_service.asset_template_id=e.asset.asset_template_id,e.variable_meta_service.asset_type_id=e.asset.asset_type_id,e.$store.dispatch("post",{uri:"paginateAssetTemplateVariables",data:e.variable_meta_service}).then((t=>{a.hide(),e.variables=t.data.variables,e.asset_variables=t.data.paginate_variables,e.variable_meta_service.totalRows=t.data.meta.total,e.variable_meta_service.from=t.data.meta.from,e.variable_meta_service.to=t.data.meta.to,e.variable_meta_service.lastPage=t.data.meta.last_page,e.variable_meta_service.maxPage=e.variable_meta_service.lastPage>=3?3:e.variable_meta_service.lastPage})).catch((function(t){a.hide(),e.errors=t.response.data.errors,e.$store.dispatch("error",t.response.data.message)}))},editVariable(e){this.variable.variable_id=e.variable_id,this.variable.asset_template_id=e.asset_template_id,this.variable.asset_template_variable_id=e.asset_template_variable_id,this.variable.variable_code=e.variable_code,this.variable.variable_name=e.variable_name,this.variable.variable_template_zones=[],this.variable.variable_template_zones.push(e.template_zone_id),this.variable.template_zone_id=e.template_zone_id,this.variable.asset_variable_attributes=e.asset_variable_attributes,this.variable.initial_variable_id=e.variable_id,this.variable.initial_asset_variable_attributes=e.asset_variable_attributes;const a=this.asset_zones.find((a=>a.template_zone_id===e.template_zone_id));this.variable.variable_template_zones_obj=a?[a]:[{asset_template_id:e.asset_zone.asset_template_id,template_zone_id:e.asset_zone.template_zone_id,zone_name:e.asset_zone.zone_name,diameter:e.asset_zone.diameter,height:e.asset_zone.height,asset_spares:e.asset_zone.asset_spares}],this.variable.variable_zone_read_only=!0},validateFields(e){if(this.isValid=!0,this.errors={},"Variables"==e)for(const a of Object.values(this.variable.asset_variable_attributes))a.variable_attributes.length&&a.variable_attributes[0].is_required&&!a.field_value&&("Color"===a.variable_attributes[0].field_type?a.field_value="#000000":(this.errors[a.variable_attributes[0].display_name]=[`${a.variable_attributes[0].display_name} is required`],this.isValid=!1))},addVariable(){let e=this;e.variable.asset_template_id=e.asset.asset_template_id,e.variable.variable_template_zones=[],e.variable.variable_template_zones_obj.map((function(a){e.variable.variable_template_zones.push(a.template_zone_id)}));let a=e.$loading.show();e.validateFields("Variables"),e.isValid?e.$store.dispatch("post",{uri:"addAssetTemplateVariable",data:e.variable}).then((t=>{a.hide(),e.$store.dispatch("success",t.data.message),e.variable.variable_id="",e.variable.template_zone_id="",e.variable.variable_template_zones=[],e.variable.asset_variable_attributes=[],e.variable.initial_variable_id="",e.variable.initial_asset_variable_attributes=[],e.variable.deleted_asset_variable_values=[],e.asset_zone_status_variables=!1,e.variable.variable_template_zones_obj=[],e.variable.variable_zone_read_only=!1,e.errors=[],e.getAssetVariables()})).catch((function(t){a.hide(),e.errors=t.response.data.errors,e.$store.dispatch("error",t.response.data.message)})):a.hide()},updateVariable(){let e=this,a=e.$loading.show();if(e.validateFields("Variables"),!e.isValid)return void a.hide();e.variable.variable_id!=e.variable.initial_variable_id&&e.variable.initial_asset_variable_attributes.map((function(a){e.variable.deleted_asset_variable_values.push(a.template_variable_value_id)}));let t={uri:"updateAssetTemplateVariable",data:e.variable};e.$store.dispatch("post",t).then((function(t){a.hide(),e.$store.dispatch("success",t.data.message),e.variable.variable_id="",e.variable.template_zone_id="",e.variable.asset_template_variable_id="",e.variable.variable_template_zones=[],e.variable.asset_variable_attributes=[],e.variable.initial_variable_id="",e.variable.initial_asset_variable_attributes=[],e.variable.deleted_asset_variable_values=[],e.asset_zone_status_variables=!1,e.variable.variable_template_zones_obj=[],e.variable.variable_zone_read_only=!1,e.errors=[],e.getAssetVariables()})).catch((function(t){a.hide(),e.errors=t.response?.data?.errors,e.$store.dispatch("error",t?.response?.data?.message)}))},deleteVariable(e){const a=confirm("Are you sure you want to delete it ?");if(a){let a=this,t=a.$loading.show();a.$store.dispatch("post",{uri:"deleteAssetTemplateVariable",data:e}).then((e=>{t.hide(),a.$store.dispatch("success",e.data.message),a.variable.variable_id="",a.errors=[],a.getAssetVariables()})).catch((function(e){t.hide(),a.errors=e.response.data.errors,a.$store.dispatch("error",e.response.data.message)}))}},searchVariable(){let e=this;e.variable_meta_service.page=1,e.getAssetVariables()},onPageChange(e,a){"Variables"==a&&(this.variable_meta_service.page=e,this.getAssetVariables())},sort(e,a){"Variables"==a&&(this.variable_meta_service.keyword=e,this.variable_meta_service.order_by="asc"==this.variable_meta_service.order_by?"desc":"asc",this.getAssetVariables())},onPerPageChange(e){"Variables"==e&&(this.variable_meta_service.page=1,this.getAssetVariables())},getVariableAttribute(e){let a=this,t=a.$loading.show();a.variable.asset_variable_attributes=[],a.$store.dispatch("post",{uri:"assetVariableAttributeValues",data:{variable_id:e}}).then((e=>{t.hide(),a.variable.asset_variable_attributes=e.data.data})).catch((function(e){t.hide(),a.errors=e.response.data.errors,a.$store.dispatch("error",e.response.data.message)}))},viewAsset(e,a){this.$store.commit("setAssetTemplates",e),this.asset_type=a,this.assets1=this.$store.getters.asset_templates}}};const $B=(0,Ze.A)(PB,[["render",XB],["__scopeId","data-v-4e19c1c2"]]);var SB=$B;const AB={class:"col-12 mb-2"},DB={class:"card card-one"},TB={class:"card-body"},QB={class:"row mb-3 g-2"},VB={class:"col-md-4"},FB={key:0,class:"invalid-feedback",style:{display:"block !important"}},UB={class:"col-md-8"},jB={key:0,class:"invalid-feedback"},zB={class:"col-md-12"},WB={class:"row align-items-center g-2"},RB={key:0,class:"col-md-3"},qB={key:1,class:"col-md-3"},IB={key:2,class:"col-md-3"},NB={key:3,class:"col-md-3"},MB={key:0,class:"invalid-feedback"},KB={class:"col-md-3"},JB={key:0,class:"invalid-feedback",style:{display:"block !important"}},BB={key:4,class:"col-md-3 pt-4 d-flex justify-content-end1"},OB={key:5,class:"col-md-3 pt-4 d-flex justify-content-end1"},HB={class:"row g-2"},YB={class:"col-12"},ZB={class:"table-responsive table-responsive-sm"},GB={class:"table table-sm text-nowrap table-striped table-bordered mb-0"},eO={key:0,class:"ri-arrow-up-line"},aO={key:1,class:"ri-arrow-down-line"},tO={key:2,class:"fas fa-sort"},sO={key:0,class:"ri-arrow-up-line"},rO={key:1,class:"ri-arrow-down-line"},lO={key:2,class:"fas fa-sort"},iO={width:"40%",style:{"white-space":"normal"}},oO={key:0,class:"ri-arrow-up-line"},dO={key:1,class:"ri-arrow-down-line"},nO={key:2,class:"fas fa-sort"},cO={width:"10%"},uO={key:0,class:"ri-arrow-up-line"},_O={key:1,class:"ri-arrow-down-line"},pO={key:2,class:"fas fa-sort"},mO={width:"8%"},bO={key:0,class:"ri-arrow-up-line"},kO={key:1,class:"ri-arrow-down-line"},vO={key:2,class:"fas fa-sort"},hO={width:"8%"},yO={key:0,class:"ri-arrow-up-line"},gO={key:1,class:"ri-arrow-down-line"},fO={key:2,class:"fas fa-sort"},LO={width:"8%",style:{"white-space":"normal"}},CO={key:0,class:"ri-arrow-up-line"},wO={key:1,class:"ri-arrow-down-line"},EO={key:2,class:"fas fa-sort"},xO={width:"8%",style:{"white-space":"normal"}},XO={key:0,class:"ri-arrow-up-line"},PO={key:1,class:"ri-arrow-down-line"},$O={key:2,class:"fas fa-sort"},SO={class:"text-center"},AO={key:0},DO={class:"text-center"},TO={style:{"white-space":"normal"}},QO={style:{"white-space":"normal"}},VO={class:"text-center"},FO=["onClick"],UO=["onClick"],jO={class:"card-footer"},zO={class:"d-flex justify-content-between align-items-center"};function WO(e,a,t,l,i,o){const d=(0,r.g2)("MultiSelect"),c=(0,r.g2)("search"),u=(0,r.g2)("Pagination"),_=(0,r.gN)("can");return(0,r.bo)(((0,r.uX)(),(0,r.CE)("div",AB,[(0,r.Lk)("div",DB,[a[38]||(a[38]=(0,r.Lk)("div",{class:"card-header d-flex justify-content-between"},[(0,r.Lk)("h6",{class:"card-title"},"Checks")],-1)),(0,r.Lk)("div",TB,[(0,r.bo)(((0,r.uX)(),(0,r.CE)("div",QB,[(0,r.Lk)("div",VB,[a[15]||(a[15]=(0,r.Lk)("label",{class:"form-label"},[(0,r.eW)("Template Zone Service "),(0,r.Lk)("span",{class:"text-danger"}," *")],-1)),(0,r.bF)(d,{modelValue:i.check.check_template_zones_obj,"onUpdate:modelValue":a[0]||(a[0]=e=>i.check.check_template_zones_obj=e),filter:"",optionLabel:"displayName",options:o.formattedTemplateServices,placeholder:"Select Service",maxSelectedLabels:3,style:{width:"100%",height:"37px"},class:(0,n.C4)({"is-invalid":i.errors?.asset_template_service_id}),customClass:{"is-invalid":i.errors?.asset_template_service_id},id:"asset_template_service_id",onInput:a[1]||(a[1]=e=>i.check.asset_template_service_id=e),disabled:i.check.check_zone_read_only},null,8,["modelValue","options","class","customClass","disabled"]),i.errors?.asset_template_service_id?((0,r.uX)(),(0,r.CE)("span",FB,(0,n.v_)(i.errors?.asset_template_service_id[0]),1)):(0,r.Q3)("",!0)]),(0,r.Lk)("div",UB,[a[16]||(a[16]=(0,r.Lk)("label",{class:"form-label"},[(0,r.eW)("Check "),(0,r.Lk)("span",{class:"text-danger"}," *")],-1)),(0,r.bF)(c,{class:(0,n.C4)([{"is-invalid":i.errors?.check_id},"my-auto"]),customClass:{"is-invalid":i.errors?.check_id},"aria-describedby":"basic-addon2","aria-label":"Select Check",initialize:i.check.check_id,id:"check_id",label:"field_name",placeholder:"Select Check",data:i.checks,onInput:a[2]||(a[2]=e=>i.check.check_id=e),onSelectsearch:a[3]||(a[3]=e=>o.checkstatus())},null,8,["class","customClass","initialize","data"]),i.errors?.check_id?((0,r.uX)(),(0,r.CE)("span",jB,(0,n.v_)(i.errors?.check_id[0]),1)):(0,r.Q3)("",!0)]),(0,r.Lk)("div",zB,[(0,r.Lk)("div",WB,["Number"===i.check.field_type?((0,r.uX)(),(0,r.CE)("div",RB,[a[17]||(a[17]=(0,r.Lk)("label",{class:"form-label"},"Lcl",-1)),(0,r.bo)((0,r.Lk)("input",{type:"text",class:"form-control",placeholder:"Lcl","onUpdate:modelValue":a[4]||(a[4]=e=>i.check.lcl=e)},null,512),[[s.Jo,i.check.lcl]])])):(0,r.Q3)("",!0),"Number"===i.check.field_type?((0,r.uX)(),(0,r.CE)("div",qB,[a[18]||(a[18]=(0,r.Lk)("label",{class:"form-label"},"Ucl",-1)),(0,r.bo)((0,r.Lk)("input",{type:"text",class:"form-control",placeholder:"Ucl","onUpdate:modelValue":a[5]||(a[5]=e=>i.check.ucl=e)},null,512),[[s.Jo,i.check.ucl]])])):(0,r.Q3)("",!0),"Select"===i.check.field_type?((0,r.uX)(),(0,r.CE)("div",IB,[a[19]||(a[19]=(0,r.Lk)("label",{class:"form-label"},"Field Value",-1)),(0,r.bo)((0,r.Lk)("input",{type:"text",disabled:"disabled",class:"form-control",placeholder:"Field Value","onUpdate:modelValue":a[6]||(a[6]=e=>i.check.field_values=e)},null,512),[[s.Jo,i.check.field_values]])])):(0,r.Q3)("",!0),"Select"===i.check.field_type?((0,r.uX)(),(0,r.CE)("div",NB,[a[20]||(a[20]=(0,r.Lk)("label",{class:"form-label"},"Default Value",-1)),(0,r.bo)((0,r.Lk)("input",{class:(0,n.C4)([{"is-invalid":i.errors?.default_value},"form-control"]),type:"text",placeholder:"Default Value","onUpdate:modelValue":a[7]||(a[7]=e=>i.check.default_value=e)},null,2),[[s.Jo,i.check.default_value]]),i.errors?.default_value?((0,r.uX)(),(0,r.CE)("span",MB,(0,n.v_)(i.errors?.default_value[0]),1)):(0,r.Q3)("",!0)])):(0,r.Q3)("",!0),(0,r.Lk)("div",KB,[a[21]||(a[21]=(0,r.Lk)("label",{class:"form-label"},[(0,r.eW)("Order "),(0,r.Lk)("span",{class:"text-danger"}," *")],-1)),(0,r.bo)((0,r.Lk)("input",{type:"text",class:(0,n.C4)(["form-control",{"is-invalid":i.errors?.order}]),placeholder:"Order","onUpdate:modelValue":a[8]||(a[8]=e=>i.check.order=e)},null,2),[[s.Jo,i.check.order]]),i.errors?.order?((0,r.uX)(),(0,r.CE)("span",JB,(0,n.v_)(i.errors?.order[0]),1)):(0,r.Q3)("",!0)]),i.check.asset_template_check_id?((0,r.uX)(),(0,r.CE)("div",BB,[(0,r.bo)(((0,r.uX)(),(0,r.CE)("button",{class:"btn btn-outline-success me-2",onClick:a[9]||(a[9]=e=>o.updateCheck())},a[22]||(a[22]=[(0,r.Lk)("i",{class:"ri-add-circle-line icon-hgt"},null,-1),(0,r.eW)(" Update")]))),[[_,"asset_template_Checks.update"]])])):((0,r.uX)(),(0,r.CE)("div",OB,[(0,r.bo)(((0,r.uX)(),(0,r.CE)("button",{class:"btn btn-outline-success me-2",onClick:a[10]||(a[10]=e=>o.addCheck())},a[23]||(a[23]=[(0,r.Lk)("i",{class:"ri-add-circle-line icon-hgt"},null,-1),(0,r.eW)(" Add")]))),[[_,"asset_template_Checks.create"]])]))])])])),[[_,["asset_template_Checks.create","asset_template_Checks.update"]]]),(0,r.bo)((0,r.Lk)("input",{class:"form-control form-control-sm mb-2",type:"text",placeholder:"Type keyword and press enter key","onUpdate:modelValue":a[11]||(a[11]=e=>i.check_meta.search=e),onKeypress:a[12]||(a[12]=(0,s.jR)((e=>o.searchCheck()),["enter"]))},null,544),[[s.Jo,i.check_meta.search]]),(0,r.Lk)("div",HB,[(0,r.Lk)("div",YB,[(0,r.Lk)("div",ZB,[(0,r.Lk)("table",GB,[(0,r.Lk)("thead",null,[(0,r.Lk)("tr",null,[a[33]||(a[33]=(0,r.Lk)("th",{class:"text-center",width:"2%"},"#",-1)),(0,r.Lk)("th",null,[a[24]||(a[24]=(0,r.eW)(" Template Zone ")),(0,r.Lk)("span",null,["template_zone_id"==i.check_meta.keyword&&"asc"==i.check_meta.order_by?((0,r.uX)(),(0,r.CE)("i",eO)):"template_zone_id"==i.check_meta.keyword&&"desc"==i.check_meta.order_by?((0,r.uX)(),(0,r.CE)("i",aO)):((0,r.uX)(),(0,r.CE)("i",tO))])]),(0,r.Lk)("th",null,[a[25]||(a[25]=(0,r.eW)(" Service ")),(0,r.Lk)("span",null,["service_name"==i.check_meta.keyword&&"asc"==i.check_meta.order_by?((0,r.uX)(),(0,r.CE)("i",sO)):"service_name"==i.check_meta.keyword&&"desc"==i.check_meta.order_by?((0,r.uX)(),(0,r.CE)("i",rO)):((0,r.uX)(),(0,r.CE)("i",lO))])]),(0,r.Lk)("th",iO,[a[26]||(a[26]=(0,r.eW)(" Field Name ")),(0,r.Lk)("span",null,["field_name"==i.check_meta.keyword&&"asc"==i.check_meta.order_by?((0,r.uX)(),(0,r.CE)("i",oO)):"field_name"==i.check_meta.keyword&&"desc"==i.check_meta.order_by?((0,r.uX)(),(0,r.CE)("i",dO)):((0,r.uX)(),(0,r.CE)("i",nO))])]),(0,r.Lk)("th",cO,[a[27]||(a[27]=(0,r.eW)(" Field Type ")),(0,r.Lk)("span",null,["field_type"==i.check_meta.keyword&&"asc"==i.check_meta.order_by?((0,r.uX)(),(0,r.CE)("i",uO)):"field_type"==i.check_meta.keyword&&"desc"==i.check_meta.order_by?((0,r.uX)(),(0,r.CE)("i",_O)):((0,r.uX)(),(0,r.CE)("i",pO))])]),(0,r.Lk)("th",mO,[a[28]||(a[28]=(0,r.eW)(" Lcl ")),(0,r.Lk)("span",null,["lcl"==i.check_meta.keyword&&"asc"==i.check_meta.order_by?((0,r.uX)(),(0,r.CE)("i",bO)):"lcl"==i.check_meta.keyword&&"desc"==i.check_meta.order_by?((0,r.uX)(),(0,r.CE)("i",kO)):((0,r.uX)(),(0,r.CE)("i",vO))])]),(0,r.Lk)("th",hO,[a[29]||(a[29]=(0,r.eW)(" Ucl ")),(0,r.Lk)("span",null,["ucl"==i.check_meta.keyword&&"asc"==i.check_meta.order_by?((0,r.uX)(),(0,r.CE)("i",yO)):"ucl"==i.check_meta.keyword&&"desc"==i.check_meta.order_by?((0,r.uX)(),(0,r.CE)("i",gO)):((0,r.uX)(),(0,r.CE)("i",fO))])]),(0,r.Lk)("th",LO,[a[30]||(a[30]=(0,r.eW)(" Default Value ")),(0,r.Lk)("span",null,["default_value"==i.check_meta.keyword&&"asc"==i.check_meta.order_by?((0,r.uX)(),(0,r.CE)("i",CO)):"default_value"==i.check_meta.keyword&&"desc"==i.check_meta.order_by?((0,r.uX)(),(0,r.CE)("i",wO)):((0,r.uX)(),(0,r.CE)("i",EO))])]),(0,r.Lk)("th",xO,[a[31]||(a[31]=(0,r.eW)(" Order ")),(0,r.Lk)("span",null,["order"==i.check_meta.keyword&&"asc"==i.check_meta.order_by?((0,r.uX)(),(0,r.CE)("i",XO)):"order"==i.check_meta.keyword&&"desc"==i.check_meta.order_by?((0,r.uX)(),(0,r.CE)("i",PO)):((0,r.uX)(),(0,r.CE)("i",$O))])]),(0,r.bo)(((0,r.uX)(),(0,r.CE)("th",SO,a[32]||(a[32]=[(0,r.eW)("Actions")]))),[[_,["asset_template_Checks.update","asset_template_Checks.delete"]]])])]),(0,r.Lk)("tbody",null,[0==i.asset_checks?.length?((0,r.uX)(),(0,r.CE)("tr",AO,a[34]||(a[34]=[(0,r.Lk)("td",{colspan:"10",class:"text-center"},"No records found",-1)]))):(0,r.Q3)("",!0),((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(i.asset_checks,((e,t)=>((0,r.uX)(),(0,r.CE)("tr",{key:t},[(0,r.Lk)("td",DO,(0,n.v_)((i.check_meta.page-1)*i.check_meta.per_page+t+1),1),(0,r.Lk)("td",null,(0,n.v_)(e?.asset_zone?.zone_name),1),(0,r.Lk)("td",null,(0,n.v_)(e?.asset_template_service?.service_name),1),(0,r.Lk)("td",TO,(0,n.v_)(e?.check?.field_name),1),(0,r.Lk)("td",null,(0,n.v_)(e?.check?.field_type),1),(0,r.Lk)("td",null,(0,n.v_)(e.lcl),1),(0,r.Lk)("td",null,(0,n.v_)(e.ucl),1),(0,r.Lk)("td",QO,(0,n.v_)(e.default_value),1),(0,r.Lk)("td",null,(0,n.v_)(e?.order),1),(0,r.bo)(((0,r.uX)(),(0,r.CE)("td",VO,[(0,r.bo)(((0,r.uX)(),(0,r.CE)("a",{href:"javascript:void(0)",class:"text-success me-2",onClick:a=>o.editCheck(e)},a[35]||(a[35]=[(0,r.Lk)("i",{class:"ri-pencil-line fs-18 lh-1"},null,-1)]),8,FO)),[[_,"asset_template_Checks.update"]]),(0,r.bo)(((0,r.uX)(),(0,r.CE)("a",{href:"javascript:void(0)",class:"text-danger me-2",onClick:a=>o.deleteCheck(e)},a[36]||(a[36]=[(0,r.Lk)("i",{class:"ri-delete-bin-6-line fs-18 lh-1"},null,-1)]),8,UO)),[[_,"asset_template_Checks.delete"]])])),[[_,["asset_template_Checks.update","asset_template_Checks.delete"]]])])))),128))])])])])])]),(0,r.Lk)("div",jO,[(0,r.Lk)("div",zO,[(0,r.bo)((0,r.Lk)("select",{class:"form-select from-select-sm width-75","onUpdate:modelValue":a[13]||(a[13]=e=>i.check_meta.per_page=e),onChange:a[14]||(a[14]=e=>o.onPerPageChange("Checks"))},a[37]||(a[37]=[(0,r.Lk)("option",null,"5",-1),(0,r.Lk)("option",null,"10",-1),(0,r.Lk)("option",null,"15",-1),(0,r.Lk)("option",null,"20",-1),(0,r.Lk)("option",null,"25",-1),(0,r.Lk)("option",null,"30",-1)]),544),[[s.u1,i.check_meta.per_page]]),(0,r.Lk)("span",null,"Showing "+(0,n.v_)(i.check_meta.from)+" to "+(0,n.v_)(i.check_meta.to)+" of "+(0,n.v_)(i.check_meta.totalRows)+" entries",1),(0,r.bF)(u,{maxPage:i.check_meta.maxPage,totalPages:i.check_meta.lastPage,currentPage:i.check_meta.page,onPagechanged:o.onPageChange,from:"Checks"},null,8,["maxPage","totalPages","currentPage","onPagechanged"])])])])])),[[_,"asset_template_Checks.view"]])}var RO={name:"AssetTemplates.View",components:{Search:It.A,Pagination:md,MultiSelect:Ru.A},props:{asset_template_id:{type:Number,required:!0}},data(){return{check_meta:{search:"",order_by:"desc",keyword:"check_id",per_page:10,totalRows:0,page:1,lastPage:1,from:1,to:1,maxPage:1,trashed:!1,asset_template_id:"",asset_type_id:"",department_id:""},asset:{asset_template_id:"",plant_id:"",template_code:"",template_name:"",asset_type_id:"",section_id:"",serial_no:"",status:"",QR_Code:""},check:{check_id:"",check_code:"",check_name:"",asset_template_id:"",lcl:"",ucl:"",order:"",default_value:"",asset_template_check_id:"",template_zone_id:"",check_template_zones_obj:[],check_template_zones:[],check_zone_read_only:!1,template_check_status:!1,asset_template_service_id:""},checks:[],asset_checks:[],template_services:[],template_spare_services:[],asset_zones:[],errors:[],status:!0,asset_zone_status:!1,asset_zone_status_checks:!1,asset_type:"",isValid:!0,assets1:[],error_style:{"border-color":"#dc3545","padding-right":"calc(1.5em + 0.812rem)","background-image":"url(\"data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 12 12' width='12' height='12' fill='none' stroke='%23dc3545'%3e%3ccircle cx='6' cy='6' r='4.5'/%3e%3cpath stroke-linejoin='round' d='M5.8 3.6h.4L6 6.5z'/%3e%3ccircle cx='6' cy='8.2' r='.6' fill='%23dc3545' stroke='none'/%3e%3c/svg%3e\")","background-repeat":"no-repeat","background-position":"right calc(0.375em + 0.203rem) center","background-size":"calc(0.75em + 0.406rem) calc(0.75em + 0.406rem)"}}},watch:{assets1(){this.assets1=this.$store.getters.asset_templates},"check.check_id":function(){let e=this,a=e.checks.filter((a=>a.check_id==e.check.check_id));console.log("vm.check.template_check_status",e.check.template_check_status),a.length&&!e.check.template_check_status&&(e.check.lcl=a[0].lcl,e.check.ucl=a[0].ucl,e.check.order=a[0].order,e.check.default_value=a[0].default_value,e.check.field_type=a[0]?.field_type,e.check.field_values=a[0]?.field_values),e.check.template_check_status&&(e.check.field_type=a[0]?.field_type,e.check.field_values=a[0]?.field_values)}},computed:{formattedTemplateServices(){return this.template_services.map((e=>({...e,displayName:`${e.zone_name} - ${e.service_name}`})))},formattedTemplateSpareServices(){return this.template_spare_services.map((e=>({...e,displayName:`${e.zone_name} - ${e.service_name}`})))}},mounted(){document.body.classList.add("sidebar-hide"),this.getAssetTemplate()},methods:{getAssetTemplate(){let e=this;e.$store.dispatch("post",{uri:"getAssetTemplate",data:{asset_template_id:e.asset_template_id}}).then((a=>{e.asset=a.data.data,e.asset_zones=a?.data?.data?.zone_name,e.getAssetChecks()})).catch((function(a){e.errors=a.response?.data?.errors,e.$store.dispatch("error",a.response?.data?.message)}))},getAssetChecks(){let e=this,a=e.$loading.show();e.check_meta.asset_template_id=e.asset.asset_template_id,e.check_meta.asset_type_id=e.asset.asset_type_id,e.check_meta.department_id=e.asset.department_id,e.$store.dispatch("post",{uri:"paginateAssetTemplateChecks",data:e.check_meta}).then((t=>{a.hide(),e.checks=t.data.checks,e.asset_checks=t.data.paginate_checks,e.template_services=t.data.template_services,e.check_meta.totalRows=t.data.meta.total,e.check_meta.from=t.data.meta.from,e.check_meta.to=t.data.meta.to,e.check_meta.lastPage=t.data.meta.last_page,e.check_meta.maxPage=e.check_meta.lastPage>=3?3:e.check_meta.lastPage})).catch((function(t){a.hide(),e.errors=t.response.data.errors,e.$store.dispatch("error",t.response.data.message)}))},editCheck(e){console.log("check---",e),this.check.template_check_status=!0,this.check.asset_template_id=e.asset_template_id,this.check.asset_template_check_id=e.asset_template_check_id,this.check.check_id=e.check_id,this.check.lcl=e.lcl,this.check.ucl=e.ucl,this.check.order=e.order,this.check.default_value=e.default_value,this.check.check_template_zones=[e.template_zone_id],this.check.template_zone_id=e.template_zone_id;const a=this.formattedTemplateServices.find((a=>a.asset_template_service_id===e.asset_template_service_id));a?(this.check.check_template_zones_obj=[a],this.check.asset_template_service_id=a.asset_template_service_id):this.check.check_template_zones_obj=[],this.check.check_zone_read_only=!0},checkstatus(){this.check.template_check_status=!1},addCheck(){let e=this;e.check.asset_template_id=e.asset.asset_template_id,e.check.check_template_zones=[],e.check.check_template_zones_obj.map((function(a){e.check.check_template_zones.push(a.asset_template_service_id)}));let a=e.$loading.show();e.$store.dispatch("post",{uri:"addAssetTemplateCheck",data:e.check}).then((t=>{a.hide(),e.$store.dispatch("success",t.data.message),e.check.check_id="",e.check.lcl="",e.check.ucl="",e.check.order="",e.check.default_value="",e.check.field_type="",e.errors=[],e.check.template_zone_id=[],e.check.check_template_zones_obj=[],e.check.check_template_zones=[],e.asset_zone_status_checks=!1,e.check.check_zone_read_only=!1,e.getAssetChecks()})).catch((function(t){console.log("Error",t),a.hide(),e.errors=t.response.data.errors,e.$store.dispatch("error",t.response.data.message)}))},updateCheck(){let e=this,a=e.$loading.show(),t={uri:"updateAssetTemplateCheck",data:e.check};e.$store.dispatch("post",t).then((function(t){a.hide(),e.$store.dispatch("success",t.data.message),e.check.template_check_status=!1,e.check.check_id="",e.check.lcl="",e.check.ucl="",e.check.order="",e.check.default_value="",e.check.field_type="",e.check.asset_template_check_id="",e.check.asset_template_service_id="",e.check.check_template_zones_obj=[],e.check.check_template_zones=[],e.asset_zone_status_checks=!1,e.check.check_zone_read_only=!1,e.errors=[],e.getAssetChecks()})).catch((function(t){a.hide(),e.errors=t.response.data.errors,e.$store.dispatch("error",t.response.data.message)}))},deleteCheck(e){const a=confirm("Are you sure you want to delete it ?");if(a){let a=this,t=a.$loading.show();a.$store.dispatch("post",{uri:"forceDeleteAssetTemplateCheck",data:e}).then((e=>{t.hide(),a.$store.dispatch("success",e.data.message),a.check.check_id="",a.errors=[],a.getAssetChecks()})).catch((function(e){t.hide(),a.$store.dispatch("error",e.response.data.message)}))}},searchCheck(){let e=this;e.check_meta.page=1,e.getAssetChecks()},onPageChange(e,a){"Checks"==a&&(this.check_meta.page=e,this.getAssetChecks())},sort(e,a){"Checks"==a&&(this.check_meta.keyword=e,this.check_meta.order_by="asc"==this.check_meta.order_by?"desc":"asc",this.getAssetChecks())},onPerPageChange(e){"Checks"==e&&(this.check_meta.page=1,this.getAssetChecks())}}};const qO=(0,Ze.A)(RO,[["render",WO],["__scopeId","data-v-b8fb91d8"]]);var IO=qO;const NO={class:"col-12 mb-2"},MO={class:"card card-one"},KO={class:"card-body"},JO={class:"row mb-3 g-2"},BO={class:"col-md-4"},OO={key:0,class:"invalid-feedback",style:{display:"block !important"}},HO={class:"col-md-3"},YO={key:0,class:"invalid-feedback"},ZO={class:"col-md-3"},GO={key:0,class:"invalid-feedback"},eH={key:0},aH={class:"form-label"},tH={key:0,class:"text-danger"},sH=["placeholder","onUpdate:modelValue"],rH={key:1,class:"invalid-feedback"},lH={key:1},iH={class:"form-label"},oH={key:0,class:"text-danger"},dH=["placeholder","onUpdate:modelValue"],nH={key:1,class:"invalid-feedback"},cH={key:2},uH={class:"form-label"},_H={key:0,class:"text-danger"},pH=["placeholder","onUpdate:modelValue"],mH={key:0,class:"invalid-feedback"},bH={key:3},kH={class:"form-label"},vH={key:0,class:"text-danger"},hH=["placeholder","onUpdate:modelValue"],yH={key:0,class:"invalid-feedback"},gH={key:4},fH={class:"form-label"},LH={key:0,class:"text-danger"},CH=["onUpdate:modelValue"],wH=["value"],EH=["value"],xH=["value"],XH={key:1,class:"invalid-feedback"},PH={key:5},$H={class:"form-label"},SH={key:0,class:"text-danger"},AH=["onUpdate:modelValue"],DH={key:0,class:"invalid-feedback"},TH={key:6},QH={class:"form-label"},VH={key:0,class:"text-danger"},FH=["onUpdate:modelValue"],UH=["value"],jH=["value"],zH=["value"],WH=["value"],RH={key:1,class:"invalid-feedback"},qH={key:0,class:"col-md-2 pt-4"},IH={key:1,class:"col-md-2 pt-4"},NH={class:"row g-2"},MH={class:"col-12"},KH={class:"table-responsive table-responsive-sm"},JH={class:"table table-sm text-nowrap table-striped table-bordered mb-0"},BH={class:""},OH={key:0,class:"ri-arrow-up-line"},HH={key:1,class:"ri-arrow-down-line"},YH={key:2,class:"fas fa-sort"},ZH={key:0,class:"ri-arrow-up-line"},GH={key:1,class:"ri-arrow-down-line"},eY={key:2,class:"fas fa-sort"},aY={key:0,class:"ri-arrow-up-line"},tY={key:1,class:"ri-arrow-down-line"},sY={key:2,class:"fas fa-sort"},rY={key:0,class:"ri-arrow-up-line"},lY={key:1,class:"ri-arrow-down-line"},iY={key:2,class:"fas fa-sort"},oY={key:0,class:"ri-arrow-up-line"},dY={key:1,class:"ri-arrow-down-line"},nY={key:2,class:"fas fa-sort"},cY={key:0,class:"ri-arrow-up-line"},uY={key:1,class:"ri-arrow-down-line"},_Y={key:2,class:"fas fa-sort"},pY={key:0},mY={class:"text-center"},bY={class:"text-center"},kY=["onClick"],vY=["onClick"],hY=["onClick"],yY={class:"card-footer"},gY={class:"d-flex justify-content-between align-items-center"},fY={class:"modal fade",id:"exampleModal",tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},LY={class:"modal-dialog modal-lg"},CY={class:"modal-content"},wY={class:"modal-header"},EY={class:"modal-title",id:"exampleModalLabel"},xY={class:"modal-body"},XY={class:"row g-2"},PY={class:"col-12 mb-2"},$Y={key:0,class:"row g-2"},SY={key:0},AY={class:"form-label"},DY={key:0,class:"text-danger"},TY=["placeholder","value"],QY={key:1,class:"invalid-feedback"},VY={key:1},FY={class:"form-label"},UY={key:0,class:"text-danger"},jY=["placeholder","value"],zY={key:1,class:"invalid-feedback"},WY={key:2},RY={class:"form-label"},qY={key:0,class:"text-danger"},IY=["placeholder","value"],NY={key:0,class:"invalid-feedback"},MY={key:3},KY={class:"form-label"},JY={key:0,class:"text-danger"},BY=["placeholder","value"],OY={key:0,class:"invalid-feedback"},HY={key:4},YY={class:"form-label"},ZY={key:0,class:"text-danger"},GY=["value"],eZ=["value"],aZ=["value"],tZ=["value"],sZ={key:1,class:"invalid-feedback"},rZ={key:5},lZ={class:"form-label"},iZ={key:0,class:"text-danger"},oZ=["value"],dZ={key:0,class:"invalid-feedback"},nZ={key:6},cZ={class:"form-label"},uZ={key:0,class:"text-danger"},_Z=["value"],pZ=["value"],mZ=["value"],bZ=["value"],kZ={key:1,class:"invalid-feedback"};function vZ(e,a,t,l,i,o){const d=(0,r.g2)("MultiSelect"),c=(0,r.g2)("search"),u=(0,r.g2)("Pagination"),_=(0,r.gN)("can");return(0,r.uX)(),(0,r.CE)(r.FK,null,[(0,r.bo)(((0,r.uX)(),(0,r.CE)("div",NO,[(0,r.Lk)("div",MO,[a[29]||(a[29]=(0,r.Lk)("div",{class:"card-header d-flex justify-content-between"},[(0,r.Lk)("h6",{class:"card-title"},"Spares")],-1)),(0,r.Lk)("div",KO,[(0,r.bo)(((0,r.uX)(),(0,r.CE)("div",JO,[(0,r.Lk)("div",BO,[a[11]||(a[11]=(0,r.Lk)("label",{class:"form-label"},[(0,r.eW)("Template Zone Service "),(0,r.Lk)("span",{class:"text-danger"}," *")],-1)),(0,r.bF)(d,{modelValue:i.spare.spare_template_zones_obj,"onUpdate:modelValue":a[0]||(a[0]=e=>i.spare.spare_template_zones_obj=e),filter:"",optionLabel:"displayName",options:o.formattedTemplateSpareServices,placeholder:"Select Service",maxSelectedLabels:3,style:{width:"100%",height:"37px"},class:(0,n.C4)({"is-invalid":i.errors?.asset_template_service_id}),customClass:{"is-invalid":i.errors?.asset_template_service_id},id:"asset_template_service_id",onInput:a[1]||(a[1]=e=>i.spare.asset_template_service_id=e),disabled:i.spare.spare_zone_read_only},null,8,["modelValue","options","class","customClass","disabled"]),i.errors?.asset_template_service_id?((0,r.uX)(),(0,r.CE)("span",OO,(0,n.v_)(i.errors?.asset_template_service_id[0]),1)):(0,r.Q3)("",!0)]),(0,r.Lk)("div",HO,[a[12]||(a[12]=(0,r.Lk)("label",{class:"form-label"},[(0,r.eW)("Spare "),(0,r.Lk)("span",{class:"text-danger"}," *")],-1)),(0,r.bF)(c,{class:(0,n.C4)([{"is-invalid":i.errors?.spare_id},"my-auto"]),customClass:{"is-invalid":i.errors?.spare_id},"aria-describedby":"basic-addon2","aria-label":"Select Spare",initialize:i.spare.spare_id,id:"spare_id",label:"spare_name",label2:"spare_code",placeholder:"Select Spare",data:i.spares,onInput:a[2]||(a[2]=e=>i.spare.spare_id=e),onSelectsearch:a[3]||(a[3]=e=>o.getSpareAttribute(i.spare.spare_id))},null,8,["class","customClass","initialize","data"]),i.errors?.spare_id?((0,r.uX)(),(0,r.CE)("span",YO,(0,n.v_)(i.errors?.spare_id[0]),1)):(0,r.Q3)("",!0)]),(0,r.Lk)("div",ZO,[a[13]||(a[13]=(0,r.Lk)("label",{class:"form-label"},[(0,r.eW)("Max Quantity "),(0,r.Lk)("span",{class:"text-danger"}," *")],-1)),(0,r.bo)((0,r.Lk)("input",{type:"number",class:(0,n.C4)(["form-control",{"is-invalid":i.errors?.quantity}]),placeholder:"Enter Max Quantity","onUpdate:modelValue":a[4]||(a[4]=e=>i.spare.quantity=e)},null,2),[[s.Jo,i.spare.quantity]]),i.errors?.quantity?((0,r.uX)(),(0,r.CE)("span",GO,(0,n.v_)(i.errors?.quantity[0]),1)):(0,r.Q3)("",!0)]),((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(i.spare.asset_spare_attributes,((e,a)=>((0,r.uX)(),(0,r.CE)("div",{class:"col-md-3",key:a},[e.spare_attributes.length&&"Text"==e.spare_attributes[0].field_type?((0,r.uX)(),(0,r.CE)("div",eH,[(0,r.Lk)("label",aH,(0,n.v_)(e.spare_attributes[0].display_name),1),e.spare_attributes[0].is_required?((0,r.uX)(),(0,r.CE)("span",tH,"*")):(0,r.Q3)("",!0),(0,r.bo)((0,r.Lk)("input",{type:"text",class:(0,n.C4)(["form-control",{"is-invalid":i.errors[e.spare_attributes[0].display_name]}]),placeholder:"Enter "+e.spare_attributes[0].display_name,"onUpdate:modelValue":a=>e.field_value=a},null,10,sH),[[s.Jo,e.field_value]]),i.errors[e.spare_attributes[0].display_name]?((0,r.uX)(),(0,r.CE)("span",rH,(0,n.v_)(i.errors[e.spare_attributes[0].display_name][0]),1)):(0,r.Q3)("",!0)])):(0,r.Q3)("",!0),e.spare_attributes.length&&"Number"==e.spare_attributes[0].field_type?((0,r.uX)(),(0,r.CE)("div",lH,[(0,r.Lk)("label",iH,(0,n.v_)(e.spare_attributes[0].display_name),1),e.spare_attributes[0].is_required?((0,r.uX)(),(0,r.CE)("span",oH,"*")):(0,r.Q3)("",!0),(0,r.bo)((0,r.Lk)("input",{type:"number",class:(0,n.C4)(["form-control",{"is-invalid":i.errors[e.spare_attributes[0].display_name]}]),min:"0",oninput:"validity.valid||(value='');",placeholder:"Enter "+e.spare_attributes[0].display_name,"onUpdate:modelValue":a=>e.field_value=a},null,10,dH),[[s.Jo,e.field_value]]),i.errors[e.spare_attributes[0].display_name]?((0,r.uX)(),(0,r.CE)("span",nH,(0,n.v_)(i.errors[e.spare_attributes[0].display_name][0]),1)):(0,r.Q3)("",!0)])):(0,r.Q3)("",!0),e.spare_attributes.length&&"Date"===e.spare_attributes[0].field_type?((0,r.uX)(),(0,r.CE)("div",cH,[(0,r.Lk)("label",uH,[(0,r.eW)((0,n.v_)(e.spare_attributes[0].display_name)+" ",1),e.spare_attributes[0].is_required?((0,r.uX)(),(0,r.CE)("span",_H,"*")):(0,r.Q3)("",!0)]),(0,r.bo)((0,r.Lk)("input",{type:"date",class:(0,n.C4)(["form-control",{"is-invalid":i.errors[e.spare_attributes[0].display_name]}]),placeholder:"Enter "+e.spare_attributes[0].display_name,"onUpdate:modelValue":a=>e.field_value=a},null,10,pH),[[s.Jo,e.field_value]]),i.errors[e.spare_attributes[0].display_name]?((0,r.uX)(),(0,r.CE)("span",mH,(0,n.v_)(i.errors[e.spare_attributes[0].display_name][0]),1)):(0,r.Q3)("",!0)])):(0,r.Q3)("",!0),e.spare_attributes.length&&"Date&Time"===e.spare_attributes[0].field_type?((0,r.uX)(),(0,r.CE)("div",bH,[(0,r.Lk)("label",kH,[(0,r.eW)((0,n.v_)(e.spare_attributes[0].display_name)+" ",1),e.spare_attributes[0].is_required?((0,r.uX)(),(0,r.CE)("span",vH,"*")):(0,r.Q3)("",!0)]),(0,r.bo)((0,r.Lk)("input",{type:"datetime-local",class:(0,n.C4)(["form-control",{"is-invalid":i.errors[e.spare_attributes[0].display_name]}]),placeholder:"Enter "+e.spare_attributes[0].display_name,"onUpdate:modelValue":a=>e.field_value=a,step:"1"},null,10,hH),[[s.Jo,e.field_value]]),i.errors[e.spare_attributes[0].display_name]?((0,r.uX)(),(0,r.CE)("span",yH,(0,n.v_)(i.errors[e.spare_attributes[0].display_name][0]),1)):(0,r.Q3)("",!0)])):(0,r.Q3)("",!0),e.spare_attributes.length&&"Dropdown"==e.spare_attributes[0].field_type?((0,r.uX)(),(0,r.CE)("div",gH,[(0,r.Lk)("label",fH,(0,n.v_)(e.spare_attributes[0].display_name),1),e.spare_attributes[0].is_required?((0,r.uX)(),(0,r.CE)("span",LH,"*")):(0,r.Q3)("",!0),(0,r.bo)((0,r.Lk)("select",{class:(0,n.C4)(["form-control",{"is-invalid":i.errors[e.spare_attributes[0].display_name]}]),"onUpdate:modelValue":a=>e.field_value=a},[e.field_value?((0,r.uX)(),(0,r.CE)("option",{key:0,value:e.field_value},(0,n.v_)(e.field_value),9,wH)):((0,r.uX)(),(0,r.CE)("option",{key:1,value:e.field_value},"Select "+(0,n.v_)(e.spare_attributes[0].display_name),9,EH)),((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(e.spare_attributes[0].field_values.split(","),((e,a)=>((0,r.uX)(),(0,r.CE)("option",{key:a,value:e},(0,n.v_)(e),9,xH)))),128))],10,CH),[[s.u1,e.field_value]]),i.errors[e.spare_attributes[0].display_name]?((0,r.uX)(),(0,r.CE)("span",XH,(0,n.v_)(i.errors[e.spare_attributes[0].display_name][0]),1)):(0,r.Q3)("",!0)])):(0,r.Q3)("",!0),e.spare_attributes.length&&"Color"==e.spare_attributes[0].field_type?((0,r.uX)(),(0,r.CE)("div",PH,[(0,r.Lk)("label",$H,[(0,r.eW)((0,n.v_)(e.spare_attributes[0].display_name),1),e.spare_attributes[0].is_required?((0,r.uX)(),(0,r.CE)("span",SH,"*")):(0,r.Q3)("",!0)]),(0,r.bo)((0,r.Lk)("input",{type:"color",class:"form-control","onUpdate:modelValue":a=>e.field_value=a,style:{height:"2.2rem"}},null,8,AH),[[s.Jo,e.field_value]]),i.errors[e.spare_attributes[0].display_name]?((0,r.uX)(),(0,r.CE)("span",DH,(0,n.v_)(i.errors[e.spare_attributes[0].display_name][0]),1)):(0,r.Q3)("",!0)])):(0,r.Q3)("",!0),e.spare_attributes.length&&"List"==e.spare_attributes[0].field_type?((0,r.uX)(),(0,r.CE)("div",TH,[(0,r.Lk)("label",QH,(0,n.v_)(e.spare_attributes[0].display_name),1),e.spare_attributes[0].is_required?((0,r.uX)(),(0,r.CE)("span",VH,"*")):(0,r.Q3)("",!0),(0,r.bo)((0,r.Lk)("select",{class:(0,n.C4)(["form-control",{"is-invalid":i.errors[e.spare_attributes[0].display_name]}]),"onUpdate:modelValue":a=>e.field_value=a},[e.field_value?((0,r.uX)(),(0,r.CE)("option",{key:0,value:e.field_value},(0,n.v_)(e.field_value),9,UH)):(0,r.Q3)("",!0),e.spare_attributes[0].spare_attribute_value?.field_value?((0,r.uX)(),(0,r.CE)("option",{key:1,value:e.spare_attributes[0].spare_attribute_value?.field_value},(0,n.v_)(e.spare_attributes[0].spare_attribute_value?.field_value),9,jH)):((0,r.uX)(),(0,r.CE)("option",{key:2,value:e.spare_attributes[0].spare_attribute_value?.field_value},"Select "+(0,n.v_)(e.spare_attributes[0].display_name),9,zH)),((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(e.spare_attributes[0].list_parameter?.field_values.split(","),((e,a)=>((0,r.uX)(),(0,r.CE)("option",{key:a,value:e.trim()},(0,n.v_)(e.trim()),9,WH)))),128))],10,FH),[[s.u1,e.field_value]]),i.errors[e.spare_attributes[0].display_name]?((0,r.uX)(),(0,r.CE)("span",RH,(0,n.v_)(i.errors[e.spare_attributes[0].display_name][0]),1)):(0,r.Q3)("",!0)])):(0,r.Q3)("",!0)])))),128)),i.spare.asset_template_spare_id?((0,r.uX)(),(0,r.CE)("div",qH,[(0,r.bo)(((0,r.uX)(),(0,r.CE)("button",{class:"btn btn-outline-success me-2",onClick:a[5]||(a[5]=e=>o.updateSpare())},a[14]||(a[14]=[(0,r.Lk)("i",{class:"ri-add-circle-line icon-hgt"},null,-1),(0,r.eW)(" Update")]))),[[_,"asset_template_Spares.update"]])])):((0,r.uX)(),(0,r.CE)("div",IH,[(0,r.bo)(((0,r.uX)(),(0,r.CE)("button",{class:"btn btn-outline-success me-2",onClick:a[6]||(a[6]=e=>o.addSpare())},a[15]||(a[15]=[(0,r.Lk)("i",{class:"ri-add-circle-line icon-hgt"},null,-1),(0,r.eW)(" Add")]))),[[_,"asset_template_Spares.create"]])]))])),[[_,["asset_template_Spares.update","asset_template_Spares.create"]]]),(0,r.bo)((0,r.Lk)("input",{class:"form-control form-control-sm mb-2",type:"text",placeholder:"Type keyword and press enter key","onUpdate:modelValue":a[7]||(a[7]=e=>i.meta.search=e),onKeypress:a[8]||(a[8]=(0,s.jR)((e=>o.searchSpare()),["enter"]))},null,544),[[s.Jo,i.meta.search]]),(0,r.Lk)("div",NH,[(0,r.Lk)("div",MH,[(0,r.Lk)("div",KH,[(0,r.Lk)("table",JH,[(0,r.Lk)("thead",null,[(0,r.Lk)("tr",BH,[a[22]||(a[22]=(0,r.Lk)("th",{class:"text-center"},"#",-1)),(0,r.Lk)("th",null,[a[16]||(a[16]=(0,r.eW)(" Template Zone ")),(0,r.Lk)("span",null,["template_zone_id"==i.meta.keyword&&"asc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",OH)):"template_zone_id"==i.meta.keyword&&"desc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",HH)):((0,r.uX)(),(0,r.CE)("i",YH))])]),(0,r.Lk)("th",null,[a[17]||(a[17]=(0,r.eW)(" Service ")),(0,r.Lk)("span",null,["template_zone_id"==i.meta.keyword&&"asc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",ZH)):"template_zone_id"==i.meta.keyword&&"desc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",GH)):((0,r.uX)(),(0,r.CE)("i",eY))])]),(0,r.Lk)("th",null,[a[18]||(a[18]=(0,r.eW)(" Spare Type ")),(0,r.Lk)("span",null,["spare_type_id"==i.meta.keyword&&"asc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",aY)):"spare_type_id"==i.meta.keyword&&"desc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",tY)):((0,r.uX)(),(0,r.CE)("i",sY))])]),(0,r.Lk)("th",null,[a[19]||(a[19]=(0,r.eW)(" Spare Code ")),(0,r.Lk)("span",null,["spare_code"==i.meta.keyword&&"asc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",rY)):"spare_code"==i.meta.keyword&&"desc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",lY)):((0,r.uX)(),(0,r.CE)("i",iY))])]),(0,r.Lk)("th",null,[a[20]||(a[20]=(0,r.eW)(" Spare Name ")),(0,r.Lk)("span",null,["spare_name"==i.meta.keyword&&"asc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",oY)):"spare_name"==i.meta.keyword&&"desc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",dY)):((0,r.uX)(),(0,r.CE)("i",nY))])]),(0,r.Lk)("th",null,[a[21]||(a[21]=(0,r.eW)(" Quantity ")),(0,r.Lk)("span",null,["quantity"==i.meta.keyword&&"asc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",cY)):"quantity"==i.meta.keyword&&"desc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",uY)):((0,r.uX)(),(0,r.CE)("i",_Y))])]),a[23]||(a[23]=(0,r.Lk)("th",{class:"text-center"},"Actions",-1))])]),(0,r.Lk)("tbody",null,[0==i.asset_spares?.length?((0,r.uX)(),(0,r.CE)("tr",pY,a[24]||(a[24]=[(0,r.Lk)("td",{colspan:"7",class:"text-center"},"No records found",-1)]))):(0,r.Q3)("",!0),((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(i.asset_spares,((e,t)=>((0,r.uX)(),(0,r.CE)("tr",{key:t},[(0,r.Lk)("td",mY,(0,n.v_)((i.meta.page-1)*i.meta.per_page+t+1),1),(0,r.Lk)("td",null,(0,n.v_)(e.asset_zone?.zone_name),1),(0,r.Lk)("td",null,(0,n.v_)(e?.asset_template_service?.service?.service_name),1),(0,r.Lk)("td",null,(0,n.v_)(e.spare?.spare_type?.spare_type_name),1),(0,r.Lk)("td",null,(0,n.v_)(e.spare?.spare_code),1),(0,r.Lk)("td",null,(0,n.v_)(e.spare?.spare_name),1),(0,r.Lk)("td",null,(0,n.v_)(e.quantity),1),(0,r.Lk)("td",bY,[(0,r.bo)(((0,r.uX)(),(0,r.CE)("a",{href:"javascript:void(0)",class:"text-success me-2",onClick:a=>o.editSpare(e)},a[25]||(a[25]=[(0,r.Lk)("i",{class:"ri-pencil-line fs-18 lh-1"},null,-1)]),8,kY)),[[_,"asset_template_Spares.update"]]),(0,r.Lk)("a",{href:"javascript:void(0)",class:"text-primary me-2","data-bs-toggle":"modal","data-bs-target":"#exampleModal",onClick:(0,s.D$)((a=>o.viewAsset(e,"Spares")),["prevent"])},a[26]||(a[26]=[(0,r.Lk)("i",{class:"ri-eye-fill fs-18 lh-1"},null,-1)]),8,vY),(0,r.bo)(((0,r.uX)(),(0,r.CE)("a",{href:"javascript:void(0)",class:"text-danger me-2",onClick:a=>o.deleteSpare(e)},a[27]||(a[27]=[(0,r.Lk)("i",{class:"ri-delete-bin-6-line fs-18 lh-1"},null,-1)]),8,hY)),[[_,"asset_template_Spares.delete"]])])])))),128))])])])])])]),(0,r.Lk)("div",yY,[(0,r.Lk)("div",gY,[(0,r.bo)((0,r.Lk)("select",{class:"form-select from-select-sm width-75","onUpdate:modelValue":a[9]||(a[9]=e=>i.meta.per_page=e),onChange:a[10]||(a[10]=e=>o.onPerPageChange("Spares"))},a[28]||(a[28]=[(0,r.Lk)("option",null,"5",-1),(0,r.Lk)("option",null,"10",-1),(0,r.Lk)("option",null,"15",-1),(0,r.Lk)("option",null,"20",-1),(0,r.Lk)("option",null,"25",-1),(0,r.Lk)("option",null,"30",-1)]),544),[[s.u1,i.meta.per_page]]),(0,r.Lk)("span",null,"Showing "+(0,n.v_)(i.meta.from)+" to "+(0,n.v_)(i.meta.to)+" of "+(0,n.v_)(i.meta.totalRows)+" entries",1),(0,r.bF)(u,{maxPage:i.meta.maxPage,totalPages:i.meta.lastPage,currentPage:i.meta.page,onPagechanged:o.onPageChange,from:"Spares"},null,8,["maxPage","totalPages","currentPage","onPagechanged"])])])])])),[[_,"asset_template_Spares.view"]]),(0,r.Lk)("div",fY,[(0,r.Lk)("div",LY,[(0,r.Lk)("div",CY,[(0,r.Lk)("div",wY,[(0,r.Lk)("h5",EY,(0,n.v_)(i.asset_type),1),a[30]||(a[30]=(0,r.Lk)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1))]),(0,r.Lk)("div",xY,[(0,r.Lk)("div",XY,[(0,r.Lk)("div",PY,["Spares"==i.asset_type?((0,r.uX)(),(0,r.CE)("div",$Y,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(i.assets1?.asset_spare_attributes,((e,a)=>((0,r.uX)(),(0,r.CE)("div",{class:"col-md-4",key:a},[e.spare_attributes.length&&"Text"==e.spare_attributes[0].field_type?((0,r.uX)(),(0,r.CE)("div",SY,[(0,r.Lk)("label",AY,(0,n.v_)(e.spare_attributes[0].display_name),1),e.spare_attributes[0].is_required?((0,r.uX)(),(0,r.CE)("span",DY,"*")):(0,r.Q3)("",!0),(0,r.Lk)("input",{type:"text",class:(0,n.C4)(["form-control",{"is-invalid":i.errors[e.spare_attributes[0].display_name]}]),placeholder:"Enter "+e.spare_attributes[0].display_name,value:e.field_value,disabled:"true"},null,10,TY),i.errors[e.spare_attributes[0].display_name]?((0,r.uX)(),(0,r.CE)("span",QY,(0,n.v_)(i.errors[e.spare_attributes[0].display_name][0]),1)):(0,r.Q3)("",!0)])):(0,r.Q3)("",!0),e.spare_attributes.length&&"Number"==e.spare_attributes[0].field_type?((0,r.uX)(),(0,r.CE)("div",VY,[(0,r.Lk)("label",FY,(0,n.v_)(e.spare_attributes[0].display_name),1),e.spare_attributes[0].is_required?((0,r.uX)(),(0,r.CE)("span",UY,"*")):(0,r.Q3)("",!0),(0,r.Lk)("input",{type:"number",class:(0,n.C4)(["form-control",{"is-invalid":i.errors[e.spare_attributes[0].display_name]}]),min:"0",oninput:"validity.valid||(value='');",placeholder:"Enter "+e.spare_attributes[0].display_name,value:e.field_value,disabled:"true"},null,10,jY),i.errors[e.spare_attributes[0].display_name]?((0,r.uX)(),(0,r.CE)("span",zY,(0,n.v_)(i.errors[e.spare_attributes[0].display_name][0]),1)):(0,r.Q3)("",!0)])):(0,r.Q3)("",!0),e.spare_attributes.length&&"Date"===e.spare_attributes[0].field_type?((0,r.uX)(),(0,r.CE)("div",WY,[(0,r.Lk)("label",RY,[(0,r.eW)((0,n.v_)(e.spare_attributes[0].display_name)+" ",1),e.spare_attributes[0].is_required?((0,r.uX)(),(0,r.CE)("span",qY,"*")):(0,r.Q3)("",!0)]),(0,r.Lk)("input",{type:"date",class:(0,n.C4)(["form-control",{"is-invalid":i.errors[e.spare_attributes[0].display_name]}]),placeholder:"Enter "+e.spare_attributes[0].display_name,value:e.field_value,disabled:"true"},null,10,IY),i.errors[e.spare_attributes[0].display_name]?((0,r.uX)(),(0,r.CE)("span",NY,(0,n.v_)(i.errors[e.spare_attributes[0].display_name][0]),1)):(0,r.Q3)("",!0)])):(0,r.Q3)("",!0),e.spare_attributes.length&&"Date&Time"===e.spare_attributes[0].field_type?((0,r.uX)(),(0,r.CE)("div",MY,[(0,r.Lk)("label",KY,[(0,r.eW)((0,n.v_)(e.spare_attributes[0].display_name)+" ",1),e.spare_attributes[0].is_required?((0,r.uX)(),(0,r.CE)("span",JY,"*")):(0,r.Q3)("",!0)]),(0,r.Lk)("input",{type:"datetime-local",class:(0,n.C4)(["form-control",{"is-invalid":i.errors[e.spare_attributes[0].display_name]}]),placeholder:"Enter "+e.spare_attributes[0].display_name,value:e.field_value,step:"1",disabled:"true"},null,10,BY),i.errors[e.spare_attributes[0].display_name]?((0,r.uX)(),(0,r.CE)("span",OY,(0,n.v_)(i.errors[e.spare_attributes[0].display_name][0]),1)):(0,r.Q3)("",!0)])):(0,r.Q3)("",!0),e.spare_attributes.length&&"Dropdown"==e.spare_attributes[0].field_type?((0,r.uX)(),(0,r.CE)("div",HY,[(0,r.Lk)("label",YY,(0,n.v_)(e.spare_attributes[0].display_name),1),e.spare_attributes[0].is_required?((0,r.uX)(),(0,r.CE)("span",ZY,"*")):(0,r.Q3)("",!0),(0,r.Lk)("select",{class:(0,n.C4)(["form-control",{"is-invalid":i.errors[e.spare_attributes[0].display_name]}]),value:e.field_value,disabled:"true"},[e.field_value?((0,r.uX)(),(0,r.CE)("option",{key:0,value:e.field_value},(0,n.v_)(e.field_value),9,eZ)):((0,r.uX)(),(0,r.CE)("option",{key:1,value:e.field_value},"Select "+(0,n.v_)(e.spare_attributes[0].display_name),9,aZ)),((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(e.spare_attributes[0].field_values.split(","),((e,a)=>((0,r.uX)(),(0,r.CE)("option",{key:a,value:e},(0,n.v_)(e),9,tZ)))),128))],10,GY),i.errors[e.spare_attributes[0].display_name]?((0,r.uX)(),(0,r.CE)("span",sZ,(0,n.v_)(i.errors[e.spare_attributes[0].display_name][0]),1)):(0,r.Q3)("",!0)])):(0,r.Q3)("",!0),e.spare_attributes.length&&"Color"==e.spare_attributes[0].field_type?((0,r.uX)(),(0,r.CE)("div",rZ,[(0,r.Lk)("label",lZ,[(0,r.eW)((0,n.v_)(e.spare_attributes[0].display_name),1),e.spare_attributes[0].is_required?((0,r.uX)(),(0,r.CE)("span",iZ,"*")):(0,r.Q3)("",!0)]),(0,r.Lk)("input",{type:"color",class:"form-control",value:e.field_value,style:{height:"2.2rem"},disabled:"true"},null,8,oZ),i.errors[e.spare_attributes[0].display_name]?((0,r.uX)(),(0,r.CE)("span",dZ,(0,n.v_)(i.errors[e.spare_attributes[0].display_name][0]),1)):(0,r.Q3)("",!0)])):(0,r.Q3)("",!0),e.spare_attributes.length&&"List"==e.spare_attributes[0].field_type?((0,r.uX)(),(0,r.CE)("div",nZ,[(0,r.Lk)("label",cZ,(0,n.v_)(e.spare_attributes[0].display_name),1),e.spare_attributes[0].is_required?((0,r.uX)(),(0,r.CE)("span",uZ,"*")):(0,r.Q3)("",!0),(0,r.Lk)("select",{class:(0,n.C4)(["form-control",{"is-invalid":i.errors[e.spare_attributes[0].display_name]}]),value:e.field_value,disabled:"true"},[e.spare_attributes[0].spare_attribute_value.field_value?((0,r.uX)(),(0,r.CE)("option",{key:0,value:e.spare_attributes[0].spare_attribute_value.field_value},(0,n.v_)(e.spare_attributes[0].spare_attribute_value.field_value),9,pZ)):((0,r.uX)(),(0,r.CE)("option",{key:1,value:e.spare_attributes[0].spare_attribute_value.field_value},"Select "+(0,n.v_)(e.spare_attributes[0].display_name),9,mZ)),((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(e.spare_attributes[0].list_parameter?.field_values.split(","),((e,a)=>((0,r.uX)(),(0,r.CE)("option",{key:a,value:e},(0,n.v_)(e),9,bZ)))),128))],10,_Z),i.errors[e.spare_attributes[0].display_name]?((0,r.uX)(),(0,r.CE)("span",kZ,(0,n.v_)(i.errors[e.spare_attributes[0].display_name][0]),1)):(0,r.Q3)("",!0)])):(0,r.Q3)("",!0)])))),128))])):(0,r.Q3)("",!0)])])])])])])],64)}var hZ={name:"AssetTemplates.View",components:{Search:It.A,Pagination:md,MultiSelect:Ru.A},props:{asset_template_id:{type:Number,required:!0}},data(){return{meta:{search:"",order_by:"desc",keyword:"spare_id",per_page:10,totalRows:0,page:1,lastPage:1,from:1,to:1,maxPage:1,trashed:!1,asset_template_id:"",asset_type_id:""},asset:{asset_template_id:"",plant_id:"",template_code:"",template_name:"",asset_type_id:"",section_id:"",serial_no:"",status:"",QR_Code:""},spare:{spare_id:"",asset_template_spare_id:"",spare_code:"",spare_name:"",asset_template_id:"",template_zone_id:"",spare_template_zones_obj:[],spare_template_zones:[],quantity:"",asset_spare_attributes:[],initial_spare_id:"",initial_asset_spare_attributes:[],deleted_asset_spare_values:[],spare_zone_read_only:!1,asset_template_service_id:""},device_code:"",spares:[],asset_spares:[],checks:[],asset_checks:[],asset_services:[],asset_variables:[],asset_data_sources:[],accessory_types:[],asset_accessories:[],template_services:[],template_spare_services:[],asset_zones:[],errors:[],status:!0,asset_zone_status:!1,asset_zone_status_variables:!1,asset_zone_status_datasources:!1,asset_zone_status_spares:!1,asset_zone_status_checks:!1,asset_zone_status_services:!1,asset_zone_status_accessories:!1,asset_type:"",initial_status:!0,isValid:!0,assets1:[],filter_check:{},error_style:{"border-color":"#dc3545","padding-right":"calc(1.5em + 0.812rem)","background-image":"url(\"data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 12 12' width='12' height='12' fill='none' stroke='%23dc3545'%3e%3ccircle cx='6' cy='6' r='4.5'/%3e%3cpath stroke-linejoin='round' d='M5.8 3.6h.4L6 6.5z'/%3e%3ccircle cx='6' cy='8.2' r='.6' fill='%23dc3545' stroke='none'/%3e%3c/svg%3e\")","background-repeat":"no-repeat","background-position":"right calc(0.375em + 0.203rem) center","background-size":"calc(0.75em + 0.406rem) calc(0.75em + 0.406rem)"}}},watch:{assets1(){this.assets1=this.$store.getters.asset_templates},"check.check_id":function(){let e=this,a=e.checks.filter((a=>a.check_id==e.check.check_id));console.log("vm.check.template_check_status",e.check.template_check_status),a.length&&!e.check.template_check_status&&(e.check.lcl=a[0].lcl,e.check.ucl=a[0].ucl,e.check.order=a[0].order,e.check.default_value=a[0].default_value,e.check.field_type=a[0]?.field_type,e.check.field_values=a[0]?.field_values),e.check.template_check_status&&(e.check.field_type=a[0]?.field_type,e.check.field_values=a[0]?.field_values)}},computed:{formattedTemplateServices(){return this.template_services.map((e=>({...e,displayName:`${e.zone_name} - ${e.service_name}`})))},formattedTemplateSpareServices(){return this.template_spare_services.map((e=>({...e,displayName:`${e.zone_name} - ${e.service_name}`})))}},mounted(){document.body.classList.add("sidebar-hide"),this.getAssetTemplate()},methods:{getAssetTemplate(){let e=this;e.$store.dispatch("post",{uri:"getAssetTemplate",data:{asset_template_id:e.asset_template_id}}).then((a=>{e.asset=a.data.data,e.asset_zones=a?.data?.data?.zone_name,e.getAssetSpares()})).catch((function(a){e.errors=a.response?.data?.errors,e.$store.dispatch("error",a.response?.data?.message)}))},getAssetSpares(){let e=this,a=e.$loading.show();e.meta.asset_template_id=e.asset.asset_template_id,e.meta.asset_type_id=e.asset.asset_type_id,e.$store.dispatch("post",{uri:"paginateAssetTemplateSpares",data:e.meta}).then((t=>{a.hide(),e.asset_spares=t.data.paginate_spares,e.spares=t?.data?.spares,e.template_spare_services=t.data.template_spare_services,e.meta.totalRows=t.data.meta.total,e.meta.from=t.data.meta.from,e.meta.to=t.data.meta.to,e.meta.lastPage=t.data.meta.last_page,e.meta.maxPage=e.meta.lastPage>=3?3:e.meta.lastPage})).catch((function(t){a.hide(),console.log("paginate spare errors-----------",t),e.errors=t.response.data.errors,e.$store.dispatch("error",t.response.data.message)}))},editSpare(e){this.spare.spare_id=e.spare_id,this.spare.asset_template_id=e.asset_template_id,this.spare.asset_template_spare_id=e.asset_template_spare_id,this.spare.spare_code=e.spare_code,this.spare.spare_name=e.spare_name,this.spare.spare_template_zones=[],this.spare.spare_template_zones.push(e.template_zone_id),this.spare.spare_template_zones_obj=[],this.spare.spare_template_zones_obj.push({asset_template_id:e.asset_zone.asset_template_id,template_zone_id:e.asset_zone.template_zone_id,zone_name:e.asset_zone.zone_name,diameter:e.asset_zone.diameter,height:e.asset_zone.height,asset_spares:e.asset_zone.asset_spares}),this.spare.spare_zone_read_only=!0,this.spare.template_zone_id=e.template_zone_id,this.spare.quantity=e.quantity,this.spare.asset_spare_attributes=e.asset_spare_attributes,this.spare.initial_spare_id=e.spare_id,this.spare.initial_asset_spare_attributes=e.asset_spare_attributes;const a=this.formattedTemplateSpareServices.find((a=>a.asset_template_service_id===e.asset_template_service_id));a&&(this.spare.spare_template_zones_obj=[a],this.spare.asset_template_service_id=a.asset_template_service_id)},validateFields(e){if(this.isValid=!0,this.errors={},"Spares"==e)for(const a of Object.values(this.spare.asset_spare_attributes))a.spare_attributes.length&&a.spare_attributes[0].is_required&&!a.field_value&&("Color"===a.spare_attributes[0].field_type?a.field_value="#000000":(this.errors[a.spare_attributes[0].display_name]=[`${a.spare_attributes[0].display_name} is required`],this.isValid=!1))},addSpare(){let e=this;e.spare.asset_template_id=e.asset.asset_template_id,e.spare.spare_template_zones=[],e.spare.spare_template_zones_obj.map((function(a){e.spare.spare_template_zones.push(a.asset_template_service_id)}));let a=e.$loading.show();e.validateFields("Spares"),e.isValid?e.$store.dispatch("post",{uri:"addAssetTemplateSpare",data:e.spare}).then((t=>{a.hide(),e.$store.dispatch("success",t.data.message),e.spare.spare_id="",e.spare.template_zone_id=[],e.spare.spare_template_zones=[],e.spare.spare_template_zones_obj=[],e.spare.quantity="",e.spare.asset_spare_attributes=[],e.spare.initial_spare_id="",e.spare.asset_template_service_id="",e.spare.initial_asset_spare_attributes=[],e.spare.deleted_asset_spare_values=[],e.asset_zone_status_spares=!1,e.errors=[],e.spare.spare_zone_read_only=!1,e.getAssetSpares()})).catch((function(t){a.hide(),e.errors=t.response.data.errors,e.$store.dispatch("error",t.response.data.message)})):a.hide()},updateSpare(){let e=this,a=e.$loading.show();if(e.validateFields("Spares"),!e.isValid)return void a.hide();e.spare.spare_id!=e.spare.initial_spare_id&&e.spare.initial_asset_spare_attributes.map((function(a){e.spare.deleted_asset_spare_values.push(a.template_spare_value_id)}));let t={uri:"updateAssetTemplateSpare",data:e.spare};e.$store.dispatch("post",t).then((function(t){a.hide(),e.$store.dispatch("success",t.data.message),e.spare.spare_id="",e.spare.template_zone_id="",e.spare.asset_template_spare_id="",e.spare.spare_template_zones_obj=[],e.spare.spare_template_zones=[],e.spare.quantity="",e.spare.asset_template_service_id="",e.spare.asset_spare_attributes=[],e.spare.initial_spare_id="",e.spare.initial_asset_spare_attributes=[],e.spare.deleted_asset_spare_values=[],e.asset_zone_status_spares=!1,e.errors=[],e.spare.spare_zone_read_only=!1,e.getAssetSpares()})).catch((function(t){a.hide(),e.errors=t.response?.data?.errors,e.$store.dispatch("error",t?.response?.data?.message)}))},deleteSpare(e){const a=confirm("Are you sure you want to delete it ?");if(a){let a=this,t=a.$loading.show();a.$store.dispatch("post",{uri:"forceDeleteAssetTemplateSpare",data:e}).then((e=>{t.hide(),a.$store.dispatch("success",e.data.message),a.spare.spare_id="",a.errors=[],a.getAssetSpares()})).catch((function(e){t.hide(),a.errors=e.response.data.errors,a.$store.dispatch("error",e.response.data.message)}))}},searchSpare(){let e=this;e.meta.page=1,e.getAssetSpares()},onPageChange(e,a){"Spares"==a&&(this.meta.page=e,this.getAssetSpares())},sort(e,a){"Spares"==a&&(this.meta.keyword=e,this.meta.order_by="asc"==this.meta.order_by?"desc":"asc",this.getAssetSpares())},onPerPageChange(e){"Spares"==e&&(this.meta.page=1,this.getAssetSpares())},getSpareAttribute(e){let a=this,t=a.$loading.show();a.spare.asset_spare_attributes=[],a.$store.dispatch("post",{uri:"assetSpareAttributeValues",data:{spare_id:e}}).then((e=>{t.hide(),a.spare.asset_spare_attributes=e.data.data})).catch((function(e){t.hide(),a.errors=e.response.data.errors,a.$store.dispatch("error",e.response.data.message)}))},viewAsset(e,a){this.$store.commit("setAssetTemplates",e),this.asset_type=a,this.assets1=this.$store.getters.asset_templates}}};const yZ=(0,Ze.A)(hZ,[["render",vZ],["__scopeId","data-v-e3d8d396"]]);var gZ=yZ,fZ={name:"AssetTemplates.View",components:{Accessories:bR,DataSources:oK,Services:EW,Variables:SB,Checks:IO,Spares:gZ,Search:It.A,Pagination:md,MultiSelect:Ru.A},data(){return{tab:"services",asset:{asset_template_id:"",plant_id:"",template_code:"",template_name:"",asset_type_id:"",section_id:"",serial_no:"",status:"",QR_Code:""},asset_zones:[]}},beforeRouteEnter(e,a,t){t((a=>{document.body.classList.add("sidebar-hide"),a.asset.asset_template_id=e.params.asset_template_id;let t={uri:"getAssetTemplate",data:{asset_template_id:e.params.asset_template_id}};a.$store.dispatch("post",t).then((function(e){a.asset=e.data.data,console.log("ASSSS=",a.asset),a.asset_zones=e?.data?.data?.zone_name})).catch((function(e){console.log("Error",e)}))}))},mounted(){document.body.classList.add("sidebar-hide"),this.getSettings()},methods:{getSettings(){let e=this;e.openTab(e.tab)},openTab(e){let a=this;a.tab=e,"services"==a.tab&&a.$refs.services_tab,"checks"==a.tab&&a.$refs.checks_tab,"spares"==a.tab&&a.$refs.spares_tab,"variables"==a.tab&&a.$refs.variables_tab,"data_sources"==a.tab&&a.$refs.data_sources_tab,"accessories"==a.tab&&a.$refs.accessories_tab}}};const LZ=(0,Ze.A)(fZ,[["render",aj],["__scopeId","data-v-938500e0"]]);var CZ=LZ;const wZ={class:""},EZ={class:"d-sm-flex align-items-center justify-content-between mb-2"},xZ={class:"breadcrumb fs-sm mb-1"},XZ={class:"breadcrumb-item","aria-current":"page"},PZ={class:"row"},$Z={class:"col-12"},SZ={class:"card card-one"},AZ={class:"card-body"},DZ={class:"table-responsive table-responsive-sm"},TZ={class:"table table-sm text-nowrap table-striped table-bordered mb-0"},QZ={class:"",style:{"background-color":"#9b9b9b",color:"white"}},VZ={key:0,class:"ri-arrow-up-line"},FZ={key:1,class:"ri-arrow-down-line"},UZ={key:2,class:"fas fa-sort"},jZ={key:0,class:"ri-arrow-up-line"},zZ={key:1,class:"ri-arrow-down-line"},WZ={key:2,class:"fas fa-sort"},RZ={key:0,class:"ri-arrow-up-line"},qZ={key:1,class:"ri-arrow-down-line"},IZ={key:2,class:"fas fa-sort"},NZ={key:0,class:"ri-arrow-up-line"},MZ={key:1,class:"ri-arrow-down-line"},KZ={key:2,class:"fas fa-sort"},JZ={class:"text-center"},BZ={class:"text-center"},OZ={class:"text-center"},HZ=["onClick"],YZ=["onClick"],ZZ={key:0},GZ={class:"card-footer"},eG={class:"d-flex justify-content-between align-items-center"};function aG(e,a,t,l,i,o){const d=(0,r.g2)("router-link"),c=(0,r.g2)("Pagination"),u=(0,r.gN)("can");return(0,r.uX)(),(0,r.CE)("div",wZ,[(0,r.Lk)("div",EZ,[(0,r.Lk)("div",null,[(0,r.Lk)("ol",xZ,[(0,r.Lk)("li",XZ,[(0,r.bF)(d,{to:"/dashboard"},{default:(0,r.k6)((()=>a[8]||(a[8]=[(0,r.eW)("Dashboard")]))),_:1})]),a[9]||(a[9]=(0,r.Lk)("li",{class:"breadcrumb-item"},[(0,r.Lk)("a",{href:"javascript:void(0)"},"Registers")],-1)),a[10]||(a[10]=(0,r.Lk)("li",{class:"breadcrumb-item active","aria-current":"page"},"Activities",-1))]),a[11]||(a[11]=(0,r.Lk)("h4",{class:"main-title mb-0"},"Activities",-1))]),(0,r.bo)(((0,r.uX)(),(0,r.Wv)(d,{to:"/activity/create",class:"btn btn-primary",style:{float:"right"}},{default:(0,r.k6)((()=>a[12]||(a[12]=[(0,r.Lk)("i",{class:"ri-list-check"},null,-1),(0,r.eW)(" ADD ACTIVITY")]))),_:1})),[[u,"activity_registers.create"]])]),(0,r.Lk)("div",PZ,[(0,r.Lk)("div",$Z,[(0,r.Lk)("div",SZ,[a[26]||(a[26]=(0,r.Lk)("div",{class:"card-header d-flex justify-content-between"},[(0,r.Lk)("h6",{class:"card-title"},"Activities")],-1)),(0,r.Lk)("div",AZ,[(0,r.bo)((0,r.Lk)("input",{class:"form-control form-control-sm mb-2",type:"text",placeholder:"Type keyword and press enter key","onUpdate:modelValue":a[0]||(a[0]=e=>i.meta.search=e),onKeypress:a[1]||(a[1]=(0,s.jR)((e=>o.search()),["enter"]))},null,544),[[s.Jo,i.meta.search]]),(0,r.Lk)("div",DZ,[(0,r.Lk)("table",TZ,[(0,r.Lk)("thead",null,[(0,r.Lk)("tr",QZ,[a[18]||(a[18]=(0,r.Lk)("th",{class:"text-center"},"#",-1)),(0,r.Lk)("th",{onClick:a[2]||(a[2]=e=>o.sort("activity_no"))},[a[13]||(a[13]=(0,r.eW)(" Activity No. ")),(0,r.Lk)("span",null,["activity_no"==i.meta.keyword&&"asc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",VZ)):"activity_no"==i.meta.keyword&&"desc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",FZ)):((0,r.uX)(),(0,r.CE)("i",UZ))])]),a[19]||(a[19]=(0,r.Lk)("th",null,"Activity Date & Time",-1)),(0,r.Lk)("th",{onClick:a[3]||(a[3]=e=>o.sort("asset_code"))},[a[14]||(a[14]=(0,r.eW)(" Asset Code ")),(0,r.Lk)("span",null,["asset_code"==i.meta.keyword&&"asc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",jZ)):"asset_code"==i.meta.keyword&&"desc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",zZ)):((0,r.uX)(),(0,r.CE)("i",WZ))])]),(0,r.Lk)("th",{onClick:a[4]||(a[4]=e=>o.sort("reason_code"))},[a[15]||(a[15]=(0,r.eW)(" Reason ")),(0,r.Lk)("span",null,["reason_code"==i.meta.keyword&&"asc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",RZ)):"reason_code"==i.meta.keyword&&"desc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",qZ)):((0,r.uX)(),(0,r.CE)("i",IZ))])]),(0,r.Lk)("th",{onClick:a[5]||(a[5]=e=>o.sort("cost"))},[a[16]||(a[16]=(0,r.eW)(" Cost ")),(0,r.Lk)("span",null,["cost"==i.meta.keyword&&"asc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",NZ)):"cost"==i.meta.keyword&&"desc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",MZ)):((0,r.uX)(),(0,r.CE)("i",KZ))])]),a[20]||(a[20]=(0,r.Lk)("th",null," Created By ",-1)),(0,r.bo)(((0,r.uX)(),(0,r.CE)("th",JZ,a[17]||(a[17]=[(0,r.eW)("Actions")]))),[[u,["activity_registers.update","activity_registers.delete"]]])])]),(0,r.Lk)("tbody",null,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(i.activities,((e,t)=>((0,r.uX)(),(0,r.CE)("tr",{key:t},[(0,r.Lk)("td",BZ,(0,n.v_)(i.meta.from+t),1),(0,r.Lk)("td",null,(0,n.v_)(e.activity_no),1),(0,r.Lk)("td",null,(0,n.v_)(o.convertDateFormat(e.activity_date)),1),(0,r.Lk)("td",null,(0,n.v_)(e.asset?.asset_code),1),(0,r.Lk)("td",null,(0,n.v_)(e.reason?.reason_code),1),(0,r.Lk)("td",null,(0,n.v_)(e.cost),1),(0,r.Lk)("td",null,[(0,r.eW)((0,n.v_)(e?.user?.name)+" ",1),a[21]||(a[21]=(0,r.Lk)("br",null,null,-1)),(0,r.eW)(" "+(0,n.v_)(e.created_at),1)]),(0,r.bo)(((0,r.uX)(),(0,r.CE)("td",OZ,[e.status?(0,r.bo)(((0,r.uX)(),(0,r.CE)("a",{key:0,title:"Edit",href:"javascript:void(0)",class:"text-success me-2",onClick:a=>o.editActivity(e)},a[22]||(a[22]=[(0,r.Lk)("i",{class:"ri-pencil-line fs-18 lh-1"},null,-1)]),8,HZ)),[[u,"activity_registers.update"]]):(0,r.Q3)("",!0),(0,r.bo)(((0,r.uX)(),(0,r.CE)("a",{title:"Delete",href:"javascript:void(0)",class:"text-danger me-2",onClick:(0,s.D$)((a=>o.deleteActivity(e)),["prevent"])},a[23]||(a[23]=[(0,r.Lk)("i",{class:"ri-delete-bin-6-line fs-18 lh-1"},null,-1)]),8,YZ)),[[u,"activity_registers.delete"]])])),[[u,["activity_registers.update","activity_registers.delete"]]])])))),128)),0==i.activities.length?((0,r.uX)(),(0,r.CE)("tr",ZZ,a[24]||(a[24]=[(0,r.Lk)("td",{colspan:"8",class:"text-center"},"No records found",-1)]))):(0,r.Q3)("",!0)])])])]),(0,r.Lk)("div",GZ,[(0,r.Lk)("div",eG,[(0,r.bo)((0,r.Lk)("select",{class:"form-select from-select-sm width-75","onUpdate:modelValue":a[6]||(a[6]=e=>i.meta.per_page=e),onChange:a[7]||(a[7]=(...e)=>o.onPerPageChange&&o.onPerPageChange(...e))},a[25]||(a[25]=[(0,r.Lk)("option",null,"10",-1),(0,r.Lk)("option",null,"15",-1),(0,r.Lk)("option",null,"20",-1),(0,r.Lk)("option",null,"25",-1),(0,r.Lk)("option",null,"30",-1)]),544),[[s.u1,i.meta.per_page]]),(0,r.Lk)("span",null,"Showing "+(0,n.v_)(i.meta.from)+" to "+(0,n.v_)(i.meta.to)+" of "+(0,n.v_)(i.meta.totalRows)+" entries",1),(0,r.bF)(c,{maxPage:i.meta.maxPage,totalPages:i.meta.lastPage,currentPage:parseInt(i.meta.page),onPagechanged:o.onPageChange},null,8,["maxPage","totalPages","currentPage","onPagechanged"])])])])])])])}var tG=t(9148),sG=t.n(tG),rG={components:{Pagination:md},data(){return{meta:{search:"",order_by:"desc",keyword:"user_activity_id",per_page:10,totalRows:0,page:1,lastPage:1,from:1,to:1,maxPage:1,trashed:!1},get_activity:[],get_asset:[],activities:[],errors:[],status:!0}},beforeRouteEnter(e,a,t){t((e=>{"Activity.Edit"!=a.name?e.$store.commit("setCurrentPage",e.meta.page):e.meta.page=e.$store.getters.current_page}))},mounted(){this.get_activity=this.$store.getters.permissions.filter((function(e){return e.ability.ability.includes("userActivities.update")||e.ability.ability.includes("userActivities.delete")})),this.$store.commit("setAssetId",""),this.index()},methods:{index(){let e=this,a=e.$loading.show();e.$store.dispatch("post",{uri:"paginateUserActivities",data:e.meta}).then((t=>{a.hide(),e.activities=t.data.data,e.meta.totalRows=t.data.meta.total,e.meta.from=t.data.meta.from,e.meta.to=t.data.meta.to,e.meta.lastPage=t.data.meta.last_page,e.meta.maxPage=e.meta.lastPage>=3?3:e.meta.lastPage})).catch((function(t){a.hide(),e.errors=t.response.data.errors,e.$store.dispatch("error",t.response.data.message)}))},convertDateFormat(e){return sG()(e).format("yyyy-MM-DD HH:mm")},editActivity(e){this.$store.commit("setCurrentPage",parseInt(this.meta.page)),this.$router.push("/activity/"+e.user_activity_id+"/edit")},deleteActivity(e){const a=confirm("Are you sure you want to delete it ?");if(a){let a=this,t=a.$loading.show();a.$store.dispatch("post",{uri:"deleteUserActivity",data:e}).then((e=>{t.hide(),a.$store.dispatch("success",e.data.message),a.index()})).catch((function(e){t.hide(),a.errors=e.response.data.errors,a.$store.dispatch("error",e.response.data.message)}))}},search(){let e=this;e.meta.page=1,e.index()},onPageChange(e){this.meta.page=e,this.index()},sort(e){this.meta.keyword=e,this.meta.order_by="asc"==this.meta.order_by?"desc":"asc",this.index()},onPerPageChange(){let e=this;e.meta.page=1,e.index()}}};const lG=(0,Ze.A)(rG,[["render",aG]]);var iG=lG;const oG={class:""},dG={class:"d-sm-flex align-items-center justify-content-between mb-2"},nG={class:"breadcrumb fs-sm mb-1"},cG={class:"breadcrumb-item","aria-current":"page"},uG={class:"breadcrumb-item","aria-current":"page"},_G={key:0,class:"breadcrumb-item","aria-current":"page"},pG={key:1,class:"breadcrumb-item active","aria-current":"page"},mG={class:"row"},bG={class:"col-12"},kG={class:"card card-one"},vG={class:"card-header d-flex justify-content-between"},hG={key:0,class:"card-title"},yG={key:1,class:"card-title"},gG={class:"card-body"},fG={class:"row g-2"},LG={class:"col-md-4"},CG={key:0,class:"invalid-feedback"},wG={class:"col-md-4"},EG={key:0,class:"invalid-feedback"},xG={class:"col-md-4"},XG={key:0,class:"invalid-feedback"},PG={key:0},$G={class:"form-label"},SG={key:0,class:"text-danger"},AG=["placeholder","onUpdate:modelValue"],DG={key:1,class:"invalid-feedback"},TG={key:1},QG={class:"form-label"},VG={key:0,class:"text-danger"},FG=["placeholder","onUpdate:modelValue"],UG={key:1,class:"invalid-feedback"},jG={key:2},zG={class:"form-label"},WG={key:0,class:"text-danger"},RG=["placeholder","onUpdate:modelValue"],qG={key:0,class:"invalid-feedback"},IG={key:3},NG={class:"form-label"},MG={key:0,class:"text-danger"},KG=["placeholder","onUpdate:modelValue"],JG={key:0,class:"invalid-feedback"},BG={key:4},OG={class:"form-label"},HG={key:0,class:"text-danger"},YG=["onUpdate:modelValue"],ZG=["value"],GG=["value"],e0=["value"],a0={key:1,class:"invalid-feedback"},t0={key:5},s0={class:"form-label"},r0={key:0,class:"text-danger"},l0=["onUpdate:modelValue"],i0={key:0,class:"invalid-feedback"},o0={key:6},d0={class:"form-label"},n0={key:0,class:"text-danger"},c0=["onUpdate:modelValue"],u0=["value"],_0=["value"],p0=["value"],m0={key:1,class:"invalid-feedback"},b0={class:"col-md-4"},k0={key:0,class:"invalid-feedback"},v0={class:"col-md-12"},h0={key:0,class:"invalid-feedback"},y0={class:"card-footer text-end"},g0={type:"submit",class:"btn btn-primary"},f0={key:0},L0={key:1};function C0(e,a,t,l,i,o){const d=(0,r.g2)("router-link"),c=(0,r.g2)("search");return(0,r.uX)(),(0,r.CE)("div",oG,[(0,r.Lk)("div",dG,[(0,r.Lk)("div",null,[(0,r.Lk)("ol",nG,[(0,r.Lk)("li",cG,[(0,r.bF)(d,{to:"/dashboard"},{default:(0,r.k6)((()=>a[7]||(a[7]=[(0,r.eW)("Dashboard")]))),_:1})]),a[9]||(a[9]=(0,r.Lk)("li",{class:"breadcrumb-item"},[(0,r.Lk)("a",{href:"javascript:void(0)"},"Registers")],-1)),(0,r.Lk)("li",uG,[(0,r.bF)(d,{to:"/activities"},{default:(0,r.k6)((()=>a[8]||(a[8]=[(0,r.eW)("Activities")]))),_:1})]),i.status?((0,r.uX)(),(0,r.CE)("li",_G,"New Activity")):((0,r.uX)(),(0,r.CE)("li",pG,"Update Activity"))]),a[10]||(a[10]=(0,r.Lk)("h4",{class:"main-title mb-0"},"Activity",-1))]),(0,r.bF)(d,{to:"/activities",type:"submit",class:"btn btn-primary",style:{float:"right"}},{default:(0,r.k6)((()=>a[11]||(a[11]=[(0,r.Lk)("i",{class:"ri-list-check"},null,-1),(0,r.eW)(" ACTIVITIES")]))),_:1})]),(0,r.Lk)("div",mG,[(0,r.Lk)("div",bG,[(0,r.Lk)("form",{onSubmit:a[6]||(a[6]=(0,s.D$)(((...e)=>o.submitForm&&o.submitForm(...e)),["prevent"]))},[(0,r.Lk)("div",kG,[(0,r.Lk)("div",vG,[i.status?((0,r.uX)(),(0,r.CE)("h6",hG,"Add Activity")):((0,r.uX)(),(0,r.CE)("h6",yG,"Update Activity"))]),(0,r.Lk)("div",gG,[(0,r.Lk)("div",fG,[(0,r.Lk)("div",LG,[a[12]||(a[12]=(0,r.Lk)("label",{class:"form-label"},"Asset",-1)),a[13]||(a[13]=(0,r.Lk)("span",{class:"text-danger"}," *",-1)),(0,r.bF)(c,{disabled:!i.status,class:(0,n.C4)({"is-invalid":i.errors.asset_id}),customClass:{"is-invalid":i.errors.asset_id},initialize:i.activity.asset_id,id:"asset_id",label:"asset_name",label2:"asset_code",placeholder:"Select Asset",data:i.assets,onInput:a[0]||(a[0]=e=>i.activity.asset_id=e)},null,8,["disabled","class","customClass","initialize","data"]),i.errors.asset_id?((0,r.uX)(),(0,r.CE)("span",CG,(0,n.v_)(i.errors.asset_id[0]),1)):(0,r.Q3)("",!0)]),(0,r.Lk)("div",wG,[a[14]||(a[14]=(0,r.Lk)("label",{class:"form-label"},"Activity Type",-1)),a[15]||(a[15]=(0,r.Lk)("span",{class:"text-danger"}," *",-1)),(0,r.bF)(c,{disabled:!i.status,class:(0,n.C4)({"is-invalid":i.errors.reason_id}),customClass:{"is-invalid":i.errors.reason_id},initialize:i.activity.reason_id,id:"reason_id",label:"reason_name",label2:"reason_code",placeholder:"Select Activity Type",data:i.reasons,onInput:a[1]||(a[1]=e=>i.activity.reason_id=e),onSelectsearch:a[2]||(a[2]=e=>o.getActivityTypeFields(i.activity.reason_id))},null,8,["disabled","class","customClass","initialize","data"]),i.errors.reason_id?((0,r.uX)(),(0,r.CE)("span",EG,"Activity type field is required")):(0,r.Q3)("",!0)]),(0,r.Lk)("div",xG,[a[16]||(a[16]=(0,r.Lk)("label",{class:"form-label"},"Activity Date & Time",-1)),a[17]||(a[17]=(0,r.Lk)("span",{class:"text-danger"}," *",-1)),(0,r.bo)((0,r.Lk)("input",{type:"datetime-local",class:(0,n.C4)(["form-control",{"is-invalid":i.errors.activity_date}]),placeholder:"Enter Activity Date",ref:"activity_date",step:"any","onUpdate:modelValue":a[3]||(a[3]=e=>i.activity.activity_date=e)},null,2),[[s.Jo,i.activity.activity_date]]),i.errors.activity_date?((0,r.uX)(),(0,r.CE)("span",XG,(0,n.v_)(i.errors.activity_date[0]),1)):(0,r.Q3)("",!0)]),((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(i.activity.activity_attributes,((e,a)=>((0,r.uX)(),(0,r.CE)("div",{class:"col-md-4",key:a},["Text"==e.field_type?((0,r.uX)(),(0,r.CE)("div",PG,[(0,r.Lk)("label",$G,(0,n.v_)(e.display_name),1),e.is_required?((0,r.uX)(),(0,r.CE)("span",SG,"*")):(0,r.Q3)("",!0),(0,r.bo)((0,r.Lk)("input",{type:"text",class:(0,n.C4)(["form-control",{"is-invalid":i.errors[e.display_name]}]),placeholder:"Enter "+e.display_name,"onUpdate:modelValue":a=>e.activity_attribute_value.field_value=a},null,10,AG),[[s.Jo,e.activity_attribute_value.field_value]]),i.errors[e.display_name]?((0,r.uX)(),(0,r.CE)("span",DG,(0,n.v_)(i.errors[e.display_name][0]),1)):(0,r.Q3)("",!0)])):(0,r.Q3)("",!0),"Number"==e.field_type?((0,r.uX)(),(0,r.CE)("div",TG,[(0,r.Lk)("label",QG,(0,n.v_)(e.display_name),1),e.is_required?((0,r.uX)(),(0,r.CE)("span",VG,"*")):(0,r.Q3)("",!0),(0,r.bo)((0,r.Lk)("input",{type:"number",class:(0,n.C4)(["form-control",{"is-invalid":i.errors[e.display_name]}]),min:"0",oninput:"validity.valid||(value='');",placeholder:"Enter "+e.display_name,"onUpdate:modelValue":a=>e.activity_attribute_value.field_value=a},null,10,FG),[[s.Jo,e.activity_attribute_value.field_value]]),i.errors[e.display_name]?((0,r.uX)(),(0,r.CE)("span",UG,(0,n.v_)(i.errors[e.display_name][0]),1)):(0,r.Q3)("",!0)])):(0,r.Q3)("",!0),"Date"===e.field_type?((0,r.uX)(),(0,r.CE)("div",jG,[(0,r.Lk)("label",zG,[(0,r.eW)((0,n.v_)(e.display_name)+" ",1),e.is_required?((0,r.uX)(),(0,r.CE)("span",WG,"*")):(0,r.Q3)("",!0)]),(0,r.bo)((0,r.Lk)("input",{type:"date",class:(0,n.C4)(["form-control",{"is-invalid":i.errors[e.display_name]}]),placeholder:"Enter "+e.display_name,"onUpdate:modelValue":a=>e.activity_attribute_value.field_value=a},null,10,RG),[[s.Jo,e.activity_attribute_value.field_value]]),i.errors[e.display_name]?((0,r.uX)(),(0,r.CE)("span",qG,(0,n.v_)(i.errors[e.display_name][0]),1)):(0,r.Q3)("",!0)])):(0,r.Q3)("",!0),"Date&Time"===e.field_type?((0,r.uX)(),(0,r.CE)("div",IG,[(0,r.Lk)("label",NG,[(0,r.eW)((0,n.v_)(e.display_name)+" ",1),e.is_required?((0,r.uX)(),(0,r.CE)("span",MG,"*")):(0,r.Q3)("",!0)]),(0,r.bo)((0,r.Lk)("input",{type:"datetime-local",class:(0,n.C4)(["form-control",{"is-invalid":i.errors[e.display_name]}]),placeholder:"Enter "+e.display_name,"onUpdate:modelValue":a=>e.activity_attribute_value.field_value=a,step:"1"},null,10,KG),[[s.Jo,e.activity_attribute_value.field_value]]),i.errors[e.display_name]?((0,r.uX)(),(0,r.CE)("span",JG,(0,n.v_)(i.errors[e.display_name][0]),1)):(0,r.Q3)("",!0)])):(0,r.Q3)("",!0),"Dropdown"==e.field_type?((0,r.uX)(),(0,r.CE)("div",BG,[(0,r.Lk)("label",OG,(0,n.v_)(e.display_name),1),e.is_required?((0,r.uX)(),(0,r.CE)("span",HG,"*")):(0,r.Q3)("",!0),(0,r.bo)((0,r.Lk)("select",{class:(0,n.C4)(["form-control",{"is-invalid":i.errors[e.display_name]}]),"onUpdate:modelValue":a=>e.activity_attribute_value.field_value=a},[e.activity_attribute_value.field_value?((0,r.uX)(),(0,r.CE)("option",{key:0,value:e.activity_attribute_value.field_value},(0,n.v_)(e.activity_attribute_value.field_value),9,ZG)):((0,r.uX)(),(0,r.CE)("option",{key:1,value:e.activity_attribute_value.field_value},"Select "+(0,n.v_)(e.display_name),9,GG)),((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(e.field_values.split(","),((e,a)=>((0,r.uX)(),(0,r.CE)("option",{key:a,value:e},(0,n.v_)(e),9,e0)))),128))],10,YG),[[s.u1,e.activity_attribute_value.field_value]]),i.errors[e.display_name]?((0,r.uX)(),(0,r.CE)("span",a0,(0,n.v_)(i.errors[e.display_name][0]),1)):(0,r.Q3)("",!0)])):(0,r.Q3)("",!0),"Color"==e.field_type?((0,r.uX)(),(0,r.CE)("div",t0,[(0,r.Lk)("label",s0,[(0,r.eW)((0,n.v_)(e.display_name),1),e.is_required?((0,r.uX)(),(0,r.CE)("span",r0,"*")):(0,r.Q3)("",!0)]),(0,r.bo)((0,r.Lk)("input",{type:"color",class:"form-control","onUpdate:modelValue":a=>e.activity_attribute_value.field_value=a,style:{height:"2.2rem"}},null,8,l0),[[s.Jo,e.activity_attribute_value.field_value]]),i.errors[e.display_name]?((0,r.uX)(),(0,r.CE)("span",i0,(0,n.v_)(i.errors[e.display_name][0]),1)):(0,r.Q3)("",!0)])):(0,r.Q3)("",!0),"List"==e.field_type?((0,r.uX)(),(0,r.CE)("div",o0,[(0,r.Lk)("label",d0,(0,n.v_)(e.display_name),1),e.is_required?((0,r.uX)(),(0,r.CE)("span",n0,"*")):(0,r.Q3)("",!0),(0,r.bo)((0,r.Lk)("select",{class:(0,n.C4)(["form-control",{"is-invalid":i.errors[e.display_name]}]),"onUpdate:modelValue":a=>e.activity_attribute_value.field_value=a},[e.activity_attribute_value.field_value?((0,r.uX)(),(0,r.CE)("option",{key:0,value:e.activity_attribute_value.field_value},(0,n.v_)(e.activity_attribute_value.field_value),9,u0)):((0,r.uX)(),(0,r.CE)("option",{key:1,value:e.activity_attribute_value.field_value},"Select "+(0,n.v_)(e.display_name),9,_0)),((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(e.list_parameter?.field_values.split(","),((e,a)=>((0,r.uX)(),(0,r.CE)("option",{key:a,value:e},(0,n.v_)(e),9,p0)))),128))],10,c0),[[s.u1,e.activity_attribute_value.field_value]]),i.errors[e.display_name]?((0,r.uX)(),(0,r.CE)("span",m0,(0,n.v_)(i.errors[e.display_name][0]),1)):(0,r.Q3)("",!0)])):(0,r.Q3)("",!0)])))),128)),(0,r.Lk)("div",b0,[a[18]||(a[18]=(0,r.Lk)("label",{class:"form-label"},"Cost",-1)),(0,r.bo)((0,r.Lk)("input",{type:"number",placeholder:"Enter Cost",class:(0,n.C4)(["form-control",{"is-invalid":i.errors.cost}]),"onUpdate:modelValue":a[4]||(a[4]=e=>i.activity.cost=e)},null,2),[[s.Jo,i.activity.cost]]),i.errors.cost?((0,r.uX)(),(0,r.CE)("span",k0,(0,n.v_)(i.errors.cost[0]),1)):(0,r.Q3)("",!0)]),(0,r.Lk)("div",v0,[a[19]||(a[19]=(0,r.Lk)("label",{class:"form-label"},"Note",-1)),(0,r.bo)((0,r.Lk)("textarea",{type:"text",placeholder:"Enter Note",class:(0,n.C4)(["form-control",{"is-invalid":i.errors.note}]),"onUpdate:modelValue":a[5]||(a[5]=e=>i.activity.note=e)},null,2),[[s.Jo,i.activity.note]]),i.errors.note?((0,r.uX)(),(0,r.CE)("span",h0,(0,n.v_)(i.errors.note[0]),1)):(0,r.Q3)("",!0)])])]),(0,r.Lk)("div",y0,[(0,r.bF)(d,{type:"button",to:"/activities",class:"btn btn-danger me-2"},{default:(0,r.k6)((()=>a[20]||(a[20]=[(0,r.Lk)("i",{class:"ri-close-line fs-18 lh-1"},null,-1),(0,r.eW)(" Discard")]))),_:1}),(0,r.Lk)("button",g0,[i.status?((0,r.uX)(),(0,r.CE)("span",f0,a[21]||(a[21]=[(0,r.Lk)("i",{class:"ri-save-line fs-18 lh-1"},null,-1),(0,r.eW)(" Submit")]))):((0,r.uX)(),(0,r.CE)("span",L0,a[22]||(a[22]=[(0,r.Lk)("i",{class:"ri-save-line fs-18 lh-1"},null,-1),(0,r.eW)(" Update")])))])])])],32)])])])}var w0={name:"Assets.Create",components:{Search:It.A},data(){return{sample:"",activity:{user_activity_id:"",activity_no:"",activity_date:"",asset_id:"",reason_id:"",cost:"",note:"",status:!0,activity_status:"",deleted_activity_attribute_values:[],activity_attributes:[]},deleted_activity_attribute_values:[],assets:[],reasons:[],errors:[],status:!0}},beforeRouteEnter(e,a,t){t((a=>{if(a.getAssets(),"Activity.Create"==e.name)a.$store.getters.asset_id&&(a.activity.asset_id=a.$store.getters.asset_id),a.$refs.activity_date.focus();else{a.status=!1;let t={uri:"getUserActivity",data:{user_activity_id:e.params.user_activity_id}};a.$store.dispatch("post",t).then((function(e){a.activity=e.data.data,a.activity.activity_attributes.map((function(e){a.deleted_activity_attribute_values.push(e.activity_attribute_value.activity_attribute_value_id)})),a.activity.deleted_activity_attribute_values=[]})).catch((function(e){a.errors=e.response.data.errors,a.$store.dispatch("error",e.response.data.message)}))}}))},mounted(){this.activity.activity_date=sG()().format("yyyy-MM-DD HH:mm")},methods:{submitForm(){let e=this;e.status?e.addUserActivity():e.updateUserActivity()},convertDateFormat(e){return sG()(e).format("yyyy-MM-DD HH:mm")},getAssets(){let e=this,a=e.$loading.show();e.$store.dispatch("post",{uri:"getAssets"}).then((t=>{a.hide(),e.assets=t.data.data,e.getReasons()})).catch((function(t){a.hide(),e.errors=t.response.data.errors,e.$store.dispatch("error",t.response.data.message)}))},getReasons(){let e=this,a=e.$loading.show();e.$store.dispatch("post",{uri:"getReasons"}).then((t=>{a.hide(),e.reasons=t.data.data})).catch((function(t){a.hide(),e.errors=t.response.data.errors,e.$store.dispatch("error",t.response.data.message)}))},addUserActivity(){if(!this.validateFields())return;let e=this,a=e.$loading.show();e.$store.dispatch("post",{uri:"addUserActivity",data:e.activity}).then((t=>{a.hide(),e.$store.dispatch("success",t.data.message),e.$router.push("/activities")})).catch((function(t){a.hide(),console.log("error--",t),e.errors=t.response.data.errors,e.$store.dispatch("error",t.response.data.message)}))},updateUserActivity(){if(!this.validateFields())return;let e=this,a=e.$loading.show();e.$store.dispatch("post",{uri:"updateUserActivity",data:e.activity}).then((t=>{a.hide(),e.$store.dispatch("success",t.data.message),e.$router.push("/activities")})).catch((function(t){a.hide(),console.log("error--",t),e.errors=t.response.data.errors,e.$store.dispatch("error",t.response.data.message)}))},discard(){let e=this;e.activity={},e.$refs.activity_date.focus(),e.errors=[],e.status=!0},updateDiscard(){let e=this;e.activity.cost="",e.activity.note="",e.activity.activity_attributes.forEach((e=>{e.activity_attribute_value.field_value=""})),e.$refs.activity_date.focus(),e.errors=[]},getActivityTypeFields(e){let a=this,t=a.$loading.show();a.deleted_activity_attribute_values.length&&(a.activity.deleted_activity_attribute_values=a.deleted_activity_attribute_values),a.$store.dispatch("post",{uri:"getActivitiesDropdown",data:a.activity}).then((e=>{t.hide(),a.activity.activity_attributes=e.data.data})).catch((function(e){t.hide(),a.errors=e.response.data.errors,a.$store.dispatch("error",e.response.data.message)}))},validateFields(){let e=!0;this.errors={},this.activity.asset_id||(this.errors.asset_id=["Asset field is required"],e=!1),this.activity.reason_id||(this.errors.reason_id=["Activity type field is required"],e=!1);for(const a of Object.values(this.activity.activity_attributes))a.is_required&&!a.activity_attribute_value.field_value&&(this.errors[a.display_name]=[`${a.display_name} is required`],e=!1);return console.log("Validate error--",this.error),e}}};const E0=(0,Ze.A)(w0,[["render",C0]]);var x0=E0;const X0={class:""},P0={class:"d-sm-flex align-items-center justify-content-between mb-2"},$0={class:"breadcrumb fs-sm mb-1"},S0={class:"breadcrumb-item","aria-current":"page"},A0={class:"row"},D0={class:"col-12 mb-3"},T0={class:"card card-one"},Q0={class:"card-body"},V0={class:"row g-2 mb-3"},F0={class:"col-md-4"},U0={key:0,class:"invalid-feedback"},j0={class:"col-md-4"},z0={key:0,class:"invalid-feedback"},W0={class:"col-md-4"},R0=["value"],q0={key:0,class:"invalid-feedback"},I0={class:"col-md-4"},N0={key:0,class:"invalid-feedback"},M0={class:"col-md-6"},K0={key:0,class:"invalid-feedback"},J0={class:"card-footer text-end"},B0={type:"submit",class:"btn btn-primary"},O0={key:0},H0={key:1},Y0={key:0,class:"col-12"},Z0={class:"card"},G0={class:"card-body"},e1={class:"table-responsive"},a1={class:"table table-bordered mb-0"},t1={key:0,class:"text-center"},s1={key:0},r1=["src"],l1={key:1,class:"text-center"},i1=["src"];function o1(e,a,t,l,i,o){const d=(0,r.g2)("router-link"),c=(0,r.g2)("search");return(0,r.uX)(),(0,r.CE)("div",X0,[(0,r.Lk)("div",P0,[(0,r.Lk)("div",null,[(0,r.Lk)("ol",$0,[(0,r.Lk)("li",S0,[(0,r.bF)(d,{to:"/dashboard"},{default:(0,r.k6)((()=>a[7]||(a[7]=[(0,r.eW)("Dashboard")]))),_:1})]),a[8]||(a[8]=(0,r.Lk)("li",{class:"breadcrumb-item"},[(0,r.Lk)("a",{href:"javascript:void(0)"},"Registers")],-1)),a[9]||(a[9]=(0,r.Lk)("li",{class:"breadcrumb-item active","aria-current":"page"},"Scanner Register",-1))]),a[10]||(a[10]=(0,r.Lk)("h4",{class:"main-title mb-0"},"Scanner Register",-1))]),(0,r.bF)(d,{to:"/health_checks",type:"submit",class:"btn btn-primary",style:{float:"right"}},{default:(0,r.k6)((()=>a[11]||(a[11]=[(0,r.Lk)("i",{class:"ri-list-check"},null,-1),(0,r.eW)(" SCANNER REGISTERS")]))),_:1})]),(0,r.Lk)("div",A0,[(0,r.Lk)("div",D0,[(0,r.Lk)("form",{onSubmit:a[6]||(a[6]=(0,s.D$)((e=>o.submitForm()),["prevent"]))},[(0,r.Lk)("div",T0,[a[27]||(a[27]=(0,r.Lk)("div",{class:"card-header d-flex justify-content-between"},[(0,r.Lk)("h6",{class:"card-title"},"Scanner Register")],-1)),(0,r.Lk)("div",Q0,[(0,r.Lk)("div",V0,[(0,r.Lk)("div",F0,[a[12]||(a[12]=(0,r.Lk)("label",{class:"form-label"},"Asset",-1)),a[13]||(a[13]=(0,r.Lk)("span",{class:"text-danger"}," *",-1)),(0,r.bF)(c,{class:(0,n.C4)({"is-invalid":i.errors?.asset_id}),customClass:{"is-invalid":i.errors?.asset_id},initialize:i.campaign?.asset_id,id:"asset_id",label:"asset_name",placeholder:"Select Asset",data:i.assets,onInput:a[0]||(a[0]=e=>i.campaign.asset_id=e),onSelectsearch:a[1]||(a[1]=e=>o.getScripts())},null,8,["class","customClass","initialize","data"]),i.errors?.asset_id?((0,r.uX)(),(0,r.CE)("span",U0,(0,n.v_)(i.errors.asset_id[0]),1)):(0,r.Q3)("",!0)]),(0,r.Lk)("div",j0,[a[15]||(a[15]=(0,r.Lk)("label",{class:"form-label"},"Data Source",-1)),a[16]||(a[16]=(0,r.Lk)("span",{class:"text-danger"}," *",-1)),(0,r.bo)((0,r.Lk)("select",{class:(0,n.C4)(["form-control",{"is-invalid":i.errors?.datasource}]),"onUpdate:modelValue":a[2]||(a[2]=e=>i.campaign.datasource_id=e)},a[14]||(a[14]=[(0,r.Lk)("option",{value:""},"Select Data Source",-1),(0,r.Lk)("option",{value:"File"},"File",-1),(0,r.Lk)("option",{value:"Script"},"Script",-1),(0,r.Lk)("option",{value:"Auto"},"Auto",-1)]),2),[[s.u1,i.campaign.datasource_id]]),i.errors?.datasource?((0,r.uX)(),(0,r.CE)("span",z0,(0,n.v_)(i.errors.datasource[0]),1)):(0,r.Q3)("",!0)]),(0,r.Lk)("div",W0,[a[18]||(a[18]=(0,r.Lk)("label",{class:"form-label"},"Measurement Source",-1)),a[19]||(a[19]=(0,r.Lk)("span",{class:"text-danger"}," *",-1)),(0,r.bo)((0,r.Lk)("select",{class:(0,n.C4)(["form-control",{"is-invalid":i.errors?.script}]),"onUpdate:modelValue":a[3]||(a[3]=e=>i.campaign.script=e)},[a[17]||(a[17]=(0,r.Lk)("option",{value:""},"Select Measurement Source",-1)),((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(i.scripts,((e,a)=>((0,r.uX)(),(0,r.CE)("option",{value:e,key:a},(0,n.v_)(e),9,R0)))),128))],2),[[s.u1,i.campaign.script]]),i.errors?.datasource?((0,r.uX)(),(0,r.CE)("span",q0,(0,n.v_)(i.errors.datasource[0]),1)):(0,r.Q3)("",!0)]),(0,r.Lk)("div",I0,[a[20]||(a[20]=(0,r.Lk)("label",{class:"form-label"},"Job Date & Time",-1)),a[21]||(a[21]=(0,r.Lk)("span",{class:"text-danger"}," *",-1)),(0,r.bo)((0,r.Lk)("input",{type:"datetime-local",class:(0,n.C4)(["form-control",{"is-invalid":i.errors?.job_date_time}]),id:"job_date_time",name:"job_date_time","onUpdate:modelValue":a[4]||(a[4]=e=>i.campaign.job_date_time=e),onChange:a[5]||(a[5]=e=>o.getCurrentDateTime(i.campaign.job_date_time))},null,34),[[s.Jo,i.campaign.job_date_time]]),i.errors?.job_date_time?((0,r.uX)(),(0,r.CE)("span",N0,(0,n.v_)(i.errors.job_date_time[0]),1)):(0,r.Q3)("",!0)]),(0,r.Lk)("div",M0,[a[22]||(a[22]=(0,r.Lk)("label",{class:"form-label"},"File",-1)),a[23]||(a[23]=(0,r.Lk)("span",{class:"text-danger"}," *",-1)),(0,r.Lk)("input",{type:"file",class:(0,n.C4)(["form-control",{"is-invalid":i.errors?.file}]),id:"file",ref:"file",name:"file"},null,2),i.errors?.file?((0,r.uX)(),(0,r.CE)("span",K0,(0,n.v_)(i.errors.file[0]),1)):(0,r.Q3)("",!0)])])]),(0,r.Lk)("div",J0,[(0,r.bF)(d,{type:"button",class:"btn btn-danger me-2",to:"/health_checks"},{default:(0,r.k6)((()=>a[24]||(a[24]=[(0,r.Lk)("i",{class:"ri-close-line fs-18 lh-1"},null,-1),(0,r.eW)(" Discard")]))),_:1}),(0,r.Lk)("button",B0,[i.status?((0,r.uX)(),(0,r.CE)("span",O0,a[25]||(a[25]=[(0,r.Lk)("i",{class:"ri-save-line fs-18 lh-1"},null,-1),(0,r.eW)(" Submit")]))):((0,r.uX)(),(0,r.CE)("span",H0,a[26]||(a[26]=[(0,r.Lk)("i",{class:"ri-save-line fs-18 lh-1"},null,-1),(0,r.eW)(" Update")])))])])])],32)]),o.groupedResults.length?((0,r.uX)(),(0,r.CE)("div",Y0,[(0,r.Lk)("div",Z0,[(0,r.Lk)("div",G0,[(0,r.Lk)("div",e1,[(0,r.Lk)("table",a1,[(0,r.Lk)("tbody",null,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(o.groupedResults,((e,t)=>((0,r.uX)(),(0,r.CE)("tr",{key:t},[e[0]?((0,r.uX)(),(0,r.CE)("td",t1,[(0,r.Lk)("h6",null,(0,n.v_)(e[0]?.location),1),e[0]?.torpedo_values?((0,r.uX)(),(0,r.CE)("h6",s1,[a[28]||(a[28]=(0,r.Lk)("b",null,"Top 10 Values:",-1)),(0,r.eW)(" "+(0,n.v_)(e[0]?.torpedo_values),1)])):(0,r.Q3)("",!0),(0,r.Lk)("img",{src:e[0]?.file,height:"180",width:"250"},null,8,r1)])):(0,r.Q3)("",!0),e[1]?((0,r.uX)(),(0,r.CE)("td",l1,[(0,r.Lk)("h6",null,(0,n.v_)(e[1]?.location),1),(0,r.Lk)("img",{src:e[1]?.file,height:"180",width:"250"},null,8,i1)])):(0,r.Q3)("",!0)])))),128))])])])])])])):(0,r.Q3)("",!0)])])}var d1={components:{Search:It.A},data(){return{campaign:{asset_id:"",datasource_id:"",file:"",job_date_time:"",script:""},assets:[],campaign_results:[],errors:[],status:!0,scripts:[]}},mounted(){this.campaign.job_date_time=sG()().format("yyyy-MM-DD HH:mm"),this.getAssets()},computed:{groupedResults(){const e=this.campaign_results,a=[];for(let t=0;t<e.length;t+=2)a.push(e.slice(t,t+2));return a}},methods:{submitForm(){let e=this;e.status?e.addHealthCheck():e.updateHealthCheck()},getAssets(){let e=this,a=e.$loading.show();e.$store.dispatch("post",{uri:"getAssets"}).then((t=>{a.hide(),e.assets=t.data.data})).catch((function(t){a.hide(),e.errors=t.response.data.errors,e.$store.dispatch("error",t.response.data.message)}))},getScripts(){let e=this,a=e.$loading.show();e.$store.dispatch("post",{uri:"assetDataSourceScripts",data:e.campaign}).then((t=>{a.hide(),e.scripts=t.data,e.campaign.datasource_id="",e.campaign.script=""})).catch((function(t){a.hide(),e.errors=t.response.data.errors,e.$store.dispatch("error",t.response.data.message)}))},getCurrentDateTime(e){return sG()(e).format("YYYY-MM-DDTHH:mm")},addHealthCheck(){let e=this,a=e.$loading.show();const t=new FormData;t.append("asset_id",e.campaign.asset_id),t.append("datasource",e.campaign.datasource_id),t.append("file",e.$refs.file.files[0]),t.append("job_date_time",e.campaign.job_date_time),t.append("script",e.campaign.script),Ea.A.post(e.$store.state.apiUrl+"addCampaign",t,{headers:{"Content-Type":"multipart/form-data",Authorization:"Bearer "+e.$store.getters.token}}).then((t=>{a.hide(),e.$store.dispatch("success","Health check created successfully"),e.campaign_results=t.data[0],e.errors=[],e.discard()})).catch((function(t){a.hide(),e.errors=t.response.data.errors,e.$store.dispatch("error",t.response.data.message)}))},discard(){let e=this;e.campaign.asset_id="",e.campaign.datasource_id="",e.campaign.file=null,e.campaign.job_date_time="",e.campaign.script="",e.$refs.file.value=null,e.errors=[],e.status=!0}}};const n1=(0,Ze.A)(d1,[["render",o1]]);var c1=n1;const u1={class:""},_1={class:"d-sm-flex align-items-center justify-content-between mb-2"},p1={class:"breadcrumb fs-sm mb-1"},m1={class:"breadcrumb-item","aria-current":"page"},b1={class:"row"},k1={class:"col-12"},v1={class:"card card-one"},h1={class:"card-body"},y1={class:"table-responsive table-responsive-sm"},g1={class:"table table-sm text-nowrap table-striped table-bordered mb-0"},f1={class:"",style:{"background-color":"#9b9b9b",color:"white"}},L1={key:0,class:"ri-arrow-up-line"},C1={key:1,class:"ri-arrow-down-line"},w1={key:2,class:"fas fa-sort"},E1={key:0,class:"ri-arrow-up-line"},x1={key:1,class:"ri-arrow-down-line"},X1={key:2,class:"fas fa-sort"},P1={key:0,class:"ri-arrow-up-line"},$1={key:1,class:"ri-arrow-down-line"},S1={key:2,class:"fas fa-sort"},A1={key:0,class:"ri-arrow-up-line"},D1={key:1,class:"ri-arrow-down-line"},T1={key:2,class:"fas fa-sort"},Q1={key:0,class:"ri-arrow-up-line"},V1={key:1,class:"ri-arrow-down-line"},F1={key:2,class:"fas fa-sort"},U1={class:"text-center"},j1={class:"text-center"},z1={class:"text-center align-middle"},W1=["onClick"],R1=["onClick"],q1={key:0},I1={class:"card-footer"},N1={class:"d-flex justify-content-between align-items-center"};function M1(e,a,t,l,i,o){const d=(0,r.g2)("router-link"),c=(0,r.g2)("Pagination"),u=(0,r.gN)("can");return(0,r.uX)(),(0,r.CE)("div",u1,[(0,r.Lk)("div",_1,[(0,r.Lk)("div",null,[(0,r.Lk)("ol",p1,[(0,r.Lk)("li",m1,[(0,r.bF)(d,{to:"/dashboard"},{default:(0,r.k6)((()=>a[9]||(a[9]=[(0,r.eW)("Dashboard")]))),_:1})]),a[10]||(a[10]=(0,r.Lk)("li",{class:"breadcrumb-item"},[(0,r.Lk)("a",{href:"javascript:void(0)"},"Registers")],-1)),a[11]||(a[11]=(0,r.Lk)("li",{class:"breadcrumb-item active","aria-current":"page"},"Scanner Register",-1))]),a[12]||(a[12]=(0,r.Lk)("h4",{class:"main-title mb-0"},"Scanner Register",-1))]),(0,r.bo)(((0,r.uX)(),(0,r.Wv)(d,{to:"/health_check/create",type:"submit",class:"btn btn-primary",style:{float:"right"}},{default:(0,r.k6)((()=>a[13]||(a[13]=[(0,r.Lk)("i",{class:"ri-list-check"},null,-1),(0,r.eW)(" ADD SCANNER REGISTER")]))),_:1})),[[u,"health_check_registers.create"]])]),(0,r.Lk)("div",b1,[(0,r.Lk)("div",k1,[(0,r.Lk)("div",v1,[a[25]||(a[25]=(0,r.Lk)("div",{class:"card-header d-flex justify-content-between"},[(0,r.Lk)("h6",{class:"card-title"},"Scanner Register")],-1)),(0,r.Lk)("div",h1,[(0,r.bo)((0,r.Lk)("input",{class:"form-control form-control-sm mb-2",type:"text",placeholder:"Type keyword and press enter key","onUpdate:modelValue":a[0]||(a[0]=e=>i.meta.search=e),onKeypress:a[1]||(a[1]=(0,s.jR)((e=>o.search()),["enter"]))},null,544),[[s.Jo,i.meta.search]]),(0,r.Lk)("div",y1,[(0,r.Lk)("table",g1,[(0,r.Lk)("thead",null,[(0,r.Lk)("tr",f1,[a[20]||(a[20]=(0,r.Lk)("th",{class:"text-center"},"#",-1)),(0,r.Lk)("th",{onClick:a[2]||(a[2]=e=>o.sort("job_no"))},[a[14]||(a[14]=(0,r.eW)(" Job No ")),(0,r.Lk)("span",null,["job_no"==i.meta.keyword&&"asc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",L1)):"job_no"==i.meta.keyword&&"desc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",C1)):((0,r.uX)(),(0,r.CE)("i",w1))])]),(0,r.Lk)("th",{onClick:a[3]||(a[3]=e=>o.sort("asset_name"))},[a[15]||(a[15]=(0,r.eW)(" Asset ")),(0,r.Lk)("span",null,["asset_name"==i.meta.keyword&&"asc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",E1)):"asset_name"==i.meta.keyword&&"desc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",x1)):((0,r.uX)(),(0,r.CE)("i",X1))])]),(0,r.Lk)("th",{onClick:a[4]||(a[4]=e=>o.sort("datasource"))},[a[16]||(a[16]=(0,r.eW)("Data Source ")),(0,r.Lk)("span",null,["datasource"==i.meta.keyword&&"asc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",P1)):"datasource"==i.meta.keyword&&"desc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",$1)):((0,r.uX)(),(0,r.CE)("i",S1))])]),(0,r.Lk)("th",{onClick:a[5]||(a[5]=e=>o.sort("job_date_time"))},[a[17]||(a[17]=(0,r.eW)(" Job Date & Time ")),(0,r.Lk)("span",null,["job_date_time"==i.meta.keyword&&"asc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",A1)):"job_date_time"==i.meta.keyword&&"desc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",D1)):((0,r.uX)(),(0,r.CE)("i",T1))])]),(0,r.Lk)("th",{onClick:a[6]||(a[6]=e=>o.sort("script"))},[a[18]||(a[18]=(0,r.eW)(" Script ")),(0,r.Lk)("span",null,["script"==i.meta.keyword&&"asc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",Q1)):"script"==i.meta.keyword&&"desc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",V1)):((0,r.uX)(),(0,r.CE)("i",F1))])]),(0,r.bo)(((0,r.uX)(),(0,r.CE)("th",U1,a[19]||(a[19]=[(0,r.eW)(" Action ")]))),[[u,"health_check_registers.delete"]])])]),(0,r.Lk)("tbody",null,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(i.campaigns,((e,t)=>((0,r.uX)(),(0,r.CE)("tr",{key:t},[(0,r.Lk)("td",j1,(0,n.v_)(i.meta.from+t),1),(0,r.Lk)("td",null,(0,n.v_)(e?.job_no),1),(0,r.Lk)("td",null,(0,n.v_)(e?.asset?.asset_name),1),(0,r.Lk)("td",null,(0,n.v_)(e.datasource),1),(0,r.Lk)("td",null,(0,n.v_)(o.convertDateFormat(e?.job_date_time)),1),(0,r.Lk)("td",null,(0,n.v_)(e?.script),1),(0,r.bo)(((0,r.uX)(),(0,r.CE)("td",z1,[(0,r.Lk)("a",{title:"View",href:"javascript:void(0)",onClick:a=>o.viewHealthCheck(e),class:"text-primary me-2"},a[21]||(a[21]=[(0,r.Lk)("i",{class:"ri-eye-fill fs-18 lh-1"},null,-1)]),8,W1),(0,r.Lk)("a",{title:"Delete",href:"javascript:void(0)",class:"text-danger me-2",onClick:(0,s.D$)((a=>o.deleteHealthCheck(e)),["prevent"])},a[22]||(a[22]=[(0,r.Lk)("i",{class:"ri-delete-bin-6-line fs-18 lh-1"},null,-1)]),8,R1)])),[[u,"health_check_registers.delete"]])])))),128)),0==i.campaigns.length?((0,r.uX)(),(0,r.CE)("tr",q1,a[23]||(a[23]=[(0,r.Lk)("td",{colspan:"7",class:"text-center"},"No records found",-1)]))):(0,r.Q3)("",!0)])])])]),(0,r.Lk)("div",I1,[(0,r.Lk)("div",N1,[(0,r.bo)((0,r.Lk)("select",{class:"form-select from-select-sm width-75","onUpdate:modelValue":a[7]||(a[7]=e=>i.meta.per_page=e),onChange:a[8]||(a[8]=(...e)=>o.onPerPageChange&&o.onPerPageChange(...e))},a[24]||(a[24]=[(0,r.Lk)("option",null,"10",-1),(0,r.Lk)("option",null,"15",-1),(0,r.Lk)("option",null,"20",-1),(0,r.Lk)("option",null,"25",-1),(0,r.Lk)("option",null,"30",-1)]),544),[[s.u1,i.meta.per_page]]),(0,r.Lk)("span",null,"Showing "+(0,n.v_)(i.meta.from)+" to "+(0,n.v_)(i.meta.to)+" of "+(0,n.v_)(i.meta.totalRows)+" entries",1),(0,r.bF)(c,{maxPage:i.meta.maxPage,totalPages:i.meta.lastPage,currentPage:parseInt(i.meta.page),onPagechanged:o.onPageChange},null,8,["maxPage","totalPages","currentPage","onPagechanged"])])])])])])])}var K1={components:{Pagination:md},data(){return{meta:{search:"",order_by:"desc",keyword:"campaign_id",per_page:10,totalRows:0,page:1,lastPage:1,from:1,to:1,maxPage:1,trashed:!1},campaign:{asset_id:"",datasource:"",campaign_id:""},campaigns:[],errors:[]}},mounted(){this.index()},methods:{index(){let e=this,a=e.$loading.show();e.$store.dispatch("post",{uri:"paginateCampaigns",data:e.meta}).then((t=>{a.hide(),e.campaigns=t.data.data,e.meta.totalRows=t.data.meta.total,e.meta.from=t.data.meta.from,e.meta.to=t.data.meta.to,e.meta.lastPage=t.data.meta.last_page,e.meta.maxPage=e.meta.lastPage>=3?3:e.meta.lastPage})).catch((function(t){a.hide(),e.errors=t.response.data.errors,e.$store.dispatch("error",t.response.data.message)}))},convertDateFormat(e){return sG()(e).format("yyyy-MM-DD HH:mm")},search(){let e=this;e.meta.page=1,e.index()},viewHealthCheck(e){this.$store.commit("setCurrentPage",this.meta.page),this.$router.push("/health_check/"+e.campaign_id+"/view")},deleteHealthCheck(e){const a=confirm("Are you sure you want to delete it ?");if(a){let a=this,t=a.$loading.show();a.$store.dispatch("post",{uri:"deleteHealthCheck",data:e}).then((e=>{t.hide(),a.$store.dispatch("success",e.data.message),a.index()})).catch((function(e){t.hide(),a.errors=e.response.data.errors,a.$store.dispatch("error",e.response.data.message)}))}},onPageChange(e){this.meta.page=e,this.index()},sort(e){this.meta.keyword=e,this.meta.order_by="asc"==this.meta.order_by?"desc":"asc",this.index()},onPerPageChange(){let e=this;e.meta.page=1,e.index()}}};const J1=(0,Ze.A)(K1,[["render",M1]]);var B1=J1;const O1={class:""},H1={class:"d-sm-flex align-items-center justify-content-between mb-2"},Y1={class:"breadcrumb fs-sm mb-1"},Z1={class:"breadcrumb-item","aria-current":"page"},G1={class:"breadcrumb-item active","aria-current":"page"},e2={class:"row"},a2={class:"col-12"},t2={class:"card card-one mb-3"},s2={class:"card-body p-0"},r2={class:"setting-item"},l2={class:"row g-2 mb-0"},i2={class:"col-md-4"},o2={class:"font"},d2={class:"col-md-4"},n2={class:"font"},c2={class:"col-md-4"},u2={class:"font"},_2={class:"card-body p-0 mt-0"},p2={class:"setting-item d-flex align-items-center gap-2"},m2=["href"],b2={class:"setting-item px-3 pb-3"},k2={key:0},v2={key:1},h2={class:"custom-table",style:{width:"100%","border-collapse":"collapse","font-family":"Arial, sans-serif"}},y2={class:"header-row-1",style:{"background-color":"#003087",color:"white","border-bottom":"2px solid #6c757d"}},g2={colspan:"3",style:{padding:"10px",border:"1px solid #6c757d","text-align":"left"}},f2={key:0,class:"body-row",style:{"border-bottom":"1px solid #6c757d","background-color":"#f8f9fa"}},L2={style:{padding:"8px",border:"1px solid #6c757d"}},C2={style:{padding:"8px",border:"1px solid #6c757d"}},w2={class:"center",style:{padding:"8px",border:"1px solid #6c757d","text-align":"center"}},E2={class:"center",style:{padding:"8px",border:"1px solid #6c757d","text-align":"center"}},x2={class:"center",style:{padding:"8px",border:"1px solid #6c757d","text-align":"center"}},X2={class:"center",style:{padding:"8px",border:"1px solid #6c757d","text-align":"center"}},P2={class:"center",style:{padding:"8px",border:"1px solid #6c757d","text-align":"center"}},$2={class:"center",style:{padding:"8px",border:"1px solid #6c757d","text-align":"center"}},S2={class:"center",style:{padding:"8px",border:"1px solid #6c757d","text-align":"center"}},A2={class:"center",style:{padding:"8px",border:"1px solid #6c757d","text-align":"center"}},D2={style:{padding:"8px",border:"1px solid #6c757d"}},T2={key:1},Q2={class:"setting-item px-3 pb-3"},V2={class:"table table-bordered mb-0"},F2=["src"],U2={key:0},j2={key:0};function z2(e,a,t,s,l,i){const o=(0,r.g2)("router-link");return(0,r.uX)(),(0,r.CE)("div",O1,[(0,r.Lk)("div",H1,[(0,r.Lk)("div",null,[(0,r.Lk)("ol",Y1,[(0,r.Lk)("li",Z1,[(0,r.bF)(o,{to:"/dashboard"},{default:(0,r.k6)((()=>a[0]||(a[0]=[(0,r.eW)("Dashboard")]))),_:1})]),a[2]||(a[2]=(0,r.Lk)("li",{class:"breadcrumb-item"},[(0,r.Lk)("a",{href:"javascript:void(0)"},"Registers")],-1)),(0,r.Lk)("li",G1,[(0,r.bF)(o,{to:"/user_checks"},{default:(0,r.k6)((()=>a[1]||(a[1]=[(0,r.eW)("Scanner Register")]))),_:1})]),a[3]||(a[3]=(0,r.Lk)("li",{class:"breadcrumb-item","aria-current":"page"},"View",-1))]),a[4]||(a[4]=(0,r.Lk)("h4",{class:"main-title mb-0"},"View Scanner Register",-1))]),(0,r.bF)(o,{to:"/health_checks",type:"submit",class:"btn btn-primary",style:{float:"right"}},{default:(0,r.k6)((()=>a[5]||(a[5]=[(0,r.Lk)("i",{class:"ri-list-check"},null,-1),(0,r.eW)(" SCANNER REGISTERS")]))),_:1})]),(0,r.Lk)("div",e2,[(0,r.Lk)("div",a2,[(0,r.Lk)("div",t2,[a[22]||(a[22]=(0,r.Lk)("div",{class:"card-header"},[(0,r.Lk)("h5",{class:"card-title"},"Scanner Register"),(0,r.Lk)("br")],-1)),(0,r.Lk)("div",s2,[(0,r.Lk)("div",r2,[(0,r.Lk)("div",l2,[(0,r.Lk)("div",i2,[a[6]||(a[6]=(0,r.Lk)("h6",null,"Job Number",-1)),(0,r.Lk)("p",o2,(0,n.v_)(l.campaigns[0]?.campaign?.job_no),1)]),(0,r.Lk)("div",d2,[a[7]||(a[7]=(0,r.Lk)("h6",null,"Asset",-1)),(0,r.Lk)("p",n2,(0,n.v_)(l.campaigns[0]?.campaign?.asset?.asset_name),1)]),(0,r.Lk)("div",c2,[a[8]||(a[8]=(0,r.Lk)("h6",null,"Job Date & Time",-1)),(0,r.Lk)("p",u2,(0,n.v_)(i.convertDateFormat(l.campaigns[0]?.campaign?.job_date_time)),1)])])])]),(0,r.Lk)("div",_2,[(0,r.Lk)("div",p2,[a[10]||(a[10]=(0,r.Lk)("h6",{class:"mb-0"},"PDF File : ",-1)),(0,r.Lk)("a",{href:l.campaigns[0]?.campaign?.file,target:"_blank",rel:"noopener noreferrer"},a[9]||(a[9]=[(0,r.Lk)("i",{class:"ri-eye-line fs-18 lh-1"},null,-1)]),8,m2)])]),(0,r.Lk)("div",b2,[a[19]||(a[19]=(0,r.Lk)("h6",{class:"mb-2"},[(0,r.Lk)("strong",null,"LOT Report :")],-1)),l.campaigns[0]?.campaign?.date&&l.campaigns[0]?.campaign?.slag_pp1_height?((0,r.uX)(),(0,r.CE)("div",v2,[(0,r.Lk)("table",h2,[(0,r.Lk)("thead",null,[(0,r.Lk)("tr",y2,[(0,r.Lk)("th",g2,"Ladle No: "+(0,n.v_)(l.campaigns[0]?.campaign?.asset?.ppms_code),1),a[12]||(a[12]=(0,r.Lk)("th",{colspan:"8",style:{padding:"10px",border:"1px solid #6c757d","text-align":"center"}},null,-1)),a[13]||(a[13]=(0,r.Lk)("th",{style:{padding:"10px",border:"1px solid #6c757d"}},null,-1))]),a[14]||(a[14]=(0,r.Lk)("tr",{class:"header-row-2",style:{"background-color":"#f8f9fa","border-bottom":"2px solid #6c757d"}},[(0,r.Lk)("th",{style:{padding:"8px",border:"1px solid #6c757d","background-color":"lightgreen","text-align":"left"}}),(0,r.Lk)("th",{style:{padding:"8px",border:"1px solid #6c757d","background-color":"lightgreen","text-align":"left"}}),(0,r.Lk)("th",{style:{padding:"8px",border:"1px solid #6c757d","background-color":"lightgreen","text-align":"left"}}),(0,r.Lk)("th",{colspan:"4",style:{padding:"8px",border:"1px solid #6c757d","background-color":"burlywood","text-align":"center"}},"Minimum LOT Slag Zone"),(0,r.Lk)("th",{colspan:"4",style:{padding:"8px",border:"1px solid #6c757d","background-color":"lightgoldenrodyellow","text-align":"center"}},"Maximum LOT Metal Zone"),(0,r.Lk)("th",{style:{padding:"8px",border:"1px solid #6c757d","background-color":"lightgreen","text-align":"left"}})],-1)),a[15]||(a[15]=(0,r.Lk)("tr",{class:"header-row-2",style:{"background-color":"#f8f9fa","border-bottom":"2px solid #6c757d"}},[(0,r.Lk)("th",{style:{padding:"8px",border:"1px solid #6c757d","background-color":"lightgreen","text-align":"left"}},"Sl No"),(0,r.Lk)("th",{style:{padding:"8px",border:"1px solid #6c757d","background-color":"lightgreen","text-align":"left"}},"Date"),(0,r.Lk)("th",{style:{padding:"8px",border:"1px solid #6c757d","background-color":"lightgreen","text-align":"left"}},"Ladle Life"),(0,r.Lk)("th",{colspan:"2",style:{padding:"8px",border:"1px solid #6c757d","background-color":"burlywood","text-align":"center"}},"PP1 Side"),(0,r.Lk)("th",{colspan:"2",style:{padding:"8px",border:"1px solid #6c757d","background-color":"burlywood","text-align":"center"}},"PP2 Side"),(0,r.Lk)("th",{colspan:"2",style:{padding:"8px",border:"1px solid #6c757d","background-color":"lightgoldenrodyellow","text-align":"center"}},"PP1 Side"),(0,r.Lk)("th",{colspan:"2",style:{padding:"8px",border:"1px solid #6c757d","background-color":"lightgoldenrodyellow","text-align":"center"}},"PP2 Side"),(0,r.Lk)("th",{style:{padding:"8px",border:"1px solid #6c757d","background-color":"lightgreen","text-align":"left"}},"Remarks")],-1)),a[16]||(a[16]=(0,r.Lk)("tr",{class:"header-row-2",style:{"background-color":"#f8f9fa","border-bottom":"2px solid #6c757d"}},[(0,r.Lk)("th",{style:{padding:"8px",border:"1px solid #6c757d","background-color":"lightgreen","text-align":"left"}}),(0,r.Lk)("th",{style:{padding:"8px",border:"1px solid #6c757d","background-color":"lightgreen","text-align":"left"}}),(0,r.Lk)("th",{style:{padding:"8px",border:"1px solid #6c757d","background-color":"lightgreen","text-align":"left"}}),(0,r.Lk)("th",{style:{padding:"8px",border:"1px solid #6c757d","background-color":"burlywood","text-align":"center"}},"Height (m)"),(0,r.Lk)("th",{style:{padding:"8px",border:"1px solid #6c757d","background-color":"burlywood","text-align":"center"}},"LOT (mm)"),(0,r.Lk)("th",{style:{padding:"8px",border:"1px solid #6c757d","background-color":"burlywood","text-align":"center"}},"Height (m)"),(0,r.Lk)("th",{style:{padding:"8px",border:"1px solid #6c757d","background-color":"burlywood","text-align":"center"}},"LOT (mm)"),(0,r.Lk)("th",{style:{padding:"8px",border:"1px solid #6c757d","background-color":"lightgoldenrodyellow","text-align":"center"}},"Height (m)"),(0,r.Lk)("th",{style:{padding:"8px",border:"1px solid #6c757d","background-color":"lightgoldenrodyellow","text-align":"center"}},"LOT (mm)"),(0,r.Lk)("th",{style:{padding:"8px",border:"1px solid #6c757d","background-color":"lightgoldenrodyellow","text-align":"center"}},"Height (m)"),(0,r.Lk)("th",{style:{padding:"8px",border:"1px solid #6c757d","background-color":"lightgoldenrodyellow","text-align":"center"}},"LOT (mm)"),(0,r.Lk)("th",{style:{padding:"8px",border:"1px solid #6c757d","background-color":"lightgreen","text-align":"left"}})],-1))]),(0,r.Lk)("tbody",null,[l.campaigns[0]?.campaign.date||l.campaigns[0]?.campaign.ladle_life?((0,r.uX)(),(0,r.CE)("tr",f2,[a[17]||(a[17]=(0,r.Lk)("td",{style:{padding:"8px",border:"1px solid #6c757d"}},"1",-1)),(0,r.Lk)("td",L2,(0,n.v_)(l.campaigns[0]?.campaign?.date),1),(0,r.Lk)("td",C2,(0,n.v_)(l.campaigns[0]?.campaign?.ladle_life),1),(0,r.Lk)("td",w2,(0,n.v_)(l.campaigns[0]?.campaign?.slag_pp1_height),1),(0,r.Lk)("td",E2,(0,n.v_)(l.campaigns[0]?.campaign?.slag_pp1_lot),1),(0,r.Lk)("td",x2,(0,n.v_)(l.campaigns[0]?.campaign?.slag_pp2_height),1),(0,r.Lk)("td",X2,(0,n.v_)(l.campaigns[0]?.campaign?.slag_pp2_lot),1),(0,r.Lk)("td",P2,(0,n.v_)(l.campaigns[0]?.campaign?.metal_pp1_height),1),(0,r.Lk)("td",$2,(0,n.v_)(l.campaigns[0]?.campaign?.metal_pp1_lot),1),(0,r.Lk)("td",S2,(0,n.v_)(l.campaigns[0]?.campaign?.metal_pp2_height),1),(0,r.Lk)("td",A2,(0,n.v_)(l.campaigns[0]?.campaign?.metal_pp2_lot),1),(0,r.Lk)("td",D2,(0,n.v_)(l.campaigns[0]?.campaign?.remarks),1)])):((0,r.uX)(),(0,r.CE)("tr",T2,a[18]||(a[18]=[(0,r.Lk)("td",{colspan:"12",style:{"text-align":"center",padding:"20px",color:"#ff0000"}},[(0,r.Lk)("span",null,"No records found")],-1)])))])])])):((0,r.uX)(),(0,r.CE)("div",k2,a[11]||(a[11]=[(0,r.Lk)("span",{colspan:"12",style:{"text-align":"center",padding:"20px",color:"#ff0000"}}," LOT Record Not Found ",-1)])))]),(0,r.Lk)("div",Q2,[a[21]||(a[21]=(0,r.Lk)("h6",{class:"mb-2"},[(0,r.Lk)("strong",null,"Scanner Results :")],-1)),(0,r.Lk)("table",V2,[(0,r.Lk)("tbody",null,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(i.chunkedCampaigns,((e,a)=>((0,r.uX)(),(0,r.CE)("tr",{key:a},[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(e,((e,a)=>((0,r.uX)(),(0,r.CE)("td",{class:"text-center",key:a,style:{width:"50%"}},[(0,r.Lk)("img",{class:"mb-2",src:e?.file,height:"180"},null,8,F2),(0,r.Lk)("h6",null,(0,n.v_)(e.location),1)])))),128)),e.length<2?((0,r.uX)(),(0,r.CE)("td",U2)):(0,r.Q3)("",!0)])))),128)),0===l.campaigns.length?((0,r.uX)(),(0,r.CE)("tr",j2,a[20]||(a[20]=[(0,r.Lk)("td",{colspan:"2",class:"text-center text-danger"},"No records found",-1)]))):(0,r.Q3)("",!0)])])])])])])])}var W2={name:"ViewAsset",data(){return{health_check:{campaign_id:""},campaigns:[]}},beforeRouteEnter(e,a,t){t((a=>{a.health_check.campaign_id=e.params.campaign_id,a.getCampaignImages()}))},computed:{chunkedCampaigns(){const e=[];for(let a=0;a<this.campaigns.length;a+=2)e.push(this.campaigns.slice(a,a+2));return e}},methods:{getCampaignImages(){let e=this,a=e.$loading.show(),t={uri:"getCampaignImages",data:{campaign_id:e.health_check.campaign_id}};e.$store.dispatch("post",t).then((function(t){a.hide(),e.campaigns=t.data.data})).catch((function(t){a.hide(),e.errors=t.response.data.errors,e.$store.dispatch("error",t.response.data.message)}))},showImage(e){document.getElementById("image").style.display="block",document.getElementById("btnID").style.display="none"},convertDateFormat(e){return sG()(e).format("YYYY-MM-DD HH:mm:ss")}}};const R2=(0,Ze.A)(W2,[["render",z2],["__scopeId","data-v-0485f116"]]);var q2=R2;const I2={class:""},N2={class:"d-sm-flex align-items-center justify-content-between mb-2"},M2={class:"breadcrumb fs-sm mb-1"},K2={class:"breadcrumb-item","aria-current":"page"},J2={class:"d-flex"},B2={class:"row"},O2={class:"col-12"},H2={class:"card card-one"},Y2={class:"card-body"},Z2={class:"table-responsive table-responsive-sm"},G2={class:"table table-sm text-nowrap table-striped table-bordered mb-0"},e3={class:"",style:{"background-color":"#9b9b9b",color:"white"}},a3={key:0,class:"ri-arrow-up-line"},t3={key:1,class:"ri-arrow-down-line"},s3={key:2,class:"fas fa-sort"},r3={key:0,class:"ri-arrow-up-line"},l3={key:1,class:"ri-arrow-down-line"},i3={key:2,class:"fas fa-sort"},o3={key:0,class:"ri-arrow-up-line"},d3={key:1,class:"ri-arrow-down-line"},n3={key:2,class:"fas fa-sort"},c3={key:0,class:"ri-arrow-up-line"},u3={key:1,class:"ri-arrow-down-line"},_3={key:2,class:"fas fa-sort"},p3={class:"text-center"},m3={class:"text-center"},b3={class:"text-center"},k3=["onClick"],v3=["onClick"],h3={key:0},y3={class:"card-footer"},g3={class:"d-flex justify-content-between align-items-center"};function f3(e,a,t,l,i,o){const d=(0,r.g2)("router-link"),c=(0,r.g2)("Pagination"),u=(0,r.gN)("can");return(0,r.uX)(),(0,r.CE)("div",I2,[(0,r.Lk)("div",N2,[(0,r.Lk)("div",null,[(0,r.Lk)("ol",M2,[(0,r.Lk)("li",K2,[(0,r.bF)(d,{to:"/dashboard"},{default:(0,r.k6)((()=>a[8]||(a[8]=[(0,r.eW)("Dashboard")]))),_:1})]),a[9]||(a[9]=(0,r.Lk)("li",{class:"breadcrumb-item"},[(0,r.Lk)("a",{href:"javascript:void(0)"},"Registers")],-1)),a[10]||(a[10]=(0,r.Lk)("li",{class:"breadcrumb-item active","aria-current":"page"},"Spare Registers",-1))]),a[11]||(a[11]=(0,r.Lk)("h4",{class:"main-title mb-0"},"Spare Registers",-1))]),(0,r.Lk)("div",J2,[(0,r.bo)(((0,r.uX)(),(0,r.Wv)(d,{to:"/user_service/create",class:"btn btn-primary"},{default:(0,r.k6)((()=>a[12]||(a[12]=[(0,r.Lk)("i",{class:"ri-list-check"},null,-1),(0,r.eW)(" ADD SPARE REGISTER")]))),_:1})),[[u,"service_registers.create"]])])]),(0,r.Lk)("div",B2,[(0,r.Lk)("div",O2,[(0,r.Lk)("div",H2,[a[25]||(a[25]=(0,r.Lk)("div",{class:"card-header d-flex justify-content-between"},[(0,r.Lk)("h6",{class:"card-title"},"Spare Registers")],-1)),(0,r.Lk)("div",Y2,[(0,r.bo)((0,r.Lk)("input",{class:"form-control form-control-sm mb-2",type:"text",placeholder:"Type keyword and press enter key","onUpdate:modelValue":a[0]||(a[0]=e=>i.meta.search=e),onKeypress:a[1]||(a[1]=(0,s.jR)((e=>o.search()),["enter"]))},null,544),[[s.Jo,i.meta.search]]),(0,r.Lk)("div",Z2,[(0,r.Lk)("table",G2,[(0,r.Lk)("thead",null,[(0,r.Lk)("tr",e3,[a[18]||(a[18]=(0,r.Lk)("th",{class:"text-center"},"#",-1)),(0,r.Lk)("th",{onClick:a[2]||(a[2]=e=>o.sort("service_no"))},[a[13]||(a[13]=(0,r.eW)(" Service No. ")),(0,r.Lk)("span",null,["service_no"==i.meta.keyword&&"asc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",a3)):"service_no"==i.meta.keyword&&"desc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",t3)):((0,r.uX)(),(0,r.CE)("i",s3))])]),(0,r.Lk)("th",{onClick:a[3]||(a[3]=e=>o.sort("service_date"))},[a[14]||(a[14]=(0,r.eW)(" Service Date ")),(0,r.Lk)("span",null,["service_date"==i.meta.keyword&&"asc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",r3)):"service_date"==i.meta.keyword&&"desc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",l3)):((0,r.uX)(),(0,r.CE)("i",i3))])]),(0,r.Lk)("th",{onClick:a[4]||(a[4]=e=>o.sort("next_service_date"))},[a[15]||(a[15]=(0,r.eW)(" Next Service Date ")),(0,r.Lk)("span",null,["next_service_date"==i.meta.keyword&&"asc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",o3)):"next_service_date"==i.meta.keyword&&"desc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",d3)):((0,r.uX)(),(0,r.CE)("i",n3))])]),(0,r.Lk)("th",{onClick:a[5]||(a[5]=e=>o.sort("asset_code"))},[a[16]||(a[16]=(0,r.eW)(" Asset Code ")),(0,r.Lk)("span",null,["asset_code"==i.meta.keyword&&"asc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",c3)):"asset_code"==i.meta.keyword&&"desc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",u3)):((0,r.uX)(),(0,r.CE)("i",_3))])]),a[19]||(a[19]=(0,r.Lk)("th",null,"Created By",-1)),(0,r.bo)(((0,r.uX)(),(0,r.CE)("th",p3,a[17]||(a[17]=[(0,r.eW)("Actions")]))),[[u,["service_registers.update","service_registers.delete"]]])])]),(0,r.Lk)("tbody",null,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(i.user_services,((e,t)=>((0,r.uX)(),(0,r.CE)("tr",{key:t},[(0,r.Lk)("td",m3,(0,n.v_)(i.meta.from+t),1),(0,r.Lk)("td",null,(0,n.v_)(e.service_no),1),(0,r.Lk)("td",null,(0,n.v_)(o.convertDateFormat(e.service_date)),1),(0,r.Lk)("td",null,(0,n.v_)(o.convertDateFormat(e.next_service_date)),1),(0,r.Lk)("td",null,(0,n.v_)(e.asset?.asset_code),1),(0,r.Lk)("td",null,[(0,r.eW)((0,n.v_)(e.user.name)+" ",1),a[20]||(a[20]=(0,r.Lk)("br",null,null,-1)),(0,r.eW)(" "+(0,n.v_)(e.created_at),1)]),(0,r.bo)(((0,r.uX)(),(0,r.CE)("td",b3,[(0,r.bo)(((0,r.uX)(),(0,r.CE)("a",{title:"Edit",href:"javascript:void(0)",class:"text-success me-2",onClick:a=>o.editService(e)},a[21]||(a[21]=[(0,r.Lk)("i",{class:"ri-pencil-line fs-18 lh-1"},null,-1)]),8,k3)),[[u,"service_registers.update"]]),(0,r.bo)(((0,r.uX)(),(0,r.CE)("a",{title:"Delete",href:"javascript:void(0)",class:"text-danger me-2",onClick:(0,s.D$)((a=>o.deleteService(e)),["prevent"])},a[22]||(a[22]=[(0,r.Lk)("i",{class:"ri-delete-bin-6-line fs-18 lh-1"},null,-1)]),8,v3)),[[u,"service_registers.delete"]])])),[[u,["service_registers.update","service_registers.delete"]]])])))),128)),0==i.user_services.length?((0,r.uX)(),(0,r.CE)("tr",h3,a[23]||(a[23]=[(0,r.Lk)("td",{colspan:"8",class:"text-center"},"No records found",-1)]))):(0,r.Q3)("",!0)])])])]),(0,r.Lk)("div",y3,[(0,r.Lk)("div",g3,[(0,r.bo)((0,r.Lk)("select",{class:"form-select from-select-sm width-75","onUpdate:modelValue":a[6]||(a[6]=e=>i.meta.per_page=e),onChange:a[7]||(a[7]=(...e)=>o.onPerPageChange&&o.onPerPageChange(...e))},a[24]||(a[24]=[(0,r.Lk)("option",null,"10",-1),(0,r.Lk)("option",null,"15",-1),(0,r.Lk)("option",null,"20",-1),(0,r.Lk)("option",null,"25",-1),(0,r.Lk)("option",null,"30",-1)]),544),[[s.u1,i.meta.per_page]]),(0,r.Lk)("span",null,"Showing "+(0,n.v_)(i.meta.from)+" to "+(0,n.v_)(i.meta.to)+" of "+(0,n.v_)(i.meta.totalRows)+" entries",1),(0,r.bF)(c,{maxPage:i.meta.maxPage,totalPages:i.meta.lastPage,currentPage:parseInt(i.meta.page),onPagechanged:o.onPageChange},null,8,["maxPage","totalPages","currentPage","onPagechanged"])])])])])])])}var L3={components:{Pagination:md},data(){return{meta:{search:"",order_by:"desc",keyword:"user_service_id",per_page:10,totalRows:0,page:1,lastPage:1,from:1,to:1,maxPage:1,trashed:!1},get_service:[],get_asset:[],user_services:[],downloaded_templates:[],errors:[],status:!0,selectedFile:null}},beforeRouteEnter(e,a,t){t((e=>{"UserServices.Edit"==!a.name?e.$store.commit("setCurrentPage",e.meta.page):e.meta.page=e.$store.getters.current_page}))},mounted(){this.get_service=this.$store.getters.permissions.filter((function(e){return e.ability.ability.includes("userServices.update")||e.ability.ability.includes("userServices.delete")})),this.$store.commit("setAssetId",""),this.index()},methods:{convertDateFormat(e){return sG()(e).format("yyyy-MM-DD HH:mm")},index(){let e=this,a=e.$loading.show();e.$store.dispatch("post",{uri:"paginateUserServices",data:e.meta}).then((t=>{a.hide(),e.user_services=t.data.data,e.meta.totalRows=t.data.meta.total,e.meta.from=t.data.meta.from,e.meta.to=t.data.meta.to,e.meta.lastPage=t.data.meta.last_page,e.meta.page=t.data.meta.current_page,e.meta.maxPage=e.meta.lastPage>=3?3:e.meta.lastPage})).catch((function(t){a.hide(),e.errors=t.response.data.errors,e.$store.dispatch("error",t.response.data.message)}))},editService(e){this.$store.commit("setCurrentPage",parseInt(this.meta.page)),this.$router.push("/user_service/"+e.user_service_id+"/edit")},deleteService(e){const a=confirm("Are you sure you want to delete it ?");if(a){let a=this,t=a.$loading.show();a.$store.dispatch("post",{uri:"deleteUserService",data:e}).then((e=>{t.hide(),a.$store.dispatch("success",e.data.message),a.index()})).catch((function(e){t.hide(),a.errors=e.response.data.errors,a.$store.dispatch("error",e.response.data.message)}))}},onFileChange(e){this.selectedFile=e.target.files[0]},handleFileUpload(){if(console.log("dcdcdc"),!this.selectedFile)return void this.$store.dispatch("error","Please select a valid file before uploading.");const e=new FormData;e.append("file",this.selectedFile),this.$store.dispatch("post",{uri:"uploadUserServiceTemplate",data:e}).then((e=>{this.$store.dispatch("success",e.data.success),this.selectedFile=null,this.$refs.fileInput.value="",this.index()})).catch((function(e){this.$store.dispatch("error",e?.response?.data?.message||"File upload failed."),console.error("Upload Error:",e)}))},search(){let e=this;e.meta.page=1,e.index()},onPageChange(e){this.meta.page=e,this.index()},sort(e){this.meta.keyword=e,this.meta.order_by="asc"==this.meta.order_by?"desc":"asc",this.index()},onPerPageChange(){let e=this;e.meta.page=1,e.index()}}};const C3=(0,Ze.A)(L3,[["render",f3],["__scopeId","data-v-7438ea29"]]);var w3=C3;const E3={class:""},x3={class:"d-sm-flex align-items-center justify-content-between mb-2"},X3={class:"breadcrumb fs-sm mb-1"},P3={class:"breadcrumb-item","aria-current":"page"},$3={class:"breadcrumb-item","aria-current":"page"},S3={key:0,class:"breadcrumb-item","aria-current":"page"},A3={key:1,class:"breadcrumb-item active","aria-current":"page"},D3={class:"row"},T3={class:"col-12"},Q3={class:"card card-one"},V3={class:"card-header d-flex justify-content-between"},F3={key:0,class:"card-title"},U3={key:1,class:"card-title"},j3={class:"card-body"},z3={class:"row g-2 mb-5"},W3={class:"col-md-6"},R3={key:0,class:"invalid-feedback"},q3={class:"col-md-6"},I3=["value"],N3={key:0,class:"invalid-feedback"},M3={class:"col-md-12"},K3={key:0,class:"invalid-feedback"},J3={class:"row g-2"},B3={class:""},O3={class:"table table-responsive table-responsive-sm table-sm text-nowrap table-bordered mb-0"},H3={key:0,class:"invalid-feedback"},Y3={key:0,class:"invalid-feedback"},Z3=["max"],G3={key:0,class:"invalid-feedback"},e4={key:0,class:"invalid-feedback"},a4={class:"text-center"},t4={colspan:"6",class:"text-danger text-center"},s4={class:"text-center"},r4=["onClick"],l4={class:"card-footer text-end"},i4={type:"submit",class:"btn btn-primary"},o4={key:0},d4={key:1};function n4(e,a,t,l,i,o){const d=(0,r.g2)("router-link"),c=(0,r.g2)("search"),u=(0,r.g2)("SpareSearch");return(0,r.uX)(),(0,r.CE)("div",E3,[(0,r.Lk)("div",x3,[(0,r.Lk)("div",null,[(0,r.Lk)("ol",X3,[(0,r.Lk)("li",P3,[(0,r.bF)(d,{to:"/dashboard"},{default:(0,r.k6)((()=>a[13]||(a[13]=[(0,r.eW)("Dashboard")]))),_:1})]),a[15]||(a[15]=(0,r.Lk)("li",{class:"breadcrumb-item"},[(0,r.Lk)("a",{href:"javascript:void(0)"},"Registers")],-1)),(0,r.Lk)("li",$3,[(0,r.bF)(d,{to:"/user_services"},{default:(0,r.k6)((()=>a[14]||(a[14]=[(0,r.eW)("Spare Registers")]))),_:1})]),i.status?((0,r.uX)(),(0,r.CE)("li",S3,"New Spare Register")):((0,r.uX)(),(0,r.CE)("li",A3,"Update Spare Register"))]),a[16]||(a[16]=(0,r.Lk)("h4",{class:"main-title mb-0"},"Spare Register",-1))]),(0,r.bF)(d,{to:"/user_services",type:"submit",class:"btn btn-primary",style:{float:"right"}},{default:(0,r.k6)((()=>a[17]||(a[17]=[(0,r.Lk)("i",{class:"ri-list-check"},null,-1),(0,r.eW)(" SPARE REGISTERS")]))),_:1})]),(0,r.Lk)("div",D3,[(0,r.Lk)("div",T3,[(0,r.Lk)("form",{onSubmit:a[12]||(a[12]=(0,s.D$)(((...e)=>o.submitForm&&o.submitForm(...e)),["prevent"]))},[(0,r.Lk)("div",Q3,[(0,r.Lk)("div",V3,[i.status?((0,r.uX)(),(0,r.CE)("h6",F3,"Add Spare Register")):((0,r.uX)(),(0,r.CE)("h6",U3,"Update Spare Register"))]),(0,r.Lk)("div",j3,[(0,r.Lk)("div",z3,[(0,r.Lk)("div",W3,[a[18]||(a[18]=(0,r.Lk)("label",{class:"form-label"},"Asset",-1)),a[19]||(a[19]=(0,r.Lk)("span",{class:"text-danger"}," *",-1)),(0,r.bF)(c,{disabled:!i.status,class:(0,n.C4)({"is-invalid":i.errors?.asset_id}),customClass:{"is-invalid":i.errors?.asset_id},initialize:i.user_service.asset_id,id:"asset_id",label2:"asset_name",label:"asset_code",placeholder:"Select Asset",data:i.assets,onInput:a[0]||(a[0]=e=>{i.user_service.asset_id=e,i.errors?.asset_id&&(i.errors.asset_id=null)})},null,8,["disabled","class","customClass","initialize","data"]),i.errors?.asset_id?((0,r.uX)(),(0,r.CE)("span",R3,(0,n.v_)(i.errors?.asset_id),1)):(0,r.Q3)("",!0)]),(0,r.Lk)("div",q3,[a[20]||(a[20]=(0,r.Lk)("label",{class:"form-label"},"Service Date & Time",-1)),a[21]||(a[21]=(0,r.Lk)("span",{class:"text-danger"}," *",-1)),(0,r.bo)((0,r.Lk)("input",{type:"datetime-local",class:(0,n.C4)(["form-control",{"is-invalid":i.errors?.service_date}]),value:o.convertDateFormat(i.user_service.service_date),"onUpdate:modelValue":a[1]||(a[1]=e=>i.user_service.service_date=e),ref:"service_date"},null,10,I3),[[s.Jo,i.user_service.service_date]]),i.errors?.service_date?((0,r.uX)(),(0,r.CE)("span",N3,(0,n.v_)(i.errors?.service_date[0]),1)):(0,r.Q3)("",!0)]),(0,r.Lk)("div",M3,[a[22]||(a[22]=(0,r.Lk)("label",{class:"form-label"},"Note",-1)),(0,r.bo)((0,r.Lk)("textarea",{type:"text",placeholder:"Enter Note",class:(0,n.C4)(["form-control",{"is-invalid":i.errors?.note}]),"onUpdate:modelValue":a[2]||(a[2]=e=>i.user_service.note=e)},null,2),[[s.Jo,i.user_service.note]]),i.errors?.note?((0,r.uX)(),(0,r.CE)("span",K3,(0,n.v_)(i.errors?.note[0]),1)):(0,r.Q3)("",!0)])]),(0,r.Lk)("div",J3,[(0,r.Lk)("div",B3,[(0,r.Lk)("table",O3,[a[26]||(a[26]=(0,r.Lk)("thead",null,[(0,r.Lk)("tr",null,[(0,r.Lk)("th",{style:{width:"250px"}},[(0,r.eW)("Asset Zone Repair "),(0,r.Lk)("span",{class:"text-danger"}," *")]),(0,r.Lk)("th",{style:{width:"400px"}},[(0,r.eW)("Spare"),(0,r.Lk)("span",{class:"text-danger"}," *")]),(0,r.Lk)("th",null,"Quantity"),(0,r.Lk)("th",null,"Spare Cost"),(0,r.Lk)("th",{class:"text-center"},"Actions")])],-1)),(0,r.Lk)("tbody",null,[(0,r.Lk)("tr",null,[(0,r.Lk)("td",null,[(0,r.bF)(c,{class:(0,n.C4)({"is-invalid":i.errors?.asset_service_id}),customClass:{"is-invalid":i.errors?.asset_service_id},initialize:i.user_spare.asset_service_id,id:"asset_service_id",label:"display_name",placeholder:"Select Asset Zone Repair",data:o.formattedAssetZones,onInput:a[3]||(a[3]=e=>i.user_spare.asset_service_id=e),onSelectsearch:a[4]||(a[4]=e=>o.getSpares(i.user_spare.asset_service_id))},null,8,["class","customClass","initialize","data"]),i.errors?.asset_service_id?((0,r.uX)(),(0,r.CE)("span",H3,(0,n.v_)(i.errors?.asset_service_id[0]),1)):(0,r.Q3)("",!0)]),(0,r.Lk)("td",null,[(0,r.bF)(u,{class:(0,n.C4)({"is-invalid":i.errors?.asset_spare_id}),customClass:{"is-invalid":i.errors?.asset_spare_id},initialize:i.user_spare.asset_spare_id,id:"asset_spare_id",placeholder:"Select Spare",data:i.spares,columns:[{header:"Spare Name",field:"spare.spare_name"},{header:"Spare Code",field:"spare.spare_code"},{header:"Unit of Measurement",field:"unit"},{header:"SAP Material Code",field:"sap_code"}],onInput:a[5]||(a[5]=e=>i.user_spare.asset_spare_id=e),onSelectsearch:a[6]||(a[6]=e=>o.getValue(i.user_spare))},null,8,["class","customClass","initialize","data"]),i.errors?.asset_spare_id?((0,r.uX)(),(0,r.CE)("span",Y3,(0,n.v_)(i.errors?.asset_spare_id[0]),1)):(0,r.Q3)("",!0)]),(0,r.Lk)("td",null,[(0,r.bo)((0,r.Lk)("input",{type:"number",step:"any",placeholder:"Enter Quantity",min:"0",class:(0,n.C4)(["form-control",{"is-invalid":i.errors?.quantity&&i.errors?.quantity.length}]),"onUpdate:modelValue":a[7]||(a[7]=e=>i.user_spare.quantity=e),max:parseFloat(i.user_spare.max_quantity),onInput:a[8]||(a[8]=e=>o.enforceMinMax(e,i.user_spare))},null,42,Z3),[[s.Jo,i.user_spare.quantity]]),i.errors?.quantity?((0,r.uX)(),(0,r.CE)("span",G3,(0,n.v_)(i.errors?.quantity[0]),1)):(0,r.Q3)("",!0)]),(0,r.Lk)("td",null,[(0,r.bo)((0,r.Lk)("input",{type:"number",class:(0,n.C4)(["form-control",{"is-invalid":i.errors?.spare_cost}]),placeholder:"Enter Spare Cost",min:"0","onUpdate:modelValue":a[9]||(a[9]=e=>i.user_spare.spare_cost=e)},null,2),[[s.Jo,i.user_spare.spare_cost]]),i.errors?.spare_cost?((0,r.uX)(),(0,r.CE)("span",e4,(0,n.v_)(i.errors?.spare_cost[0]),1)):(0,r.Q3)("",!0)]),(0,r.Lk)("td",a4,[i.user_spare.status?((0,r.uX)(),(0,r.CE)("button",{key:0,class:"btn btn-outline-success mx-1",onClick:a[10]||(a[10]=(0,s.D$)((e=>o.addRow()),["prevent"]))},a[23]||(a[23]=[(0,r.Lk)("i",{class:"ri-add-line fs-18 lh-1"},null,-1)]))):(0,r.Q3)("",!0),(0,r.Lk)("button",{class:"btn btn-outline-danger mx-1",onClick:a[11]||(a[11]=(0,s.D$)((e=>o.discardNewRow()),["prevent"]))},a[24]||(a[24]=[(0,r.Lk)("i",{class:"ri-close-line fs-18 lh-1"},null,-1)]))])]),(0,r.Lk)("tr",null,[(0,r.Lk)("td",t4,(0,n.v_)(i.errors?.user_spares),1)])]),(0,r.Lk)("tbody",null,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(i.user_service.user_spares,((e,t)=>((0,r.uX)(),(0,r.CE)("tr",{key:t},[(0,r.Lk)("td",null,(0,n.v_)(e?.service?.service_code),1),(0,r.Lk)("td",null,(0,n.v_)(e?.spare?.spare_name),1),(0,r.Lk)("td",null,(0,n.v_)(e.quantity),1),(0,r.Lk)("td",null,(0,n.v_)(e.spare_cost),1),(0,r.Lk)("td",s4,[(0,r.Lk)("button",{type:"button",class:"btn btn-outline-danger",onClick:(0,s.D$)((a=>o.deleteSpare(e,t)),["prevent"])},a[25]||(a[25]=[(0,r.Lk)("i",{class:"ri-delete-bin-line fs-18 lh-1"},null,-1)]),8,r4)])])))),128))])])])])]),(0,r.Lk)("div",l4,[(0,r.bF)(d,{type:"button",to:"/user_services",class:"btn btn-danger me-2"},{default:(0,r.k6)((()=>a[27]||(a[27]=[(0,r.Lk)("i",{class:"ri-arrow-left-line fs-18 lh-1"},null,-1),(0,r.eW)(" Back")]))),_:1}),(0,r.Lk)("button",i4,[i.status?((0,r.uX)(),(0,r.CE)("span",o4,a[28]||(a[28]=[(0,r.Lk)("i",{class:"ri-save-line fs-18 lh-1"},null,-1),(0,r.eW)(" Submit")]))):((0,r.uX)(),(0,r.CE)("span",d4,a[29]||(a[29]=[(0,r.Lk)("i",{class:"ri-save-line fs-18 lh-1"},null,-1),(0,r.eW)(" Update")])))])])])],32)])])])}const c4={class:"search-inner"},u4=["tabindex","value","disabled"],_4={key:0,class:"search-dropdown"},p4={key:0,class:"table table-responsive-sm table-bordered table-striped table-sm search-list"},m4=["onMousedown","onMouseover"],b4={key:0,class:"invalid-feedback"};function k4(e,a,t,l,i,o){return(0,r.uX)(),(0,r.CE)("div",{class:(0,n.C4)([i.isOpen?"search search-open":"search"])},[(0,r.Lk)("div",c4,[(0,r.Lk)("input",{class:(0,n.C4)(["form-control search-selected",t.customClass]),ref:"toggle",tabindex:t.tabindex,value:o.selectedText,disabled:t.disabled,onClick:a[0]||(a[0]=(...e)=>o.onToggle&&o.onToggle(...e)),onKeydown:a[1]||(a[1]=(...e)=>o.onKey&&o.onKey(...e)),style:(0,n.Tr)(t.style)},null,46,u4),(0,r.bF)(s.eB,{name:"fade",mode:"out-in"},{default:(0,r.k6)((()=>[i.isOpen?((0,r.uX)(),(0,r.CE)("div",_4,[(0,r.Lk)("div",{class:"search-input_wrap",style:(0,n.Tr)(t.style)},[(0,r.Lk)("input",{type:"text",class:"form-control search-input",autocomplete:"off",placeholder:"Search...",ref:"search",onBlur:a[2]||(a[2]=(...e)=>o.onBlur&&o.onBlur(...e)),onInput:a[3]||(a[3]=(...e)=>o.onSearch&&o.onSearch(...e)),onKeydown:[a[4]||(a[4]=(0,s.jR)(((...e)=>o.onEsc&&o.onEsc(...e)),["esc"])),a[5]||(a[5]=(0,s.jR)(((...e)=>o.onUpKey&&o.onUpKey(...e)),["up"])),a[6]||(a[6]=(0,s.jR)(((...e)=>o.onDownKey&&o.onDownKey(...e)),["down"])),a[7]||(a[7]=(0,s.jR)(((...e)=>o.onEnterKey&&o.onEnterKey(...e)),["enter"]))]},null,544)],4),i.results?.length?((0,r.uX)(),(0,r.CE)("table",p4,[(0,r.Lk)("thead",null,[(0,r.Lk)("tr",null,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(t.columns,(e=>((0,r.uX)(),(0,r.CE)("th",{key:e.field},(0,n.v_)(e.header),1)))),128))])]),(0,r.Lk)("tbody",null,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(i.results,((e,a)=>((0,r.uX)(),(0,r.CE)("tr",{class:(0,n.C4)(["search-item",["search-link",i.selectIndex===a?"search-active":""]]),onMousedown:(0,s.D$)((a=>o.select(e)),["prevent"]),onMouseover:(0,s.D$)((e=>o.onMouse(a)),["prevent"]),key:a},[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(t.columns,(a=>((0,r.uX)(),(0,r.CE)("td",{key:a.field},(0,n.v_)(o.getFieldValue(e,a.field)||"N/A"),1)))),128))],42,m4)))),128))])])):(0,r.Q3)("",!0)])):(0,r.Q3)("",!0)])),_:1})]),o.hasError?((0,r.uX)(),(0,r.CE)("span",b4,(0,n.v_)(o.errorMessage),1)):(0,r.Q3)("",!0)],2)}var v4={name:"SpareSearch",props:{customClass:{type:[Object,String],default:""},initialize:{type:[String,Number],default:null},id:{type:String,default:null},placeholder:{type:String,default:"Select an option"},data:{type:Array,default:()=>[]},tabindex:{type:Number,default:0},disabled:{type:Boolean,default:!1},style:{type:Object,default:null},columns:{type:Array,default:()=>[{header:"Name",field:"name"}]}},data(){return{selectIndex:-1,isOpen:!1,search:"",results:[],query:{search:""}}},computed:{hasError(){return!!this.customClass["is-invalid"]},errorMessage(){return this.hasError?"This field is required":""},selectedText(){if(this.initialize&&this.data){const e=this.data.find((e=>e[this.id]===this.initialize));if(e)return this.columns.map((a=>this.getFieldValue(e,a.field)||"N/A")).join(" :: ")}return this.placeholder}},methods:{focus(){this.$refs.toggle.focus()},onToggle(){this.isOpen=!this.isOpen,this.isOpen&&this.open()},onKey(e){const a=e.keyCode||e.which;e.shiftKey||9===a||this.isOpen||this.open()},open(){this.fetchData(""),this.isOpen=!0,this.$nextTick((()=>{this.$refs.search.focus()}))},fetchData(e){e=e.toLowerCase(),this.results=e?this.data.filter((a=>this.columns.some((t=>String(this.getFieldValue(a,t.field)||"").toLowerCase().includes(e))))):this.data},getFieldValue(e,a){return e&&a?a.includes(".")?a.split(".").reduce(((e,a)=>e&&void 0!==e[a]?e[a]:null),e):e[a]:null},onBlur(){this.close()},onEsc(){this.close()},close(){this.results=[],this.isOpen=!1,this.search="",this.selectIndex=-1},onSearch(e){this.selectIndex=0,this.fetchData(e.target.value)},onUpKey(){this.selectIndex>0&&this.selectIndex--},onDownKey(){this.results.length-1>this.selectIndex&&this.selectIndex++},onEnterKey(){const e=this.results[this.selectIndex];e&&this.select(e)},select(e){this.$emit("input",e[this.id]),this.$emit("selected",e[this.id]),this.$emit("selectsearch",e),this.close()},onMouse(e){this.selectIndex=e}}};const h4=(0,Ze.A)(v4,[["render",k4],["__scopeId","data-v-13554a08"]]);var y4=h4,g4={name:"Assets.Create",components:{Search:It.A,SpareSearch:y4},data(){return{user_service:{user_service_id:"",service_no:"",service_date:"",asset_id:"",next_service_date:"",note:"",user_spares:[],deleted_user_spares:[],status:!0,asset_zone_id:""},user_spare:{user_spare_id:"",asset_spare_id:"",asset_service_id:"",spare_id:"",spare:{spare_name:""},asset_zone_id:"",asset_zone:{zone_name:""},service_id:"",service:{service_name:"",service_code:""},service_cost:"",quantity:"",max_quantity:"",spare_cost:"",status:!0},deleted_spares:[],assets:[],services:[],spares:[],errors:[],asset_zones:[],status:!0}},watch:{"user_service.asset_id":function(){this.getAssetZones()},"user_spare.asset_zone_id":function(){this.getSpares()}},computed:{formattedAssetZones(){return this.asset_zones.map((e=>({asset_service_id:e.asset_service?.asset_service_id||null,display_name:`${e.asset_zone?.zone_name} :: ${e.asset_service?.service?.service_code}`})))}},beforeRouteEnter(e,a,t){t((a=>{if(a.getAssets(),"UserServices.Create"==e.name)a.$store.getters.asset_id&&(a.user_service.asset_id=a.$store.getters.asset_id),a.$refs.service_date.focus();else{a.status=!1;let t={uri:"getUserService",data:{user_service_id:e.params.user_service_id}};a.$store.dispatch("post",t).then((function(e){a.user_service=e.data.data,a.user_service.user_spares&&a.user_service.user_spares.forEach((e=>{let a=e.asset_zone?.zone_name||"",t=e.service?.service_code||"";e.service.service_code=`${a} :: ${t}`,e.spare.spare_name=`${e.spare?.spare_code||""} :: ${e.spare?.spare_name||""} :: ${e?.unit||""} :: ${e?.sap_code||""}`}))})).catch((function(e){a.errors=e?.response?.data?.errors,a.$store.dispatch("error",e.response?.data?.message)}))}}))},mounted(){this.user_service.service_date=sG()().format("yyyy-MM-DD HH:mm"),this.user_service.next_service_date=sG()().add(1,"days").format("yyyy-MM-DD HH:mm")},methods:{convertDateFormat(e){return sG()(e).format("yyyy-MM-DD HH:mm")},submitForm(){let e=this;e.status?e.addUserService():e.updateUserService()},enforceMinMax(e,a){const t=e.target;let s=parseFloat(t.value),r=0,l=parseFloat(a.max_quantity)||1/0;if(isNaN(s))return t.value=r,a.quantity=r,void(this.errors.quantity=null);s<r?(t.value=r,a.quantity=r,this.errors.quantity=null):s>l?(t.value=l,a.quantity=l,this.errors.quantity=[`Quantity should not be greater than ${l}`]):(a.quantity=s,this.errors.quantity=null)},getAssetZoneValue(e){let a=this,t=a.asset_zones?.filter((function(a){return a.asset_zone_id==e}));t.length&&(a.user_service.asset_zone_id=t[0].asset_zone_id,a.user_spare.asset_zone.zone_name=t[0].zone_name)},getValue(e){let a=this,t=a.spares.find((a=>a.asset_spare_id==e.asset_spare_id));t?(a.user_spare.asset_spare_id=t.asset_spare_id,a.user_spare.spare_id=t.spare.spare_id,a.user_spare.spare={spare_id:t.spare.spare_id,spare_name:t.spare.spare_name,spare_code:t.spare.spare_code},a.user_spare.quantity=parseFloat(t.quantity)||0,a.user_spare.max_quantity=parseFloat(t.quantity)||0,console.log("Selected Spare:",t),console.log("Assigned Quantity:",a.user_spare.quantity)):console.error("Spare not found:",e.asset_spare_id)},getServiceValue(e){let a=this,t=a.services?.filter((function(a){return a.service_id==e}));t.length&&(a.user_spare.service.service_code=t[0].service_code)},getAssets(){let e=this,a=e.$loading.show();e.$store.dispatch("post",{uri:"getAssets"}).then((t=>{a.hide(),e.assets=t.data.data})).catch((function(t){a.hide(),e.errors=t.response.data.errors,e.$store.dispatch("error",t.response?.data?.message)}))},getServices(){let e=this,a=e.$loading.show();e.$store.dispatch("post",{uri:"getAssetsServices",data:e.user_service}).then((t=>{a.hide(),e.services=t.data})).catch((function(t){a.hide(),e.errors=t.response.data.errors,e.$store.dispatch("error",t.response?.data?.message)}))},getSpares(e=null){let a=this,t=a.$loading.show();a.$store.dispatch("post",{uri:"getAssetServiceSpares",data:{...a.user_service,asset_service_id:e}}).then((e=>{t.hide(),a.spares=e.data.map((e=>({...e,custom_label:`${e.spare.spare_name} :: ${e.spare.spare_code} :: ${e.unit} :: ${e.sap_code}`})))})).catch((function(e){t.hide(),a.errors=e.response.data.errors,a.$store.dispatch("error",e.response?.data?.message)}))},getAssetZones(){let e=this,a=e.$loading.show();e.$store.dispatch("post",{uri:"getAssetServiceZoneSpares",data:e.user_service}).then((t=>{a.hide(),e.asset_zones=t.data.data})).catch((function(t){a.hide(),e.errors=t.response.data.errors,e.$store.dispatch("error",t.response?.data?.message)}))},addUserService(){let e=this,a=e.$loading.show();return e.errors={},e.user_service.asset_id?0===e.user_service.user_spares.length?(a.hide(),e.errors.user_spares="At least one entry is required",void e.$store.dispatch("error","At least one entry is required.")):void e.$store.dispatch("post",{uri:"addUserService",data:e.user_service}).then((t=>{a.hide(),e.$store.dispatch("success",t?.data?.message),e.$router.push("/user_services")})).catch((function(t){a.hide(),e.errors=t.response.data.errors,e.$store.dispatch("error",t.response?.data?.message)})):(a.hide(),e.errors.asset_id="Asset is required",void e.$store.dispatch("error","Asset is required."))},updateUserService(){let e=this;e.user_service.deleted_user_spares=e.deleted_spares;let a=e.$loading.show();if(0===e.user_service.user_spares.length)return a.hide(),e.errors.user_spares="At least one entry is required",void e.$store.dispatch("error","At least one entry is required.");e.$store.dispatch("post",{uri:"updateUserService",data:e.user_service}).then((t=>{a.hide(),e.$store.dispatch("success",t?.data?.message),e.$router.push("/user_services")})).catch((function(t){a.hide(),e.errors=t.response.data.errors,e.$store.dispatch("error",t.response?.data?.message)}))},addRow(){let e=this;if(e.errors={},!e.user_spare.asset_service_id||!e.user_spare.asset_spare_id)return e.user_spare.asset_service_id||(e.errors.asset_service_id=["Asset Zone Repair cannot be empty"]),void(e.user_spare.asset_spare_id||(e.errors.asset_spare_id=["Spare cannot be empty"]));let a=e.asset_zones.find((a=>a.asset_service?.asset_service_id===e.user_spare.asset_service_id)),t=e.spares.find((a=>a.asset_spare_id===e.user_spare.asset_spare_id)),s=a?.asset_zone?.zone_name||"",r=a?.asset_service?.service?.service_code||"";e.user_service.user_spares.push({user_spare_id:"",asset_service_id:e.user_spare.asset_service_id,service:{service_code:`${s} :: ${r}`},asset_spare_id:e.user_spare.asset_spare_id,spare:{spare_name:t?.custom_label||`${t?.spare.spare_code||""} :: ${t?.spare.spare_name||""} :: ${t?.unit||""} :: ${t?.sap_code||""} `},quantity:e.user_spare.quantity,spare_cost:e.user_spare.spare_cost}),e.discardNewRow()},discardNewRow(){let e=this;e.user_spare.asset_zone_id="",e.user_spare.asset_service_id="",e.user_spare.asset_spare_id="",e.user_spare.service_id="",e.user_spare.user_spare_id="",e.user_spare.spare_id="",e.user_spare.spare_cost="",e.user_spare.spare.spare_name="",e.user_spare.status=!0,e.user_spare.quantity="",e.errors=[]},editSpare(e,a){console.log("SPare--",e),console.log("key--",a);let t=this;this.isEditing=!0,t.user_spare.asset_zone_id=e.asset_zone_id,t.user_spare.key=a,t.user_spare.asset_service_id=e.asset_service_id,t.user_spare.asset_spare_id=e.asset_spare_id,t.user_spare.quantity=e?.quantity,t.user_spare.spare_cost=e?.spare_cost,t.user_spare.status=!1,t.errors=[],e.quantity>e.max_quantity&&(this.errors.quantity=[`Quantity should not be greater than ${e.max_quantity}`])},updateRow(e){let a=this;if(void 0!==e.key){let t=a.asset_zones.find((a=>a.asset_service?.asset_service_id===e.asset_service_id)),s=a.spares.find((a=>a.asset_spare_id===e.asset_spare_id)),r=t?.asset_zone?.zone_name||"",l=t?.asset_service?.service?.service_code||"";a.user_service.user_spares[e.key]={user_spare_id:e.user_spare_id,asset_service_id:e.asset_service_id,service:{service_code:`${r} :: ${l}`},asset_spare_id:e.asset_spare_id,spare:{spare_name:s?.custom_label||`${s?.spare.spare_code||""} :: ${s?.spare.spare_name||""} :: ${s?.unit||""} :: ${s?.sap_code||""}`},quantity:e.quantity,spare_cost:e.spare_cost}}a.discardNewRow()},deleteSpare(e,a){let t=this;confirm("Are you sure you want to delete")&&(t.deleted_spares.push(e?.user_spare_id),t.user_service.user_spares.splice(a,1),t.discardNewRow())}}};const f4=(0,Ze.A)(g4,[["render",n4],["__scopeId","data-v-32808e50"]]);var L4=f4;const C4={class:""},w4={class:"d-sm-flex align-items-center justify-content-between mb-2"},E4={class:"breadcrumb fs-sm mb-1"},x4={class:"breadcrumb-item","aria-current":"page"},X4={class:"d-flex"},P4={class:"row"},$4={class:"col-12"},S4={class:"card card-one"},A4={class:"card-body"},D4={class:"table-responsive table-responsive-sm"},T4={class:"table table-sm text-nowrap table-striped table-bordered mb-0"},Q4={class:"",style:{"background-color":"#9b9b9b",color:"white"}},V4={key:0,class:"ri-arrow-up-line"},F4={key:1,class:"ri-arrow-down-line"},U4={key:2,class:"fas fa-sort"},j4={key:0,class:"ri-arrow-up-line"},z4={key:1,class:"ri-arrow-down-line"},W4={key:2,class:"fas fa-sort"},R4={key:0,class:"ri-arrow-up-line"},q4={key:1,class:"ri-arrow-down-line"},I4={key:2,class:"fas fa-sort"},N4={key:0,class:"ri-arrow-up-line"},M4={key:1,class:"ri-arrow-down-line"},K4={key:2,class:"fas fa-sort"},J4={key:0,class:"ri-arrow-up-line"},B4={key:1,class:"ri-arrow-down-line"},O4={key:2,class:"fas fa-sort"},H4={class:"text-center"},Y4={class:"text-center"},Z4=["onClick"],G4=["onClick"],e5=["onClick"],a5={key:0},t5={class:"card-footer"},s5={class:"d-flex justify-content-between align-items-center"};function r5(e,a,t,l,i,o){const d=(0,r.g2)("router-link"),c=(0,r.g2)("Pagination"),u=(0,r.gN)("can");return(0,r.uX)(),(0,r.CE)("div",C4,[(0,r.Lk)("div",w4,[(0,r.Lk)("div",null,[(0,r.Lk)("ol",E4,[(0,r.Lk)("li",x4,[(0,r.bF)(d,{to:"/dashboard"},{default:(0,r.k6)((()=>a[7]||(a[7]=[(0,r.eW)("Dashboard")]))),_:1})]),a[8]||(a[8]=(0,r.Lk)("li",{class:"breadcrumb-item"},[(0,r.Lk)("a",{href:"javascript:void(0)"},"Registers")],-1)),a[9]||(a[9]=(0,r.Lk)("li",{class:"breadcrumb-item active","aria-current":"page"},"Inspection Registers",-1))]),a[10]||(a[10]=(0,r.Lk)("h4",{class:"main-title mb-0"},"Inspection Registers",-1))]),(0,r.Lk)("div",X4,[(0,r.bo)(((0,r.uX)(),(0,r.Wv)(d,{to:"/user_check/create",class:"btn btn-primary",style:{float:"right"}},{default:(0,r.k6)((()=>a[11]||(a[11]=[(0,r.Lk)("i",{class:"ri-list-check"},null,-1),(0,r.eW)(" ADD INSPECTION REGISTER")]))),_:1})),[[u,"check_registers.create"]])])]),(0,r.Lk)("div",P4,[(0,r.Lk)("div",$4,[(0,r.Lk)("div",S4,[a[25]||(a[25]=(0,r.Lk)("div",{class:"card-header d-flex justify-content-between"},[(0,r.Lk)("h6",{class:"card-title"},"Inspection Registers")],-1)),(0,r.Lk)("div",A4,[(0,r.bo)((0,r.Lk)("input",{class:"form-control form-control-sm mb-2",type:"text",placeholder:"Type keyword and press enter key","onUpdate:modelValue":a[0]||(a[0]=e=>i.meta.search=e),onKeypress:a[1]||(a[1]=(0,s.jR)((e=>o.search()),["enter"]))},null,544),[[s.Jo,i.meta.search]]),(0,r.Lk)("div",D4,[(0,r.Lk)("table",T4,[(0,r.Lk)("thead",null,[(0,r.Lk)("tr",Q4,[a[17]||(a[17]=(0,r.Lk)("th",{class:"text-center"},"#",-1)),(0,r.Lk)("th",{onClick:a[2]||(a[2]=e=>o.sort("asset_code"))},[a[12]||(a[12]=(0,r.eW)(" Asset ")),(0,r.Lk)("span",null,["asset_code"==i.meta.keyword&&"asc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",V4)):"asset_code"==i.meta.keyword&&"desc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",F4)):((0,r.uX)(),(0,r.CE)("i",U4))])]),(0,r.Lk)("th",{onClick:a[3]||(a[3]=e=>o.sort("reference_no"))},[a[13]||(a[13]=(0,r.eW)(" Reference No. ")),(0,r.Lk)("span",null,["reference_no"==i.meta.keyword&&"asc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",j4)):"reference_no"==i.meta.keyword&&"desc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",z4)):((0,r.uX)(),(0,r.CE)("i",W4))])]),(0,r.Lk)("th",{onClick:a[4]||(a[4]=e=>o.sort("reference_date"))},[a[14]||(a[14]=(0,r.eW)(" Reference Date & Time ")),(0,r.Lk)("span",null,["reference_date"==i.meta.keyword&&"asc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",R4)):"reference_date"==i.meta.keyword&&"desc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",q4)):((0,r.uX)(),(0,r.CE)("i",I4))])]),(0,r.Lk)("th",null,[a[15]||(a[15]=(0,r.eW)(" Asset Zone Service ")),(0,r.Lk)("span",null,["asset_zone_id"==i.meta.keyword&&"asc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",N4)):"asset_zone_id"==i.meta.keyword&&"desc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",M4)):((0,r.uX)(),(0,r.CE)("i",K4))])]),(0,r.Lk)("th",null,[a[16]||(a[16]=(0,r.eW)(" Created At ")),(0,r.Lk)("span",null,["asset_zone_id"==i.meta.keyword&&"asc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",J4)):"asset_zone_id"==i.meta.keyword&&"desc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",B4)):((0,r.uX)(),(0,r.CE)("i",O4))])]),a[18]||(a[18]=(0,r.Lk)("th",{class:"text-center"},"Actions",-1))])]),(0,r.Lk)("tbody",null,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(i.user_checks,((e,t)=>((0,r.uX)(),(0,r.CE)("tr",{key:t},[(0,r.Lk)("td",H4,(0,n.v_)(i.meta.from+t),1),(0,r.Lk)("td",null,(0,n.v_)(e.asset?.asset_code),1),(0,r.Lk)("td",null,(0,n.v_)(e.reference_no),1),(0,r.Lk)("td",null,(0,n.v_)(o.convertDateFormat(e.reference_date)),1),(0,r.Lk)("td",null,(0,n.v_)(e?.asset_service?.asset_zone?.zone_name)+" :: "+(0,n.v_)(e?.asset_service?.service?.service_name),1),(0,r.Lk)("td",null,[(0,r.eW)((0,n.v_)(e?.user?.name)+" ",1),a[19]||(a[19]=(0,r.Lk)("br",null,null,-1)),(0,r.eW)(" "+(0,n.v_)(e.created_at),1)]),(0,r.Lk)("td",Y4,[(0,r.bo)(((0,r.uX)(),(0,r.CE)("a",{title:"Edit",href:"javascript:void(0)",class:"text-success me-2",onClick:a=>o.editUserCheck(e)},a[20]||(a[20]=[(0,r.Lk)("i",{class:"ri-pencil-line fs-18 lh-1"},null,-1)]),8,Z4)),[[u,"check_registers.update"]]),(0,r.Lk)("a",{title:"View",href:"javascript:void(0)",onClick:a=>o.viewUserCheck(e),class:"text-primary me-2"},a[21]||(a[21]=[(0,r.Lk)("i",{class:"ri-eye-fill fs-18 lh-1"},null,-1)]),8,G4),(0,r.bo)(((0,r.uX)(),(0,r.CE)("a",{title:"Delete",href:"javascript:void(0)",class:"text-danger me-2",onClick:(0,s.D$)((a=>o.deleteUserCheck(e)),["prevent"])},a[22]||(a[22]=[(0,r.Lk)("i",{class:"ri-delete-bin-6-line fs-18 lh-1"},null,-1)]),8,e5)),[[u,"check_registers.delete"]])])])))),128)),0==i.user_checks.length?((0,r.uX)(),(0,r.CE)("tr",a5,a[23]||(a[23]=[(0,r.Lk)("td",{colspan:"6",class:"text-center"},"No records found",-1)]))):(0,r.Q3)("",!0)])])])]),(0,r.Lk)("div",t5,[(0,r.Lk)("div",s5,[(0,r.bo)((0,r.Lk)("select",{class:"form-select from-select-sm width-75","onUpdate:modelValue":a[5]||(a[5]=e=>i.meta.per_page=e),onChange:a[6]||(a[6]=(...e)=>o.onPerPageChange&&o.onPerPageChange(...e))},a[24]||(a[24]=[(0,r.Lk)("option",null,"10",-1),(0,r.Lk)("option",null,"15",-1),(0,r.Lk)("option",null,"20",-1),(0,r.Lk)("option",null,"25",-1),(0,r.Lk)("option",null,"30",-1)]),544),[[s.u1,i.meta.per_page]]),(0,r.Lk)("span",null,"Showing "+(0,n.v_)(i.meta.from)+" to "+(0,n.v_)(i.meta.to)+" of "+(0,n.v_)(i.meta.totalRows)+" entries",1),(0,r.bF)(c,{maxPage:i.meta.maxPage,totalPages:i.meta.lastPage,currentPage:parseInt(i.meta.page),onPagechanged:o.onPageChange},null,8,["maxPage","totalPages","currentPage","onPagechanged"])])])])])])])}var l5={name:"UserChecks.Index",components:{Pagination:md},data(){return{status:!0,meta:{search:"",order_by:"desc",keyword:"user_check_id",per_page:10,totalRows:0,page:1,lastPage:1,from:1,to:1,maxPage:1,trashed:!1},user_checks:[],errors:[],status:!0,selectedFile:null}},beforeRouteEnter(e,a,t){t((e=>{"UserChecks.Edit"!=a.name&&"UserChecks.View"!=a.name?e.$store.commit("setCurrentPage",e.meta.page):e.meta.page=e.$store.getters.current_page}))},mounted(){this.$store.commit("setAssetId",""),this.index()},methods:{convertDateFormat(e){return sG()(e).format("DD-MM-YYYY HH:mm")},index(){let e=this,a=e.$loading.show();e.$store.dispatch("post",{uri:"paginateUserChecks",data:e.meta}).then((t=>{a.hide(),e.user_checks=t.data.data,e.meta.totalRows=t.data.meta.total,e.meta.from=t.data.meta.from,e.meta.to=t.data.meta.to,e.meta.lastPage=t.data.meta.last_page,e.meta.maxPage=e.meta.lastPage>=3?3:e.meta.lastPage})).catch((function(t){a.hide(),e.errors=t.response.data.errors,e.$store.dispatch("error",t.response.data.message)}))},editUserCheck(e){this.$store.commit("setCurrentPage",parseInt(this.meta.page)),this.$router.push("/user_check/"+e.user_check_id+"/edit")},viewUserCheck(e){this.$store.commit("setCurrentPage",this.meta.page),this.$router.push("/user_check/"+e.user_check_id+"/view")},onFileChange(e){this.selectedFile=e.target.files[0]},handleFileUpload(){if(console.log("dcdcdc"),!this.selectedFile)return void this.$store.dispatch("error","Please select a valid file before uploading.");const e=new FormData;e.append("file",this.selectedFile),this.$store.dispatch("post",{uri:"uploadUserCheckTemplate",data:e}).then((e=>{this.$store.dispatch("success",e.data.success),this.selectedFile=null,this.$refs.fileInput.value="",this.index()})).catch((function(e){this.$store.dispatch("error",e?.response?.data?.message||"File upload failed."),console.error("Upload Error:",e)}))},deleteUserCheck(e){const a=confirm("Are you sure you want to delete it ?");if(a){let a=this,t=a.$loading.show();a.$store.dispatch("post",{uri:"deleteUserCheck",data:e}).then((e=>{t.hide(),a.$store.dispatch("success",e.data.message),a.index()})).catch((function(e){t.hide(),a.errors=e.response.data.errors,a.$store.dispatch("error",e.response.data.message)}))}},search(){let e=this;e.meta.page=1,e.index()},onPageChange(e){this.meta.page=e,this.index()},sort(e){this.meta.keyword=e,this.meta.order_by="asc"==this.meta.order_by?"desc":"asc",this.index()},onPerPageChange(){let e=this;e.meta.page=1,e.index()}}};const i5=(0,Ze.A)(l5,[["render",r5],["__scopeId","data-v-d4126da6"]]);var o5=i5;const d5={class:""},n5={class:"d-sm-flex align-items-center justify-content-between mb-2"},c5={class:"breadcrumb fs-sm mb-1"},u5={class:"breadcrumb-item","aria-current":"page"},_5={class:"breadcrumb-item active","aria-current":"page"},p5={key:0,class:"breadcrumb-item","aria-current":"page"},m5={key:1,class:"breadcrumb-item active","aria-current":"page"},b5={class:"row"},k5={class:"col-12 mb-3"},v5={class:"card card-one"},h5={class:"card-header d-flex justify-content-between"},y5={key:0,class:"card-title"},g5={key:1,class:"card-title"},f5={class:"card-body"},L5={class:"row g-2"},C5={class:"col-md-3"},w5={key:0,class:"invalid-feedback"},E5={class:"col-md-3"},x5={key:0,class:"invalid-feedback"},X5={class:"col-md-3"},P5={key:0,class:"invalid-feedback"},$5={class:"col-md-3"},S5=["min"],A5={key:0,class:"invalid-feedback"},D5={class:"col-md-12"},T5={key:0,class:"invalid-feedback"},Q5={class:"col-12"},V5={class:"card card-one"},F5={class:"card-body"},U5={class:"row g-2"},j5={class:"table-container",style:{"overflow-x":"auto","max-width":"100%"}},z5={class:"table table-responsive table-striped table-responsive-sm table-sm text-nowrap table-bordered mb-0"},W5={class:"text-center"},R5={style:{width:"20%","min-width":"200px"}},q5=["onUpdate:modelValue"],I5=["onUpdate:modelValue"],N5=["onUpdate:modelValue"],M5=["onUpdate:modelValue"],K5=["onUpdate:modelValue"],J5=["onUpdate:modelValue"],B5=["value"],O5={key:6,class:"invalid-feedback"};function H5(e,a,t,l,i,o){const d=(0,r.g2)("router-link"),c=(0,r.g2)("search");return(0,r.uX)(),(0,r.CE)("div",d5,[(0,r.Lk)("div",n5,[(0,r.Lk)("div",null,[(0,r.Lk)("ol",c5,[(0,r.Lk)("li",u5,[(0,r.bF)(d,{to:"/dashboard"},{default:(0,r.k6)((()=>a[10]||(a[10]=[(0,r.eW)("Dashboard")]))),_:1})]),a[12]||(a[12]=(0,r.Lk)("li",{class:"breadcrumb-item"},[(0,r.Lk)("a",{href:"javascript:void(0)"},"Registers")],-1)),(0,r.Lk)("li",_5,[(0,r.bF)(d,{to:"/user_checks"},{default:(0,r.k6)((()=>a[11]||(a[11]=[(0,r.eW)("Inspection Registers")]))),_:1})]),i.status?((0,r.uX)(),(0,r.CE)("li",p5,"Add Inspection")):((0,r.uX)(),(0,r.CE)("li",m5,"Update Inspection"))]),a[13]||(a[13]=(0,r.Lk)("h4",{class:"main-title mb-0"},"Inspection Register",-1))]),(0,r.Lk)("div",null,[(0,r.bF)(d,{to:"/user_checks",type:"button",class:"btn btn-danger me-2"},{default:(0,r.k6)((()=>a[14]||(a[14]=[(0,r.Lk)("i",{class:"ri-arrow-left-line fs-18 lh-1"},null,-1),(0,r.eW)(" Back")]))),_:1}),i.status&&i.user_check.asset_checks.length>0?((0,r.uX)(),(0,r.CE)("button",{key:0,type:"button",class:"btn btn-primary me-2",onClick:a[0]||(a[0]=e=>o.addUserCheck())},a[15]||(a[15]=[(0,r.Lk)("i",{class:"ri-save-line fs-18 lh-1"},null,-1),(0,r.eW)(" Submit")]))):!i.status&&i.user_check.asset_checks.length>0?((0,r.uX)(),(0,r.CE)("button",{key:1,type:"button",class:"btn btn-primary me-2",onClick:a[1]||(a[1]=e=>o.updateUserCheck())},a[16]||(a[16]=[(0,r.Lk)("i",{class:"ri-save-line fs-18 lh-1"},null,-1),(0,r.eW)(" Update")]))):(0,r.Q3)("",!0)])]),(0,r.Lk)("div",b5,[(0,r.Lk)("div",k5,[(0,r.Lk)("form",null,[(0,r.Lk)("div",v5,[(0,r.Lk)("div",h5,[i.status?((0,r.uX)(),(0,r.CE)("h6",y5,"Add Inspection Register")):((0,r.uX)(),(0,r.CE)("h6",g5,"Update Inspection Register"))]),(0,r.Lk)("div",f5,[(0,r.Lk)("div",L5,[(0,r.Lk)("div",C5,[a[17]||(a[17]=(0,r.Lk)("label",{class:"form-label"},"Asset",-1)),a[18]||(a[18]=(0,r.Lk)("span",{class:"text-danger"}," *",-1)),(0,r.bF)(c,{disabled:!i.status,class:(0,n.C4)({"is-invalid":i.errors?.asset_id}),customClass:{"is-invalid":i.errors?.asset_id},initialize:i.user_check.asset_id,id:"asset_id",label:"asset_name",label2:"asset_code",placeholder:"Select Asset",data:i.assets,onInput:a[2]||(a[2]=e=>i.user_check.asset_id=e),onSelectsearch:a[3]||(a[3]=e=>o.checkAssets())},null,8,["disabled","class","customClass","initialize","data"]),i.errors?.asset_id?((0,r.uX)(),(0,r.CE)("span",w5,(0,n.v_)(i.errors?.asset_id[0]),1)):(0,r.Q3)("",!0)]),(0,r.Lk)("div",E5,[a[19]||(a[19]=(0,r.Lk)("label",{class:"form-label"},"Department",-1)),a[20]||(a[20]=(0,r.Lk)("span",{class:"text-danger"}," *",-1)),(0,r.bF)(c,{disabled:!i.status,class:(0,n.C4)({"is-invalid":i.errors?.department_id}),customClass:{"is-invalid":i.errors?.department_id},initialize:i.user_check.department_id,id:"department_id",label:"department_name",label2:"department_code",placeholder:"Select Department",data:i.departments,onInput:a[4]||(a[4]=e=>i.user_check.department_id=e),onSelectsearch:a[5]||(a[5]=e=>o.checkAssetServices())},null,8,["disabled","class","customClass","initialize","data"]),i.errors?.asset_id?((0,r.uX)(),(0,r.CE)("span",x5,(0,n.v_)(i.errors.asset_id[0]),1)):(0,r.Q3)("",!0)]),(0,r.Lk)("div",X5,[a[21]||(a[21]=(0,r.Lk)("label",{class:"form-label"},"Asset Zone Service",-1)),a[22]||(a[22]=(0,r.Lk)("span",{class:"text-danger"}," *",-1)),(0,r.bF)(c,{disabled:!i.status,class:(0,n.C4)({"is-invalid":i.errors.asset_service_id}),customClass:{"is-invalid":i.errors.asset_service_id},initialize:i.user_check.asset_service_id,id:"asset_service_id",label:"display_name",placeholder:"Select Asset Zone Service",data:o.formattedAssetZones,onInput:a[6]||(a[6]=e=>i.user_check.asset_service_id=e),onSelectsearch:a[7]||(a[7]=e=>o.getAssetChecks(i.user_check.asset_service_id))},null,8,["disabled","class","customClass","initialize","data"]),i.errors.asset_service_id?((0,r.uX)(),(0,r.CE)("span",P5,(0,n.v_)(i.errors.asset_service_id[0]),1)):(0,r.Q3)("",!0)]),(0,r.Lk)("div",$5,[a[23]||(a[23]=(0,r.Lk)("label",{class:"form-label"},"Reference Date & Time",-1)),a[24]||(a[24]=(0,r.Lk)("span",{class:"text-danger"}," *",-1)),(0,r.bo)((0,r.Lk)("input",{type:"datetime-local",class:(0,n.C4)(["form-control",{"is-invalid":i.errors.reference_date}]),placeholder:"Enter Reference Date","onUpdate:modelValue":a[8]||(a[8]=e=>i.user_check.reference_date=e),min:o.currentDateTime,ref:"reference_date"},null,10,S5),[[s.Jo,i.user_check.reference_date]]),i.errors.reference_date?((0,r.uX)(),(0,r.CE)("span",A5,(0,n.v_)(i.errors.reference_date[0]),1)):(0,r.Q3)("",!0)]),(0,r.Lk)("div",D5,[a[25]||(a[25]=(0,r.Lk)("label",{class:"form-label"},"Note",-1)),(0,r.bo)((0,r.Lk)("textarea",{type:"text",placeholder:"Enter Note",class:(0,n.C4)(["form-control",{"is-invalid":i.errors.note}]),"onUpdate:modelValue":a[9]||(a[9]=e=>i.user_check.note=e)},null,2),[[s.Jo,i.user_check.note]]),i.errors.note?((0,r.uX)(),(0,r.CE)("span",T5,(0,n.v_)(i.errors.note[0]),1)):(0,r.Q3)("",!0)])])])])])]),(0,r.Lk)("div",Q5,[(0,r.Lk)("div",V5,[a[28]||(a[28]=(0,r.Lk)("div",{class:"card-header d-flex justify-content-between"},[(0,r.Lk)("h6",{class:"card-title"},"Asset Checks")],-1)),(0,r.Lk)("div",F5,[(0,r.Lk)("div",U5,[(0,r.Lk)("div",j5,[(0,r.Lk)("table",z5,[a[27]||(a[27]=(0,r.Lk)("thead",null,[(0,r.Lk)("tr",null,[(0,r.Lk)("th",{class:"text-center"},"#"),(0,r.Lk)("th",null,"Field name"),(0,r.Lk)("th",null,"Field Type"),(0,r.Lk)("th",null,"Default Value"),(0,r.Lk)("th",null,"Is Required"),(0,r.Lk)("th",null,"LCL"),(0,r.Lk)("th",null,"UCL"),(0,r.Lk)("th",null,"Value")])],-1)),(0,r.Lk)("tbody",null,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(i.user_check.asset_checks,((e,t)=>((0,r.uX)(),(0,r.CE)("tr",{key:t},[(0,r.Lk)("td",W5,(0,n.v_)(t+1),1),(0,r.Lk)("td",null,(0,n.v_)(e.field_name),1),(0,r.Lk)("td",null,(0,n.v_)(e.field_type),1),(0,r.Lk)("td",null,(0,n.v_)(e.default_value),1),(0,r.Lk)("td",null,(0,n.v_)(1==e.is_required?"Yes":"No"),1),(0,r.Lk)("td",null,(0,n.v_)(e.lcl),1),(0,r.Lk)("td",null,(0,n.v_)(e.ucl),1),(0,r.Lk)("td",R5,["Text"==e.field_type?(0,r.bo)(((0,r.uX)(),(0,r.CE)("input",{key:0,type:"text",class:(0,n.C4)(["form-control",{"is-invalid":i.errors[`asset_checks.${t}.value`]}]),"onUpdate:modelValue":a=>e.value=a},null,10,q5)),[[s.Jo,e.value]]):(0,r.Q3)("",!0),"Number"==e.field_type?(0,r.bo)(((0,r.uX)(),(0,r.CE)("input",{key:1,type:"number",class:(0,n.C4)(["form-control",{"border-danger":""!==e.value&&(e.value<e.lcl||e.value>e.ucl),"border-success":""!==e.value&&e.value>=e.lcl&&e.value<=e.ucl}]),"onUpdate:modelValue":a=>e.value=a},null,10,I5)),[[s.Jo,e.value]]):(0,r.Q3)("",!0),"Text Area"==e.field_type?(0,r.bo)(((0,r.uX)(),(0,r.CE)("textarea",{key:2,class:(0,n.C4)(["form-control",{"is-invalid":i.errors[`asset_checks.${t}.value`]}]),"onUpdate:modelValue":a=>e.value=a},null,10,N5)),[[s.Jo,e.value]]):(0,r.Q3)("",!0),"Date"==e.field_type?(0,r.bo)(((0,r.uX)(),(0,r.CE)("input",{key:3,type:"date",class:(0,n.C4)(["form-control",{"is-invalid":i.errors[`asset_checks.${t}.value`]}]),"onUpdate:modelValue":a=>e.value=a},null,10,M5)),[[s.Jo,e.value]]):(0,r.Q3)("",!0),"Date & Time"==e.field_type?(0,r.bo)(((0,r.uX)(),(0,r.CE)("input",{key:4,type:"datetime-local",class:(0,n.C4)(["form-control",{"is-invalid":i.errors[`asset_checks.${t}.value`]}]),"onUpdate:modelValue":a=>e.value=a},null,10,K5)),[[s.Jo,e.value]]):(0,r.Q3)("",!0),"Select"==e.field_type?(0,r.bo)(((0,r.uX)(),(0,r.CE)("select",{key:5,class:(0,n.C4)(["form-control",{"border-danger":""!==e.value&&!o.isValueInDefaultValues(e),"border-success":""!==e.value&&o.isValueInDefaultValues(e),"is-invalid":i.errors[`asset_checks.${t}.value`]}]),"onUpdate:modelValue":a=>e.value=a},[a[26]||(a[26]=(0,r.Lk)("option",{value:""},"Select",-1)),((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(e?.field_values?.split(","),((e,a)=>((0,r.uX)(),(0,r.CE)("option",{key:a,value:e.trim()},(0,n.v_)(e.trim()),9,B5)))),128))],10,J5)),[[s.u1,e.value]]):(0,r.Q3)("",!0),i.errors[`asset_checks.${t}.value`]?((0,r.uX)(),(0,r.CE)("span",O5,(0,n.v_)(i.errors[`asset_checks.${t}.value`][0]),1)):(0,r.Q3)("",!0)])])))),128))])])])])])])])])])}var Y5={name:"UserChecks.Create",components:{Search:It.A},data(){return{status:!0,user_check:{user_check_id:"",asset_id:"",reference_no:"",reference_date:"",note:"",asset_zone_id:"",department_id:"",status:"",asset_checks:[],asset_service_id:""},assets:[],status:!0,asset_checks:[],asset_zones:[],departments:[],errors:[]}},beforeRouteEnter(e,a,t){t((a=>{if(a.getAssets(),"UserChecks.Create"==e.name)a.$store.getters.asset_id&&(a.user_check.asset_id=a.$store.getters.asset_id),a.$refs.reference_date.focus();else{a.status=!1;let t={uri:"getUserCheck",data:{user_check_id:e.params.user_check_id}};a.$store.dispatch("post",t).then((function(e){a.user_check=e.data.data})).catch((function(e){a.errors=e.response.data.errors,a.$store.dispatch("error",e.response.data.message)}))}}))},watch:{"user_check.asset_id":function(){this.getAssetZones(),this.getDepartments()},"user_check.department_id":function(){this.status&&(this.user_check.asset_checks=[])}},computed:{formattedAssetZones(){return this.asset_zones.map((e=>({...e,display_name:`${e?.asset_zone?.zone_name} :: ${e?.asset_service?.service_name}`})))},currentDateTime(){const e=new Date;return e.toISOString().slice(0,16)}},mounted(){this.user_check.reference_date=sG()().format("yyyy-MM-DDTHH:mm")},methods:{checkAssets(){this.user_check.asset_zone_id=""},checkAssetServices(){this.user_check.asset_service_id=""},getAssets(){let e=this,a=e.$loading.show();e.$store.dispatch("post",{uri:"getAssets"}).then((t=>{a.hide(),e.assets=t.data.data})).catch((function(t){a.hide(),e.errors=t.response.data.errors,e.$store.dispatch("error",t.response.data.message)}))},getDepartments(){let e=this,a=e.$loading.show();e.$store.dispatch("post",{uri:"getAssetRegisterDepartments",data:e.user_check}).then((t=>{a.hide(),e.departments=t.data})).catch((function(t){a.hide(),e.errors=t.response.data.errors}))},getAssetChecks(){let e=this;e.asset_checks=[],e.user_check.asset_checks=[];let a=e.$loading.show();e.$store.dispatch("post",{uri:"getAssetRegisterChecks",data:e.user_check}).then((t=>{if(a.hide(),t.data.data?.length){e.user_check.asset_checks=[];t.data.data.filter((function(a){e.user_check.asset_checks.push({check_id:a.check.check_id,default_value:a.default_value,field_name:a.check.field_name,field_type:a.check.field_type,field_value:a.check.field_value,is_required:a.check.is_required,field_values:a.check.field_values,lcl:a.lcl,order:a.order,status:a.check.status,ucl:a.ucl,value:"",asset_check_id:a.asset_check_id,asset_service_id:a.asset_service_id,asset_service:a.asset_service})}));console.log("user",e.user_check.asset_checks)}})).catch((function(t){a.hide(),e.errors=t.response.data.errors,e.$store.dispatch("error",t.response.data.message)}))},isValueInDefaultValues(e){if("Select"===e.field_type&&e.value&&e.default_value){const a=e.default_value.split(",").map((e=>e.trim()));return a.includes(e.value.trim())}return!0},validateSelectField(e,a){if("Select"===e.field_type&&e.value&&e.default_value){const t=e.default_value.split(",").map((e=>e.trim())),s=e.value.trim();if(!t.includes(s))return this.errors[`asset_checks.${a}.value`]=["Selected value is not in the allowed default values."],!0}return!1},addUserCheck(){let e=this,a=!1;if(e.errors={},e.user_check.asset_checks.forEach(((t,s)=>{t.is_required&&!t.value&&(e.errors[`asset_checks.${s}.value`]=["This Value field is required."],a=!0)})),a)return void e.$store.dispatch("error","Please fill all required fields.");let t=e.$loading.show();e.$store.dispatch("post",{uri:"addUserCheck",data:e.user_check}).then((a=>{t.hide(),e.$store.dispatch("success",a.data.message),e.$router.push("/user_checks")})).catch((function(a){t.hide(),e.errors=a.response.data.errors,e.$store.dispatch("error",a.response.data.message)}))},updateUserCheck(){let e=this,a=!1;if(e.errors={},e.user_check.asset_checks.forEach(((t,s)=>{t.is_required&&!t.value&&(e.errors[`asset_checks.${s}.value`]=["This Value field is required."],a=!0)})),a)return void e.$store.dispatch("error","Please fill all required fields.");let t=e.$loading.show();e.$store.dispatch("post",{uri:"updateUserCheck",data:e.user_check}).then((a=>{t.hide(),e.$store.dispatch("success",a.data.message),e.$router.push("/user_checks")})).catch((function(a){t.hide(),e.errors=a.response.data.errors,e.$store.dispatch("error",a.response.data.message)}))},getAssetZones(){let e=this,a=e.$loading.show();e.$store.dispatch("post",{uri:"getAssetServiceChecks",data:e.user_check}).then((t=>{a.hide(),e.asset_zones=t.data.data})).catch((function(t){a.hide(),e.errors=t.response.data.errors}))},convertDateFormat(e){return sG()(e).format("yyyy-MM-DDTHH:mm")}}};const Z5=(0,Ze.A)(Y5,[["render",H5]]);var G5=Z5;const e8={class:""},a8={class:"d-sm-flex align-items-center justify-content-between mb-2"},t8={class:"breadcrumb fs-sm mb-1"},s8={class:"breadcrumb-item","aria-current":"page"},r8={class:"breadcrumb-item active","aria-current":"page"},l8={class:"row"},i8={class:"col-12"},o8={class:"card card-one mb-3"},d8={class:"card-body p-0"},n8={class:"setting-item"},c8={class:"row g-2 mb-4"},u8={class:"col-md-4 mb-3"},_8={class:"font"},p8={class:"col-md-4 mb-3"},m8={class:"font"},b8={class:"col-md-4 mb-3"},k8={class:"font"},v8={class:"col-md-4 mb-3"},h8={class:"font"},y8={class:"col-md-12 mt-1"},g8={class:"table-responsive table-responsive-sm"},f8={class:"table table-responsive table-striped table-responsive-sm table-sm text-nowrap table-bordered mb-0"},L8={class:"text-center"},C8={class:"row g-2"},w8=["href"],E8=["src","href"];function x8(e,a,t,s,l,i){const o=(0,r.g2)("router-link");return(0,r.uX)(),(0,r.CE)("div",e8,[(0,r.Lk)("div",a8,[(0,r.Lk)("div",null,[(0,r.Lk)("ol",t8,[(0,r.Lk)("li",s8,[(0,r.bF)(o,{to:"/dashboard"},{default:(0,r.k6)((()=>a[0]||(a[0]=[(0,r.eW)("Dashboard")]))),_:1})]),a[2]||(a[2]=(0,r.Lk)("li",{class:"breadcrumb-item"},[(0,r.Lk)("a",{href:"javascript:void(0)"},"Registers")],-1)),(0,r.Lk)("li",r8,[(0,r.bF)(o,{to:"/user_checks"},{default:(0,r.k6)((()=>a[1]||(a[1]=[(0,r.eW)("Inspection Registers")]))),_:1})]),a[3]||(a[3]=(0,r.Lk)("li",{class:"breadcrumb-item","aria-current":"page"},"View",-1))]),a[4]||(a[4]=(0,r.Lk)("h4",{class:"main-title mb-0"},"View Inspection Register",-1))]),(0,r.bF)(o,{to:"/user_checks",type:"submit",class:"btn btn-primary",style:{float:"right"}},{default:(0,r.k6)((()=>a[5]||(a[5]=[(0,r.Lk)("i",{class:"ri-list-check"},null,-1),(0,r.eW)(" INSPECTION REGISTERS")]))),_:1})]),(0,r.Lk)("div",l8,[(0,r.Lk)("div",i8,[(0,r.Lk)("div",o8,[a[13]||(a[13]=(0,r.Lk)("div",{class:"card-header"},[(0,r.Lk)("h5",{class:"card-title"},"Inspection Register"),(0,r.Lk)("br")],-1)),(0,r.Lk)("div",d8,[(0,r.Lk)("div",n8,[(0,r.Lk)("div",c8,[(0,r.Lk)("div",u8,[a[6]||(a[6]=(0,r.Lk)("h6",null,"Reference Number",-1)),(0,r.Lk)("p",_8,(0,n.v_)(l.user_check.reference_no),1)]),(0,r.Lk)("div",p8,[a[7]||(a[7]=(0,r.Lk)("h6",null,"Asset Code",-1)),(0,r.Lk)("p",m8,(0,n.v_)(l.user_check?.asset?.asset_code),1)]),(0,r.Lk)("div",b8,[a[8]||(a[8]=(0,r.Lk)("h6",null,"Asset Zone Service",-1)),(0,r.Lk)("p",k8,(0,n.v_)(l.user_check?.asset_zone?.zone_name)+" :: "+(0,n.v_)(l.user_check?.asset_service?.service_name),1)]),(0,r.Lk)("div",v8,[a[9]||(a[9]=(0,r.Lk)("h6",null,"Reference Date",-1)),(0,r.Lk)("p",h8,(0,n.v_)(i.convertDateFormat(l.user_check.reference_date)),1)]),(0,r.Lk)("div",y8,[a[11]||(a[11]=(0,r.Lk)("h6",{class:"mb-2"},"Asset Checks :",-1)),(0,r.Lk)("div",g8,[(0,r.Lk)("table",f8,[a[10]||(a[10]=(0,r.Lk)("thead",null,[(0,r.Lk)("tr",null,[(0,r.Lk)("th",{class:"text-center"},"#"),(0,r.Lk)("th",{class:"text-left"},"Field name"),(0,r.Lk)("th",null,"Field Type"),(0,r.Lk)("th",null,"Default Value"),(0,r.Lk)("th",null,"Is Required"),(0,r.Lk)("th",null,"Field Values"),(0,r.Lk)("th",null,"LCL"),(0,r.Lk)("th",null,"UCL"),(0,r.Lk)("th",null,"Value")])],-1)),(0,r.Lk)("tbody",null,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(l.user_check.asset_checks,((e,a)=>((0,r.uX)(),(0,r.CE)("tr",{key:a},[(0,r.Lk)("td",L8,(0,n.v_)(a+1),1),(0,r.Lk)("td",null,(0,n.v_)(e.field_name),1),(0,r.Lk)("td",null,(0,n.v_)(e.field_type),1),(0,r.Lk)("td",null,(0,n.v_)(e.default_value),1),(0,r.Lk)("td",null,(0,n.v_)(1==e.is_required?"Yes":"No"),1),(0,r.Lk)("td",null,(0,n.v_)(e.field_values),1),(0,r.Lk)("td",null,(0,n.v_)(e.lcl),1),(0,r.Lk)("td",null,(0,n.v_)(e.ucl),1),(0,r.Lk)("td",null,(0,n.v_)(e.value),1)])))),128))])])])])]),(0,r.Lk)("div",C8,[a[12]||(a[12]=(0,r.Lk)("h6",null,"Attachments :",-1)),((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(l.user_check.user_attachments,((a,t)=>((0,r.uX)(),(0,r.CE)("div",{class:"col-2 mb-2 imageContainer",key:t},[(0,r.Lk)("a",{href:e.$store.state.apiUrl+"downloadCheckAttachment?file_name="+a.file_name},[(0,r.Lk)("img",{src:a.attachments,class:"img-fluid1",alt:"",href:a.attachments,style:{width:"120px",height:"120px"}},null,8,E8)],8,w8)])))),128))])])])])])])])}var X8={name:"ViewAsset",data(){return{user_check:{user_check_id:"",asset_id:"",reference_no:"",reference_date:"",note:"",status:"",asset_checks:[]}}},beforeRouteEnter(e,a,t){t((a=>{a.user_check.user_check_id=e.params.user_check_id,a.getUserCheck()}))},methods:{getUserCheck(){let e=this,a=e.$loading.show(),t={uri:"getUserCheck",data:{user_check_id:e.user_check.user_check_id}};e.$store.dispatch("post",t).then((function(t){a.hide(),e.user_check=t.data.data})).catch((function(t){a.hide(),e.errors=t.response.data.errors,e.$store.dispatch("error",t.response.data.message)}))},showImage(e){document.getElementById("image").style.display="block",document.getElementById("btnID").style.display="none"},downloadImage(e){let a=this;window.open(a.$store.state.apiUrl+"downloadCheckAttachment?file_name="+e)},downloadEngineeringDetail(){let e=this;e.errors=[],""==e.engineering.project_id&&(e.engineering.project_id=["The project field is required."]),""==e.engineering.to_date&&(e.engineering.to_date=["The To Date field is required."]),e.engineering.project_id&&e.engineering.to_date&&window.open(e.$store.getters.apiUrl+"downloadElectricalDetailReport?project_id="+e.engineering.project_id+"&to_date="+e.engineering.to_date+"&from_date="+e.engineering.from_date+"&isDownload=true")},convertDateFormat(e){return sG()(e).format("yyyy-MM-DD")}}};const P8=(0,Ze.A)(X8,[["render",x8],["__scopeId","data-v-0cc43d30"]]);var $8=P8;const S8={class:""},A8={class:"breadcrumb fs-sm mb-1"},D8={class:"breadcrumb-item"},T8={class:"row g-2"},Q8={class:"col-4"},V8={class:"card card-one"},F8={class:"card-header d-flex justify-content-between"},U8={key:0,class:"card-title"},j8={key:1,class:"card-title"},z8={class:"card-body"},W8={class:"row g-2"},R8={class:"col-md-12"},q8=["disabled"],I8={key:0,class:"invalid-feedback"},N8={class:"col-md-12"},M8={key:0,class:"invalid-feedback"},K8={class:"card-footer text-end"},J8={type:"submit",class:"btn btn-primary"},B8={key:0},O8={key:1},H8={class:"card card-one"},Y8={class:"card-body"},Z8={class:"table-responsive table-responsive-sm"},G8={class:"table table-sm text-nowrap table-striped table-bordered mb-0"},e6={class:"",style:{"background-color":"#9b9b9b",color:"white"}},a6={key:0,class:"ri-arrow-up-line"},t6={key:1,class:"ri-arrow-down-line"},s6={key:2,class:"fas fa-sort"},r6={key:0,class:"ri-arrow-up-line"},l6={key:1,class:"ri-arrow-down-line"},i6={key:2,class:"fas fa-sort"},o6={class:"text-center"},d6={class:"text-center"},n6={key:0},c6={class:"text-center"},u6={class:"text-center"},_6={class:"form-switch"},p6=["id","checked","value","onChange"],m6=["for"],b6={class:"text-center"},k6=["onClick"],v6={class:"card-footer"},h6={class:"d-flex justify-content-between align-items-center"};function y6(e,a,t,l,i,o){const d=(0,r.g2)("router-link"),c=(0,r.g2)("Pagination"),u=(0,r.gN)("can");return(0,r.uX)(),(0,r.CE)("div",S8,[(0,r.Lk)("div",null,[(0,r.Lk)("ol",A8,[(0,r.Lk)("li",D8,[(0,r.bF)(d,{to:"/dashboard"},{default:(0,r.k6)((()=>a[10]||(a[10]=[(0,r.eW)("Dashboard")]))),_:1})]),a[11]||(a[11]=(0,r.Lk)("li",{class:"breadcrumb-item"},[(0,r.Lk)("a",{href:"javascript:void(0)"},"Lineage Parameters")],-1)),a[12]||(a[12]=(0,r.Lk)("li",{class:"breadcrumb-item active","aria-current":"page"},"Areas",-1))]),a[13]||(a[13]=(0,r.Lk)("h4",{class:"main-title mb-2"},"Areas",-1))]),(0,r.Lk)("div",T8,[(0,r.bo)(((0,r.uX)(),(0,r.CE)("div",Q8,[(0,r.Lk)("form",{onSubmit:a[3]||(a[3]=(0,s.D$)((e=>o.submitForm()),["prevent"]))},[(0,r.Lk)("div",V8,[(0,r.Lk)("div",F8,[i.status?((0,r.uX)(),(0,r.CE)("h6",U8,"Add Area")):((0,r.uX)(),(0,r.CE)("h6",j8,"Update Area"))]),(0,r.Lk)("div",z8,[(0,r.Lk)("div",W8,[(0,r.Lk)("div",R8,[a[14]||(a[14]=(0,r.Lk)("label",{class:"form-label"},"Area Code",-1)),a[15]||(a[15]=(0,r.Lk)("span",{class:"text-danger"}," *",-1)),(0,r.bo)((0,r.Lk)("input",{type:"text",placeholder:"Area Code",class:(0,n.C4)(["form-control",{"is-invalid":i.errors.area_code}]),"onUpdate:modelValue":a[0]||(a[0]=e=>i.area.area_code=e),ref:"area_code",disabled:!i.status},null,10,q8),[[s.Jo,i.area.area_code]]),i.errors.area_code?((0,r.uX)(),(0,r.CE)("span",I8,(0,n.v_)(i.errors.area_code[0]),1)):(0,r.Q3)("",!0)]),(0,r.Lk)("div",N8,[a[16]||(a[16]=(0,r.Lk)("label",{class:"form-label"},"Area Name",-1)),a[17]||(a[17]=(0,r.Lk)("span",{class:"text-danger"}," *",-1)),(0,r.bo)((0,r.Lk)("input",{type:"text",placeholder:"Enter Area name",class:(0,n.C4)(["form-control",{"is-invalid":i.errors.area_name}]),"onUpdate:modelValue":a[1]||(a[1]=e=>i.area.area_name=e)},null,2),[[s.Jo,i.area.area_name]]),i.errors.area_name?((0,r.uX)(),(0,r.CE)("span",M8,(0,n.v_)(i.errors.area_name[0]),1)):(0,r.Q3)("",!0)])])]),(0,r.Lk)("div",K8,[(0,r.Lk)("button",{type:"button",class:"btn btn-danger me-2",onClick:a[2]||(a[2]=e=>o.discard())},a[18]||(a[18]=[(0,r.Lk)("i",{class:"ri-close-line fs-18 lh-1"},null,-1),(0,r.eW)(" Discard")])),(0,r.Lk)("button",J8,[i.status?((0,r.uX)(),(0,r.CE)("span",B8,a[19]||(a[19]=[(0,r.Lk)("i",{class:"ri-save-line fs-18 lh-1"},null,-1),(0,r.eW)(" Submit")]))):((0,r.uX)(),(0,r.CE)("span",O8,a[20]||(a[20]=[(0,r.Lk)("i",{class:"ri-save-line fs-18 lh-1"},null,-1),(0,r.eW)(" Update")])))])])])],32)])),[[u,"areas.create"]]),(0,r.Lk)("div",{class:(0,n.C4)(i.column)},[(0,r.Lk)("div",H8,[a[29]||(a[29]=(0,r.Lk)("div",{class:"card-header d-flex justify-content-between"},[(0,r.Lk)("h6",{class:"card-title"},"Areas")],-1)),(0,r.Lk)("div",Y8,[(0,r.bo)((0,r.Lk)("input",{class:"form-control mb-2",type:"text",placeholder:"Type keyword and press enter key","onUpdate:modelValue":a[4]||(a[4]=e=>i.meta.search=e),onKeypress:a[5]||(a[5]=(0,s.jR)((e=>o.search()),["enter"]))},null,544),[[s.Jo,i.meta.search]]),(0,r.Lk)("div",Z8,[(0,r.Lk)("table",G8,[(0,r.Lk)("thead",null,[(0,r.Lk)("tr",e6,[a[25]||(a[25]=(0,r.Lk)("th",{class:"text-center"},"#",-1)),(0,r.Lk)("th",{onClick:a[6]||(a[6]=e=>o.sort("area_code"))},[a[21]||(a[21]=(0,r.eW)("Area Code ")),(0,r.Lk)("span",null,["area_code"==i.meta.keyword&&"asc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",a6)):"area_code"==i.meta.keyword&&"desc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",t6)):((0,r.uX)(),(0,r.CE)("i",s6))])]),(0,r.Lk)("th",{onClick:a[7]||(a[7]=e=>o.sort("area_name"))},[a[22]||(a[22]=(0,r.eW)("Area Name ")),(0,r.Lk)("span",null,["area_name"==i.meta.keyword&&"asc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",r6)):"area_name"==i.meta.keyword&&"desc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",l6)):((0,r.uX)(),(0,r.CE)("i",i6))])]),(0,r.bo)(((0,r.uX)(),(0,r.CE)("th",o6,a[23]||(a[23]=[(0,r.eW)("Status")]))),[[u,"areas.delete"]]),(0,r.bo)(((0,r.uX)(),(0,r.CE)("th",d6,a[24]||(a[24]=[(0,r.eW)("Actions")]))),[[u,"areas.update"]])])]),(0,r.Lk)("tbody",null,[0==i.areas.length?((0,r.uX)(),(0,r.CE)("tr",n6,a[26]||(a[26]=[(0,r.Lk)("td",{colspan:"6",class:"text-center"},"No records found",-1)]))):(0,r.Q3)("",!0),((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(i.areas,((e,t)=>((0,r.uX)(),(0,r.CE)("tr",{key:t},[(0,r.Lk)("td",c6,(0,n.v_)(i.meta.from+t),1),(0,r.Lk)("td",null,(0,n.v_)(e.area_code),1),(0,r.Lk)("td",null,(0,n.v_)(e.area_name),1),(0,r.bo)(((0,r.uX)(),(0,r.CE)("td",u6,[(0,r.Lk)("div",_6,[(0,r.Lk)("input",{class:"form-check-input",type:"checkbox",role:"switch",id:"area"+e.area_id,checked:e.status,value:e.status,onChange:a=>o.deleteArea(e)},null,40,p6),(0,r.Lk)("label",{class:"custom-control-label",for:"area"+e.area_id},null,8,m6)])])),[[u,"areas.delete"]]),(0,r.bo)(((0,r.uX)(),(0,r.CE)("td",b6,[e.status?((0,r.uX)(),(0,r.CE)("a",{key:0,href:"javascript:void(0)",class:"text-success me-2",onClick:a=>o.editArea(e)},a[27]||(a[27]=[(0,r.Lk)("i",{class:"ri-pencil-line fs-18 lh-1"},null,-1)]),8,k6)):(0,r.Q3)("",!0)])),[[u,"areas.update"]])])))),128))])])])]),(0,r.Lk)("div",v6,[(0,r.Lk)("div",h6,[(0,r.bo)((0,r.Lk)("select",{class:"form-select from-select-sm width-75","onUpdate:modelValue":a[8]||(a[8]=e=>i.meta.per_page=e),onChange:a[9]||(a[9]=(...e)=>o.onPerPageChange&&o.onPerPageChange(...e))},a[28]||(a[28]=[(0,r.Lk)("option",null,"10",-1),(0,r.Lk)("option",null,"15",-1),(0,r.Lk)("option",null,"20",-1),(0,r.Lk)("option",null,"25",-1),(0,r.Lk)("option",null,"30",-1)]),544),[[s.u1,i.meta.per_page]]),(0,r.Lk)("span",null,"Showing "+(0,n.v_)(i.meta.from)+" to "+(0,n.v_)(i.meta.to)+" of "+(0,n.v_)(i.meta.totalRows)+" entries",1),(0,r.bF)(c,{maxPage:i.meta.maxPage,totalPages:i.meta.lastPage,currentPage:i.meta.page,onPagechanged:o.onPageChange},null,8,["maxPage","totalPages","currentPage","onPagechanged"])])])])],2)])])}var g6={components:{Pagination:md},data(){return{column:"col-8",meta:{search:"",order_by:"desc",keyword:"area_id",per_page:10,totalRows:0,page:1,lastPage:1,from:1,to:1,maxPage:1,trashed:!1},areas:[],area:{area_id:"",area_code:"",area_name:"",status:""},status:!0,errors:[]}},mounted(){this.create_area=this.$store.getters.permissions.filter((function(e){return e.ability.ability.includes("areas.create")})),this.create_area.length?this.column="col-8":this.column="col-12",this.index(),this.$refs.area_code.focus()},methods:{submitForm(){let e=this;e.status?e.addArea():e.updateArea()},index(){let e=this,a=e.$loading.show();e.$store.dispatch("post",{uri:"paginateAreas",data:e.meta}).then((t=>{a.hide(),e.areas=t.data.data,e.meta.totalRows=t.data.meta.total,e.meta.from=t.data.meta.from,e.meta.to=t.data.meta.to,e.meta.lastPage=t.data.meta.last_page,e.meta.maxPage=e.meta.lastPage>=3?3:e.meta.lastPage})).catch((function(t){a.hide(),e.errors=t.response.data.errors,e.$store.dispatch("error",t.response.data.message)}))},addArea(){let e=this,a=e.$loading.show();e.$store.dispatch("post",{uri:"addArea",data:e.area}).then((t=>{a.hide(),e.$store.dispatch("success",t.data.message),e.discard()})).catch((function(t){a.hide(),e.errors=t.response.data.errors,e.$store.dispatch("error",t.response.data.message)}))},deleteArea(e){let a=this;e.status=1==e.status?0:1,a.$store.dispatch("post",{uri:"deleteArea",data:e}).then((function(e){a.$store.dispatch("success",e.data.message),a.discard()})).catch((function(e){a.errors=e.response.data.errors,a.$store.dispatch("error",e.response.data.message)}))},editArea(e){this.area=e,this.status=!1,this.$refs.area_code.focus()},updateArea(){let e=this,a=e.$loading.show();e.$store.dispatch("post",{uri:"updateArea",data:e.area}).then((t=>{a.hide(),e.$store.dispatch("success",t.data.message),e.discard()})).catch((function(t){a.hide(),e.errors=t.response.data.errors,e.$store.dispatch("error",t.response.data.message)}))},onPageChange(e){this.meta.page=e,this.index()},sort(e){this.meta.keyword=e,this.meta.order_by="asc"==this.meta.order_by?"desc":"asc",this.index()},discard(){let e=this;e.area.area_code="",e.area.area_name="",e.$refs.area_code.focus(),e.errors=[],e.status=!0,e.index()},search(){let e=this;e.meta.page=1,e.index()},onPerPageChange(){let e=this;e.meta.page=1,e.index()}}};const f6=(0,Ze.A)(g6,[["render",y6]]);var L6=f6;const C6={class:""},w6={class:"breadcrumb fs-sm mb-1"},E6={class:"breadcrumb-item"},x6={class:"row g-2"},X6={class:"col-4"},P6={class:"card card-one"},$6={class:"card-header d-flex justify-content-between"},S6={key:0,class:"card-title"},A6={key:1,class:"card-title"},D6={class:"card-body"},T6={class:"row g-2"},Q6={class:"col-md-12"},V6=["disabled"],F6={key:0,class:"invalid-feedback"},U6={class:"col-md-12"},j6={key:0,class:"invalid-feedback"},z6={class:"card-footer text-end"},W6={type:"submit",class:"btn btn-primary"},R6={key:0},q6={key:1},I6={class:"card card-one"},N6={class:"card-body"},M6={class:"table-responsive table-responsive-sm"},K6={class:"table table-sm text-nowrap table-striped table-bordered mb-0"},J6={class:"",style:{"background-color":"#9b9b9b",color:"white"}},B6={key:0,class:"ri-arrow-up-line"},O6={key:1,class:"ri-arrow-down-line"},H6={key:2,class:"fas fa-sort"},Y6={key:0,class:"ri-arrow-up-line"},Z6={key:1,class:"ri-arrow-down-line"},G6={key:2,class:"fas fa-sort"},e9={class:"text-center"},a9={class:"text-center"},t9={key:0},s9={class:"text-center"},r9={class:"text-center"},l9={class:"form-switch"},i9=["id","checked","value","onChange"],o9=["for"],d9={class:"text-center"},n9=["onClick"],c9={class:"card-footer"},u9={class:"d-flex justify-content-between align-items-center"};function _9(e,a,t,l,i,o){const d=(0,r.g2)("router-link"),c=(0,r.g2)("Pagination"),u=(0,r.gN)("can");return(0,r.uX)(),(0,r.CE)("div",C6,[(0,r.Lk)("div",null,[(0,r.Lk)("ol",w6,[(0,r.Lk)("li",E6,[(0,r.bF)(d,{to:"/dashboard"},{default:(0,r.k6)((()=>a[10]||(a[10]=[(0,r.eW)("Dashboard")]))),_:1})]),a[11]||(a[11]=(0,r.Lk)("li",{class:"breadcrumb-item"},[(0,r.Lk)("a",{href:"javascript:void(0)"},"Lineage Parameters")],-1)),a[12]||(a[12]=(0,r.Lk)("li",{class:"breadcrumb-item active","aria-current":"page"},"Phases",-1))]),a[13]||(a[13]=(0,r.Lk)("h4",{class:"main-title mb-2"},"Phases",-1))]),(0,r.Lk)("div",x6,[(0,r.bo)(((0,r.uX)(),(0,r.CE)("div",X6,[(0,r.Lk)("form",{onSubmit:a[3]||(a[3]=(0,s.D$)((e=>o.submitForm()),["prevent"]))},[(0,r.Lk)("div",P6,[(0,r.Lk)("div",$6,[i.status?((0,r.uX)(),(0,r.CE)("h6",S6,"Add Phase")):((0,r.uX)(),(0,r.CE)("h6",A6,"Update Phase"))]),(0,r.Lk)("div",D6,[(0,r.Lk)("div",T6,[(0,r.Lk)("div",Q6,[a[14]||(a[14]=(0,r.Lk)("label",{class:"form-label"},"Phase Code",-1)),a[15]||(a[15]=(0,r.Lk)("span",{class:"text-danger"}," *",-1)),(0,r.bo)((0,r.Lk)("input",{type:"text",placeholder:"Phase Code",class:(0,n.C4)(["form-control",{"is-invalid":i.errors?.phase_code}]),"onUpdate:modelValue":a[0]||(a[0]=e=>i.phase.phase_code=e),ref:"phase_code",disabled:!i.status},null,10,V6),[[s.Jo,i.phase.phase_code]]),i.errors?.phase_code?((0,r.uX)(),(0,r.CE)("span",F6,(0,n.v_)(i.errors?.phase_code[0]),1)):(0,r.Q3)("",!0)]),(0,r.Lk)("div",U6,[a[16]||(a[16]=(0,r.Lk)("label",{class:"form-label"},"Phase Name",-1)),a[17]||(a[17]=(0,r.Lk)("span",{class:"text-danger"}," *",-1)),(0,r.bo)((0,r.Lk)("input",{type:"text",placeholder:"Phase name",class:(0,n.C4)(["form-control",{"is-invalid":i.errors?.phase_name}]),"onUpdate:modelValue":a[1]||(a[1]=e=>i.phase.phase_name=e)},null,2),[[s.Jo,i.phase.phase_name]]),i.errors?.phase_name?((0,r.uX)(),(0,r.CE)("span",j6,(0,n.v_)(i.errors?.phase_name[0]),1)):(0,r.Q3)("",!0)])])]),(0,r.Lk)("div",z6,[(0,r.Lk)("button",{type:"button",class:"btn btn-danger me-2",onClick:a[2]||(a[2]=e=>o.discard())},a[18]||(a[18]=[(0,r.Lk)("i",{class:"ri-close-line fs-18 lh-1"},null,-1),(0,r.eW)(" Discard")])),(0,r.Lk)("button",W6,[i.status?((0,r.uX)(),(0,r.CE)("span",R6,a[19]||(a[19]=[(0,r.Lk)("i",{class:"ri-save-line fs-18 lh-1"},null,-1),(0,r.eW)(" Submit")]))):((0,r.uX)(),(0,r.CE)("span",q6,a[20]||(a[20]=[(0,r.Lk)("i",{class:"ri-save-line fs-18 lh-1"},null,-1),(0,r.eW)(" Update")])))])])])],32)])),[[u,"phases.create"]]),(0,r.Lk)("div",{class:(0,n.C4)(i.column)},[(0,r.Lk)("div",I6,[a[29]||(a[29]=(0,r.Lk)("div",{class:"card-header d-flex justify-content-between"},[(0,r.Lk)("h6",{class:"card-title"},"Phases")],-1)),(0,r.Lk)("div",N6,[(0,r.bo)((0,r.Lk)("input",{class:"form-control mb-2",type:"text",placeholder:"Type keyword and press enter key","onUpdate:modelValue":a[4]||(a[4]=e=>i.meta.search=e),onKeypress:a[5]||(a[5]=(0,s.jR)((e=>o.search()),["enter"]))},null,544),[[s.Jo,i.meta.search]]),(0,r.Lk)("div",M6,[(0,r.Lk)("table",K6,[(0,r.Lk)("thead",null,[(0,r.Lk)("tr",J6,[a[25]||(a[25]=(0,r.Lk)("th",{class:"text-center"},"#",-1)),(0,r.Lk)("th",{onClick:a[6]||(a[6]=e=>o.sort("phase_code"))},[a[21]||(a[21]=(0,r.eW)("Phase Code ")),(0,r.Lk)("span",null,["phase_code"==i.meta.keyword&&"asc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",B6)):"phase_code"==i.meta.keyword&&"desc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",O6)):((0,r.uX)(),(0,r.CE)("i",H6))])]),(0,r.Lk)("th",{onClick:a[7]||(a[7]=e=>o.sort("phase_name"))},[a[22]||(a[22]=(0,r.eW)("Phase Name ")),(0,r.Lk)("span",null,["phase_name"==i.meta.keyword&&"asc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",Y6)):"phase_name"==i.meta.keyword&&"desc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",Z6)):((0,r.uX)(),(0,r.CE)("i",G6))])]),(0,r.bo)(((0,r.uX)(),(0,r.CE)("th",e9,a[23]||(a[23]=[(0,r.eW)("Status")]))),[[u,"phases.delete"]]),(0,r.bo)(((0,r.uX)(),(0,r.CE)("th",a9,a[24]||(a[24]=[(0,r.eW)("Actions")]))),[[u,"phases.update"]])])]),(0,r.Lk)("tbody",null,[0==i.phases.length?((0,r.uX)(),(0,r.CE)("tr",t9,a[26]||(a[26]=[(0,r.Lk)("td",{colspan:"6",class:"text-center"},"No records found",-1)]))):(0,r.Q3)("",!0),((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(i.phases,((e,t)=>((0,r.uX)(),(0,r.CE)("tr",{key:t},[(0,r.Lk)("td",s9,(0,n.v_)(i.meta.from+t),1),(0,r.Lk)("td",null,(0,n.v_)(e.phase_code),1),(0,r.Lk)("td",null,(0,n.v_)(e.phase_name),1),(0,r.bo)(((0,r.uX)(),(0,r.CE)("td",r9,[(0,r.Lk)("div",l9,[(0,r.Lk)("input",{class:"form-check-input",type:"checkbox",role:"switch",id:"area"+e.phase_id,checked:e.status,value:e.status,onChange:a=>o.deletePhase(e)},null,40,i9),(0,r.Lk)("label",{class:"custom-control-label",for:"area"+e.phase_id},null,8,o9)])])),[[u,"phases.delete"]]),(0,r.bo)(((0,r.uX)(),(0,r.CE)("td",d9,[e.status?((0,r.uX)(),(0,r.CE)("a",{key:0,href:"javascript:void(0)",class:"text-success me-2",onClick:a=>o.editPhase(e)},a[27]||(a[27]=[(0,r.Lk)("i",{class:"ri-pencil-line fs-18 lh-1"},null,-1)]),8,n9)):(0,r.Q3)("",!0)])),[[u,"phases.update"]])])))),128))])])])]),(0,r.Lk)("div",c9,[(0,r.Lk)("div",u9,[(0,r.bo)((0,r.Lk)("select",{class:"form-select from-select-sm width-75","onUpdate:modelValue":a[8]||(a[8]=e=>i.meta.per_page=e),onChange:a[9]||(a[9]=(...e)=>o.onPerPageChange&&o.onPerPageChange(...e))},a[28]||(a[28]=[(0,r.Lk)("option",null,"10",-1),(0,r.Lk)("option",null,"15",-1),(0,r.Lk)("option",null,"20",-1),(0,r.Lk)("option",null,"25",-1),(0,r.Lk)("option",null,"30",-1)]),544),[[s.u1,i.meta.per_page]]),(0,r.Lk)("span",null,"Showing "+(0,n.v_)(i.meta.from)+" to "+(0,n.v_)(i.meta.to)+" of "+(0,n.v_)(i.meta.totalRows)+" entries",1),(0,r.bF)(c,{maxPage:i.meta.maxPage,totalPages:i.meta.lastPage,currentPage:i.meta.page,onPagechanged:o.onPageChange},null,8,["maxPage","totalPages","currentPage","onPagechanged"])])])])],2)])])}var p9={components:{Pagination:md},data(){return{column:"col-8",meta:{search:"",order_by:"desc",keyword:"phase_id",per_page:10,totalRows:0,page:1,lastPage:1,from:1,to:1,maxPage:1,trashed:!1},phases:[],phase:{phase_id:"",phase_code:"",phase_name:"",status:""},status:!0,errors:[]}},mounted(){this.create_area=this.$store.getters.permissions.filter((function(e){return e.ability.ability.includes("areas.create")})),this.create_area.length?this.column="col-8":this.column="col-12",this.index(),this.$refs.phase_code.focus()},methods:{submitForm(){let e=this;e.status?e.addPhase():e.updatePhase()},index(){let e=this,a=e.$loading.show();e.$store.dispatch("post",{uri:"paginatePhases",data:e.meta}).then((t=>{a.hide(),e.phases=t.data.data,e.meta.totalRows=t.data.meta.total,e.meta.from=t.data.meta.from,e.meta.to=t.data.meta.to,e.meta.lastPage=t.data.meta.last_page,e.meta.maxPage=e.meta.lastPage>=3?3:e.meta.lastPage})).catch((function(t){a.hide(),e.errors=t.response.data.errors,e.$store.dispatch("error",t.response.data.message)}))},addPhase(){let e=this,a=e.$loading.show();e.$store.dispatch("post",{uri:"addPhase",data:e.phase}).then((t=>{a.hide(),e.$store.dispatch("success",t.data.message),e.discard()})).catch((function(t){a.hide(),e.errors=t.response.data.errors,e.$store.dispatch("error",t.response.data.message)}))},deletePhase(e){let a=this;e.status=1==e.status?0:1,a.$store.dispatch("post",{uri:"deletePhase",data:e}).then((function(e){a.$store.dispatch("success",e.data.message),a.discard()})).catch((function(e){a.errors=e.response.data.errors,a.$store.dispatch("error",e.response.data.message)}))},editPhase(e){this.phase=e,this.status=!1,this.$refs.phase_code.focus()},updatePhase(){let e=this,a=e.$loading.show();e.$store.dispatch("post",{uri:"updatePhase",data:e.phase}).then((t=>{a.hide(),e.$store.dispatch("success",t.data.message),e.discard()})).catch((function(t){a.hide(),e.errors=t.response.data.errors,e.$store.dispatch("error",t.response.data.message)}))},onPageChange(e){this.meta.page=e,this.index()},sort(e){this.meta.keyword=e,this.meta.order_by="asc"==this.meta.order_by?"desc":"asc",this.index()},discard(){let e=this;e.phase.phase_code="",e.phase.phase_name="",e.$refs.phase_code.focus(),e.errors=[],e.status=!0,e.index()},search(){let e=this;e.meta.page=1,e.index()},onPerPageChange(){let e=this;e.meta.page=1,e.index()}}};const m9=(0,Ze.A)(p9,[["render",_9]]);var b9=m9;const k9={class:""},v9={class:"breadcrumb fs-sm mb-1"},h9={class:"breadcrumb-item"},y9={class:"row g-2"},g9={class:"col-4"},f9={class:"card card-one"},L9={class:"card-header d-flex justify-content-between"},C9={key:0,class:"card-title"},w9={key:1,class:"card-title"},E9={class:"card-body"},x9={class:"row g-2"},X9={class:"col-md-12"},P9={key:0,class:"invalid-feedback"},$9={class:"col-md-12"},S9=["disabled"],A9={key:0,class:"invalid-feedback"},D9={class:"col-md-12"},T9={key:0,class:"invalid-feedback"},Q9={class:"col-md-12"},V9={key:0,class:"invalid-feedback"},F9={class:"col-md-12"},U9={key:0,class:"invalid-feedback"},j9={class:"col-md-12"},z9={key:0,class:"invalid-feedback"},W9={class:"card-footer text-end"},R9={type:"submit",class:"btn btn-primary"},q9={key:0},I9={key:1},N9={class:"card card-one"},M9={class:"card-body"},K9={class:"table-responsive table-responsive-sm"},J9={class:"table table-sm text-nowrap table-striped table-bordered mb-0"},B9={style:{"background-color":"#9b9b9b",color:"white"}},O9={key:0,class:"ri-arrow-up-line"},H9={key:1,class:"ri-arrow-down-line"},Y9={key:2,class:"fas fa-sort"},Z9={key:0,class:"ri-arrow-up-line"},G9={key:1,class:"ri-arrow-down-line"},e7={key:2,class:"fas fa-sort"},a7={key:0,class:"ri-arrow-up-line"},t7={key:1,class:"ri-arrow-down-line"},s7={key:2,class:"fas fa-sort"},r7={key:0,class:"ri-arrow-up-line"},l7={key:1,class:"ri-arrow-down-line"},i7={key:2,class:"fas fa-sort"},o7={key:0,class:"ri-arrow-up-line"},d7={key:1,class:"ri-arrow-down-line"},n7={key:2,class:"fas fa-sort"},c7={key:0,class:"ri-arrow-up-line"},u7={key:1,class:"ri-arrow-down-line"},_7={key:2,class:"fas fa-sort"},p7={class:"text-center"},m7={class:"text-center"},b7={key:0},k7={class:"text-center"},v7={class:"text-center"},h7={class:"form-switch"},y7=["id","checked","value","onChange"],g7=["for"],f7={class:"text-center"},L7=["onClick"],C7={class:"card-footer"},w7={class:"d-flex justify-content-between align-items-center"};function E7(e,a,t,l,i,o){const d=(0,r.g2)("router-link"),c=(0,r.g2)("search"),u=(0,r.g2)("Pagination"),_=(0,r.gN)("can");return(0,r.uX)(),(0,r.CE)("div",k9,[(0,r.Lk)("div",null,[(0,r.Lk)("ol",v9,[(0,r.Lk)("li",h9,[(0,r.bF)(d,{to:"/dashboard"},{default:(0,r.k6)((()=>a[18]||(a[18]=[(0,r.eW)("Dashboard")]))),_:1})]),a[19]||(a[19]=(0,r.Lk)("li",{class:"breadcrumb-item"},[(0,r.Lk)("a",{href:"javascript:void(0)"},"Lineage Parameters")],-1)),a[20]||(a[20]=(0,r.Lk)("li",{class:"breadcrumb-item active","aria-current":"page"},"Shops",-1))]),a[21]||(a[21]=(0,r.Lk)("h4",{class:"main-title mb-2"},"Shops",-1))]),(0,r.Lk)("div",y9,[(0,r.bo)(((0,r.uX)(),(0,r.CE)("div",g9,[(0,r.Lk)("form",{onSubmit:a[7]||(a[7]=(0,s.D$)((e=>o.submitForm()),["prevent"]))},[(0,r.Lk)("div",f9,[(0,r.Lk)("div",L9,[i.status?((0,r.uX)(),(0,r.CE)("h6",C9,"Add Shop")):((0,r.uX)(),(0,r.CE)("h6",w9,"Update Shop"))]),(0,r.Lk)("div",E9,[(0,r.Lk)("div",x9,[(0,r.Lk)("div",X9,[a[22]||(a[22]=(0,r.Lk)("label",{class:"form-label"},"Area",-1)),a[23]||(a[23]=(0,r.Lk)("span",{class:"text-danger"}," *",-1)),(0,r.bF)(c,{class:(0,n.C4)({"is-invalid":i.errors.area_id}),customClass:{"is-invalid":i.errors.area_id},initialize:i.plant.area_id,id:"area_id",label:"area_name",placeholder:"Select Area",data:i.areas,onInput:a[0]||(a[0]=e=>i.plant.area_id=e)},null,8,["class","customClass","initialize","data"]),i.errors.area_id?((0,r.uX)(),(0,r.CE)("span",P9,(0,n.v_)(i.errors.area_id[0]),1)):(0,r.Q3)("",!0)]),(0,r.Lk)("div",$9,[a[24]||(a[24]=(0,r.Lk)("label",{class:"form-label"},"Shop Code",-1)),a[25]||(a[25]=(0,r.Lk)("span",{class:"text-danger"}," *",-1)),(0,r.bo)((0,r.Lk)("input",{type:"text",placeholder:"Enter Shop Code",class:(0,n.C4)(["form-control",{"is-invalid":i.errors.plant_code}]),"onUpdate:modelValue":a[1]||(a[1]=e=>i.plant.plant_code=e),disabled:!i.status},null,10,S9),[[s.Jo,i.plant.plant_code]]),i.errors.plant_code?((0,r.uX)(),(0,r.CE)("span",A9,(0,n.v_)(i.errors.plant_code[0]),1)):(0,r.Q3)("",!0)]),(0,r.Lk)("div",D9,[a[26]||(a[26]=(0,r.Lk)("label",{class:"form-label"},"Shop Name",-1)),a[27]||(a[27]=(0,r.Lk)("span",{class:"text-danger"}," *",-1)),(0,r.bo)((0,r.Lk)("input",{type:"text",placeholder:"Enter Shop Name",class:(0,n.C4)(["form-control",{"is-invalid":i.errors.plant_name}]),"onUpdate:modelValue":a[2]||(a[2]=e=>i.plant.plant_name=e)},null,2),[[s.Jo,i.plant.plant_name]]),i.errors.plant_name?((0,r.uX)(),(0,r.CE)("span",T9,(0,n.v_)(i.errors.plant_name[0]),1)):(0,r.Q3)("",!0)]),(0,r.Lk)("div",Q9,[a[28]||(a[28]=(0,r.Lk)("label",{class:"form-label"},"Latitude",-1)),(0,r.bo)((0,r.Lk)("input",{type:"text",placeholder:"Enter Latitude",class:(0,n.C4)(["form-control",{"is-invalid":i.errors.latitude}]),"onUpdate:modelValue":a[3]||(a[3]=e=>i.plant.latitude=e)},null,2),[[s.Jo,i.plant.latitude]]),i.errors.latitude?((0,r.uX)(),(0,r.CE)("span",V9,(0,n.v_)(i.errors.latitude[0]),1)):(0,r.Q3)("",!0)]),(0,r.Lk)("div",F9,[a[29]||(a[29]=(0,r.Lk)("label",{class:"form-label"},"Longitude",-1)),(0,r.bo)((0,r.Lk)("input",{type:"text",placeholder:"Enter Longitude",class:(0,n.C4)(["form-control",{"is-invalid":i.errors.longitude}]),"onUpdate:modelValue":a[4]||(a[4]=e=>i.plant.longitude=e)},null,2),[[s.Jo,i.plant.longitude]]),i.errors.longitude?((0,r.uX)(),(0,r.CE)("span",U9,(0,n.v_)(i.errors.longitude[0]),1)):(0,r.Q3)("",!0)]),(0,r.Lk)("div",j9,[a[30]||(a[30]=(0,r.Lk)("label",{class:"form-label"},"Radius",-1)),(0,r.bo)((0,r.Lk)("input",{type:"text",placeholder:"Enter Radius",class:(0,n.C4)(["form-control",{"is-invalid":i.errors.radius}]),"onUpdate:modelValue":a[5]||(a[5]=e=>i.plant.radius=e)},null,2),[[s.Jo,i.plant.radius]]),i.errors.radius?((0,r.uX)(),(0,r.CE)("span",z9,(0,n.v_)(i.errors.radius[0]),1)):(0,r.Q3)("",!0)])])]),(0,r.Lk)("div",W9,[(0,r.Lk)("button",{type:"button",class:"btn btn-danger me-2",onClick:a[6]||(a[6]=e=>o.discard())},a[31]||(a[31]=[(0,r.Lk)("i",{class:"ri-close-line fs-18 lh-1"},null,-1),(0,r.eW)(" Discard")])),(0,r.Lk)("button",R9,[i.status?((0,r.uX)(),(0,r.CE)("span",q9,a[32]||(a[32]=[(0,r.Lk)("i",{class:"ri-save-line fs-18 lh-1"},null,-1),(0,r.eW)(" Submit")]))):((0,r.uX)(),(0,r.CE)("span",I9,a[33]||(a[33]=[(0,r.Lk)("i",{class:"ri-save-line fs-18 lh-1"},null,-1),(0,r.eW)(" Update")])))])])])],32)])),[[_,"shops.create"]]),(0,r.Lk)("div",{class:(0,n.C4)(i.column)},[(0,r.Lk)("div",N9,[a[46]||(a[46]=(0,r.Lk)("div",{class:"card-header d-flex justify-content-between"},[(0,r.Lk)("h6",{class:"card-title"},"Shops")],-1)),(0,r.Lk)("div",M9,[(0,r.bo)((0,r.Lk)("input",{class:"form-control mb-2",type:"text",placeholder:"Type keyword and press enter key","onUpdate:modelValue":a[8]||(a[8]=e=>i.meta.search=e),onKeypress:a[9]||(a[9]=(0,s.jR)((e=>o.search()),["enter"]))},null,544),[[s.Jo,i.meta.search]]),(0,r.Lk)("div",K9,[(0,r.Lk)("table",J9,[(0,r.Lk)("thead",null,[(0,r.Lk)("tr",B9,[a[42]||(a[42]=(0,r.Lk)("th",null,"#",-1)),(0,r.Lk)("th",{onClick:a[10]||(a[10]=e=>o.sort("area_name"))},[a[34]||(a[34]=(0,r.eW)(" Area ")),(0,r.Lk)("span",null,["area_name"==i.meta.keyword&&"asc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",O9)):"area_name"==i.meta.keyword&&"desc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",H9)):((0,r.uX)(),(0,r.CE)("i",Y9))])]),(0,r.Lk)("th",{onClick:a[11]||(a[11]=e=>o.sort("plant_code"))},[a[35]||(a[35]=(0,r.eW)("Shop Code ")),(0,r.Lk)("span",null,["plant_code"==i.meta.keyword&&"asc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",Z9)):"plant_code"==i.meta.keyword&&"desc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",G9)):((0,r.uX)(),(0,r.CE)("i",e7))])]),(0,r.Lk)("th",{onClick:a[12]||(a[12]=e=>o.sort("plant_name"))},[a[36]||(a[36]=(0,r.eW)("Shop Name ")),(0,r.Lk)("span",null,["plant_name"==i.meta.keyword&&"asc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",a7)):"plant_name"==i.meta.keyword&&"desc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",t7)):((0,r.uX)(),(0,r.CE)("i",s7))])]),(0,r.Lk)("th",{onClick:a[13]||(a[13]=e=>o.sort("plant_name"))},[a[37]||(a[37]=(0,r.eW)("Latitude ")),(0,r.Lk)("span",null,["latitude"==i.meta.keyword&&"asc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",r7)):"latitude"==i.meta.keyword&&"desc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",l7)):((0,r.uX)(),(0,r.CE)("i",i7))])]),(0,r.Lk)("th",{onClick:a[14]||(a[14]=e=>o.sort("plant_name"))},[a[38]||(a[38]=(0,r.eW)("Longitude ")),(0,r.Lk)("span",null,["longitude"==i.meta.keyword&&"asc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",o7)):"longitude"==i.meta.keyword&&"desc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",d7)):((0,r.uX)(),(0,r.CE)("i",n7))])]),(0,r.Lk)("th",{onClick:a[15]||(a[15]=e=>o.sort("plant_name"))},[a[39]||(a[39]=(0,r.eW)("Radius ")),(0,r.Lk)("span",null,["radius"==i.meta.keyword&&"asc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",c7)):"radius"==i.meta.keyword&&"desc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",u7)):((0,r.uX)(),(0,r.CE)("i",_7))])]),(0,r.bo)(((0,r.uX)(),(0,r.CE)("th",p7,a[40]||(a[40]=[(0,r.eW)("Status")]))),[[_,"shops.delete"]]),(0,r.bo)(((0,r.uX)(),(0,r.CE)("th",m7,a[41]||(a[41]=[(0,r.eW)("Actions")]))),[[_,"shops.update"]])])]),(0,r.Lk)("tbody",null,[0==i.plants.length?((0,r.uX)(),(0,r.CE)("tr",b7,a[43]||(a[43]=[(0,r.Lk)("td",{colspan:"9",class:"text-center"},"No records found",-1)]))):(0,r.Q3)("",!0),((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(i.plants,((e,t)=>((0,r.uX)(),(0,r.CE)("tr",{key:t},[(0,r.Lk)("td",k7,(0,n.v_)(i.meta.from+t),1),(0,r.Lk)("td",null,(0,n.v_)(e?.Area?.area_name),1),(0,r.Lk)("td",null,(0,n.v_)(e.plant_code),1),(0,r.Lk)("td",null,(0,n.v_)(e.plant_name),1),(0,r.Lk)("td",null,(0,n.v_)(e.latitude),1),(0,r.Lk)("td",null,(0,n.v_)(e.longitude),1),(0,r.Lk)("td",null,(0,n.v_)(e.radius),1),(0,r.bo)(((0,r.uX)(),(0,r.CE)("td",v7,[(0,r.Lk)("div",h7,[(0,r.Lk)("input",{class:"form-check-input",type:"checkbox",role:"switch",id:"plant"+e.plant_id,checked:e.status,value:e.status,onChange:a=>o.deletePlant(e)},null,40,y7),(0,r.Lk)("label",{class:"custom-control-label",for:"plant"+e.plant_id},null,8,g7)])])),[[_,"shops.delete"]]),(0,r.bo)(((0,r.uX)(),(0,r.CE)("td",f7,[e.status?((0,r.uX)(),(0,r.CE)("a",{key:0,href:"javascript:void(0)",class:"text-success me-2",onClick:a=>o.editPlant(e)},a[44]||(a[44]=[(0,r.Lk)("i",{class:"ri-pencil-line fs-18 lh-1"},null,-1)]),8,L7)):(0,r.Q3)("",!0)])),[[_,"shops.update"]])])))),128))])])])]),(0,r.Lk)("div",C7,[(0,r.Lk)("div",w7,[(0,r.bo)((0,r.Lk)("select",{class:"form-select from-select-sm width-75","onUpdate:modelValue":a[16]||(a[16]=e=>i.meta.per_page=e),onChange:a[17]||(a[17]=(...e)=>o.onPerPageChange&&o.onPerPageChange(...e))},a[45]||(a[45]=[(0,r.Lk)("option",null,"10",-1),(0,r.Lk)("option",null,"15",-1),(0,r.Lk)("option",null,"20",-1),(0,r.Lk)("option",null,"25",-1),(0,r.Lk)("option",null,"30",-1)]),544),[[s.u1,i.meta.per_page]]),(0,r.Lk)("span",null,"Showing "+(0,n.v_)(i.meta.from)+" to "+(0,n.v_)(i.meta.to)+" of "+(0,n.v_)(i.meta.totalRows)+" entries",1),(0,r.bF)(u,{maxPage:i.meta.maxPage,totalPages:i.meta.lastPage,currentPage:i.meta.page,onPagechanged:o.onPageChange},null,8,["maxPage","totalPages","currentPage","onPagechanged"])])])])],2)])])}var x7={components:{Pagination:md,Search:It.A},data(){return{meta:{search:"",order_by:"desc",keyword:"plant_id",per_page:10,totalRows:0,page:1,lastPage:1,from:1,from:0,maxPage:1},plants:[],plant:{plant_id:"",area_id:"",plant_code:"",plant_name:"",latitude:"",longitude:"",radius:"",status:""},errors:[],status:!0,areas:[],column:"col-8"}},mounted(){this.create_plant=this.$store.getters.permissions.filter((function(e){return e.ability.ability.includes("shops.create")})),this.create_plant.length?this.column="col-8":this.column="col-12",this.index(),this.getAreas()},methods:{submitForm(){let e=this;e.status?e.addPlant():e.updatePlant()},index(){let e=this,a=e.$loading.show();e.$store.dispatch("post",{uri:"paginatePlants",data:e.meta}).then((t=>{a.hide(),e.plants=t.data.data,e.meta.totalRows=t.data.meta.total,e.meta.from=t.data.meta.from,e.meta.to=t.data.meta.to,e.meta.lastPage=t.data.meta.last_page,e.meta.maxPage=e.meta.lastPage>=3?3:e.meta.lastPage})).catch((function(t){a.hide(),e.errors=t.response.data.errors,e.$store.dispatch("error",t.response.data.message)}))},addPlant(){let e=this,a=e.$loading.show();e.$store.dispatch("post",{uri:"addPlant",data:e.plant}).then((t=>{a.hide(),e.$store.dispatch("success",t.data.message),e.discard()})).catch((function(t){a.hide(),e.errors=t.response.data.errors,e.$store.dispatch("error",t.response.data.message)}))},deletePlant(e){let a=this;e.status=1==e.status?0:1,a.$store.dispatch("post",{uri:"deletePlant",data:e}).then((function(e){a.$store.dispatch("success",e.data.message),a.discard()})).catch((function(e){a.errors=e.response.data.errors,a.$store.dispatch("error",e.response.data.message)}))},editPlant(e){this.plant=e,this.status=!1},updatePlant(){let e=this,a=e.$loading.show();e.$store.dispatch("post",{uri:"updatePlant",data:e.plant}).then((t=>{a.hide(),e.$store.dispatch("success",t.data.message),e.discard()})).catch((function(t){a.hide(),e.errors=t.response.data.errors,e.$store.dispatch("error",t.response.data.message)}))},getAreas(){let e=this,a=e.$loading.show();e.$store.dispatch("post",{uri:"getAreas"}).then((t=>{a.hide(),e.areas=t.data.data})).catch((function(t){a.hide(),e.errors=t.response.data.errors,e.$store.dispatch("error",t.response.data.message)}))},onPageChange(e){this.meta.page=e,this.index()},sort(e){this.meta.keyword=e,this.meta.order_by="asc"==this.meta.order_by?"desc":"asc",this.index()},discard(){let e=this;e.plant.area_id="",e.plant.plant_code="",e.plant.plant_name="",e.plant.latitude="",e.plant.longitude="",e.plant.radius="",e.errors=[],e.status=!0,e.index()},search(){let e=this;e.meta.page=1,e.index()},onPerPageChange(){let e=this;e.meta.page=1,e.index()}}};const X7=(0,Ze.A)(x7,[["render",E7]]);var P7=X7;const $7={class:""},S7={class:"breadcrumb fs-sm mb-1"},A7={class:"breadcrumb-item"},D7={class:"row g-2"},T7={class:"col-4"},Q7={class:"card card-one"},V7={class:"card-header d-flex justify-content-between"},F7={key:0,class:"card-title"},U7={key:1,class:"card-title"},j7={class:"card-body"},z7={class:"row g-2"},W7={class:"col-md-12"},R7=["disabled"],q7={key:0,class:"invalid-feedback"},I7={class:"col-md-12"},N7={key:0,class:"invalid-feedback"},M7={class:"card-footer text-end"},K7={type:"submit",class:"btn btn-primary"},J7={key:0},B7={key:1},O7={class:"card card-one"},H7={class:"card-body mb-3"},Y7={class:"table-responsive table-responsive-sm"},Z7={class:"table table-sm text-nowrap table-striped table-bordered mb-0"},G7={class:"",style:{"background-color":"#9b9b9b",color:"white"}},eee={key:0,class:"ri-arrow-up-line"},aee={key:1,class:"ri-arrow-down-line"},tee={key:2,class:"fas fa-sort"},see={key:0,class:"ri-arrow-up-line"},ree={key:1,class:"ri-arrow-down-line"},lee={key:2,class:"fas fa-sort"},iee={class:"text-center"},oee={class:"text-center"},dee={class:"text-center"},nee={style:{display:"flex","justify-content":"center"}},cee={class:"form-check form-switch"},uee=["checked","value","onChange"],_ee={class:"text-center"},pee=["onClick"],mee={key:1,style:{display:"inline","margin-right":"20px"}},bee={key:0},kee={class:"card-footer"},vee={class:"d-flex justify-content-between align-items-center"};function hee(e,a,t,l,i,o){const d=(0,r.g2)("router-link"),c=(0,r.g2)("Pagination"),u=(0,r.gN)("can");return(0,r.uX)(),(0,r.CE)("div",$7,[(0,r.Lk)("div",null,[(0,r.Lk)("ol",S7,[(0,r.Lk)("li",A7,[(0,r.bF)(d,{to:"/dashboard"},{default:(0,r.k6)((()=>a[10]||(a[10]=[(0,r.eW)("Dashboard")]))),_:1})]),a[11]||(a[11]=(0,r.Lk)("li",{class:"breadcrumb-item"},[(0,r.Lk)("a",{href:"javascript:void(0)"},"Lineage Parameters")],-1)),a[12]||(a[12]=(0,r.Lk)("li",{class:"breadcrumb-item active","aria-current":"page"},"Sections",-1))]),a[13]||(a[13]=(0,r.Lk)("h4",{class:"main-title mb-2"},"Sections",-1))]),(0,r.Lk)("div",D7,[(0,r.bo)(((0,r.uX)(),(0,r.CE)("div",T7,[(0,r.Lk)("form",{onSubmit:a[3]||(a[3]=(0,s.D$)((e=>o.submitForm()),["prevent"]))},[(0,r.Lk)("div",Q7,[(0,r.Lk)("div",V7,[i.status?((0,r.uX)(),(0,r.CE)("h6",F7,"Add Section")):((0,r.uX)(),(0,r.CE)("h6",U7,"Update Section"))]),(0,r.Lk)("div",j7,[(0,r.Lk)("div",z7,[(0,r.Lk)("div",W7,[a[14]||(a[14]=(0,r.Lk)("label",{class:"form-label"},"Section Code",-1)),a[15]||(a[15]=(0,r.Lk)("span",{class:"text-danger"}," *",-1)),(0,r.bo)((0,r.Lk)("input",{type:"text",placeholder:"Section Code",class:(0,n.C4)(["form-control",{"is-invalid":i.errors.section_code}]),"onUpdate:modelValue":a[0]||(a[0]=e=>i.section.section_code=e),ref:"section_code",disabled:!i.status},null,10,R7),[[s.Jo,i.section.section_code]]),i.errors.section_code?((0,r.uX)(),(0,r.CE)("span",q7,(0,n.v_)(i.errors.section_code[0]),1)):(0,r.Q3)("",!0)]),(0,r.Lk)("div",I7,[a[16]||(a[16]=(0,r.Lk)("label",{class:"form-label"},"Section Name",-1)),a[17]||(a[17]=(0,r.Lk)("span",{class:"text-danger"}," *",-1)),(0,r.bo)((0,r.Lk)("input",{type:"text",placeholder:"Section",class:(0,n.C4)(["form-control",{"is-invalid":i.errors.section_name}]),"onUpdate:modelValue":a[1]||(a[1]=e=>i.section.section_name=e)},null,2),[[s.Jo,i.section.section_name]]),i.errors.section_name?((0,r.uX)(),(0,r.CE)("span",N7,(0,n.v_)(i.errors.section_name[0]),1)):(0,r.Q3)("",!0)])])]),(0,r.Lk)("div",M7,[(0,r.Lk)("button",{type:"button",class:"btn btn-danger me-2",onClick:a[2]||(a[2]=e=>o.discard())},a[18]||(a[18]=[(0,r.Lk)("i",{class:"ri-close-line fs-18 lh-1"},null,-1),(0,r.eW)(" Discard")])),(0,r.Lk)("button",K7,[i.status?((0,r.uX)(),(0,r.CE)("span",J7,a[19]||(a[19]=[(0,r.Lk)("i",{class:"ri-save-line fs-18 lh-1"},null,-1),(0,r.eW)(" Submit")]))):((0,r.uX)(),(0,r.CE)("span",B7,a[20]||(a[20]=[(0,r.Lk)("i",{class:"ri-save-line fs-18 lh-1"},null,-1),(0,r.eW)(" Update")])))])])])],32)])),[[u,"sections.create"]]),(0,r.Lk)("div",{class:(0,n.C4)(i.column)},[(0,r.Lk)("div",O7,[a[29]||(a[29]=(0,r.Lk)("div",{class:"card-header d-flex justify-content-between"},[(0,r.Lk)("h6",{class:"card-title"},"Sections")],-1)),(0,r.Lk)("div",H7,[(0,r.bo)((0,r.Lk)("input",{class:"form-control mb-2",type:"text",placeholder:"Type keyword and press enter key","onUpdate:modelValue":a[4]||(a[4]=e=>i.meta.search=e),onKeypress:a[5]||(a[5]=(0,s.jR)((e=>o.search()),["enter"]))},null,544),[[s.Jo,i.meta.search]]),(0,r.Lk)("div",Y7,[(0,r.Lk)("table",Z7,[(0,r.Lk)("thead",null,[(0,r.Lk)("tr",G7,[a[25]||(a[25]=(0,r.Lk)("th",{class:"text-center"},"#",-1)),(0,r.Lk)("th",{onClick:a[6]||(a[6]=e=>o.sort("section_code"))},[a[21]||(a[21]=(0,r.eW)("Section Code ")),(0,r.Lk)("span",null,["section_code"==i.meta.keyword&&"asc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",eee)):"section_code"==i.meta.keyword&&"desc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",aee)):((0,r.uX)(),(0,r.CE)("i",tee))])]),(0,r.Lk)("th",{onClick:a[7]||(a[7]=e=>o.sort("section_name"))},[a[22]||(a[22]=(0,r.eW)("Section Name ")),(0,r.Lk)("span",null,["section_name"==i.meta.keyword&&"asc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",see)):"section_name"==i.meta.keyword&&"desc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",ree)):((0,r.uX)(),(0,r.CE)("i",lee))])]),(0,r.bo)(((0,r.uX)(),(0,r.CE)("th",iee,a[23]||(a[23]=[(0,r.eW)("Status")]))),[[u,"sections.delete"]]),(0,r.bo)(((0,r.uX)(),(0,r.CE)("th",oee,a[24]||(a[24]=[(0,r.eW)("Actions")]))),[[u,"sections.update"]])])]),(0,r.Lk)("tbody",null,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(i.sections,((e,t)=>((0,r.uX)(),(0,r.CE)("tr",{key:t},[(0,r.Lk)("td",dee,(0,n.v_)(i.meta.from+t),1),(0,r.Lk)("td",null,(0,n.v_)(e.section_code),1),(0,r.Lk)("td",null,(0,n.v_)(e.section_name),1),(0,r.bo)(((0,r.uX)(),(0,r.CE)("td",nee,[(0,r.Lk)("div",cee,[(0,r.Lk)("input",{class:"form-check-input",type:"checkbox",role:"switch",checked:e.status,value:e.status,onChange:a=>o.deleteSection(e)},null,40,uee)])])),[[u,"sections.delete"]]),(0,r.bo)(((0,r.uX)(),(0,r.CE)("td",_ee,[e.status?((0,r.uX)(),(0,r.CE)("a",{key:0,href:"javascript:void(0)",class:"text-success me-2",onClick:a=>o.editSection(e)},a[26]||(a[26]=[(0,r.Lk)("i",{class:"ri-pencil-line fs-18 lh-1"},null,-1)]),8,pee)):((0,r.uX)(),(0,r.CE)("div",mee,"Â "))])),[[u,"sections.update"]])])))),128)),0==i.sections.length?((0,r.uX)(),(0,r.CE)("tr",bee,a[27]||(a[27]=[(0,r.Lk)("td",{colspan:"5",class:"text-center"},"No records found",-1)]))):(0,r.Q3)("",!0)])])])]),(0,r.Lk)("div",kee,[(0,r.Lk)("div",vee,[(0,r.bo)((0,r.Lk)("select",{class:"form-select from-select-sm width-75","onUpdate:modelValue":a[8]||(a[8]=e=>i.meta.per_page=e),onChange:a[9]||(a[9]=(...e)=>o.onPerPageChange&&o.onPerPageChange(...e))},a[28]||(a[28]=[(0,r.Lk)("option",null,"10",-1),(0,r.Lk)("option",null,"15",-1),(0,r.Lk)("option",null,"20",-1),(0,r.Lk)("option",null,"25",-1),(0,r.Lk)("option",null,"30",-1)]),544),[[s.u1,i.meta.per_page]]),(0,r.Lk)("span",null,"Showing "+(0,n.v_)(i.meta.from)+" to "+(0,n.v_)(i.meta.to)+" of "+(0,n.v_)(i.meta.totalRows)+" entries",1),(0,r.bF)(c,{maxPage:i.meta.maxPage,totalPages:i.meta.lastPage,currentPage:i.meta.page,onPagechanged:o.onPageChange},null,8,["maxPage","totalPages","currentPage","onPagechanged"])])])])],2)])])}var yee={components:{Pagination:md},data(){return{meta:{search:"",order_by:"desc",keyword:"section_id",per_page:10,totalRows:0,page:1,lastPage:1,from:1,to:1,maxPage:1},sections:[],section:{section_id:"",section_code:"",section:"",status:"",description:""},errors:[],column:"col-8",status:!0}},mounted(){this.create_section=this.$store.getters.permissions.filter((function(e){return e.ability.ability.includes("sections.create")})),this.create_section.length?this.column="col-8":this.column="col-12",this.index(),this.$refs.section_code.focus()},methods:{submitForm(){let e=this;e.status?e.addSection():e.updateSection()},index(){let e=this,a=e.$loading.show();e.$store.dispatch("post",{uri:"paginateSections",data:e.meta}).then((t=>{a.hide(),e.sections=t.data.data,e.meta.totalRows=t.data.meta.total,e.meta.from=t.data.meta.from,e.meta.to=t.data.meta.to,e.meta.lastPage=t.data.meta.last_page,e.meta.maxPage=e.meta.lastPage>=3?3:e.meta.lastPage})).catch((function(t){a.hide(),e.errors=t.response.data.errors,e.$store.dispatch("error",t.response.data.message)}))},addSection(){let e=this,a=e.$loading.show();e.$store.dispatch("post",{uri:"addSection",data:e.section}).then((t=>{a.hide(),e.$store.dispatch("success",t.data.message),e.discard()})).catch((function(t){a.hide(),e.errors=t.response.data.errors,e.$store.dispatch("error",t.response.data.message)}))},deleteSection(e){let a=this;e.status=1==e.status?0:1,a.$store.dispatch("post",{uri:"deleteSection",data:e}).then((function(e){a.$store.dispatch("success",e.data.message),a.discard()})).catch((function(e){a.errors=e.response.data.errors,a.$store.dispatch("error",e.response.data.message)}))},editSection(e){this.section=e,this.status=!1,this.$refs.section_code.focus()},updateSection(){let e=this,a=e.$loading.show();e.$store.dispatch("post",{uri:"updateSection",data:e.section}).then((t=>{a.hide(),e.update=!1,e.$store.dispatch("success",t.data.message),e.discard()})).catch((function(t){a.hide(),e.errors=t.response.data.errors,e.$store.dispatch("error",t.response.data.message)}))},onPageChange(e){this.meta.page=e,this.index()},sort(e){this.meta.keyword=e,this.meta.order_by="asc"==this.meta.order_by?"desc":"asc",this.index()},discard(){let e=this;e.section={},e.$refs.section_code.focus(),e.errors=[],e.status=!0,e.index()},onPerPageChange(){let e=this;e.meta.page=1,e.index()},search(){let e=this;e.meta.page=1,e.index()}}};const gee=(0,Ze.A)(yee,[["render",hee]]);var fee=gee;const Lee={class:""},Cee={class:"breadcrumb fs-sm mb-1"},wee={class:"breadcrumb-item"},Eee={class:"row g-2"},xee={class:"col-4"},Xee={class:"card card-one"},Pee={class:"card-header d-flex justify-content-between"},$ee={key:0,class:"card-title"},See={key:1,class:"card-title"},Aee={class:"card-body"},Dee={class:"row g-2"},Tee={class:"col-md-12"},Qee={key:0,class:"invalid-feedback"},Vee={class:"col-md-12"},Fee={key:0,class:"invalid-feedback"},Uee={class:"card-footer text-end"},jee={type:"submit",class:"btn btn-primary"},zee={key:0},Wee={key:1},Ree={class:"card card-one"},qee={class:"card-body"},Iee={class:"table-responsive table-responsive-sm"},Nee={class:"table table-sm text-nowrap table-striped table-bordered mb-0"},Mee={class:"text-center",style:{"background-color":"#9b9b9b",color:"white"}},Kee={key:0,class:"ri-arrow-up-line"},Jee={key:1,class:"ri-arrow-down-line"},Bee={key:2,class:"fas fa-sort"},Oee={key:0,class:"ri-arrow-up-line"},Hee={key:1,class:"ri-arrow-down-line"},Yee={key:2,class:"fas fa-sort"},Zee={key:0},Gee={class:"text-center"},eae={class:"text-center"},aae={class:"form-switch"},tae=["id","checked","value","onChange"],sae=["for"],rae={class:"text-center"},lae=["onClick"],iae={class:"card-footer"},oae={class:"d-flex justify-content-between align-items-center"};function dae(e,a,t,l,i,o){const d=(0,r.g2)("router-link"),c=(0,r.g2)("Pagination");return(0,r.uX)(),(0,r.CE)("div",Lee,[(0,r.Lk)("div",null,[(0,r.Lk)("ol",Cee,[(0,r.Lk)("li",wee,[(0,r.bF)(d,{to:"/dashboard"},{default:(0,r.k6)((()=>a[10]||(a[10]=[(0,r.eW)("Dashboard")]))),_:1})]),a[11]||(a[11]=(0,r.Lk)("li",{class:"breadcrumb-item"},[(0,r.Lk)("a",{href:"javascript:void(0)"},"Lineage Parameters")],-1)),a[12]||(a[12]=(0,r.Lk)("li",{class:"breadcrumb-item active","aria-current":"page"},"Frequencies",-1))]),a[13]||(a[13]=(0,r.Lk)("h4",{class:"main-title mb-2"},"Frequencies",-1))]),(0,r.Lk)("div",Eee,[(0,r.Lk)("div",xee,[(0,r.Lk)("form",{onSubmit:a[3]||(a[3]=(0,s.D$)((e=>o.submitForm()),["prevent"]))},[(0,r.Lk)("div",Xee,[(0,r.Lk)("div",Pee,[i.status?((0,r.uX)(),(0,r.CE)("h6",$ee,"Add Frequency")):((0,r.uX)(),(0,r.CE)("h6",See,"Update Frequency"))]),(0,r.Lk)("div",Aee,[(0,r.Lk)("div",Dee,[(0,r.Lk)("div",Tee,[a[14]||(a[14]=(0,r.Lk)("label",{class:"form-label"},"Frequency Code",-1)),a[15]||(a[15]=(0,r.Lk)("span",{class:"text-danger"}," *",-1)),(0,r.bo)((0,r.Lk)("input",{type:"text",placeholder:"Enter Frequency Code",class:(0,n.C4)(["form-control",{"is-invalid":i.errors.frequency_code}]),ref:"frequency_code","onUpdate:modelValue":a[0]||(a[0]=e=>i.frequency.frequency_code=e)},null,2),[[s.Jo,i.frequency.frequency_code]]),i.errors.frequency_code?((0,r.uX)(),(0,r.CE)("span",Qee,(0,n.v_)(i.errors.frequency_code[0]),1)):(0,r.Q3)("",!0)]),(0,r.Lk)("div",Vee,[a[16]||(a[16]=(0,r.Lk)("label",{class:"form-label"},"Frequency Name",-1)),a[17]||(a[17]=(0,r.Lk)("span",{class:"text-danger"}," *",-1)),(0,r.bo)((0,r.Lk)("input",{type:"text",placeholder:"Enter Frequency name",class:(0,n.C4)(["form-control",{"is-invalid":i.errors.frequency_name}]),"onUpdate:modelValue":a[1]||(a[1]=e=>i.frequency.frequency_name=e)},null,2),[[s.Jo,i.frequency.frequency_name]]),i.errors.frequency_name?((0,r.uX)(),(0,r.CE)("span",Fee,(0,n.v_)(i.errors.frequency_name[0]),1)):(0,r.Q3)("",!0)])])]),(0,r.Lk)("div",Uee,[(0,r.Lk)("button",{type:"button",class:"btn btn-danger me-2",onClick:a[2]||(a[2]=e=>o.discard())},a[18]||(a[18]=[(0,r.Lk)("i",{class:"ri-close-line fs-18 lh-1"},null,-1),(0,r.eW)(" Discard")])),(0,r.Lk)("button",jee,[i.status?((0,r.uX)(),(0,r.CE)("span",zee,a[19]||(a[19]=[(0,r.Lk)("i",{class:"ri-save-line fs-18 lh-1"},null,-1),(0,r.eW)(" Submit")]))):((0,r.uX)(),(0,r.CE)("span",Wee,a[20]||(a[20]=[(0,r.Lk)("i",{class:"ri-save-line fs-18 lh-1"},null,-1),(0,r.eW)(" Update")])))])])])],32)]),(0,r.Lk)("div",{class:(0,n.C4)(i.column)},[(0,r.Lk)("div",Ree,[a[29]||(a[29]=(0,r.Lk)("div",{class:"card-header d-flex justify-content-between"},[(0,r.Lk)("h6",{class:"card-title"},"Frequencies")],-1)),(0,r.Lk)("div",qee,[(0,r.bo)((0,r.Lk)("input",{class:"form-control mb-2",type:"text",placeholder:"Type keyword and press enter key","onUpdate:modelValue":a[4]||(a[4]=e=>i.meta.search=e),onKeypress:a[5]||(a[5]=(0,s.jR)((e=>o.search()),["enter"]))},null,544),[[s.Jo,i.meta.search]]),(0,r.Lk)("div",Iee,[(0,r.Lk)("table",Nee,[(0,r.Lk)("thead",null,[(0,r.Lk)("tr",Mee,[a[23]||(a[23]=(0,r.Lk)("th",null,"#",-1)),(0,r.Lk)("th",{onClick:a[6]||(a[6]=e=>o.sort("frequency_code"))},[a[21]||(a[21]=(0,r.eW)("Frequency Code ")),(0,r.Lk)("span",null,["frequency_code"==i.meta.keyword&&"asc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",Kee)):"frequency_code"==i.meta.keyword&&"desc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",Jee)):((0,r.uX)(),(0,r.CE)("i",Bee))])]),(0,r.Lk)("th",{onClick:a[7]||(a[7]=e=>o.sort("frequency_name"))},[a[22]||(a[22]=(0,r.eW)("Frequency Name ")),(0,r.Lk)("span",null,["frequency_name"==i.meta.keyword&&"asc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",Oee)):"frequency_name"==i.meta.keyword&&"desc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",Hee)):((0,r.uX)(),(0,r.CE)("i",Yee))])]),a[24]||(a[24]=(0,r.Lk)("th",null,"Status",-1)),a[25]||(a[25]=(0,r.Lk)("th",null,"Actions",-1))])]),(0,r.Lk)("tbody",null,[0==i.frequencies.length?((0,r.uX)(),(0,r.CE)("tr",Zee,a[26]||(a[26]=[(0,r.Lk)("td",{colspan:"6",class:"text-center"},"No records found",-1)]))):(0,r.Q3)("",!0),((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(i.frequencies,((e,t)=>((0,r.uX)(),(0,r.CE)("tr",{key:t},[(0,r.Lk)("td",Gee,(0,n.v_)(i.meta.from+t),1),(0,r.Lk)("td",null,(0,n.v_)(e.frequency_code),1),(0,r.Lk)("td",null,(0,n.v_)(e.frequency_name),1),(0,r.Lk)("td",eae,[(0,r.Lk)("div",aae,[(0,r.Lk)("input",{class:"form-check-input",type:"checkbox",role:"switch",id:"frequency"+e.frequency_id,checked:e.status,value:e.status,onChange:a=>o.deleteFrequency(e)},null,40,tae),(0,r.Lk)("label",{class:"custom-control-label",for:"frequency"+e.frequency_id},null,8,sae)])]),(0,r.Lk)("td",rae,[e.status?((0,r.uX)(),(0,r.CE)("a",{key:0,href:"javascript:void(0)",class:"text-success me-2",onClick:a=>o.editFrequency(e)},a[27]||(a[27]=[(0,r.Lk)("i",{class:"ri-pencil-line fs-18 lh-1"},null,-1)]),8,lae)):(0,r.Q3)("",!0)])])))),128))])])])]),(0,r.Lk)("div",iae,[(0,r.Lk)("div",oae,[(0,r.bo)((0,r.Lk)("select",{class:"form-select from-select-sm width-75","onUpdate:modelValue":a[8]||(a[8]=e=>i.meta.per_page=e),onChange:a[9]||(a[9]=(...e)=>o.onPerPageChange&&o.onPerPageChange(...e))},a[28]||(a[28]=[(0,r.Lk)("option",null,"10",-1),(0,r.Lk)("option",null,"15",-1),(0,r.Lk)("option",null,"20",-1),(0,r.Lk)("option",null,"25",-1),(0,r.Lk)("option",null,"30",-1)]),544),[[s.u1,i.meta.per_page]]),(0,r.Lk)("span",null,"Showing "+(0,n.v_)(i.meta.from)+" to "+(0,n.v_)(i.meta.to)+" of "+(0,n.v_)(i.meta.totalRows)+" entries",1),(0,r.bF)(c,{maxPage:i.meta.maxPage,totalPages:i.meta.lastPage,currentPage:i.meta.page,onPagechanged:o.onPageChange},null,8,["maxPage","totalPages","currentPage","onPagechanged"])])])])],2)])])}var nae={components:{Pagination:md,Search:It.A},data(){return{meta:{search:"",order_by:"desc",keyword:"frequency_id",per_page:10,totalRows:0,page:1,lastPage:1,from:1,maxPage:1},frequencies:[],frequency:{frequency_id:"",frequency_code:"",frequency_name:"",status:""},errors:[],status:!0,column:"col-8"}},mounted(){this.index(),this.getFrequencies()},methods:{submitForm(){let e=this;e.status?e.addFrequency():e.updateFrequency()},index(){let e=this,a=e.$loading.show();e.$store.dispatch("post",{uri:"paginateFrequencies",data:e.meta}).then((t=>{a.hide(),e.frequencies=t.data.data,e.meta.totalRows=t.data.meta.total,e.meta.from=t.data.meta.from,e.meta.lastPage=t.data.meta.last_page,e.meta.maxPage=e.meta.lastPage>=3?3:e.meta.lastPage})).catch((function(t){a.hide(),e.errors=t.response.data.errors,e.$store.dispatch("error",t.response.data.message)}))},addFrequency(){let e=this,a=e.$loading.show();e.$store.dispatch("post",{uri:"addFrequency",data:e.frequency}).then((t=>{a.hide(),e.$store.dispatch("success",t.data.message),e.discard()})).catch((function(t){a.hide(),e.errors=t.response.data.errors,e.$store.dispatch("error",t.response.data.message)}))},deleteFrequency(e){let a=this;e.status=1==e.status?0:1,a.$store.dispatch("post",{uri:"deleteFrequency",data:e}).then((function(e){a.$store.dispatch("success",e.data.message),a.discard()})).catch((function(e){a.errors=e.response.data.errors,a.$store.dispatch("error",e.response.data.message)}))},editFrequency(e){this.frequency=e,this.status=!1},updateFrequency(){let e=this,a=e.$loading.show();e.$store.dispatch("post",{uri:"updateFrequency",data:e.frequency}).then((t=>{a.hide(),e.$store.dispatch("success",t.data.message),e.discard()})).catch((function(t){a.hide(),e.errors=t.response.data.errors,e.$store.dispatch("error",t.response.data.message)}))},getFrequencies(){let e=this,a=e.$loading.show();e.$store.dispatch("post",{uri:"getFrequencies"}).then((t=>{a.hide(),e.frequencies=t.data.data})).catch((function(t){a.hide(),e.errors=t.response.data.errors,e.$store.dispatch("error",t.response.data.message)}))},onPageChange(e){this.meta.page=e,this.index()},sort(e){this.meta.keyword=e,this.meta.order_by="asc"==this.meta.order_by?"desc":"asc",this.index()},discard(){let e=this;e.frequency.frequency_code="",e.frequency.frequency_name="",e.$refs.frequency_code.focus(),e.errors=[],e.status=!0,e.index()},search(){let e=this;e.meta.page=1,e.index()},onPerPageChange(){let e=this;e.meta.page=1,e.index()}}};const cae=(0,Ze.A)(nae,[["render",dae]]);var uae=cae;const _ae={class:""},pae={class:"breadcrumb fs-sm mb-1"},mae={class:"breadcrumb-item"},bae={class:"row g-2"},kae={class:"col-4"},vae={class:"card card-one"},hae={class:"card-header d-flex justify-content-between"},yae={key:0,class:"card-title"},gae={key:1,class:"card-title"},fae={class:"card-body"},Lae={class:"row g-2"},Cae={class:"col-md-12"},wae=["disabled"],Eae={key:0,class:"invalid-feedback"},xae={class:"col-md-12"},Xae={key:0,class:"invalid-feedback"},Pae={class:"card-footer text-end"},$ae={type:"submit",class:"btn btn-primary"},Sae={key:0},Aae={key:1},Dae={class:"card card-one"},Tae={class:"card-body"},Qae={class:"table-responsive table-responsive-sm"},Vae={class:"table table-sm text-nowrap table-striped table-bordered mb-0"},Fae={style:{"background-color":"#9b9b9b",color:"white"}},Uae={key:0,class:"ri-arrow-up-line"},jae={key:1,class:"ri-arrow-down-line"},zae={key:2,class:"fas fa-sort"},Wae={key:0,class:"ri-arrow-up-line"},Rae={key:1,class:"ri-arrow-down-line"},qae={key:2,class:"fas fa-sort"},Iae={class:"text-center"},Nae={class:"text-center"},Mae={key:0},Kae={class:"text-center"},Jae={class:"text-center"},Bae={class:"form-switch"},Oae=["id","checked","value","onChange"],Hae=["for"],Yae={class:"text-center"},Zae=["onClick"],Gae={class:"card-footer"},ete={class:"d-flex justify-content-between align-items-center"};function ate(e,a,t,l,i,o){const d=(0,r.g2)("router-link"),c=(0,r.g2)("Pagination"),u=(0,r.gN)("can");return(0,r.uX)(),(0,r.CE)("div",_ae,[(0,r.Lk)("div",null,[(0,r.Lk)("ol",pae,[(0,r.Lk)("li",mae,[(0,r.bF)(d,{to:"/dashboard"},{default:(0,r.k6)((()=>a[10]||(a[10]=[(0,r.eW)("Dashboard")]))),_:1})]),a[11]||(a[11]=(0,r.Lk)("li",{class:"breadcrumb-item"},[(0,r.Lk)("a",{href:"javascript:void(0)"},"Lineage Parameters")],-1)),a[12]||(a[12]=(0,r.Lk)("li",{class:"breadcrumb-item active","aria-current":"page"},"Departments",-1))]),a[13]||(a[13]=(0,r.Lk)("h4",{class:"main-title mb-2"},"Departments",-1))]),(0,r.Lk)("div",bae,[(0,r.bo)(((0,r.uX)(),(0,r.CE)("div",kae,[(0,r.Lk)("form",{onSubmit:a[3]||(a[3]=(0,s.D$)((e=>o.submitForm()),["prevent"]))},[(0,r.Lk)("div",vae,[(0,r.Lk)("div",hae,[i.status?((0,r.uX)(),(0,r.CE)("h6",yae,"Add Department")):((0,r.uX)(),(0,r.CE)("h6",gae,"Update Departments"))]),(0,r.Lk)("div",fae,[(0,r.Lk)("div",Lae,[(0,r.Lk)("div",Cae,[a[14]||(a[14]=(0,r.Lk)("label",{class:"form-label"},"Department Code",-1)),a[15]||(a[15]=(0,r.Lk)("span",{class:"text-danger"}," *",-1)),(0,r.bo)((0,r.Lk)("input",{type:"text",placeholder:"Enter Department Code",class:(0,n.C4)(["form-control",{"is-invalid":i.errors.department_code}]),ref:"department_code","onUpdate:modelValue":a[0]||(a[0]=e=>i.department.department_code=e),disabled:!i.status},null,10,wae),[[s.Jo,i.department.department_code]]),i.errors.department_code?((0,r.uX)(),(0,r.CE)("span",Eae,(0,n.v_)(i.errors.department_code[0]),1)):(0,r.Q3)("",!0)]),(0,r.Lk)("div",xae,[a[16]||(a[16]=(0,r.Lk)("label",{class:"form-label"},"Department Name",-1)),a[17]||(a[17]=(0,r.Lk)("span",{class:"text-danger"}," *",-1)),(0,r.bo)((0,r.Lk)("input",{type:"text",placeholder:"Enter Department name",class:(0,n.C4)(["form-control",{"is-invalid":i.errors.department_name}]),"onUpdate:modelValue":a[1]||(a[1]=e=>i.department.department_name=e)},null,2),[[s.Jo,i.department.department_name]]),i.errors.department_name?((0,r.uX)(),(0,r.CE)("span",Xae,(0,n.v_)(i.errors.department_name[0]),1)):(0,r.Q3)("",!0)])])]),(0,r.Lk)("div",Pae,[(0,r.Lk)("button",{type:"button",class:"btn btn-danger me-2",onClick:a[2]||(a[2]=e=>o.discard())},a[18]||(a[18]=[(0,r.Lk)("i",{class:"ri-close-line fs-18 lh-1"},null,-1),(0,r.eW)(" Discard")])),(0,r.Lk)("button",$ae,[i.status?((0,r.uX)(),(0,r.CE)("span",Sae,a[19]||(a[19]=[(0,r.Lk)("i",{class:"ri-save-line fs-18 lh-1"},null,-1),(0,r.eW)(" Submit")]))):((0,r.uX)(),(0,r.CE)("span",Aae,a[20]||(a[20]=[(0,r.Lk)("i",{class:"ri-save-line fs-18 lh-1"},null,-1),(0,r.eW)(" Update")])))])])])],32)])),[[u,"departments.create"]]),(0,r.Lk)("div",{class:(0,n.C4)(i.column)},[(0,r.Lk)("div",Dae,[a[29]||(a[29]=(0,r.Lk)("div",{class:"card-header d-flex justify-content-between"},[(0,r.Lk)("h6",{class:"card-title"},"Departments")],-1)),(0,r.Lk)("div",Tae,[(0,r.bo)((0,r.Lk)("input",{class:"form-control mb-2",type:"text",placeholder:"Type keyword and press enter key","onUpdate:modelValue":a[4]||(a[4]=e=>i.meta.search=e),onKeypress:a[5]||(a[5]=(0,s.jR)((e=>o.search()),["enter"]))},null,544),[[s.Jo,i.meta.search]]),(0,r.Lk)("div",Qae,[(0,r.Lk)("table",Vae,[(0,r.Lk)("thead",null,[(0,r.Lk)("tr",Fae,[a[25]||(a[25]=(0,r.Lk)("th",{class:"text-center"},"#",-1)),(0,r.Lk)("th",{onClick:a[6]||(a[6]=e=>o.sort("department_code"))},[a[21]||(a[21]=(0,r.eW)("Department Code ")),(0,r.Lk)("span",null,["department_code"==i.meta.keyword&&"asc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",Uae)):"department_code"==i.meta.keyword&&"desc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",jae)):((0,r.uX)(),(0,r.CE)("i",zae))])]),(0,r.Lk)("th",{onClick:a[7]||(a[7]=e=>o.sort("department_name"))},[a[22]||(a[22]=(0,r.eW)("Department Name ")),(0,r.Lk)("span",null,["department_name"==i.meta.keyword&&"asc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",Wae)):"department_name"==i.meta.keyword&&"desc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",Rae)):((0,r.uX)(),(0,r.CE)("i",qae))])]),(0,r.bo)(((0,r.uX)(),(0,r.CE)("th",Iae,a[23]||(a[23]=[(0,r.eW)("Status")]))),[[u,"departments.delete"]]),(0,r.bo)(((0,r.uX)(),(0,r.CE)("th",Nae,a[24]||(a[24]=[(0,r.eW)("Actions")]))),[[u,"departments.update"]])])]),(0,r.Lk)("tbody",null,[0==i.departments.length?((0,r.uX)(),(0,r.CE)("tr",Mae,a[26]||(a[26]=[(0,r.Lk)("td",{colspan:"6",class:"text-center"},"No records found",-1)]))):(0,r.Q3)("",!0),((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(i.departments,((e,t)=>((0,r.uX)(),(0,r.CE)("tr",{key:t},[(0,r.Lk)("td",Kae,(0,n.v_)(i.meta.from+t),1),(0,r.Lk)("td",null,(0,n.v_)(e.department_code),1),(0,r.Lk)("td",null,(0,n.v_)(e.department_name),1),(0,r.bo)(((0,r.uX)(),(0,r.CE)("td",Jae,[(0,r.Lk)("div",Bae,[(0,r.Lk)("input",{class:"form-check-input",type:"checkbox",role:"switch",id:"department"+e.department_id,checked:e.status,value:e.status,onChange:a=>o.deleteDepartment(e)},null,40,Oae),(0,r.Lk)("label",{class:"custom-control-label",for:"department"+e.department_id},null,8,Hae)])])),[[u,"departments.delete"]]),(0,r.bo)(((0,r.uX)(),(0,r.CE)("td",Yae,[e.status?((0,r.uX)(),(0,r.CE)("a",{key:0,href:"javascript:void(0)",class:"text-success me-2",onClick:a=>o.editDepartment(e)},a[27]||(a[27]=[(0,r.Lk)("i",{class:"ri-pencil-line fs-18 lh-1"},null,-1)]),8,Zae)):(0,r.Q3)("",!0)])),[[u,"departments.update"]])])))),128))])])])]),(0,r.Lk)("div",Gae,[(0,r.Lk)("div",ete,[(0,r.bo)((0,r.Lk)("select",{class:"form-select from-select-sm width-75","onUpdate:modelValue":a[8]||(a[8]=e=>i.meta.per_page=e),onChange:a[9]||(a[9]=(...e)=>o.onPerPageChange&&o.onPerPageChange(...e))},a[28]||(a[28]=[(0,r.Lk)("option",null,"10",-1),(0,r.Lk)("option",null,"15",-1),(0,r.Lk)("option",null,"20",-1),(0,r.Lk)("option",null,"25",-1),(0,r.Lk)("option",null,"30",-1)]),544),[[s.u1,i.meta.per_page]]),(0,r.Lk)("span",null,"Showing "+(0,n.v_)(i.meta.from)+" to "+(0,n.v_)(i.meta.to)+" of "+(0,n.v_)(i.meta.totalRows)+" entries",1),(0,r.bF)(c,{maxPage:i.meta.maxPage,totalPages:i.meta.lastPage,currentPage:i.meta.page,onPagechanged:o.onPageChange},null,8,["maxPage","totalPages","currentPage","onPagechanged"])])])])],2)])])}var tte={components:{Pagination:md,Search:It.A},data(){return{meta:{search:"",order_by:"desc",keyword:"department_id",per_page:10,totalRows:0,page:1,lastPage:1,from:1,to:1,maxPage:1},departments:[],department:{department_id:"",department_code:"",department_name:"",status:""},errors:[],status:!0,column:"col-8"}},mounted(){this.create_department=this.$store.getters.permissions.filter((function(e){return e.ability.ability.includes("departments.create")})),this.create_department.length?this.column="col-8":this.column="col-12",this.index(),this.$refs.department_code.focus()},methods:{submitForm(){let e=this;e.status?e.addDepartment():e.updateDepartment()},index(){let e=this,a=e.$loading.show();e.$store.dispatch("post",{uri:"paginateDepartments",data:e.meta}).then((t=>{a.hide(),e.departments=t.data.data,e.meta.totalRows=t.data.meta.total,e.meta.from=t.data.meta.from,e.meta.to=t.data.meta.to,e.meta.lastPage=t.data.meta.last_page,e.meta.maxPage=e.meta.lastPage>=3?3:e.meta.lastPage})).catch((function(t){a.hide(),e.errors=t.response.data.errors,e.$store.dispatch("error",t.response.data.message)}))},addDepartment(){let e=this,a=e.$loading.show();e.$store.dispatch("post",{uri:"addDepartment",data:e.department}).then((t=>{a.hide(),e.$store.dispatch("success",t.data.message),e.discard()})).catch((function(t){a.hide(),e.errors=t.response.data.errors,e.$store.dispatch("error",t.response.data.message)}))},deleteDepartment(e){let a=this;e.status=1==e.status?0:1,a.$store.dispatch("post",{uri:"deleteDepartment",data:e}).then((function(e){a.$store.dispatch("success",e.data.message),a.discard()})).catch((function(e){a.errors=e.response.data.errors,a.$store.dispatch("error",e.response.data.message)}))},editDepartment(e){this.department=e,this.status=!1,this.$refs.department_code.focus()},updateDepartment(){let e=this,a=e.$loading.show();e.$store.dispatch("post",{uri:"updateDepartment",data:e.department}).then((t=>{a.hide(),e.$store.dispatch("success",t.data.message),e.discard()})).catch((function(t){a.hide(),e.errors=t.response.data.errors,e.$store.dispatch("error",t.response.data.message)}))},getDepartments(){let e=this,a=e.$loading.show();e.$store.dispatch("post",{uri:"getDepartments"}).then((t=>{a.hide(),e.departments=t.data.data})).catch((function(t){a.hide(),e.errors=t.response.data.errors,e.$store.dispatch("error",t.response.data.message)}))},onPageChange(e){this.meta.page=e,this.index()},sort(e){this.meta.keyword=e,this.meta.order_by="asc"==this.meta.order_by?"desc":"asc",this.index()},discard(){let e=this;e.department.department_code="",e.department.department_name="",e.$refs.department_code.focus(),e.errors=[],e.status=!0,e.index()},search(){let e=this;e.meta.page=1,e.index()},onPerPageChange(){let e=this;e.meta.page=1,e.index()}}};const ste=(0,Ze.A)(tte,[["render",ate]]);var rte=ste;const lte={class:""},ite={class:"breadcrumb fs-sm mb-1"},ote={class:"breadcrumb-item"},dte={class:"row g-2"},nte={class:"col-4"},cte={class:"card card-one"},ute={class:"card-header d-flex justify-content-between"},_te={key:0,class:"card-title"},pte={key:1,class:"card-title"},mte={class:"card-body"},bte={class:"row g-2"},kte={class:"col-md-12"},vte=["disabled"],hte={key:0,class:"invalid-feedback"},yte={class:"col-md-12"},gte={key:0,class:"invalid-feedback"},fte={class:"card-footer text-end"},Lte={type:"submit",class:"btn btn-primary"},Cte={key:0},wte={key:1},Ete={class:"card card-one"},xte={class:"card-body"},Xte={class:"table-responsive table-responsive-sm"},Pte={class:"table table-sm text-nowrap table-striped table-bordered mb-0"},$te={class:"",style:{"background-color":"#9b9b9b",color:"white"}},Ste={key:0,class:"ri-arrow-up-line"},Ate={key:1,class:"ri-arrow-down-line"},Dte={key:2,class:"fas fa-sort"},Tte={key:0,class:"ri-arrow-up-line"},Qte={key:1,class:"ri-arrow-down-line"},Vte={key:2,class:"fas fa-sort"},Fte={class:"text-center"},Ute={class:"text-center"},jte={key:0},zte={class:"text-center"},Wte={class:"text-center"},Rte={class:"form-switch"},qte=["id","checked","value","onChange"],Ite=["for"],Nte={class:"text-center"},Mte=["onClick"],Kte={class:"card-footer"},Jte={class:"d-flex justify-content-between align-items-center"};function Bte(e,a,t,l,i,o){const d=(0,r.g2)("router-link"),c=(0,r.g2)("Pagination"),u=(0,r.gN)("can");return(0,r.uX)(),(0,r.CE)("div",lte,[(0,r.Lk)("div",null,[(0,r.Lk)("ol",ite,[(0,r.Lk)("li",ote,[(0,r.bF)(d,{to:"/dashboard"},{default:(0,r.k6)((()=>a[10]||(a[10]=[(0,r.eW)("Dashboard")]))),_:1})]),a[11]||(a[11]=(0,r.Lk)("li",{class:"breadcrumb-item"},[(0,r.Lk)("a",{href:"javascript:void(0)"},"Lineage Parameters")],-1)),a[12]||(a[12]=(0,r.Lk)("li",{class:"breadcrumb-item active","aria-current":"page"},"Functional",-1))]),a[13]||(a[13]=(0,r.Lk)("h4",{class:"main-title mb-2"},"Functional",-1))]),(0,r.Lk)("div",dte,[(0,r.bo)(((0,r.uX)(),(0,r.CE)("div",nte,[(0,r.Lk)("form",{onSubmit:a[3]||(a[3]=(0,s.D$)((e=>o.submitForm()),["prevent"]))},[(0,r.Lk)("div",cte,[(0,r.Lk)("div",ute,[i.status?((0,r.uX)(),(0,r.CE)("h6",_te,"Add Functional")):((0,r.uX)(),(0,r.CE)("h6",pte,"Update Functional"))]),(0,r.Lk)("div",mte,[(0,r.Lk)("div",bte,[(0,r.Lk)("div",kte,[a[14]||(a[14]=(0,r.Lk)("label",{class:"form-label"},"Functional Code",-1)),a[15]||(a[15]=(0,r.Lk)("span",{class:"text-danger"}," *",-1)),(0,r.bo)((0,r.Lk)("input",{type:"text",placeholder:"Functional Code",class:(0,n.C4)(["form-control",{"is-invalid":i.errors.functional_code}]),"onUpdate:modelValue":a[0]||(a[0]=e=>i.functional.functional_code=e),ref:"functional_code",disabled:!i.status},null,10,vte),[[s.Jo,i.functional.functional_code]]),i.errors.functional_code?((0,r.uX)(),(0,r.CE)("span",hte,(0,n.v_)(i.errors.functional_code[0]),1)):(0,r.Q3)("",!0)]),(0,r.Lk)("div",yte,[a[16]||(a[16]=(0,r.Lk)("label",{class:"form-label"},"Functional Name",-1)),a[17]||(a[17]=(0,r.Lk)("span",{class:"text-danger"}," *",-1)),(0,r.bo)((0,r.Lk)("input",{type:"text",placeholder:"Enter Functional name",class:(0,n.C4)(["form-control",{"is-invalid":i.errors.functional_name}]),"onUpdate:modelValue":a[1]||(a[1]=e=>i.functional.functional_name=e)},null,2),[[s.Jo,i.functional.functional_name]]),i.errors.functional_name?((0,r.uX)(),(0,r.CE)("span",gte,(0,n.v_)(i.errors.functional_name[0]),1)):(0,r.Q3)("",!0)])])]),(0,r.Lk)("div",fte,[(0,r.Lk)("button",{type:"button",class:"btn btn-danger me-2",onClick:a[2]||(a[2]=e=>o.discard())},a[18]||(a[18]=[(0,r.Lk)("i",{class:"ri-close-line fs-18 lh-1"},null,-1),(0,r.eW)(" Discard")])),(0,r.Lk)("button",Lte,[i.status?((0,r.uX)(),(0,r.CE)("span",Cte,a[19]||(a[19]=[(0,r.Lk)("i",{class:"ri-save-line fs-18 lh-1"},null,-1),(0,r.eW)(" Submit")]))):((0,r.uX)(),(0,r.CE)("span",wte,a[20]||(a[20]=[(0,r.Lk)("i",{class:"ri-save-line fs-18 lh-1"},null,-1),(0,r.eW)(" Update")])))])])])],32)])),[[u,"functionals.create"]]),(0,r.Lk)("div",{class:(0,n.C4)(i.column)},[(0,r.Lk)("div",Ete,[a[29]||(a[29]=(0,r.Lk)("div",{class:"card-header d-flex justify-content-between"},[(0,r.Lk)("h6",{class:"card-title"},"Functionals")],-1)),(0,r.Lk)("div",xte,[(0,r.bo)((0,r.Lk)("input",{class:"form-control mb-2",type:"text",placeholder:"Type keyword and press enter key","onUpdate:modelValue":a[4]||(a[4]=e=>i.meta.search=e),onKeypress:a[5]||(a[5]=(0,s.jR)((e=>o.search()),["enter"]))},null,544),[[s.Jo,i.meta.search]]),(0,r.Lk)("div",Xte,[(0,r.Lk)("table",Pte,[(0,r.Lk)("thead",null,[(0,r.Lk)("tr",$te,[a[25]||(a[25]=(0,r.Lk)("th",{class:"text-center"},"#",-1)),(0,r.Lk)("th",{onClick:a[6]||(a[6]=e=>o.sort("functional_code"))},[a[21]||(a[21]=(0,r.eW)("Functional Code ")),(0,r.Lk)("span",null,["functional_code"==i.meta.keyword&&"asc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",Ste)):"functional_code"==i.meta.keyword&&"desc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",Ate)):((0,r.uX)(),(0,r.CE)("i",Dte))])]),(0,r.Lk)("th",{onClick:a[7]||(a[7]=e=>o.sort("functional_name"))},[a[22]||(a[22]=(0,r.eW)("Functional Name ")),(0,r.Lk)("span",null,["functional_name"==i.meta.keyword&&"asc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",Tte)):"functional_name"==i.meta.keyword&&"desc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",Qte)):((0,r.uX)(),(0,r.CE)("i",Vte))])]),(0,r.bo)(((0,r.uX)(),(0,r.CE)("th",Fte,a[23]||(a[23]=[(0,r.eW)("Status")]))),[[u,"functionals.delete"]]),(0,r.bo)(((0,r.uX)(),(0,r.CE)("th",Ute,a[24]||(a[24]=[(0,r.eW)("Actions")]))),[[u,"functionals.update"]])])]),(0,r.Lk)("tbody",null,[0==i.functionals.length?((0,r.uX)(),(0,r.CE)("tr",jte,a[26]||(a[26]=[(0,r.Lk)("td",{colspan:"6",class:"text-center"},"No records found",-1)]))):(0,r.Q3)("",!0),((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(i.functionals,((e,t)=>((0,r.uX)(),(0,r.CE)("tr",{key:t},[(0,r.Lk)("td",zte,(0,n.v_)(i.meta.from+t),1),(0,r.Lk)("td",null,(0,n.v_)(e.functional_code),1),(0,r.Lk)("td",null,(0,n.v_)(e.functional_name),1),(0,r.bo)(((0,r.uX)(),(0,r.CE)("td",Wte,[(0,r.Lk)("div",Rte,[(0,r.Lk)("input",{class:"form-check-input",type:"checkbox",role:"switch",id:"functional"+e.functional_id,checked:e.status,value:e.status,onChange:a=>o.deleteFunctional(e)},null,40,qte),(0,r.Lk)("label",{class:"custom-control-label",for:"functional"+e.functional_id},null,8,Ite)])])),[[u,"functionals.delete"]]),(0,r.bo)(((0,r.uX)(),(0,r.CE)("td",Nte,[e.status?((0,r.uX)(),(0,r.CE)("a",{key:0,href:"javascript:void(0)",class:"text-success me-2",onClick:a=>o.editFunctional(e)},a[27]||(a[27]=[(0,r.Lk)("i",{class:"ri-pencil-line fs-18 lh-1"},null,-1)]),8,Mte)):(0,r.Q3)("",!0)])),[[u,"functionals.update"]])])))),128))])])])]),(0,r.Lk)("div",Kte,[(0,r.Lk)("div",Jte,[(0,r.bo)((0,r.Lk)("select",{class:"form-select from-select-sm width-75","onUpdate:modelValue":a[8]||(a[8]=e=>i.meta.per_page=e),onChange:a[9]||(a[9]=(...e)=>o.onPerPageChange&&o.onPerPageChange(...e))},a[28]||(a[28]=[(0,r.Lk)("option",null,"10",-1),(0,r.Lk)("option",null,"15",-1),(0,r.Lk)("option",null,"20",-1),(0,r.Lk)("option",null,"25",-1),(0,r.Lk)("option",null,"30",-1)]),544),[[s.u1,i.meta.per_page]]),(0,r.Lk)("span",null,"Showing "+(0,n.v_)(i.meta.from)+" to "+(0,n.v_)(i.meta.to)+" of "+(0,n.v_)(i.meta.totalRows)+" entries",1),(0,r.bF)(c,{maxPage:i.meta.maxPage,totalPages:i.meta.lastPage,currentPage:i.meta.page,onPagechanged:o.onPageChange},null,8,["maxPage","totalPages","currentPage","onPagechanged"])])])])],2)])])}var Ote={components:{Pagination:md},data(){return{column:"col-8",meta:{search:"",order_by:"desc",keyword:"functional_id",per_page:10,totalRows:0,page:1,lastPage:1,from:1,to:1,maxPage:1,trashed:!1},functionals:[],functional:{functional_id:"",functional_code:"",functional_name:"",status:""},status:!0,errors:[]}},mounted(){this.create_functional=this.$store.getters.permissions.filter((function(e){return e.ability.ability.includes("functionals.create")})),this.create_functional.length?this.column="col-8":this.column="col-12",this.index(),this.$refs.functional_code.focus()},methods:{submitForm(){let e=this;e.status?e.addFunctional():e.updateFunctional()},index(){let e=this,a=e.$loading.show();e.$store.dispatch("post",{uri:"paginateFunctionals",data:e.meta}).then((t=>{a.hide(),e.functionals=t.data.data,e.meta.totalRows=t.data.meta.total,e.meta.from=t.data.meta.from,e.meta.to=t.data.meta.to,e.meta.lastPage=t.data.meta.last_page,e.meta.maxPage=e.meta.lastPage>=3?3:e.meta.lastPage})).catch((function(t){a.hide(),e.errors=t.response.data.errors,e.$store.dispatch("error",t.response.data.message)}))},addFunctional(){let e=this,a=e.$loading.show();e.$store.dispatch("post",{uri:"addFunctional",data:e.functional}).then((t=>{a.hide(),e.$store.dispatch("success",t.data.message),e.discard()})).catch((function(t){a.hide(),e.errors=t.response.data.errors,e.$store.dispatch("error",t.response.data.message)}))},deleteFunctional(e){let a=this;e.status=1==e.status?0:1,a.$store.dispatch("post",{uri:"deleteFunctional",data:e}).then((function(e){a.$store.dispatch("success",e.data.message),a.discard()})).catch((function(e){a.errors=e.response.data.errors,a.$store.dispatch("error",e.response.data.message)}))},editFunctional(e){this.functional=e,this.status=!1,this.$refs.functional_code.focus()},updateFunctional(){let e=this,a=e.$loading.show();e.$store.dispatch("post",{uri:"updateFunctional",data:e.functional}).then((t=>{a.hide(),e.$store.dispatch("success",t.data.message),e.discard()})).catch((function(t){a.hide(),e.errors=t.response.data.errors,e.$store.dispatch("error",t.response.data.message)}))},onPageChange(e){this.meta.page=e,this.index()},sort(e){this.meta.keyword=e,this.meta.order_by="asc"==this.meta.order_by?"desc":"asc",this.index()},discard(){let e=this;e.functional.functional_code="",e.functional.functional_name="",e.$refs.functional_code.focus(),e.errors=[],e.status=!0,e.index()},search(){let e=this;e.meta.page=1,e.index()},onPerPageChange(){let e=this;e.meta.page=1,e.index()}}};const Hte=(0,Ze.A)(Ote,[["render",Bte]]);var Yte=Hte;const Zte={class:""},Gte={class:"d-sm-flex align-items-center justify-content-between mb-2"},ese={class:"breadcrumb fs-sm mb-1"},ase={class:"breadcrumb-item","aria-current":"page"},tse={class:"breadcrumb-item","aria-current":"page"},sse={key:0,class:"breadcrumb-item","aria-current":"page"},rse={key:1,class:"breadcrumb-item active","aria-current":"page"},lse={class:"row"},ise={class:"col-12"},ose={class:"card card-one"},dse={class:"card-header d-flex justify-content-between"},nse={key:0,class:"card-title"},cse={key:1,class:"card-title"},use={class:"card-body"},_se={class:"row g-2"},pse={class:"col-md-4"},mse={key:0,class:"invalid-feedback"},bse={class:"col-md-4"},kse=["disabled"],vse={key:0,class:"invalid-feedback"},hse={class:"col-md-4"},yse={key:0,class:"invalid-feedback"},gse={key:0,class:"col-md-4"},fse={key:0,class:"invalid-feedback"},Lse={class:"col-md-4"},Cse={key:0,class:"invalid-feedback"},wse={key:1,class:"col-md-4"},Ese={key:0,class:"text-danger"},xse={key:1,class:"invalid-feedback"},Xse={key:2,class:"col-md-4"},Pse={key:0,class:"text-danger"},$se={key:1,class:"invalid-feedback"},Sse={key:3,class:"col-md-4"},Ase={key:0,class:"invalid-feedback"},Dse={class:"col-md-4"},Tse={key:0,class:"invalid-feedback"},Qse={class:"col-md-4"},Vse={class:"form-group"},Fse={key:0},Use={class:"text-danger"},jse={class:"card-footer text-end"},zse={type:"submit",class:"btn btn-primary"},Wse={key:0},Rse={key:1};function qse(e,a,t,l,i,o){const d=(0,r.g2)("router-link"),c=(0,r.g2)("search"),u=(0,r.g2)("MultiSelect"),_=(0,r.gN)("can");return(0,r.uX)(),(0,r.CE)("div",Zte,[(0,r.Lk)("div",Gte,[(0,r.Lk)("div",null,[(0,r.Lk)("ol",ese,[(0,r.Lk)("li",ase,[(0,r.bF)(d,{to:"/dashboard"},{default:(0,r.k6)((()=>a[12]||(a[12]=[(0,r.eW)("Dashboard")]))),_:1})]),a[14]||(a[14]=(0,r.Lk)("li",{class:"breadcrumb-item"},[(0,r.Lk)("a",{href:"javascript:void(0)"},"Masters")],-1)),(0,r.Lk)("li",tse,[(0,r.bF)(d,{to:"/checks"},{default:(0,r.k6)((()=>a[13]||(a[13]=[(0,r.eW)("Checks")]))),_:1})]),i.status?((0,r.uX)(),(0,r.CE)("li",sse,"New Check")):((0,r.uX)(),(0,r.CE)("li",rse,"Update Check"))]),a[15]||(a[15]=(0,r.Lk)("h4",{class:"main-title mb-0"},"Check",-1))]),(0,r.bF)(d,{to:"/checks",type:"submit",class:"btn btn-primary",style:{float:"right"}},{default:(0,r.k6)((()=>a[16]||(a[16]=[(0,r.Lk)("i",{class:"ri-list-check"},null,-1),(0,r.eW)(" CHECKS")]))),_:1})]),(0,r.Lk)("div",lse,[(0,r.bo)(((0,r.uX)(),(0,r.CE)("div",ise,[(0,r.Lk)("form",{onSubmit:a[11]||(a[11]=(0,s.D$)(((...e)=>o.submitForm&&o.submitForm(...e)),["prevent"]))},[(0,r.Lk)("div",ose,[(0,r.Lk)("div",dse,[i.status?((0,r.uX)(),(0,r.CE)("h6",nse,"New Check")):((0,r.uX)(),(0,r.CE)("h6",cse,"Update Check"))]),(0,r.Lk)("div",use,[(0,r.Lk)("div",_se,[(0,r.Lk)("div",pse,[a[17]||(a[17]=(0,r.Lk)("label",{class:"form-label"},"Department",-1)),a[18]||(a[18]=(0,r.Lk)("span",{class:"text-danger"}," *",-1)),(0,r.bF)(c,{class:(0,n.C4)({"is-invalid":i.errors?.department_id}),customClass:{"is-invalid":i.errors?.department_id},initialize:i.check?.department_id,id:"department_id",label:"department_name",placeholder:"Select Department",data:i.departments,onInput:a[0]||(a[0]=e=>i.check.department_id=e)},null,8,["class","customClass","initialize","data"]),i.errors?.department_id?((0,r.uX)(),(0,r.CE)("span",mse,(0,n.v_)(i.errors.department_id[0]),1)):(0,r.Q3)("",!0)]),(0,r.Lk)("div",bse,[a[19]||(a[19]=(0,r.Lk)("label",{class:"form-label"},"Field Name",-1)),a[20]||(a[20]=(0,r.Lk)("span",{class:"text-danger"}," *",-1)),(0,r.bo)((0,r.Lk)("input",{type:"text",placeholder:"Field Name",class:(0,n.C4)(["form-control",{"is-invalid":i.errors?.field_name}]),"onUpdate:modelValue":a[1]||(a[1]=e=>i.check.field_name=e),disabled:!i.status},null,10,kse),[[s.Jo,i.check.field_name]]),i.errors?.field_name?((0,r.uX)(),(0,r.CE)("span",vse,(0,n.v_)(i.errors.field_name[0]),1)):(0,r.Q3)("",!0)]),(0,r.Lk)("div",hse,[a[22]||(a[22]=(0,r.Lk)("label",{class:"form-label"},"Field Type",-1)),a[23]||(a[23]=(0,r.Lk)("span",{class:"text-danger"}," *",-1)),(0,r.bo)((0,r.Lk)("select",{class:(0,n.C4)(["form-control",{"is-invalid":i.errors?.field_type}]),"onUpdate:modelValue":a[2]||(a[2]=e=>i.check.field_type=e)},a[21]||(a[21]=[(0,r.Fv)('<option value="" data-v-ffe53826>Select Field Type</option><option value="Text" data-v-ffe53826>Short Text</option><option value="Number" data-v-ffe53826>Number</option><option value="Text Area" data-v-ffe53826>Long Text</option><option value="Date" data-v-ffe53826>Date</option><option value="Date &amp; Time" data-v-ffe53826>Date &amp; Time</option><option value="Select" data-v-ffe53826>Dropdown</option>',7)]),2),[[s.u1,i.check.field_type]]),i.errors?.field_type?((0,r.uX)(),(0,r.CE)("span",yse,(0,n.v_)(i.errors.field_type[0]),1)):(0,r.Q3)("",!0)]),"Select"==i.check.field_type?((0,r.uX)(),(0,r.CE)("div",gse,[a[24]||(a[24]=(0,r.Lk)("label",{class:"form-label"},"Field Values",-1)),a[25]||(a[25]=(0,r.Lk)("span",{class:"text-danger"}," *",-1)),(0,r.bo)((0,r.Lk)("input",{type:"text",placeholder:"Field Values",class:(0,n.C4)(["form-control",{"is-invalid":i.errors?.field_values}]),"onUpdate:modelValue":a[3]||(a[3]=e=>i.check.field_values=e)},null,2),[[s.Jo,i.check.field_values]]),i.errors?.field_values?((0,r.uX)(),(0,r.CE)("span",fse,(0,n.v_)(i.errors.field_values[0]),1)):(0,r.Q3)("",!0)])):(0,r.Q3)("",!0),(0,r.Lk)("div",Lse,[a[27]||(a[27]=(0,r.Lk)("label",{class:"form-label"},"Is Required",-1)),a[28]||(a[28]=(0,r.Lk)("span",{class:"text-danger"}," *",-1)),(0,r.bo)((0,r.Lk)("select",{class:(0,n.C4)(["form-control",{"is-invalid":i.errors?.is_required}]),"onUpdate:modelValue":a[4]||(a[4]=e=>i.check.is_required=e)},a[26]||(a[26]=[(0,r.Lk)("option",{value:""},"Select Is Required",-1),(0,r.Lk)("option",{value:"true"},"Yes",-1),(0,r.Lk)("option",{value:"false"},"No",-1)]),2),[[s.u1,i.check.is_required]]),i.errors?.is_required?((0,r.uX)(),(0,r.CE)("span",Cse,(0,n.v_)(i.errors.is_required[0]),1)):(0,r.Q3)("",!0)]),"Number"==i.check.field_type?((0,r.uX)(),(0,r.CE)("div",wse,[a[29]||(a[29]=(0,r.Lk)("label",{class:"form-label"},"LCL",-1)),"Number"==i.check.field_type?((0,r.uX)(),(0,r.CE)("span",Ese," *")):(0,r.Q3)("",!0),(0,r.bo)((0,r.Lk)("input",{type:"number",step:"any",placeholder:"LCL",class:(0,n.C4)(["form-control",{"is-invalid":i.errors?.lcl}]),"onUpdate:modelValue":a[5]||(a[5]=e=>i.check.lcl=e)},null,2),[[s.Jo,i.check.lcl]]),i.errors?.lcl?((0,r.uX)(),(0,r.CE)("span",xse,(0,n.v_)(i.errors.lcl[0]),1)):(0,r.Q3)("",!0)])):(0,r.Q3)("",!0),"Number"==i.check.field_type?((0,r.uX)(),(0,r.CE)("div",Xse,[a[30]||(a[30]=(0,r.Lk)("label",{class:"form-label"},"UCL",-1)),"Number"==i.check.field_type?((0,r.uX)(),(0,r.CE)("span",Pse," *")):(0,r.Q3)("",!0),(0,r.bo)((0,r.Lk)("input",{type:"number",step:"any",placeholder:"UCL",class:(0,n.C4)(["form-control",{"is-invalid":i.errors?.ucl}]),"onUpdate:modelValue":a[6]||(a[6]=e=>i.check.ucl=e)},null,2),[[s.Jo,i.check.ucl]]),i.errors?.ucl?((0,r.uX)(),(0,r.CE)("span",$se,(0,n.v_)(i.errors.ucl[0]),1)):(0,r.Q3)("",!0)])):(0,r.Q3)("",!0),["Select"].includes(i.check.field_type)?((0,r.uX)(),(0,r.CE)("div",Sse,[a[31]||(a[31]=(0,r.Lk)("label",{class:"form-label"},"Default Value",-1)),a[32]||(a[32]=(0,r.Lk)("span",{class:"text-danger"}," *",-1)),(0,r.bo)((0,r.Lk)("input",{type:"text",placeholder:"Default Value",class:(0,n.C4)(["form-control",{"is-invalid":i.errors?.default_value}]),"onUpdate:modelValue":a[7]||(a[7]=e=>i.check.default_value=e),onInput:a[8]||(a[8]=e=>o.validateDefaultValue())},null,34),[[s.Jo,i.check.default_value]]),i.errors?.default_value?((0,r.uX)(),(0,r.CE)("span",Ase,(0,n.v_)(i.errors.default_value[0]),1)):(0,r.Q3)("",!0)])):(0,r.Q3)("",!0),(0,r.Lk)("div",Dse,[a[33]||(a[33]=(0,r.Lk)("label",{class:"form-label"},"Order",-1)),a[34]||(a[34]=(0,r.Lk)("span",{class:"text-danger"}," *",-1)),(0,r.bo)((0,r.Lk)("input",{type:"text",placeholder:"Order",class:(0,n.C4)(["form-control",{"is-invalid":i.errors?.order}]),"onUpdate:modelValue":a[9]||(a[9]=e=>i.check.order=e)},null,2),[[s.Jo,i.check.order]]),i.errors?.order?((0,r.uX)(),(0,r.CE)("span",Tse,(0,n.v_)(i.errors.order[0]),1)):(0,r.Q3)("",!0)]),(0,r.Lk)("div",Qse,[(0,r.Lk)("div",Vse,[a[35]||(a[35]=(0,r.Lk)("label",{class:"form-label"},"Assign To",-1)),a[36]||(a[36]=(0,r.Lk)("span",{class:"text-danger"}," *",-1)),(0,r.bF)(u,{modelValue:i.check.asset_types_obj,"onUpdate:modelValue":a[10]||(a[10]=e=>i.check.asset_types_obj=e),filter:"",optionLabel:"asset_type_name",options:i.asset_types,placeholder:"Select Assign To",maxSelectedLabels:3,style:(0,n.Tr)([{width:"100%",height:"37px"},i.errors?.asset_types?i.error_style:""])},null,8,["modelValue","options","style"]),i.errors?.asset_types?((0,r.uX)(),(0,r.CE)("span",Fse,[(0,r.Lk)("small",Use,(0,n.v_)(i.errors?.asset_types[0]),1)])):(0,r.Q3)("",!0)])])])]),(0,r.Lk)("div",jse,[(0,r.bF)(d,{type:"button",class:"btn btn-danger me-2",to:"/checks"},{default:(0,r.k6)((()=>a[37]||(a[37]=[(0,r.Lk)("i",{class:"ri-close-line fs-18 lh-1"},null,-1),(0,r.eW)(" Discard")]))),_:1}),(0,r.Lk)("button",zse,[i.status?((0,r.uX)(),(0,r.CE)("span",Wse,a[38]||(a[38]=[(0,r.Lk)("i",{class:"ri-save-line fs-18 lh-1"},null,-1),(0,r.eW)(" Submit")]))):((0,r.uX)(),(0,r.CE)("span",Rse,a[39]||(a[39]=[(0,r.Lk)("i",{class:"ri-save-line fs-18 lh-1"},null,-1),(0,r.eW)(" Update")])))])])])],32)])),[[_,"checks.create"]])])])}var Ise={name:"Checks.Create",components:{MultiSelect:Ru.A,Search:It.A},data(){return{check:{check_id:"",field_name:"",field_type:"",default_value:"",is_required:"",lcl:"",ucl:"",field_values:"",order:"",asset_types_obj:[],asset_types:[],frequency_id:"",department_id:"",deleted_check_asset_types:[]},deleted_check_asset_types:[],errors:[],asset_types:[],frequencies:[],departments:[],status:!0,asset_type_status:!1,error_style:{"border-color":"#dc3545","padding-right":"calc(1.5em + 0.812rem)","background-image":"url(\"data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 12 12' width='12' height='12' fill='none' stroke='%23dc3545'%3e%3ccircle cx='6' cy='6' r='4.5'/%3e%3cpath stroke-linejoin='round' d='M5.8 3.6h.4L6 6.5z'/%3e%3ccircle cx='6' cy='8.2' r='.6' fill='%23dc3545' stroke='none'/%3e%3c/svg%3e\")","background-repeat":"no-repeat","background-position":"right calc(0.375em + 0.203rem) center","background-size":"calc(0.75em + 0.406rem) calc(0.75em + 0.406rem)"}}},beforeRouteEnter(e,a,t){t((a=>{if(a.getAssetTypes(),"Checks.Create"==e.name)a.$store.commit("setCurrentPage",1);else{a.status=!1;let t={uri:"getCheck",data:{check_id:e.params.check_id}};a.$store.dispatch("post",t).then((function(e){a.check=e.data.data,a.check.deleted_check_asset_types=[],a.check.asset_types_obj=[],a.check.check_asset_types.map((function(e){a.check.asset_types_obj.push({asset_type_code:e.asset_types.asset_type_code,asset_type_id:e.asset_types.asset_type_id,status:e.asset_types.status,asset_type_name:e.asset_types.asset_type_name})}))})).catch((function(e){a.errors=e.response?.data?.errors,a.$store.dispatch("error",e.response?.data?.message)}))}}))},methods:{updateActivityType(e,a){let t=this;const s=e.target.checked;let r=a?.check_asset_types?.filter((function(a){return a.asset_type_id==e.target.value}));if(r?.length){let e=r[0].check_asset_type_id;if(s){if(t.check.deleted_check_asset_types.includes(e)){let a=t.check.deleted_check_asset_types.filter((function(a){return a!=e}));t.check.deleted_check_asset_types=a}}else t.check.deleted_check_asset_types.includes(e)||t.check.deleted_check_asset_types.push(e)}console.log("Checked IDs:",t.check.asset_types),console.log("Unchecked IDs:",t.check.deleted_check_asset_types)},toggleAssetTypeStatus(){this.asset_type_status=!this.asset_type_status},submitForm(){let e=this;e.status?e.addCheck():e.updateCheck()},validateDefaultValue(){if("Select"!==this.check.field_type)return void(this.errors.default_value=null);const e=this.check.field_values.split(",").map((e=>e.trim())).filter((e=>e)),a=this.check.default_value.split(",").map((e=>e.trim())).filter((e=>e));if(0===e.length)return void(this.errors.default_value=["Field Values cannot be empty."]);const t=a.filter((a=>!e.includes(a)));t.length>0?this.errors.default_value=[`These default values are not in Field Values: ${t.join(", ")}.`]:this.errors.default_value=null},addCheck(){let e=this,a=e.$loading.show();e.check.asset_types_obj.map((function(a){e.check.asset_types.push(a.asset_type_id)})),e.$store.dispatch("post",{uri:"addCheck",data:e.check}).then((t=>{a.hide(),e.$store.dispatch("success",t.data.message),e.$router.push("/checks")})).catch((function(t){a.hide(),e.errors=t.response.data.errors,e.$store.dispatch("error",t.response.data.message)}))},getAssetTypes(){let e=this,a=e.$loading.show();e.$store.dispatch("post",{uri:"getAssetTypes"}).then((t=>{a.hide(),e.asset_types=t.data.data,e.getFrequencies()})).catch((function(t){a.hide(),e.errors=t.response.data.errors,e.$store.dispatch("error",t.response.data.message)}))},getFrequencies(){let e=this,a=e.$loading.show();e.$store.dispatch("post",{uri:"getFrequencies"}).then((t=>{a.hide(),e.frequencies=t.data.data,e.getDepartments()})).catch((function(t){a.hide(),e.errors=t.response.data.errors,e.$store.dispatch("error",t.response.data.message)}))},getDepartments(){let e=this,a=e.$loading.show();e.$store.dispatch("post",{uri:"getDepartments"}).then((t=>{a.hide(),e.departments=t.data.data})).catch((function(t){a.hide(),e.errors=t.response.data.errors,e.$store.dispatch("error",t.response.data.message)}))},updateCheck(){let e=this,a=e.$loading.show();e.check.deleted_check_asset_types=e.check?.check_asset_types.filter((a=>!e.check.asset_types_obj.some((e=>a.asset_type_id===e.asset_type_id)))),e.check.asset_types=e.check.asset_types_obj.map((e=>e.asset_type_id)),e.check.deleted_check_asset_types=e.check.deleted_check_asset_types.map((e=>e.check_asset_type_id)),e.$store.dispatch("post",{uri:"updateCheck",data:e.check}).then((t=>{a.hide(),e.$store.dispatch("success",t.data.message),e.$router.push("/checks")})).catch((function(t){a.hide(),e.errors=t.response.data.errors,e.$store.dispatch("error",t.response.data.message)}))},discard(){let e=this;e.check.field_name="",e.check.field_type="",e.check.default_value="",e.check.is_required="",e.check.lcl="",e.check.ucl="",e.check.field_values="",e.check.order="",e.check.frequency_id="",e.check.department_id="",e.check.asset_types=[],e.errors=[],e.status=!0},getCheck(){let e=this,a=e.$loading.show();e.$store.dispatch("post",{uri:"showCheck",data:e.check}).then((t=>{a.hide(),e.user=t.data.data})).catch((function(t){a.hide(),e.errors=t.response.data.errors,e.$store.dispatch("error",t.response.data.message)}))}}};const Nse=(0,Ze.A)(Ise,[["render",qse],["__scopeId","data-v-ffe53826"]]);var Mse=Nse;const Kse={class:""},Jse={class:"d-sm-flex align-items-center justify-content-between mb-2"},Bse={class:"breadcrumb fs-sm mb-1"},Ose={class:"breadcrumb-item","aria-current":"page"},Hse={class:"row"},Yse={class:"col-12"},Zse={class:"card card-one"},Gse={class:"card-body"},ere={class:"table-responsive table-responsive-sm"},are={class:"table table-sm text-nowrap table-striped table-bordered mb-0"},tre={class:"",style:{"background-color":"#9b9b9b",color:"white"}},sre={key:0,class:"ri-arrow-up-line"},rre={key:1,class:"ri-arrow-down-line"},lre={key:2,class:"fas fa-sort"},ire={key:0,class:"ri-arrow-up-line"},ore={key:1,class:"ri-arrow-down-line"},dre={key:2,class:"fas fa-sort"},nre={key:0,class:"ri-arrow-up-line"},cre={key:1,class:"ri-arrow-down-line"},ure={key:2,class:"fas fa-sort"},_re={key:0,class:"ri-arrow-up-line"},pre={key:1,class:"ri-arrow-down-line"},mre={key:2,class:"fas fa-sort"},bre={key:0,class:"ri-arrow-up-line"},kre={key:1,class:"ri-arrow-down-line"},vre={key:2,class:"fas fa-sort"},hre={key:0,class:"ri-arrow-up-line"},yre={key:1,class:"ri-arrow-down-line"},gre={key:2,class:"fas fa-sort"},fre={key:0,class:"ri-arrow-up-line"},Lre={key:1,class:"ri-arrow-down-line"},Cre={key:2,class:"fas fa-sort"},wre={key:0,class:"ri-arrow-up-line"},Ere={key:1,class:"ri-arrow-down-line"},xre={key:2,class:"fas fa-sort"},Xre={key:0,class:"ri-arrow-up-line"},Pre={key:1,class:"ri-arrow-down-line"},$re={key:2,class:"fas fa-sort"},Sre={key:0,class:"ri-arrow-up-line"},Are={key:1,class:"ri-arrow-down-line"},Dre={key:2,class:"fas fa-sort"},Tre={class:"text-center"},Qre={class:"text-center"},Vre={key:0},Fre={class:"text-center"},Ure={class:"text-center"},jre={class:"form-switch"},zre=["id","checked","value","onChange"],Wre=["for"],Rre={class:"text-center"},qre=["onClick"],Ire={class:"card-footer"},Nre={class:"d-flex justify-content-between align-items-center"};function Mre(e,a,t,l,i,o){const d=(0,r.g2)("router-link"),c=(0,r.g2)("Pagination"),u=(0,r.gN)("can");return(0,r.uX)(),(0,r.CE)("div",Kse,[(0,r.Lk)("div",Jse,[(0,r.Lk)("div",null,[(0,r.Lk)("ol",Bse,[(0,r.Lk)("li",Ose,[(0,r.bF)(d,{to:"/dashboard"},{default:(0,r.k6)((()=>a[13]||(a[13]=[(0,r.eW)("Dashboard")]))),_:1})]),a[14]||(a[14]=(0,r.Lk)("li",{class:"breadcrumb-item"},[(0,r.Lk)("a",{href:"javascript:void(0)"},"Masters")],-1)),a[15]||(a[15]=(0,r.Lk)("li",{class:"breadcrumb-item active","aria-current":"page"},"Checks",-1))]),a[16]||(a[16]=(0,r.Lk)("h4",{class:"main-title mb-0"},"Checks",-1))]),(0,r.bo)(((0,r.uX)(),(0,r.Wv)(d,{to:"/checks/create",class:"btn btn-primary",style:{float:"right"}},{default:(0,r.k6)((()=>a[17]||(a[17]=[(0,r.Lk)("i",{class:"ri-list-check"},null,-1),(0,r.eW)(" ADD CHECKS")]))),_:1})),[[u,"checks.create"]])]),(0,r.Lk)("div",Hse,[(0,r.Lk)("div",Yse,[(0,r.Lk)("div",Zse,[a[34]||(a[34]=(0,r.Lk)("div",{class:"card-header d-flex justify-content-between"},[(0,r.Lk)("h6",{class:"card-title"},"Checks")],-1)),(0,r.Lk)("div",Gse,[(0,r.bo)((0,r.Lk)("input",{class:"form-control mb-2",type:"text",placeholder:"Type keyword and press enter key","onUpdate:modelValue":a[0]||(a[0]=e=>i.meta.search=e),onKeypress:a[1]||(a[1]=(0,s.jR)((e=>o.search()),["enter"]))},null,544),[[s.Jo,i.meta.search]]),(0,r.Lk)("div",ere,[(0,r.Lk)("table",are,[(0,r.Lk)("thead",null,[(0,r.Lk)("tr",tre,[a[30]||(a[30]=(0,r.Lk)("th",{class:"text-center"},"#",-1)),(0,r.Lk)("th",{onClick:a[2]||(a[2]=e=>o.sort("department_name"))},[a[18]||(a[18]=(0,r.eW)("Department ")),(0,r.Lk)("span",null,["department_name"==i.meta.keyword&&"asc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",sre)):"department_name"==i.meta.keyword&&"desc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",rre)):((0,r.uX)(),(0,r.CE)("i",lre))])]),(0,r.Lk)("th",{onClick:a[3]||(a[3]=e=>o.sort("field_name"))},[a[19]||(a[19]=(0,r.eW)("Field Name ")),(0,r.Lk)("span",null,["field_name"==i.meta.keyword&&"asc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",ire)):"field_name"==i.meta.keyword&&"desc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",ore)):((0,r.uX)(),(0,r.CE)("i",dre))])]),(0,r.Lk)("th",{onClick:a[4]||(a[4]=e=>o.sort("field_type"))},[a[20]||(a[20]=(0,r.eW)("Field Type ")),(0,r.Lk)("span",null,["field_type"==i.meta.keyword&&"asc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",nre)):"field_type"==i.meta.keyword&&"desc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",cre)):((0,r.uX)(),(0,r.CE)("i",ure))])]),(0,r.Lk)("th",{onClick:a[5]||(a[5]=e=>o.sort("default_value"))},[a[21]||(a[21]=(0,r.eW)("Default Value ")),(0,r.Lk)("span",null,["default_value"==i.meta.keyword&&"asc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",_re)):"default_value"==i.meta.keyword&&"desc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",pre)):((0,r.uX)(),(0,r.CE)("i",mre))])]),(0,r.Lk)("th",{onClick:a[6]||(a[6]=e=>o.sort("is_required"))},[a[22]||(a[22]=(0,r.eW)("Is Required ")),(0,r.Lk)("span",null,["is_required"==i.meta.keyword&&"asc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",bre)):"is_required"==i.meta.keyword&&"desc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",kre)):((0,r.uX)(),(0,r.CE)("i",vre))])]),(0,r.Lk)("th",{onClick:a[7]||(a[7]=e=>o.sort("lcl"))},[a[23]||(a[23]=(0,r.eW)("LCL ")),(0,r.Lk)("span",null,["lcl"==i.meta.keyword&&"asc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",hre)):"lcl"==i.meta.keyword&&"desc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",yre)):((0,r.uX)(),(0,r.CE)("i",gre))])]),(0,r.Lk)("th",{onClick:a[8]||(a[8]=e=>o.sort("ucl"))},[a[24]||(a[24]=(0,r.eW)("UCL ")),(0,r.Lk)("span",null,["ucl"==i.meta.keyword&&"asc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",fre)):"ucl"==i.meta.keyword&&"desc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",Lre)):((0,r.uX)(),(0,r.CE)("i",Cre))])]),(0,r.Lk)("th",{onClick:a[9]||(a[9]=e=>o.sort("field_values"))},[a[25]||(a[25]=(0,r.eW)("Field Values ")),(0,r.Lk)("span",null,["field_values"==i.meta.keyword&&"asc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",wre)):"field_values"==i.meta.keyword&&"desc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",Ere)):((0,r.uX)(),(0,r.CE)("i",xre))])]),(0,r.Lk)("th",{onClick:a[10]||(a[10]=e=>o.sort("order"))},[a[26]||(a[26]=(0,r.eW)("Order ")),(0,r.Lk)("span",null,["order"==i.meta.keyword&&"asc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",Xre)):"order"==i.meta.keyword&&"desc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",Pre)):((0,r.uX)(),(0,r.CE)("i",$re))])]),(0,r.Lk)("th",null,[a[27]||(a[27]=(0,r.eW)(" Asset Type ")),(0,r.Lk)("span",null,["asset_type_id"==i.meta.keyword&&"asc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",Sre)):"asset_type_id"==i.meta.keyword&&"desc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",Are)):((0,r.uX)(),(0,r.CE)("i",Dre))])]),(0,r.bo)(((0,r.uX)(),(0,r.CE)("th",Tre,a[28]||(a[28]=[(0,r.eW)("Status")]))),[[u,"checks.delete"]]),(0,r.bo)(((0,r.uX)(),(0,r.CE)("th",Qre,a[29]||(a[29]=[(0,r.eW)("Actions")]))),[[u,"checks.update"]])])]),(0,r.Lk)("tbody",null,[0==i.checks.length?((0,r.uX)(),(0,r.CE)("tr",Vre,a[31]||(a[31]=[(0,r.Lk)("td",{colspan:"12",class:"text-center"},"No records found",-1)]))):(0,r.Q3)("",!0),((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(i.checks,((e,t)=>((0,r.uX)(),(0,r.CE)("tr",{key:t},[(0,r.Lk)("td",Fre,(0,n.v_)(i.meta.from+t),1),(0,r.Lk)("td",null,(0,n.v_)(e?.department?.department_name),1),(0,r.Lk)("td",null,(0,n.v_)(e.field_name),1),(0,r.Lk)("td",null,(0,n.v_)(e.field_type),1),(0,r.Lk)("td",null,(0,n.v_)(e.default_value),1),(0,r.Lk)("td",null,(0,n.v_)(1==e.is_required?"Yes":"No"),1),(0,r.Lk)("td",null,(0,n.v_)(e.lcl),1),(0,r.Lk)("td",null,(0,n.v_)(e.ucl),1),(0,r.Lk)("td",null,(0,n.v_)(e.field_values),1),(0,r.Lk)("td",null,(0,n.v_)(e.order),1),(0,r.Lk)("td",null,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(e.check_asset_types,((e,a)=>((0,r.uX)(),(0,r.CE)("span",{key:a},(0,n.v_)(e?.asset_types?.asset_type_name)+", ",1)))),128))]),(0,r.bo)(((0,r.uX)(),(0,r.CE)("td",Ure,[(0,r.Lk)("div",jre,[(0,r.Lk)("input",{class:"form-check-input",type:"checkbox",role:"switch",id:"check"+e.check_id,checked:e.status,value:e.status,onChange:a=>o.deleteCheck(e)},null,40,zre),(0,r.Lk)("label",{class:"custom-control-label",for:"check"+e.check_id},null,8,Wre)])])),[[u,"checks.delete"]]),(0,r.bo)(((0,r.uX)(),(0,r.CE)("td",Rre,[e.status?((0,r.uX)(),(0,r.CE)("a",{key:0,href:"javascript:void(0)",class:"text-success me-2",onClick:a=>o.editCheck(e)},a[32]||(a[32]=[(0,r.Lk)("i",{class:"ri-pencil-line fs-18 lh-1"},null,-1)]),8,qre)):(0,r.Q3)("",!0)])),[[u,"checks.update"]])])))),128))])])])]),(0,r.Lk)("div",Ire,[(0,r.Lk)("div",Nre,[(0,r.bo)((0,r.Lk)("select",{class:"form-select from-select-sm width-75","onUpdate:modelValue":a[11]||(a[11]=e=>i.meta.per_page=e),onChange:a[12]||(a[12]=(...e)=>o.onPerPageChange&&o.onPerPageChange(...e))},a[33]||(a[33]=[(0,r.Lk)("option",null,"10",-1),(0,r.Lk)("option",null,"15",-1),(0,r.Lk)("option",null,"20",-1),(0,r.Lk)("option",null,"25",-1),(0,r.Lk)("option",null,"30",-1)]),544),[[s.u1,i.meta.per_page]]),(0,r.Lk)("span",null,"Showing "+(0,n.v_)(i.meta.from)+" to "+(0,n.v_)(i.meta.to)+" of "+(0,n.v_)(i.meta.totalRows)+" entries",1),(0,r.bF)(c,{maxPage:i.meta.maxPage,totalPages:i.meta.lastPage,currentPage:parseInt(i.meta.page),onPagechanged:o.onPageChange},null,8,["maxPage","totalPages","currentPage","onPagechanged"])])])])])])])}var Kre={components:{Pagination:md},data(){return{meta:{search:"",order_by:"desc",keyword:"check_id",per_page:10,totalRows:0,page:1,lastPage:1,from:1,to:1,maxPage:1},check:{check_id:""},checks:[],errors:[],update:!1}},beforeRouteEnter(e,a,t){t((e=>{}))},mounted(){this.$store.getters.current_page?this.meta.page=this.$store.getters.current_page:this.meta.page=1,this.index()},methods:{index(){let e=this,a=e.$loading.show();e.$store.dispatch("post",{uri:"paginateChecks",data:e.meta}).then((t=>{a.hide(),e.checks=t.data.data,e.meta.totalRows=t.data.meta.total,e.meta.from=t.data.meta.from,e.meta.to=t.data.meta.to,e.meta.lastPage=t.data.meta.last_page,e.meta.maxPage=e.meta.lastPage>=3?3:e.meta.lastPage})).catch((function(t){a.hide(),e.errors=t.response.data.errors,e.$store.dispatch("error",t.response.data.message)}))},editCheck(e){console.log("setCurrentPage",this.meta.page),this.$store.commit("setCurrentPage",this.meta.page),this.$router.push("/checks/"+e.check_id+"/edit")},deleteCheck(e){let a=this,t=a.$loading.show();const s=e.status;e.status=!e.status,a.$store.dispatch("post",{uri:"deleteCheck",data:e}).then((e=>{t.hide(),a.$store.dispatch("success",e.data.message),a.index()})).catch((function(r){t.hide(),e.status=s,a.errors=r.response.data.errors,a.$store.dispatch("error",r.response.data.message)}))},onPageChange(e){this.meta.page=e,this.index()},sort(e){this.meta.keyword=e,this.meta.order_by="asc"==this.meta.order_by?"desc":"asc",this.index()},search(){let e=this;e.meta.page=1,e.index()},onPerPageChange(){this.meta.page=1,this.index()}}};const Jre=(0,Ze.A)(Kre,[["render",Mre]]);var Bre=Jre;const Ore={class:""},Hre={class:"d-sm-flex align-items-center justify-content-between mb-2"},Yre={class:"breadcrumb fs-sm mb-1"},Zre={class:"breadcrumb-item"},Gre={class:"breadcrumb-item active","aria-current":"page"},ele={key:0,class:"breadcrumb-item","aria-current":"page"},ale={key:1,class:"breadcrumb-item active","aria-current":"page"},tle={class:"row g-2"},sle={class:"col-12"},rle={class:"card card-one"},lle={class:"card-header d-flex justify-content-between"},ile={key:0,class:"card-title"},ole={key:1,class:"card-title"},dle={class:"card-body"},nle={class:"row g-2"},cle={class:"col-md-4"},ule={class:"d-flex justify-content-between"},_le={key:0},ple={class:"text-danger"},mle={class:"col-md-4"},ble=["disabled"],kle={key:0,class:"invalid-feedback"},vle={class:"col-md-4"},hle={key:0,class:"invalid-feedback"},yle={key:0},gle={class:"form-label"},fle={key:0,class:"text-danger"},Lle=["placeholder","onUpdate:modelValue"],Cle={key:1,class:"invalid-feedback"},wle={key:1},Ele={class:"form-label"},xle={key:0,class:"text-danger"},Xle=["placeholder","onUpdate:modelValue"],Ple={key:1,class:"invalid-feedback"},$le={key:2},Sle={class:"form-label"},Ale={key:0,class:"text-danger"},Dle=["placeholder","onUpdate:modelValue"],Tle={key:0,class:"invalid-feedback"},Qle={key:3},Vle={class:"form-label"},Fle={key:0,class:"text-danger"},Ule=["placeholder","onUpdate:modelValue"],jle={key:0,class:"invalid-feedback"},zle={key:4},Wle={class:"form-label"},Rle={key:0,class:"text-danger"},qle=["onUpdate:modelValue"],Ile=["value"],Nle=["value"],Mle=["value"],Kle={key:1,class:"invalid-feedback"},Jle={key:5},Ble={class:"form-label"},Ole={key:0,class:"text-danger"},Hle=["onUpdate:modelValue"],Yle={key:0,class:"invalid-feedback"},Zle={key:6},Gle={class:"form-label"},eie={key:0,class:"text-danger"},aie=["onUpdate:modelValue"],tie=["value"],sie=["value"],rie=["value"],lie={key:1,class:"invalid-feedback"},iie={class:"col-md-4"},oie={class:"form-group"},die={key:0},nie={class:"text-danger"},cie={class:"card-footer text-end"},uie={type:"submit",class:"btn btn-primary"},_ie={key:0},pie={key:1};function mie(e,a,t,l,i,o){const d=(0,r.g2)("router-link"),c=(0,r.g2)("search"),u=(0,r.g2)("MultiSelect");return(0,r.uX)(),(0,r.CE)("div",Ore,[(0,r.Lk)("div",Hre,[(0,r.Lk)("div",null,[(0,r.Lk)("ol",Yre,[(0,r.Lk)("li",Zre,[(0,r.bF)(d,{to:"/dashboard"},{default:(0,r.k6)((()=>a[7]||(a[7]=[(0,r.eW)("Dashboard")]))),_:1})]),a[9]||(a[9]=(0,r.Lk)("li",{class:"breadcrumb-item"},[(0,r.Lk)("a",{href:"javascript:void(0)"},"Masters")],-1)),(0,r.Lk)("li",Gre,[(0,r.bF)(d,{to:"/services"},{default:(0,r.k6)((()=>a[8]||(a[8]=[(0,r.eW)("Services")]))),_:1})]),i.status?((0,r.uX)(),(0,r.CE)("li",ele,"New Service")):((0,r.uX)(),(0,r.CE)("li",ale,"Update Service"))]),a[10]||(a[10]=(0,r.Lk)("h4",{class:"main-title mb-0"},"Services",-1))]),(0,r.bF)(d,{to:"/services",type:"submit",class:"btn btn-primary",style:{float:"right"}},{default:(0,r.k6)((()=>a[11]||(a[11]=[(0,r.Lk)("i",{class:"ri-list-check"},null,-1),(0,r.eW)(" SERVICES")]))),_:1})]),(0,r.Lk)("div",tle,[(0,r.Lk)("div",sle,[(0,r.Lk)("form",{onSubmit:a[6]||(a[6]=(0,s.D$)((e=>o.submitForm()),["prevent"]))},[(0,r.Lk)("div",rle,[(0,r.Lk)("div",lle,[i.status?((0,r.uX)(),(0,r.CE)("h6",ile,"Add Service")):((0,r.uX)(),(0,r.CE)("h6",ole,"Update Service"))]),(0,r.Lk)("div",dle,[(0,r.Lk)("div",nle,[(0,r.Lk)("div",cle,[(0,r.Lk)("div",ule,[a[13]||(a[13]=(0,r.Lk)("div",null,[(0,r.Lk)("label",{class:"form-label"},"Service Types"),(0,r.Lk)("span",{class:"text-danger"}," *")],-1)),(0,r.Lk)("a",{type:"button",class:"text-danger me-2",onClick:a[0]||(a[0]=e=>o.reset())},a[12]||(a[12]=[(0,r.Lk)("i",{class:"ri-close-line fs-20 lh-1"},null,-1)]))]),(0,r.bF)(c,{class:(0,n.C4)({"is-invalid":i.errors.service_type_id}),customClass:{"is-invalid":i.errors.service_type_id},initialize:i.service.service_type_id,id:"service_type_id",label:"service_type_name",placeholder:"Select Service Type",data:i.service_types,onInput:a[1]||(a[1]=e=>i.service.service_type_id=e),onSelectsearch:a[2]||(a[2]=e=>o.getServiceTypeFields(i.service.service_type_id))},null,8,["class","customClass","initialize","data"]),i.errors.service_type_id?((0,r.uX)(),(0,r.CE)("span",_le,[(0,r.Lk)("small",ple,(0,n.v_)(i.errors.service_type_id[0]),1)])):(0,r.Q3)("",!0)]),(0,r.Lk)("div",mle,[a[14]||(a[14]=(0,r.Lk)("label",{class:"form-label"},"Service Code",-1)),a[15]||(a[15]=(0,r.Lk)("span",{class:"text-danger"}," *",-1)),(0,r.bo)((0,r.Lk)("input",{type:"text",placeholder:"Service Code",class:(0,n.C4)(["form-control",{"is-invalid":i.errors.service_code}]),"onUpdate:modelValue":a[3]||(a[3]=e=>i.service.service_code=e),disabled:!i.status},null,10,ble),[[s.Jo,i.service.service_code]]),i.errors.service_code?((0,r.uX)(),(0,r.CE)("span",kle,(0,n.v_)(i.errors.service_code[0]),1)):(0,r.Q3)("",!0)]),(0,r.Lk)("div",vle,[a[16]||(a[16]=(0,r.Lk)("label",{class:"form-label"},"Service Name",-1)),a[17]||(a[17]=(0,r.Lk)("span",{class:"text-danger"}," *",-1)),(0,r.bo)((0,r.Lk)("input",{type:"text",placeholder:"Service Name",class:(0,n.C4)(["form-control",{"is-invalid":i.errors.service_name}]),"onUpdate:modelValue":a[4]||(a[4]=e=>i.service.service_name=e)},null,2),[[s.Jo,i.service.service_name]]),i.errors.service_name?((0,r.uX)(),(0,r.CE)("span",hle,(0,n.v_)(i.errors.service_name[0]),1)):(0,r.Q3)("",!0)]),((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(i.service.service_attributes,((e,a)=>((0,r.uX)(),(0,r.CE)("div",{class:"col-md-4",key:a},["Text"==e.field_type?((0,r.uX)(),(0,r.CE)("div",yle,[(0,r.Lk)("label",gle,(0,n.v_)(e.display_name),1),e.is_required?((0,r.uX)(),(0,r.CE)("span",fle,"*")):(0,r.Q3)("",!0),(0,r.bo)((0,r.Lk)("input",{type:"text",class:(0,n.C4)(["form-control",{"is-invalid":i.errors[e.display_name]}]),placeholder:"Enter "+e.display_name,"onUpdate:modelValue":a=>e.service_attribute_value.field_value=a},null,10,Lle),[[s.Jo,e.service_attribute_value.field_value]]),i.errors[e.display_name]?((0,r.uX)(),(0,r.CE)("span",Cle,(0,n.v_)(i.errors[e.display_name][0]),1)):(0,r.Q3)("",!0)])):(0,r.Q3)("",!0),"Number"==e.field_type?((0,r.uX)(),(0,r.CE)("div",wle,[(0,r.Lk)("label",Ele,(0,n.v_)(e.display_name),1),e.is_required?((0,r.uX)(),(0,r.CE)("span",xle,"*")):(0,r.Q3)("",!0),(0,r.bo)((0,r.Lk)("input",{type:"number",class:(0,n.C4)(["form-control",{"is-invalid":i.errors[e.display_name]}]),step:"any",min:"0",oninput:"validity.valid||(value='');",placeholder:"Enter "+e.display_name,"onUpdate:modelValue":a=>e.service_attribute_value.field_value=a},null,10,Xle),[[s.Jo,e.service_attribute_value.field_value]]),i.errors[e.display_name]?((0,r.uX)(),(0,r.CE)("span",Ple,(0,n.v_)(i.errors[e.display_name][0]),1)):(0,r.Q3)("",!0)])):(0,r.Q3)("",!0),"Date"===e.field_type?((0,r.uX)(),(0,r.CE)("div",$le,[(0,r.Lk)("label",Sle,[(0,r.eW)((0,n.v_)(e.display_name),1),e.is_required?((0,r.uX)(),(0,r.CE)("span",Ale,"*")):(0,r.Q3)("",!0)]),(0,r.bo)((0,r.Lk)("input",{type:"date",class:(0,n.C4)(["form-control",{"is-invalid":i.errors[e.display_name]}]),placeholder:"Enter "+e.display_name,"onUpdate:modelValue":a=>e.service_attribute_value.field_value=a},null,10,Dle),[[s.Jo,e.service_attribute_value.field_value]]),i.errors[e.display_name]?((0,r.uX)(),(0,r.CE)("span",Tle,(0,n.v_)(i.errors[e.display_name][0]),1)):(0,r.Q3)("",!0)])):(0,r.Q3)("",!0),"Date&Time"===e.field_type?((0,r.uX)(),(0,r.CE)("div",Qle,[(0,r.Lk)("label",Vle,[(0,r.eW)((0,n.v_)(e.display_name),1),e.is_required?((0,r.uX)(),(0,r.CE)("span",Fle,"*")):(0,r.Q3)("",!0)]),(0,r.bo)((0,r.Lk)("input",{type:"datetime-local",class:(0,n.C4)(["form-control",{"is-invalid":i.errors[e.display_name]}]),placeholder:"Enter "+e.display_name,"onUpdate:modelValue":a=>e.service_attribute_value.field_value=a,step:"1"},null,10,Ule),[[s.Jo,e.service_attribute_value.field_value]]),i.errors[e.display_name]?((0,r.uX)(),(0,r.CE)("span",jle,(0,n.v_)(i.errors[e.display_name][0]),1)):(0,r.Q3)("",!0)])):(0,r.Q3)("",!0),"Dropdown"==e.field_type?((0,r.uX)(),(0,r.CE)("div",zle,[(0,r.Lk)("label",Wle,(0,n.v_)(e.display_name),1),e.is_required?((0,r.uX)(),(0,r.CE)("span",Rle,"*")):(0,r.Q3)("",!0),(0,r.bo)((0,r.Lk)("select",{class:(0,n.C4)(["form-control",{"is-invalid":i.errors[e.display_name]}]),"onUpdate:modelValue":a=>e.service_attribute_value.field_value=a},[e.service_attribute_value.field_value?((0,r.uX)(),(0,r.CE)("option",{key:0,value:e.service_attribute_value.field_value},(0,n.v_)(e.service_attribute_value.field_value),9,Ile)):((0,r.uX)(),(0,r.CE)("option",{key:1,value:e.service_attribute_value.field_value},"Select "+(0,n.v_)(e.display_name),9,Nle)),((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(e.field_values.split(","),((e,a)=>((0,r.uX)(),(0,r.CE)("option",{key:a,value:e},(0,n.v_)(e),9,Mle)))),128))],10,qle),[[s.u1,e.service_attribute_value.field_value]]),i.errors[e.display_name]?((0,r.uX)(),(0,r.CE)("span",Kle,(0,n.v_)(i.errors[e.display_name][0]),1)):(0,r.Q3)("",!0)])):(0,r.Q3)("",!0),"Color"==e.field_type?((0,r.uX)(),(0,r.CE)("div",Jle,[(0,r.Lk)("label",Ble,[(0,r.eW)((0,n.v_)(e.display_name),1),e.is_required?((0,r.uX)(),(0,r.CE)("span",Ole,"*")):(0,r.Q3)("",!0)]),(0,r.bo)((0,r.Lk)("input",{type:"color",class:"form-control","onUpdate:modelValue":a=>e.service_attribute_value.field_value=a,style:{height:"2.2rem"}},null,8,Hle),[[s.Jo,e.service_attribute_value.field_value]]),i.errors[e.display_name]?((0,r.uX)(),(0,r.CE)("span",Yle,(0,n.v_)(i.errors[e.display_name][0]),1)):(0,r.Q3)("",!0)])):(0,r.Q3)("",!0),"List"==e.field_type?((0,r.uX)(),(0,r.CE)("div",Zle,[(0,r.Lk)("label",Gle,(0,n.v_)(e.display_name),1),e.is_required?((0,r.uX)(),(0,r.CE)("span",eie,"*")):(0,r.Q3)("",!0),(0,r.bo)((0,r.Lk)("select",{class:(0,n.C4)(["form-control",{"is-invalid":i.errors[e.display_name]}]),"onUpdate:modelValue":a=>e.service_attribute_value.field_value=a},[e.service_attribute_value.field_value?((0,r.uX)(),(0,r.CE)("option",{key:0,value:e.service_attribute_value.field_value},(0,n.v_)(e.service_attribute_value.field_value),9,tie)):((0,r.uX)(),(0,r.CE)("option",{key:1,value:e.service_attribute_value.field_value},"Select "+(0,n.v_)(e.display_name),9,sie)),((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(e.list_parameter?.field_values.split(","),((e,a)=>((0,r.uX)(),(0,r.CE)("option",{key:a,value:e},(0,n.v_)(e),9,rie)))),128))],10,aie),[[s.u1,e.service_attribute_value.field_value]]),i.errors[e.display_name]?((0,r.uX)(),(0,r.CE)("span",lie,(0,n.v_)(i.errors[e.display_name][0]),1)):(0,r.Q3)("",!0)])):(0,r.Q3)("",!0)])))),128)),(0,r.Lk)("div",iie,[(0,r.Lk)("div",oie,[a[18]||(a[18]=(0,r.Lk)("label",{class:"form-label"},"Assign To",-1)),a[19]||(a[19]=(0,r.Lk)("span",{class:"text-danger"}," *",-1)),(0,r.bF)(u,{modelValue:i.service.asset_types_obj,"onUpdate:modelValue":a[5]||(a[5]=e=>i.service.asset_types_obj=e),filter:"",optionLabel:"asset_type_name",options:i.asset_types,placeholder:"Select Assign To",maxSelectedLabels:3,style:(0,n.Tr)([{width:"100%",height:"37px"},i.errors?.asset_types?i.error_style:""])},null,8,["modelValue","options","style"]),i.errors?.asset_types?((0,r.uX)(),(0,r.CE)("span",die,[(0,r.Lk)("small",nie,(0,n.v_)(i.errors?.asset_types[0]),1)])):(0,r.Q3)("",!0)])])])]),(0,r.Lk)("div",cie,[(0,r.bF)(d,{type:"button",class:"btn btn-danger me-2",to:"/services"},{default:(0,r.k6)((()=>a[20]||(a[20]=[(0,r.Lk)("i",{class:"ri-close-line fs-18 lh-1"},null,-1),(0,r.eW)(" Discard")]))),_:1}),(0,r.Lk)("button",uie,[i.status?((0,r.uX)(),(0,r.CE)("span",_ie,a[21]||(a[21]=[(0,r.Lk)("i",{class:"ri-save-line fs-18 lh-1"},null,-1),(0,r.eW)(" Submit")]))):((0,r.uX)(),(0,r.CE)("span",pie,a[22]||(a[22]=[(0,r.Lk)("i",{class:"ri-save-line fs-18 lh-1"},null,-1),(0,r.eW)(" Update")])))])])])],32)])])])}var bie={components:{Pagination:md,Search:It.A,MultiSelect:Ru.A},data(){return{services:[],service:{service_id:"",service_type_id:"",service_code:"",service_name:"",service_attributes:[],asset_types_obj:[],asset_types:[],frequency_id:"",deleted_service_attribute_values:[],deleted_service_asset_types:[]},deleted_service_asset_types:[],status:!0,errors:[],deleted_service_attribute_values:[],service_types:[],asset_types:[],frequencies:[],show_services:[],asset_type_status:!1,error_style:{"border-color":"#dc3545","padding-right":"calc(1.5em + 0.812rem)","background-image":"url(\"data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 12 12' width='12' height='12' fill='none' stroke='%23dc3545'%3e%3ccircle cx='6' cy='6' r='4.5'/%3e%3cpath stroke-linejoin='round' d='M5.8 3.6h.4L6 6.5z'/%3e%3ccircle cx='6' cy='8.2' r='.6' fill='%23dc3545' stroke='none'/%3e%3c/svg%3e\")","background-repeat":"no-repeat","background-position":"right calc(0.375em + 0.203rem) center","background-size":"calc(0.75em + 0.406rem) calc(0.75em + 0.406rem)"}}},beforeRouteEnter(e,a,t){t((a=>{if(a.getAssetTypes(),"Services.Create"==e.name);else{a.status=!1;let t={uri:"getServiceData",data:{service_id:e.params.service_id}};a.$store.dispatch("post",t).then((function(e){a.service=e.data.data,a.service.service_attributes.map((function(e){a.deleted_service_attribute_values.push(e.service_attribute_value.service_attribute_value_id)})),a.service.deleted_service_attribute_values=[],a.service.deleted_service_asset_types=[],a.service.asset_types_obj=[],a.service.service_asset_types.map((function(e){a.service.asset_types_obj.push({asset_type_code:e.asset_types.asset_type_code,asset_type_id:e.asset_types.asset_type_id,status:e.asset_types.status,asset_type_name:e.asset_types.asset_type_name})}))})).catch((function(e){a.errors=e.response?.data?.errors,a.$store.dispatch("error",e.response.data.message)}))}}))},methods:{updateActivityType(e,a){let t=this;const s=e.target.checked;let r=a?.service_asset_types?.filter((function(a){return a.asset_type_id==e.target.value}));if(r?.length){let e=r[0].service_asset_type_id;if(s){if(t.service.deleted_service_asset_types.includes(e)){let a=t.service.deleted_service_asset_types.filter((function(a){return a!=e}));t.service.deleted_service_asset_types=a}}else t.service.deleted_service_asset_types.includes(e)||t.service.deleted_service_asset_types.push(e)}},toggleAssetTypeStatus(){this.asset_type_status=!this.asset_type_status},submitForm(){let e=this;e.status?e.addService():e.updateService()},validateFields(){let e=!0;this.errors={},this.service.service_code||(this.errors.service_code=["Service Code is required"],e=!1),this.service.service_name||(this.errors.service_name=["Service Name is required"],e=!1),this.service.service_type_id||(this.errors.service_type_id=["Service Type is required"],e=!1),0===this.service.asset_types.length&&(this.errors.asset_types=["At least one Asset Type must be selected"],e=!1);for(const a of Object.values(this.service.service_attributes))a.is_required&&!a.service_attribute_value.field_value&&("Color"===a.field_type?a.service_attribute_value.field_value="#000000":(this.errors[a.display_name]=[`${a.display_name} is required`],e=!1));return e},addService(){let e=this;if(e.service.asset_types_obj.map((function(a){e.service.asset_types.push(a.asset_type_id)})),!e.validateFields())return;let a=e.$loading.show();e.$store.dispatch("post",{uri:"addService",data:e.service}).then((t=>{a.hide(),e.$store.dispatch("success",t.data.message),e.$router.push("/services")})).catch((function(t){a.hide(),e.errors=t.response?.data?.errors,e.$store.dispatch("error",t.response.data.message)}))},getAssetTypes(){let e=this,a=e.$loading.show();e.$store.dispatch("post",{uri:"getAssetTypes"}).then((t=>{a.hide(),e.asset_types=t.data.data,e.getServiceTypes()})).catch((function(t){a.hide(),e.errors=t.response?.data?.errors,e.$store.dispatch("error",t.response.data.message)}))},getFrequencies(){let e=this,a=e.$loading.show();e.$store.dispatch("post",{uri:"getFrequencies"}).then((t=>{a.hide(),e.frequencies=t.data.data})).catch((function(t){a.hide(),e.errors=t.response?.data?.errors,e.$store.dispatch("error",t.response.data.message)}))},updateService(){let e=this;if(e.service.deleted_service_asset_types=e.service?.service_asset_types.filter((a=>!e.service.asset_types_obj.some((e=>a.asset_type_id===e.asset_type_id)))),e.service.asset_types=e.service.asset_types_obj.map((e=>e.asset_type_id)),e.service.deleted_service_asset_types=e.service.deleted_service_asset_types.map((e=>e.service_asset_type_id)),!this.validateFields())return;let a=e.$loading.show();e.$store.dispatch("post",{uri:"updateService",data:e.service}).then((t=>{a.hide(),e.$store.dispatch("success",t.data.message),e.$router.push("/services")})).catch((function(t){a.hide(),e.errors=t.response?.data?.errors,e.$store.dispatch("error",t.response.data.message)}))},getServiceTypes(){let e=this,a=e.$loading.show();e.$store.dispatch("post",{uri:"getServiceTypes"}).then((t=>{a.hide(),e.service_types=t.data.data,e.getFrequencies()})).catch((function(t){a.hide(),e.errors=t.response?.data?.errors,e.$store.dispatch("error",t.response.data.message)}))},getServiceTypeFields(e){let a=this,t=a.$loading.show();a.deleted_service_attribute_values.length&&(a.service.deleted_service_attribute_values=a.deleted_service_attribute_values),a.$store.dispatch("post",{uri:"getServicesDropdown",data:{service_type_id:e}}).then((e=>{t.hide(),a.service.service_attributes=e.data.data})).catch((function(e){t.hide(),a.errors=e.response?.data?.errors,a.$store.dispatch("error",e.response.data.message)}))},discard(){let e=this;e.service.service_type_id="",e.service.service_code="",e.service.service_name="",e.service.asset_types=[],e.service.frequency_id="",e.show_services=[],e.service.service_attributes=[],e.errors=[],e.status=!0},reset(){let e=this;e.service.service_type_id="",e.service.asset_types=[],e.service.frequency_id="",e.show_services=[],e.service.service_attributes=[],e.errors=[]}}};const kie=(0,Ze.A)(bie,[["render",mie],["__scopeId","data-v-1cc3cbe7"]]);var vie=kie;const hie={class:""},yie={class:"d-sm-flex align-items-center justify-content-between mb-2"},gie={class:"breadcrumb fs-sm mb-1"},fie={class:"breadcrumb-item","aria-current":"page"},Lie={class:"row"},Cie={class:"col-12"},wie={class:"card card-one"},Eie={class:"card-body"},xie={class:"table-responsive table-responsive-sm"},Xie={class:"table table-sm text-nowrap table-striped table-bordered mb-0"},Pie={class:"",style:{"background-color":"#9b9b9b",color:"white"}},$ie={key:0,class:"ri-arrow-up-line"},Sie={key:1,class:"ri-arrow-down-line"},Aie={key:2,class:"fas fa-sort"},Die={key:0,class:"ri-arrow-up-line"},Tie={key:1,class:"ri-arrow-down-line"},Qie={key:2,class:"fas fa-sort"},Vie={key:0,class:"ri-arrow-up-line"},Fie={key:1,class:"ri-arrow-down-line"},Uie={key:2,class:"fas fa-sort"},jie={key:0,class:"ri-arrow-up-line"},zie={key:1,class:"ri-arrow-down-line"},Wie={key:2,class:"fas fa-sort"},Rie={class:"text-center"},qie={class:"text-center"},Iie={key:0},Nie={class:"text-center"},Mie={class:"text-center"},Kie={class:"form-switch"},Jie=["id","checked","value","onChange"],Bie=["for"],Oie={class:"text-center"},Hie=["onClick"],Yie={class:"card-footer"},Zie={class:"d-flex justify-content-between align-items-center"};function Gie(e,a,t,l,i,o){const d=(0,r.g2)("router-link"),c=(0,r.g2)("Pagination"),u=(0,r.gN)("can");return(0,r.uX)(),(0,r.CE)("div",hie,[(0,r.Lk)("div",yie,[(0,r.Lk)("div",null,[(0,r.Lk)("ol",gie,[(0,r.Lk)("li",fie,[(0,r.bF)(d,{to:"/dashboard"},{default:(0,r.k6)((()=>a[7]||(a[7]=[(0,r.eW)("Dashboard")]))),_:1})]),a[8]||(a[8]=(0,r.Lk)("li",{class:"breadcrumb-item"},[(0,r.Lk)("a",{href:"javascript:void(0)"},"Masters")],-1)),a[9]||(a[9]=(0,r.Lk)("li",{class:"breadcrumb-item active","aria-current":"page"},"Services",-1))]),a[10]||(a[10]=(0,r.Lk)("h4",{class:"main-title mb-0"},"Services",-1))]),(0,r.bo)(((0,r.uX)(),(0,r.Wv)(d,{to:"/services/create",class:"btn btn-primary",style:{float:"right"}},{default:(0,r.k6)((()=>a[11]||(a[11]=[(0,r.Lk)("i",{class:"ri-list-check"},null,-1),(0,r.eW)(" ADD SERVICE")]))),_:1})),[[u,"services.create"]])]),(0,r.Lk)("div",Lie,[(0,r.Lk)("div",Cie,[(0,r.Lk)("div",wie,[a[22]||(a[22]=(0,r.Lk)("div",{class:"card-header d-flex justify-content-between"},[(0,r.Lk)("h6",{class:"card-title"},"Services")],-1)),(0,r.Lk)("div",Eie,[(0,r.bo)((0,r.Lk)("input",{class:"form-control mb-2",type:"text",placeholder:"Type keyword and press enter key","onUpdate:modelValue":a[0]||(a[0]=e=>i.meta.search=e),onKeypress:a[1]||(a[1]=(0,s.jR)((e=>o.search()),["enter"]))},null,544),[[s.Jo,i.meta.search]]),(0,r.Lk)("div",xie,[(0,r.Lk)("table",Xie,[(0,r.Lk)("thead",null,[(0,r.Lk)("tr",Pie,[a[18]||(a[18]=(0,r.Lk)("th",{class:"text-center"},"#",-1)),(0,r.Lk)("th",{onClick:a[2]||(a[2]=e=>o.sort("service_type_name"))},[a[12]||(a[12]=(0,r.eW)("Service Type ")),(0,r.Lk)("span",null,["service_type_name"==i.meta.keyword&&"asc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",$ie)):"service_type_name"==i.meta.keyword&&"desc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",Sie)):((0,r.uX)(),(0,r.CE)("i",Aie))])]),(0,r.Lk)("th",{onClick:a[3]||(a[3]=e=>o.sort("service_code"))},[a[13]||(a[13]=(0,r.eW)("Service Code ")),(0,r.Lk)("span",null,["service_code"==i.meta.keyword&&"asc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",Die)):"service_code"==i.meta.keyword&&"desc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",Tie)):((0,r.uX)(),(0,r.CE)("i",Qie))])]),(0,r.Lk)("th",{onClick:a[4]||(a[4]=e=>o.sort("service_name"))},[a[14]||(a[14]=(0,r.eW)("Service Name ")),(0,r.Lk)("span",null,["service_name"==i.meta.keyword&&"asc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",Vie)):"service_name"==i.meta.keyword&&"desc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",Fie)):((0,r.uX)(),(0,r.CE)("i",Uie))])]),(0,r.Lk)("th",null,[a[15]||(a[15]=(0,r.eW)(" Asset Type ")),(0,r.Lk)("span",null,["asset_type_id"==i.meta.keyword&&"asc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",jie)):"asset_type_id"==i.meta.keyword&&"desc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",zie)):((0,r.uX)(),(0,r.CE)("i",Wie))])]),(0,r.bo)(((0,r.uX)(),(0,r.CE)("th",Rie,a[16]||(a[16]=[(0,r.eW)("Status")]))),[[u,"services.delete"]]),(0,r.bo)(((0,r.uX)(),(0,r.CE)("th",qie,a[17]||(a[17]=[(0,r.eW)("Actions")]))),[[u,"services.update"]])])]),(0,r.Lk)("tbody",null,[0==i.services.length?((0,r.uX)(),(0,r.CE)("tr",Iie,a[19]||(a[19]=[(0,r.Lk)("td",{colspan:"7",class:"text-center"},"No records found",-1)]))):(0,r.Q3)("",!0),((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(i.services,((e,t)=>((0,r.uX)(),(0,r.CE)("tr",{key:t},[(0,r.Lk)("td",Nie,(0,n.v_)(i.meta.from+t),1),(0,r.Lk)("td",null,(0,n.v_)(e.service_type?.service_type_name),1),(0,r.Lk)("td",null,(0,n.v_)(e.service_code),1),(0,r.Lk)("td",null,(0,n.v_)(e.service_name),1),(0,r.Lk)("td",null,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(e.service_asset_types,((e,a)=>((0,r.uX)(),(0,r.CE)("span",{key:a},(0,n.v_)(e?.asset_types?.asset_type_name)+", ",1)))),128))]),(0,r.bo)(((0,r.uX)(),(0,r.CE)("td",Mie,[(0,r.Lk)("div",Kie,[(0,r.Lk)("input",{class:"form-check-input",type:"checkbox",role:"switch",id:"service"+e.service_id,checked:e.status,value:e.status,onChange:a=>o.deleteService(e)},null,40,Jie),(0,r.Lk)("label",{class:"custom-control-label",for:"service"+e.service_id},null,8,Bie)])])),[[u,"services.delete"]]),(0,r.bo)(((0,r.uX)(),(0,r.CE)("td",Oie,[e.status?((0,r.uX)(),(0,r.CE)("a",{key:0,href:"javascript:void(0)",class:"text-success me-2",onClick:a=>o.editService(e)},a[20]||(a[20]=[(0,r.Lk)("i",{class:"ri-pencil-line fs-18 lh-1"},null,-1)]),8,Hie)):(0,r.Q3)("",!0)])),[[u,"services.update"]])])))),128))])])])]),(0,r.Lk)("div",Yie,[(0,r.Lk)("div",Zie,[(0,r.bo)((0,r.Lk)("select",{class:"form-select from-select-sm width-75","onUpdate:modelValue":a[5]||(a[5]=e=>i.meta.per_page=e),onChange:a[6]||(a[6]=(...e)=>o.onPerPageChange&&o.onPerPageChange(...e))},a[21]||(a[21]=[(0,r.Lk)("option",null,"10",-1),(0,r.Lk)("option",null,"15",-1),(0,r.Lk)("option",null,"20",-1),(0,r.Lk)("option",null,"25",-1),(0,r.Lk)("option",null,"30",-1)]),544),[[s.u1,i.meta.per_page]]),(0,r.Lk)("span",null,"Showing "+(0,n.v_)(i.meta.from)+" to "+(0,n.v_)(i.meta.to)+" of "+(0,n.v_)(i.meta.totalRows)+" entries",1),(0,r.bF)(c,{maxPage:i.meta.maxPage,totalPages:i.meta.lastPage,currentPage:parseInt(i.meta.page),onPagechanged:o.onPageChange},null,8,["maxPage","totalPages","currentPage","onPagechanged"])])])])])])])}var eoe={components:{Pagination:md},data(){return{meta:{search:"",order_by:"desc",keyword:"service_id",per_page:10,totalRows:0,page:1,lastPage:1,from:1,to:1,maxPage:1},service:{service_id:""},services:[],errors:[],update:!1}},beforeRouteEnter(e,a,t){t((e=>{"Services.Edit"!=a.name?e.$store.commit("setCurrentPage",e.meta.page):e.meta.page=e.$store.getters.current_page}))},mounted(){this.index()},methods:{index(){let e=this,a=e.$loading.show();e.$store.dispatch("post",{uri:"paginateServices",data:e.meta}).then((t=>{a.hide(),e.services=t.data.data,e.meta.totalRows=t.data.meta.total,e.meta.from=t.data.meta.from,e.meta.to=t.data.meta.to,e.meta.lastPage=t.data.meta.last_page,e.meta.maxPage=e.meta.lastPage>=3?3:e.meta.lastPage})).catch((function(t){a.hide(),e.errors=t.response.data.errors,e.$store.dispatch("error",t.response.data.message)}))},editService(e){this.$store.commit("setCurrentPage",parseInt(this.meta.page)),this.$router.push("/services/"+e.service_id+"/edit")},deleteService(e){let a=this,t=a.$loading.show();const s=e.status;e.status=!e.status,a.$store.dispatch("post",{uri:"deleteService",data:e}).then((e=>{t.hide(),a.$store.dispatch("success",e.data.message),a.index()})).catch((function(r){t.hide(),e.status=s,a.errors=r.response.data.errors,a.$store.dispatch("error",r.response.data.message)}))},onPageChange(e){this.meta.page=e,this.index()},sort(e){this.meta.keyword=e,this.meta.order_by="asc"==this.meta.order_by?"desc":"asc",this.index()},search(){let e=this;e.meta.page=1,e.index()},onPerPageChange(){let e=this;e.meta.page=1,e.index()}}};const aoe=(0,Ze.A)(eoe,[["render",Gie]]);var toe=aoe;const soe={class:""},roe={class:"d-sm-flex align-items-center justify-content-between mb-2"},loe={class:"breadcrumb fs-sm mb-1"},ioe={class:"breadcrumb-item"},ooe={class:"breadcrumb-item active","aria-current":"page"},doe={key:0,class:"breadcrumb-item","aria-current":"page"},noe={key:1,class:"breadcrumb-item active","aria-current":"page"},coe={class:"row g-2"},uoe={class:"col-12"},_oe={class:"card card-one"},poe={class:"card-header d-flex justify-content-between"},moe={key:0,class:"card-title"},boe={key:1,class:"card-title"},koe={class:"card-body"},voe={class:"row g-2"},hoe={class:"col-md-4"},yoe={class:"d-flex justify-content-between"},goe={key:0},foe={class:"text-danger"},Loe={class:"col-md-4"},Coe=["disabled"],woe={key:0,class:"invalid-feedback"},Eoe={class:"col-md-4"},xoe={key:0,class:"invalid-feedback"},Xoe={key:0},Poe={class:"form-label"},$oe={key:0,class:"text-danger"},Soe=["placeholder","onUpdate:modelValue"],Aoe={key:1,class:"invalid-feedback"},Doe={key:1},Toe={class:"form-label"},Qoe={key:0,class:"text-danger"},Voe=["placeholder","onUpdate:modelValue"],Foe={key:1,class:"invalid-feedback"},Uoe={key:2},joe={class:"form-label"},zoe={key:0,class:"text-danger"},Woe=["placeholder","onUpdate:modelValue"],Roe={key:0,class:"invalid-feedback"},qoe={key:3},Ioe={class:"form-label"},Noe={key:0,class:"text-danger"},Moe=["placeholder","onUpdate:modelValue"],Koe={key:0,class:"invalid-feedback"},Joe={key:4},Boe={class:"form-label"},Ooe={key:0,class:"text-danger"},Hoe=["onUpdate:modelValue"],Yoe=["value"],Zoe=["value"],Goe=["value"],ede={key:1,class:"invalid-feedback"},ade={key:5},tde={class:"form-label"},sde={key:0,class:"text-danger"},rde=["onUpdate:modelValue"],lde={key:0,class:"invalid-feedback"},ide={key:6},ode={class:"form-label"},dde={key:0,class:"text-danger"},nde=["onUpdate:modelValue"],cde=["value"],ude=["value"],_de=["value"],pde={key:1,class:"invalid-feedback"},mde={class:"col-md-4"},bde={class:"form-group"},kde={key:0},vde={class:"text-danger"},hde={class:"card-footer text-end"},yde={type:"submit",class:"btn btn-primary"},gde={key:0},fde={key:1};function Lde(e,a,t,l,i,o){const d=(0,r.g2)("router-link"),c=(0,r.g2)("search"),u=(0,r.g2)("MultiSelect");return(0,r.uX)(),(0,r.CE)("div",soe,[(0,r.Lk)("div",roe,[(0,r.Lk)("div",null,[(0,r.Lk)("ol",loe,[(0,r.Lk)("li",ioe,[(0,r.bF)(d,{to:"/dashboard"},{default:(0,r.k6)((()=>a[7]||(a[7]=[(0,r.eW)("Dashboard")]))),_:1})]),a[9]||(a[9]=(0,r.Lk)("li",{class:"breadcrumb-item"},[(0,r.Lk)("a",{href:"javascript:void(0)"},"Masters")],-1)),(0,r.Lk)("li",ooe,[(0,r.bF)(d,{to:"/spares"},{default:(0,r.k6)((()=>a[8]||(a[8]=[(0,r.eW)("Spares")]))),_:1})]),i.status?((0,r.uX)(),(0,r.CE)("li",doe,"New Spare")):((0,r.uX)(),(0,r.CE)("li",noe,"Update Spare"))]),a[10]||(a[10]=(0,r.Lk)("h4",{class:"main-title mb-0"},"Spares",-1))]),(0,r.bF)(d,{to:"/spares",type:"submit",class:"btn btn-primary",style:{float:"right"}},{default:(0,r.k6)((()=>a[11]||(a[11]=[(0,r.Lk)("i",{class:"ri-list-check"},null,-1),(0,r.eW)(" SPARES")]))),_:1})]),(0,r.Lk)("div",coe,[(0,r.Lk)("div",uoe,[(0,r.Lk)("form",{onSubmit:a[6]||(a[6]=(0,s.D$)((e=>o.submitForm()),["prevent"]))},[(0,r.Lk)("div",_oe,[(0,r.Lk)("div",poe,[i.status?((0,r.uX)(),(0,r.CE)("h6",moe,"Add Spare")):((0,r.uX)(),(0,r.CE)("h6",boe,"Update Spare"))]),(0,r.Lk)("div",koe,[(0,r.Lk)("div",voe,[(0,r.Lk)("div",hoe,[(0,r.Lk)("div",yoe,[a[13]||(a[13]=(0,r.Lk)("div",null,[(0,r.Lk)("label",{class:"form-label"},"Spare Types"),(0,r.Lk)("span",{class:"text-danger"}," *")],-1)),(0,r.Lk)("a",{type:"button",class:"text-danger me-2",onClick:a[0]||(a[0]=e=>o.reset())},a[12]||(a[12]=[(0,r.Lk)("i",{class:"ri-close-line fs-20 lh-1"},null,-1)]))]),(0,r.bF)(c,{class:(0,n.C4)({"is-invalid":i.errors?.spare_type_id}),customClass:{"is-invalid":i.errors?.spare_type_id},initialize:i.spare.spare_type_id,id:"spare_type_id",label:"spare_type_name",placeholder:"Select Spare Type",data:i.spare_types,onInput:a[1]||(a[1]=e=>i.spare.spare_type_id=e),onSelectsearch:a[2]||(a[2]=e=>o.getSpareTypeFields(i.spare))},null,8,["class","customClass","initialize","data"]),i.errors?.spare_type_id?((0,r.uX)(),(0,r.CE)("span",goe,[(0,r.Lk)("small",foe,(0,n.v_)(i.errors?.spare_type_id[0]),1)])):(0,r.Q3)("",!0)]),(0,r.Lk)("div",Loe,[a[14]||(a[14]=(0,r.Lk)("label",{class:"form-label"},"Spare Code",-1)),a[15]||(a[15]=(0,r.Lk)("span",{class:"text-danger"}," *",-1)),(0,r.bo)((0,r.Lk)("input",{type:"text",placeholder:"Spare Code",class:(0,n.C4)(["form-control",{"is-invalid":i.errors?.spare_code}]),"onUpdate:modelValue":a[3]||(a[3]=e=>i.spare.spare_code=e),disabled:!i.status},null,10,Coe),[[s.Jo,i.spare.spare_code]]),i.errors?.spare_code?((0,r.uX)(),(0,r.CE)("span",woe,(0,n.v_)(i.errors?.spare_code[0]),1)):(0,r.Q3)("",!0)]),(0,r.Lk)("div",Eoe,[a[16]||(a[16]=(0,r.Lk)("label",{class:"form-label"},"Spare Name",-1)),a[17]||(a[17]=(0,r.Lk)("span",{class:"text-danger"}," *",-1)),(0,r.bo)((0,r.Lk)("input",{type:"text",placeholder:"Spare Name",class:(0,n.C4)(["form-control",{"is-invalid":i.errors?.spare_name}]),"onUpdate:modelValue":a[4]||(a[4]=e=>i.spare.spare_name=e)},null,2),[[s.Jo,i.spare.spare_name]]),i.errors?.spare_name?((0,r.uX)(),(0,r.CE)("span",xoe,(0,n.v_)(i.errors?.spare_name[0]),1)):(0,r.Q3)("",!0)]),((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(i.spare.spare_attributes,((e,a)=>((0,r.uX)(),(0,r.CE)("div",{class:"col-md-4",key:a},["Text"==e.field_type?((0,r.uX)(),(0,r.CE)("div",Xoe,[(0,r.Lk)("label",Poe,(0,n.v_)(e.display_name),1),e.is_required?((0,r.uX)(),(0,r.CE)("span",$oe,"*")):(0,r.Q3)("",!0),(0,r.bo)((0,r.Lk)("input",{type:"text",class:(0,n.C4)(["form-control",{"is-invalid":i.errors&&i.errors[e.display_name]}]),placeholder:"Enter "+e.display_name,"onUpdate:modelValue":a=>e.spare_attribute_value.field_value=a},null,10,Soe),[[s.Jo,e.spare_attribute_value.field_value]]),i.errors&&i.errors[e.display_name]?((0,r.uX)(),(0,r.CE)("span",Aoe,(0,n.v_)(i.errors&&i.errors[e.display_name][0]),1)):(0,r.Q3)("",!0)])):(0,r.Q3)("",!0),"Number"==e.field_type?((0,r.uX)(),(0,r.CE)("div",Doe,[(0,r.Lk)("label",Toe,(0,n.v_)(e.display_name),1),e.is_required?((0,r.uX)(),(0,r.CE)("span",Qoe,"*")):(0,r.Q3)("",!0),(0,r.bo)((0,r.Lk)("input",{type:"number",class:(0,n.C4)(["form-control",{"is-invalid":i.errors&&i.errors[e.display_name]}]),min:"0",step:"any",oninput:"validity.valid||(value='');",placeholder:"Enter "+e.display_name,"onUpdate:modelValue":a=>e.spare_attribute_value.field_value=a},null,10,Voe),[[s.Jo,e.spare_attribute_value.field_value]]),i.errors&&i.errors[e.display_name]?((0,r.uX)(),(0,r.CE)("span",Foe,(0,n.v_)(i.errors&&i.errors[e.display_name][0]),1)):(0,r.Q3)("",!0)])):(0,r.Q3)("",!0),"Date"===e.field_type?((0,r.uX)(),(0,r.CE)("div",Uoe,[(0,r.Lk)("label",joe,[(0,r.eW)((0,n.v_)(e.display_name)+" ",1),e.is_required?((0,r.uX)(),(0,r.CE)("span",zoe,"*")):(0,r.Q3)("",!0)]),(0,r.bo)((0,r.Lk)("input",{type:"date",class:(0,n.C4)(["form-control",{"is-invalid":i.errors&&i.errors[e.display_name]}]),placeholder:"Enter "+e.display_name,"onUpdate:modelValue":a=>e.spare_attribute_value.field_value=a},null,10,Woe),[[s.Jo,e.spare_attribute_value.field_value]]),i.errors&&i.errors[e.display_name]?((0,r.uX)(),(0,r.CE)("span",Roe,(0,n.v_)(i.errors&&i.errors[e.display_name][0]),1)):(0,r.Q3)("",!0)])):(0,r.Q3)("",!0),"Date&Time"===e.field_type?((0,r.uX)(),(0,r.CE)("div",qoe,[(0,r.Lk)("label",Ioe,[(0,r.eW)((0,n.v_)(e.display_name)+" ",1),e.is_required?((0,r.uX)(),(0,r.CE)("span",Noe,"*")):(0,r.Q3)("",!0)]),(0,r.bo)((0,r.Lk)("input",{type:"datetime-local",class:(0,n.C4)(["form-control",{"is-invalid":i.errors&&i.errors[e.display_name]}]),placeholder:"Enter "+e.display_name,"onUpdate:modelValue":a=>e.spare_attribute_value.field_value=a,step:"1"},null,10,Moe),[[s.Jo,e.spare_attribute_value.field_value]]),i.errors&&i.errors[e.display_name]?((0,r.uX)(),(0,r.CE)("span",Koe,(0,n.v_)(i.errors&&i.errors[e.display_name][0]),1)):(0,r.Q3)("",!0)])):(0,r.Q3)("",!0),"Dropdown"==e.field_type?((0,r.uX)(),(0,r.CE)("div",Joe,[(0,r.Lk)("label",Boe,(0,n.v_)(e.display_name),1),e.is_required?((0,r.uX)(),(0,r.CE)("span",Ooe,"*")):(0,r.Q3)("",!0),(0,r.bo)((0,r.Lk)("select",{class:(0,n.C4)(["form-control",{"is-invalid":i.errors&&i.errors[e.display_name]}]),"onUpdate:modelValue":a=>e.spare_attribute_value.field_value=a},[e.spare_attribute_value.field_value?((0,r.uX)(),(0,r.CE)("option",{key:0,value:e.spare_attribute_value.field_value},(0,n.v_)(e.spare_attribute_value.field_value),9,Yoe)):((0,r.uX)(),(0,r.CE)("option",{key:1,value:e.spare_attribute_value.field_value},"Select "+(0,n.v_)(e.display_name),9,Zoe)),((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(e.field_values.split(","),((e,a)=>((0,r.uX)(),(0,r.CE)("option",{key:a,value:e},(0,n.v_)(e),9,Goe)))),128))],10,Hoe),[[s.u1,e.spare_attribute_value.field_value]]),i.errors&&i.errors[e.display_name]?((0,r.uX)(),(0,r.CE)("span",ede,(0,n.v_)(i.errors&&i.errors[e.display_name][0]),1)):(0,r.Q3)("",!0)])):(0,r.Q3)("",!0),"Color"==e.field_type?((0,r.uX)(),(0,r.CE)("div",ade,[(0,r.Lk)("label",tde,[(0,r.eW)((0,n.v_)(e.display_name),1),e.is_required?((0,r.uX)(),(0,r.CE)("span",sde,"*")):(0,r.Q3)("",!0)]),(0,r.bo)((0,r.Lk)("input",{type:"color",class:"form-control","onUpdate:modelValue":a=>e.spare_attribute_value.field_value=a,style:{height:"2.2rem"}},null,8,rde),[[s.Jo,e.spare_attribute_value.field_value]]),i.errors&&i.errors[e.display_name]?((0,r.uX)(),(0,r.CE)("span",lde,(0,n.v_)(i.errors&&i.errors[e.display_name][0]),1)):(0,r.Q3)("",!0)])):(0,r.Q3)("",!0),"List"==e.field_type?((0,r.uX)(),(0,r.CE)("div",ide,[(0,r.Lk)("label",ode,(0,n.v_)(e.display_name),1),e.is_required?((0,r.uX)(),(0,r.CE)("span",dde,"*")):(0,r.Q3)("",!0),(0,r.bo)((0,r.Lk)("select",{class:(0,n.C4)(["form-control",{"is-invalid":i.errors&&i.errors[e.display_name]}]),"onUpdate:modelValue":a=>e.spare_attribute_value.field_value=a},[e.spare_attribute_value.field_value?((0,r.uX)(),(0,r.CE)("option",{key:0,value:e.spare_attribute_value.field_value},(0,n.v_)(e.spare_attribute_value.field_value),9,cde)):((0,r.uX)(),(0,r.CE)("option",{key:1,value:e.spare_attribute_value.field_value},"Select "+(0,n.v_)(e.display_name),9,ude)),((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(e.list_parameter?.field_values.split(","),((e,a)=>((0,r.uX)(),(0,r.CE)("option",{key:a,value:e},(0,n.v_)(e),9,_de)))),128))],10,nde),[[s.u1,e.spare_attribute_value.field_value]]),i.errors&&i.errors[e.display_name]?((0,r.uX)(),(0,r.CE)("span",pde,(0,n.v_)(i.errors&&i.errors[e.display_name][0]),1)):(0,r.Q3)("",!0)])):(0,r.Q3)("",!0)])))),128)),(0,r.Lk)("div",mde,[(0,r.Lk)("div",bde,[a[18]||(a[18]=(0,r.Lk)("label",{class:"form-label"},"Assign To",-1)),a[19]||(a[19]=(0,r.Lk)("span",{class:"text-danger"}," *",-1)),(0,r.bF)(u,{modelValue:i.spare.asset_types_obj,"onUpdate:modelValue":a[5]||(a[5]=e=>i.spare.asset_types_obj=e),filter:"",optionLabel:"asset_type_name",options:i.asset_types,placeholder:"Select Assign To",maxSelectedLabels:3,style:(0,n.Tr)([{width:"100%",height:"37px"},i.errors?.asset_types?i.error_style:""])},null,8,["modelValue","options","style"]),i.errors?.asset_types?((0,r.uX)(),(0,r.CE)("span",kde,[(0,r.Lk)("small",vde,(0,n.v_)(i.errors?.asset_types[0]),1)])):(0,r.Q3)("",!0)])])])]),(0,r.Lk)("div",hde,[(0,r.bF)(d,{type:"button",class:"btn btn-danger me-2",to:"/spares"},{default:(0,r.k6)((()=>a[20]||(a[20]=[(0,r.Lk)("i",{class:"ri-close-line fs-18 lh-1"},null,-1),(0,r.eW)(" Discard")]))),_:1}),(0,r.Lk)("button",yde,[i.status?((0,r.uX)(),(0,r.CE)("span",gde,a[21]||(a[21]=[(0,r.Lk)("i",{class:"ri-save-line fs-18 lh-1"},null,-1),(0,r.eW)(" Submit")]))):((0,r.uX)(),(0,r.CE)("span",fde,a[22]||(a[22]=[(0,r.Lk)("i",{class:"ri-save-line fs-18 lh-1"},null,-1),(0,r.eW)(" Update")])))])])])],32)])])])}var Cde={components:{Pagination:md,Search:It.A,MultiSelect:Ru.A},data(){return{spares:[],spare:{spare_id:"",spare_type_id:"",spare_code:"",spare_name:"",spare_attributes:[],asset_types_obj:[],asset_types:[],frequency_id:"",deleted_spare_attribute_values:[],deleted_spare_asset_types:[]},deleted_spare_asset_types:[],deleted_spare_attribute_values:[],status:!0,errors:[],spare_types:[],asset_types:[],frequencies:[],show_spares:[],asset_type_status:!1,error_style:{"border-color":"#dc3545","padding-right":"calc(1.5em + 0.812rem)","background-image":"url(\"data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 12 12' width='12' height='12' fill='none' stroke='%23dc3545'%3e%3ccircle cx='6' cy='6' r='4.5'/%3e%3cpath stroke-linejoin='round' d='M5.8 3.6h.4L6 6.5z'/%3e%3ccircle cx='6' cy='8.2' r='.6' fill='%23dc3545' stroke='none'/%3e%3c/svg%3e\")","background-repeat":"no-repeat","background-position":"right calc(0.375em + 0.203rem) center","background-size":"calc(0.75em + 0.406rem) calc(0.75em + 0.406rem)"}}},beforeRouteEnter(e,a,t){t((a=>{if(a.getAssetTypes(),"Spares.Create"==e.name);else{a.status=!1;let t={uri:"getSpareData",data:{spare_id:e.params.spare_id}};a.$store.dispatch("post",t).then((function(e){a.spare=e.data.data,a.spare.spare_attributes.map((function(e){a.deleted_spare_attribute_values.push(e.spare_attribute_value.spare_attribute_value_id)})),a.spare.deleted_spare_attribute_values=[],a.spare.deleted_spare_asset_types=[],a.spare.asset_types_obj=[],a.spare.spare_asset_types.map((function(e){a.spare.asset_types_obj.push({asset_type_code:e.asset_types.asset_type_code,asset_type_id:e.asset_types.asset_type_id,status:e.asset_types.status,asset_type_name:e.asset_types.asset_type_name})}))})).catch((function(e){console.log("error",e),a.errors=e.response?.data?.errors,a.$store.dispatch("error",e.response?.data?.message)}))}}))},methods:{updateActivityType(e,a){let t=this;const s=e.target.checked;let r=a?.spare_asset_types?.filter((function(a){return a.asset_type_id==e.target.value}));if(r?.length){let e=r[0].spare_asset_type_id;if(s){if(t.spare.deleted_spare_asset_types.includes(e)){let a=t.spare.deleted_spare_asset_types.filter((function(a){return a!=e}));t.spare.deleted_spare_asset_types=a}}else t.spare.deleted_spare_asset_types.includes(e)||t.spare.deleted_spare_asset_types.push(e)}},toggleAssetTypeStatus(){this.asset_type_status=!this.asset_type_status},submitForm(){let e=this;e.status?e.addSpare():e.updateSpare()},validateFields(){let e=!0;this.errors={},this.spare.spare_code||(this.errors.spare_code=["Spare Code is required"],e=!1),this.spare.spare_name||(this.errors.spare_name=["Spare Name is required"],e=!1),this.spare.spare_type_id||(this.errors.spare_type_id=["Spare Type is required"],e=!1),0===this.spare.asset_types.length&&(this.errors.asset_types=["At least one Asset Type must be selected"],e=!1);for(const a of Object.values(this.spare.spare_attributes))a.is_required&&!a.spare_attribute_value.field_value&&("Color"===a.field_type?a.spare_attribute_value.field_value="#000000":(this.errors[a.display_name]=[`${a.display_name} is required`],e=!1));return console.log("Error",this.errors),e},addSpare(){let e=this;if(e.spare.asset_types_obj.map((function(a){e.spare.asset_types.push(a.asset_type_id)})),!e.validateFields())return;let a=e.$loading.show();e.$store.dispatch("post",{uri:"addSpare",data:e.spare}).then((t=>{a.hide(),e.$store.dispatch("success",t.data.message),e.$router.push("/spares")})).catch((function(t){a.hide(),e.errors=t.response?.data?.errors,e.$store.dispatch("error",t.response.data.message)}))},getAssetTypes(){let e=this,a=e.$loading.show();e.$store.dispatch("post",{uri:"getAssetTypes"}).then((t=>{a.hide(),e.asset_types=t.data.data,e.getSpareTypes()})).catch((function(t){a.hide(),e.errors=t.response?.data?.errors,e.$store.dispatch("error",t.response.data.message)}))},getFrequencies(){let e=this,a=e.$loading.show();e.$store.dispatch("post",{uri:"getFrequencies"}).then((t=>{a.hide(),e.frequencies=t.data.data})).catch((function(t){a.hide(),e.errors=t.response?.data?.errors,e.$store.dispatch("error",t.response.data.message)}))},updateSpare(){let e=this;if(e.spare.deleted_spare_asset_types=e.spare?.spare_asset_types.filter((a=>!e.spare.asset_types_obj.some((e=>a.asset_type_id===e.asset_type_id)))),e.spare.asset_types=e.spare.asset_types_obj.map((e=>e.asset_type_id)),e.spare.deleted_spare_asset_types=e.spare.deleted_spare_asset_types.map((e=>e.spare_asset_type_id)),!this.validateFields())return;let a=e.$loading.show();e.$store.dispatch("post",{uri:"updateSpare",data:e.spare}).then((t=>{a.hide(),e.$store.dispatch("success",t.data.message),e.$router.push("/spares")})).catch((function(t){a.hide(),e.errors=t.response?.data?.errors,e.$store.dispatch("error",t.response.data.message)}))},getSpareTypes(){let e=this,a=e.$loading.show();e.$store.dispatch("post",{uri:"getSpareTypes"}).then((t=>{a.hide(),e.spare_types=t.data.data,e.getFrequencies()})).catch((function(t){a.hide(),e.errors=t.response?.data?.errors,e.$store.dispatch("error",t.response.data.message)}))},getSpareTypeFields(e){let a=this,t=a.$loading.show();a.deleted_spare_attribute_values.length&&(a.spare.deleted_spare_attribute_values=a.deleted_spare_attribute_values),a.$store.dispatch("post",{uri:"getSparesDropdown",data:e}).then((e=>{t.hide(),a.spare.spare_attributes=e.data.data})).catch((function(e){t.hide(),a.errors=e.response?.data?.errors,a.$store.dispatch("error",e.response.data.message)}))},discard(){let e=this;e.spare.spare_type_id="",e.spare.spare_code="",e.spare.spare_name="",e.spare.asset_types=[],e.spare.frequency_id="",e.show_spares=[],e.spare.spare_attributes=[],e.errors=[],e.status=!0},reset(){let e=this;e.spare.spare_type_id="",e.spare.asset_types=[],e.spare.frequency_id="",e.show_spares=[],e.spare.spare_attributes=[],e.errors=[]}}};const wde=(0,Ze.A)(Cde,[["render",Lde],["__scopeId","data-v-60c086c6"]]);var Ede=wde;const xde={class:""},Xde={class:"d-sm-flex align-items-center justify-content-between mb-2"},Pde={class:"breadcrumb fs-sm mb-1"},$de={class:"breadcrumb-item","aria-current":"page"},Sde={class:"row"},Ade={class:"col-12"},Dde={class:"card card-one"},Tde={class:"card-body"},Qde={class:"table-responsive table-responsive-sm"},Vde={class:"table table-sm text-nowrap table-striped table-bordered mb-0"},Fde={class:"",style:{"background-color":"#9b9b9b",color:"white"}},Ude={key:0,class:"ri-arrow-up-line"},jde={key:1,class:"ri-arrow-down-line"},zde={key:2,class:"fas fa-sort"},Wde={key:0,class:"ri-arrow-up-line"},Rde={key:1,class:"ri-arrow-down-line"},qde={key:2,class:"fas fa-sort"},Ide={key:0,class:"ri-arrow-up-line"},Nde={key:1,class:"ri-arrow-down-line"},Mde={key:2,class:"fas fa-sort"},Kde={key:0,class:"ri-arrow-up-line"},Jde={key:1,class:"ri-arrow-down-line"},Bde={key:2,class:"fas fa-sort"},Ode={class:"text-center"},Hde={class:"text-center"},Yde={key:0},Zde={class:"text-center"},Gde={class:"text-center"},ene={class:"form-switch"},ane=["id","checked","value","onChange"],tne=["for"],sne={class:"text-center"},rne=["onClick"],lne={class:"card-footer"},ine={class:"d-flex justify-content-between align-items-center"};function one(e,a,t,l,i,o){const d=(0,r.g2)("router-link"),c=(0,r.g2)("Pagination"),u=(0,r.gN)("can");return(0,r.uX)(),(0,r.CE)("div",xde,[(0,r.Lk)("div",Xde,[(0,r.Lk)("div",null,[(0,r.Lk)("ol",Pde,[(0,r.Lk)("li",$de,[(0,r.bF)(d,{to:"/dashboard"},{default:(0,r.k6)((()=>a[7]||(a[7]=[(0,r.eW)("Dashboard")]))),_:1})]),a[8]||(a[8]=(0,r.Lk)("li",{class:"breadcrumb-item"},[(0,r.Lk)("a",{href:"javascript:void(0)"},"Masters")],-1)),a[9]||(a[9]=(0,r.Lk)("li",{class:"breadcrumb-item active","aria-current":"page"},"Spares",-1))]),a[10]||(a[10]=(0,r.Lk)("h4",{class:"main-title mb-0"},"Spares",-1))]),(0,r.bo)(((0,r.uX)(),(0,r.Wv)(d,{to:"/spares/create",class:"btn btn-primary",style:{float:"right"}},{default:(0,r.k6)((()=>a[11]||(a[11]=[(0,r.Lk)("i",{class:"ri-list-check"},null,-1),(0,r.eW)(" ADD SPARE")]))),_:1})),[[u,"spares.create"]])]),(0,r.Lk)("div",Sde,[(0,r.Lk)("div",Ade,[(0,r.Lk)("div",Dde,[a[22]||(a[22]=(0,r.Lk)("div",{class:"card-header d-flex justify-content-between"},[(0,r.Lk)("h6",{class:"card-title"},"Spares")],-1)),(0,r.Lk)("div",Tde,[(0,r.bo)((0,r.Lk)("input",{class:"form-control mb-2",type:"text",placeholder:"Type keyword and press enter key","onUpdate:modelValue":a[0]||(a[0]=e=>i.meta.search=e),onKeypress:a[1]||(a[1]=(0,s.jR)((e=>o.search()),["enter"]))},null,544),[[s.Jo,i.meta.search]]),(0,r.Lk)("div",Qde,[(0,r.Lk)("table",Vde,[(0,r.Lk)("thead",null,[(0,r.Lk)("tr",Fde,[a[18]||(a[18]=(0,r.Lk)("th",{class:"text-center"},"#",-1)),(0,r.Lk)("th",{onClick:a[2]||(a[2]=e=>o.sort("spare_type_name"))},[a[12]||(a[12]=(0,r.eW)(" Spare Type ")),(0,r.Lk)("span",null,["spare_type_name"==i.meta.keyword&&"asc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",Ude)):"spare_type_name"==i.meta.keyword&&"desc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",jde)):((0,r.uX)(),(0,r.CE)("i",zde))])]),(0,r.Lk)("th",{onClick:a[3]||(a[3]=e=>o.sort("spare_code"))},[a[13]||(a[13]=(0,r.eW)(" Spare Code ")),(0,r.Lk)("span",null,["spare_code"==i.meta.keyword&&"asc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",Wde)):"spare_code"==i.meta.keyword&&"desc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",Rde)):((0,r.uX)(),(0,r.CE)("i",qde))])]),(0,r.Lk)("th",{onClick:a[4]||(a[4]=e=>o.sort("spare_name"))},[a[14]||(a[14]=(0,r.eW)(" Spare Name ")),(0,r.Lk)("span",null,["spare_name"==i.meta.keyword&&"asc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",Ide)):"spare_name"==i.meta.keyword&&"desc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",Nde)):((0,r.uX)(),(0,r.CE)("i",Mde))])]),(0,r.Lk)("th",null,[a[15]||(a[15]=(0,r.eW)(" Asset Type ")),(0,r.Lk)("span",null,["asset_type_id"==i.meta.keyword&&"asc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",Kde)):"asset_type_id"==i.meta.keyword&&"desc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",Jde)):((0,r.uX)(),(0,r.CE)("i",Bde))])]),(0,r.bo)(((0,r.uX)(),(0,r.CE)("th",Ode,a[16]||(a[16]=[(0,r.eW)("Status")]))),[[u,"spares.delete"]]),(0,r.bo)(((0,r.uX)(),(0,r.CE)("th",Hde,a[17]||(a[17]=[(0,r.eW)("Actions")]))),[[u,"spares.update"]])])]),(0,r.Lk)("tbody",null,[0==i.spares.length?((0,r.uX)(),(0,r.CE)("tr",Yde,a[19]||(a[19]=[(0,r.Lk)("td",{colspan:"7",class:"text-center"},"No records found",-1)]))):(0,r.Q3)("",!0),((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(i.spares,((e,t)=>((0,r.uX)(),(0,r.CE)("tr",{key:t},[(0,r.Lk)("td",Zde,(0,n.v_)(i.meta.from+t),1),(0,r.Lk)("td",null,(0,n.v_)(e.spare_type?.spare_type_name),1),(0,r.Lk)("td",null,(0,n.v_)(e.spare_code),1),(0,r.Lk)("td",null,(0,n.v_)(e.spare_name),1),(0,r.Lk)("td",null,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(e.spare_asset_types,((e,a)=>((0,r.uX)(),(0,r.CE)("span",{key:a},(0,n.v_)(e?.asset_types?.asset_type_name)+", ",1)))),128))]),(0,r.bo)(((0,r.uX)(),(0,r.CE)("td",Gde,[(0,r.Lk)("div",ene,[(0,r.Lk)("input",{class:"form-check-input",type:"checkbox",role:"switch",id:"spare"+e.spare_id,checked:e.status,value:e.status,onChange:a=>o.deleteSpare(e)},null,40,ane),(0,r.Lk)("label",{class:"custom-control-label",for:"spare"+e.spare_id},null,8,tne)])])),[[u,"spares.delete"]]),(0,r.bo)(((0,r.uX)(),(0,r.CE)("td",sne,[e.status?((0,r.uX)(),(0,r.CE)("a",{key:0,href:"javascript:void(0)",class:"text-success me-2",onClick:a=>o.editSpare(e)},a[20]||(a[20]=[(0,r.Lk)("i",{class:"ri-pencil-line fs-18 lh-1"},null,-1)]),8,rne)):(0,r.Q3)("",!0)])),[[u,"spares.update"]])])))),128))])])])]),(0,r.Lk)("div",lne,[(0,r.Lk)("div",ine,[(0,r.bo)((0,r.Lk)("select",{class:"form-select from-select-sm width-75","onUpdate:modelValue":a[5]||(a[5]=e=>i.meta.per_page=e),onChange:a[6]||(a[6]=(...e)=>o.onPerPageChange&&o.onPerPageChange(...e))},a[21]||(a[21]=[(0,r.Lk)("option",null,"10",-1),(0,r.Lk)("option",null,"15",-1),(0,r.Lk)("option",null,"20",-1),(0,r.Lk)("option",null,"25",-1),(0,r.Lk)("option",null,"30",-1)]),544),[[s.u1,i.meta.per_page]]),(0,r.Lk)("span",null,"Showing "+(0,n.v_)(i.meta.from)+" to "+(0,n.v_)(i.meta.to)+" of "+(0,n.v_)(i.meta.totalRows)+" entries",1),(0,r.bF)(c,{maxPage:i.meta.maxPage,totalPages:i.meta.lastPage,currentPage:parseInt(i.meta.page),onPagechanged:o.onPageChange},null,8,["maxPage","totalPages","currentPage","onPagechanged"])])])])])])])}var dne={components:{Pagination:md},data(){return{meta:{search:"",order_by:"desc",keyword:"spare_id",per_page:10,totalRows:0,page:1,lastPage:1,from:1,to:1,maxPage:1},spare:{spare_id:""},spares:[],errors:[],update:!1}},beforeRouteEnter(e,a,t){t((e=>{"Spares.Edit"!=a.name?e.$store.commit("setCurrentPage",e.meta.page):e.meta.page=e.$store.getters.current_page}))},mounted(){this.index()},methods:{index(){let e=this,a=e.$loading.show();e.$store.dispatch("post",{uri:"paginateSpares",data:e.meta}).then((t=>{a.hide(),e.spares=t.data.data,e.meta.totalRows=t.data.meta.total,e.meta.from=t.data.meta.from,e.meta.to=t.data.meta.to,e.meta.lastPage=t.data.meta.last_page,e.meta.maxPage=e.meta.lastPage>=3?3:e.meta.lastPage})).catch((function(t){a.hide(),e.errors=t.response.data.errors,e.$store.dispatch("error",t.response.data.message)}))},editSpare(e){this.$store.commit("setCurrentPage",parseInt(this.meta.page)),this.$router.push("/spares/"+e.spare_id+"/edit")},deleteSpare(e){let a=this,t=a.$loading.show();const s=e.status;e.status=!e.status,a.$store.dispatch("post",{uri:"deleteSpare",data:e}).then((e=>{t.hide(),a.$store.dispatch("success",e.data.message),a.index()})).catch((function(r){t.hide(),e.status=s,a.errors=r.response.data.errors,a.$store.dispatch("error",r.response.data.message)}))},onPageChange(e){this.meta.page=e,this.index()},sort(e){this.meta.keyword=e,this.meta.order_by="asc"==this.meta.order_by?"desc":"asc",this.index()},search(){let e=this;e.meta.page=1,e.index()},onPerPageChange(){let e=this;e.meta.page=1,e.index()}}};const nne=(0,Ze.A)(dne,[["render",one]]);var cne=nne;const une={class:""},_ne={class:"d-sm-flex align-items-center justify-content-between mb-2"},pne={class:"breadcrumb fs-sm mb-1"},mne={class:"breadcrumb-item"},bne={class:"breadcrumb-item active","aria-current":"page"},kne={key:0,class:"breadcrumb-item","aria-current":"page"},vne={key:1,class:"breadcrumb-item active","aria-current":"page"},hne={class:"row g-2"},yne={class:"col-12"},gne={class:"card card-one"},fne={class:"card-header d-flex justify-content-between"},Lne={key:0,class:"card-title"},Cne={key:1,class:"card-title"},wne={class:"card-body"},Ene={class:"row g-2"},xne={class:"col-md-4"},Xne={class:"d-flex justify-content-between"},Pne={key:0},$ne={class:"text-danger"},Sne={class:"col-md-4"},Ane=["disabled"],Dne={key:0,class:"invalid-feedback"},Tne={class:"col-md-4"},Qne={key:0,class:"invalid-feedback"},Vne={class:"col-md-4"},Fne={key:0,class:"invalid-feedback"},Une={class:"col-md-4"},jne={key:0,class:"invalid-feedback"},zne={key:0},Wne={class:"form-label"},Rne={key:0,class:"text-danger"},qne=["placeholder","onUpdate:modelValue"],Ine={key:1,class:"invalid-feedback"},Nne={key:1},Mne={class:"form-label"},Kne={key:0,class:"text-danger"},Jne=["placeholder","onUpdate:modelValue"],Bne={key:1,class:"invalid-feedback"},One={key:2},Hne={class:"form-label"},Yne={key:0,class:"text-danger"},Zne=["placeholder","onUpdate:modelValue"],Gne={key:0,class:"invalid-feedback"},ece={key:3},ace={class:"form-label"},tce={key:0,class:"text-danger"},sce=["placeholder","onUpdate:modelValue"],rce={key:0,class:"invalid-feedback"},lce={key:4},ice={class:"form-label"},oce={key:0,class:"text-danger"},dce=["onUpdate:modelValue"],nce=["value"],cce=["value"],uce=["value"],_ce={key:1,class:"invalid-feedback"},pce={key:5},mce={class:"form-label"},bce={key:0,class:"text-danger"},kce=["onUpdate:modelValue"],vce={key:0,class:"invalid-feedback"},hce={key:6},yce={class:"form-label"},gce={key:0,class:"text-danger"},fce=["onUpdate:modelValue"],Lce=["value"],Cce=["value"],wce=["value"],Ece={key:1,class:"invalid-feedback"},xce={class:"col-md-4"},Xce={class:"form-group"},Pce={key:0},$ce={class:"text-danger"},Sce={class:"card-footer text-end"},Ace={type:"submit",class:"btn btn-primary"},Dce={key:0},Tce={key:1};function Qce(e,a,t,l,i,o){const d=(0,r.g2)("router-link"),c=(0,r.g2)("search"),u=(0,r.g2)("MultiSelect");return(0,r.uX)(),(0,r.CE)("div",une,[(0,r.Lk)("div",_ne,[(0,r.Lk)("div",null,[(0,r.Lk)("ol",pne,[(0,r.Lk)("li",mne,[(0,r.bF)(d,{to:"/dashboard"},{default:(0,r.k6)((()=>a[9]||(a[9]=[(0,r.eW)("Dashboard")]))),_:1})]),a[11]||(a[11]=(0,r.Lk)("li",{class:"breadcrumb-item"},[(0,r.Lk)("a",{href:"javascript:void(0)"},"Masters")],-1)),(0,r.Lk)("li",bne,[(0,r.bF)(d,{to:"/variables"},{default:(0,r.k6)((()=>a[10]||(a[10]=[(0,r.eW)("Variables")]))),_:1})]),i.status?((0,r.uX)(),(0,r.CE)("li",kne,"New Variable")):((0,r.uX)(),(0,r.CE)("li",vne,"Update Variable"))]),a[12]||(a[12]=(0,r.Lk)("h4",{class:"main-title mb-0"},"Variables",-1))]),(0,r.bF)(d,{to:"/variables",type:"submit",class:"btn btn-primary",style:{float:"right"}},{default:(0,r.k6)((()=>a[13]||(a[13]=[(0,r.Lk)("i",{class:"ri-list-check"},null,-1),(0,r.eW)(" VARIABLES")]))),_:1})]),(0,r.Lk)("div",hne,[(0,r.Lk)("div",yne,[(0,r.Lk)("form",{onSubmit:a[8]||(a[8]=(0,s.D$)((e=>o.submitForm()),["prevent"]))},[(0,r.Lk)("div",gne,[(0,r.Lk)("div",fne,[i.status?((0,r.uX)(),(0,r.CE)("h6",Lne,"Add Variable")):((0,r.uX)(),(0,r.CE)("h6",Cne,"Update Variable"))]),(0,r.Lk)("div",wne,[(0,r.Lk)("div",Ene,[(0,r.Lk)("div",xne,[(0,r.Lk)("div",Xne,[a[15]||(a[15]=(0,r.Lk)("div",null,[(0,r.Lk)("label",{class:"form-label"},"Variable Types"),(0,r.Lk)("span",{class:"text-danger"}," *")],-1)),(0,r.Lk)("a",{type:"button",class:"text-danger me-2",onClick:a[0]||(a[0]=e=>o.reset())},a[14]||(a[14]=[(0,r.Lk)("i",{class:"ri-close-line fs-20 lh-1"},null,-1)]))]),(0,r.bF)(c,{class:(0,n.C4)({"is-invalid":i.errors.variable_type_id}),customClass:{"is-invalid":i.errors.variable_type_id},initialize:i.variable.variable_type_id,id:"variable_type_id",label:"variable_type_name",placeholder:"Select Variable Type",data:i.variable_types,onInput:a[1]||(a[1]=e=>i.variable.variable_type_id=e),onSelectsearch:a[2]||(a[2]=e=>o.getVariableTypeFields(i.variable.variable_type_id))},null,8,["class","customClass","initialize","data"]),i.errors.variable_type_id?((0,r.uX)(),(0,r.CE)("span",Pne,[(0,r.Lk)("small",$ne,(0,n.v_)(i.errors.variable_type_id[0]),1)])):(0,r.Q3)("",!0)]),(0,r.Lk)("div",Sne,[a[16]||(a[16]=(0,r.Lk)("label",{class:"form-label"},"Variable Code",-1)),a[17]||(a[17]=(0,r.Lk)("span",{class:"text-danger"}," *",-1)),(0,r.bo)((0,r.Lk)("input",{type:"text",placeholder:"Variable Code",class:(0,n.C4)(["form-control",{"is-invalid":i.errors.variable_code}]),"onUpdate:modelValue":a[3]||(a[3]=e=>i.variable.variable_code=e),disabled:!i.status},null,10,Ane),[[s.Jo,i.variable.variable_code]]),i.errors.variable_code?((0,r.uX)(),(0,r.CE)("span",Dne,(0,n.v_)(i.errors.variable_code[0]),1)):(0,r.Q3)("",!0)]),(0,r.Lk)("div",Tne,[a[18]||(a[18]=(0,r.Lk)("label",{class:"form-label"},"Variable Name",-1)),a[19]||(a[19]=(0,r.Lk)("span",{class:"text-danger"}," *",-1)),(0,r.bo)((0,r.Lk)("input",{type:"text",placeholder:"Variable Name",class:(0,n.C4)(["form-control",{"is-invalid":i.errors.variable_name}]),"onUpdate:modelValue":a[4]||(a[4]=e=>i.variable.variable_name=e)},null,2),[[s.Jo,i.variable.variable_name]]),i.errors.variable_name?((0,r.uX)(),(0,r.CE)("span",Qne,(0,n.v_)(i.errors.variable_name[0]),1)):(0,r.Q3)("",!0)]),(0,r.Lk)("div",Vne,[a[20]||(a[20]=(0,r.Lk)("label",{class:"form-label"},"PPMS Code",-1)),a[21]||(a[21]=(0,r.Lk)("span",{class:"text-danger"}," *",-1)),(0,r.bo)((0,r.Lk)("input",{type:"text",placeholder:"PPMS Code",class:(0,n.C4)(["form-control",{"is-invalid":i.errors.ppms_code}]),"onUpdate:modelValue":a[5]||(a[5]=e=>i.variable.ppms_code=e)},null,2),[[s.Jo,i.variable.ppms_code]]),i.errors.ppms_code?((0,r.uX)(),(0,r.CE)("span",Fne,(0,n.v_)(i.errors.ppms_code[0]),1)):(0,r.Q3)("",!0)]),(0,r.Lk)("div",Une,[a[23]||(a[23]=(0,r.Lk)("label",{class:"form-label"},"Data Type",-1)),a[24]||(a[24]=(0,r.Lk)("span",{class:"text-danger"}," *",-1)),(0,r.bo)((0,r.Lk)("select",{class:(0,n.C4)(["form-control",{"is-invalid":i.errors.data_type}]),"onUpdate:modelValue":a[6]||(a[6]=e=>i.variable.data_type=e)},a[22]||(a[22]=[(0,r.Fv)('<option value="" data-v-d11c98f2>Select Data Type</option><option value="Text" data-v-d11c98f2>Text </option><option value="Float" data-v-d11c98f2>Float </option><option value="Number" data-v-d11c98f2>Number </option><option value="Date" data-v-d11c98f2>Date </option>',5)]),2),[[s.u1,i.variable.data_type]]),i.errors.data_type?((0,r.uX)(),(0,r.CE)("span",jne,(0,n.v_)(i.errors.data_type[0]),1)):(0,r.Q3)("",!0)]),((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(i.variable.variable_attributes,((e,a)=>((0,r.uX)(),(0,r.CE)("div",{class:"col-md-4",key:a},["Text"==e.field_type?((0,r.uX)(),(0,r.CE)("div",zne,[(0,r.Lk)("label",Wne,(0,n.v_)(e.display_name),1),e.is_required?((0,r.uX)(),(0,r.CE)("span",Rne,"*")):(0,r.Q3)("",!0),(0,r.bo)((0,r.Lk)("input",{type:"text",class:(0,n.C4)(["form-control",{"is-invalid":i.errors[e.display_name]}]),placeholder:"Enter "+e.display_name,"onUpdate:modelValue":a=>e.variable_attribute_value.field_value=a},null,10,qne),[[s.Jo,e.variable_attribute_value.field_value]]),i.errors[e.display_name]?((0,r.uX)(),(0,r.CE)("span",Ine,(0,n.v_)(i.errors[e.display_name][0]),1)):(0,r.Q3)("",!0)])):(0,r.Q3)("",!0),"Number"==e.field_type?((0,r.uX)(),(0,r.CE)("div",Nne,[(0,r.Lk)("label",Mne,(0,n.v_)(e.display_name),1),e.is_required?((0,r.uX)(),(0,r.CE)("span",Kne,"*")):(0,r.Q3)("",!0),(0,r.bo)((0,r.Lk)("input",{type:"number",step:"any",class:(0,n.C4)(["form-control",{"is-invalid":i.errors[e.display_name]}]),min:"0",oninput:"validity.valid||(value='');",placeholder:"Enter "+e.display_name,"onUpdate:modelValue":a=>e.variable_attribute_value.field_value=a},null,10,Jne),[[s.Jo,e.variable_attribute_value.field_value]]),i.errors[e.display_name]?((0,r.uX)(),(0,r.CE)("span",Bne,(0,n.v_)(i.errors[e.display_name][0]),1)):(0,r.Q3)("",!0)])):(0,r.Q3)("",!0),"Date"===e.field_type?((0,r.uX)(),(0,r.CE)("div",One,[(0,r.Lk)("label",Hne,[(0,r.eW)((0,n.v_)(e.display_name)+" ",1),e.is_required?((0,r.uX)(),(0,r.CE)("span",Yne,"*")):(0,r.Q3)("",!0)]),(0,r.bo)((0,r.Lk)("input",{type:"date",class:(0,n.C4)(["form-control",{"is-invalid":i.errors[e.display_name]}]),placeholder:"Enter "+e.display_name,"onUpdate:modelValue":a=>e.variable_attribute_value.field_value=a},null,10,Zne),[[s.Jo,e.variable_attribute_value.field_value]]),i.errors[e.display_name]?((0,r.uX)(),(0,r.CE)("span",Gne,(0,n.v_)(i.errors[e.display_name][0]),1)):(0,r.Q3)("",!0)])):(0,r.Q3)("",!0),"Date&Time"===e.field_type?((0,r.uX)(),(0,r.CE)("div",ece,[(0,r.Lk)("label",ace,[(0,r.eW)((0,n.v_)(e.display_name)+" ",1),e.is_required?((0,r.uX)(),(0,r.CE)("span",tce,"*")):(0,r.Q3)("",!0)]),(0,r.bo)((0,r.Lk)("input",{type:"datetime-local",class:(0,n.C4)(["form-control",{"is-invalid":i.errors[e.display_name]}]),placeholder:"Enter "+e.display_name,"onUpdate:modelValue":a=>e.variable_attribute_value.field_value=a,step:"1"},null,10,sce),[[s.Jo,e.variable_attribute_value.field_value]]),i.errors[e.display_name]?((0,r.uX)(),(0,r.CE)("span",rce,(0,n.v_)(i.errors[e.display_name][0]),1)):(0,r.Q3)("",!0)])):(0,r.Q3)("",!0),"Dropdown"==e.field_type?((0,r.uX)(),(0,r.CE)("div",lce,[(0,r.Lk)("label",ice,(0,n.v_)(e.display_name),1),e.is_required?((0,r.uX)(),(0,r.CE)("span",oce,"*")):(0,r.Q3)("",!0),(0,r.bo)((0,r.Lk)("select",{class:(0,n.C4)(["form-control",{"is-invalid":i.errors[e.display_name]}]),"onUpdate:modelValue":a=>e.variable_attribute_value.field_value=a},[e.variable_attribute_value.field_value?((0,r.uX)(),(0,r.CE)("option",{key:0,value:e.variable_attribute_value.field_value},(0,n.v_)(e.variable_attribute_value.field_value),9,nce)):((0,r.uX)(),(0,r.CE)("option",{key:1,value:e.variable_attribute_value.field_value},"Select "+(0,n.v_)(e.display_name),9,cce)),((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(e.field_values.split(","),((e,a)=>((0,r.uX)(),(0,r.CE)("option",{key:a,value:e},(0,n.v_)(e),9,uce)))),128))],10,dce),[[s.u1,e.variable_attribute_value.field_value]]),i.errors[e.display_name]?((0,r.uX)(),(0,r.CE)("span",_ce,(0,n.v_)(i.errors[e.display_name][0]),1)):(0,r.Q3)("",!0)])):(0,r.Q3)("",!0),"Color"==e.field_type?((0,r.uX)(),(0,r.CE)("div",pce,[(0,r.Lk)("label",mce,[(0,r.eW)((0,n.v_)(e.display_name),1),e.is_required?((0,r.uX)(),(0,r.CE)("span",bce,"*")):(0,r.Q3)("",!0)]),(0,r.bo)((0,r.Lk)("input",{type:"color",class:"form-control","onUpdate:modelValue":a=>e.variable_attribute_value.field_value=a,style:{height:"2.2rem"}},null,8,kce),[[s.Jo,e.variable_attribute_value.field_value]]),i.errors[e.display_name]?((0,r.uX)(),(0,r.CE)("span",vce,(0,n.v_)(i.errors[e.display_name][0]),1)):(0,r.Q3)("",!0)])):(0,r.Q3)("",!0),"List"==e.field_type?((0,r.uX)(),(0,r.CE)("div",hce,[(0,r.Lk)("label",yce,(0,n.v_)(e.display_name),1),e.is_required?((0,r.uX)(),(0,r.CE)("span",gce,"*")):(0,r.Q3)("",!0),(0,r.bo)((0,r.Lk)("select",{class:(0,n.C4)(["form-control",{"is-invalid":i.errors[e.display_name]}]),"onUpdate:modelValue":a=>e.variable_attribute_value.field_value=a},[e.variable_attribute_value.field_value?((0,r.uX)(),(0,r.CE)("option",{key:0,value:e.variable_attribute_value.field_value},(0,n.v_)(e.variable_attribute_value.field_value),9,Lce)):((0,r.uX)(),(0,r.CE)("option",{key:1,value:e.variable_attribute_value.field_value},"Select "+(0,n.v_)(e.display_name),9,Cce)),((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(e.list_parameter?.field_values.split(","),((e,a)=>((0,r.uX)(),(0,r.CE)("option",{key:a,value:e},(0,n.v_)(e),9,wce)))),128))],10,fce),[[s.u1,e.variable_attribute_value.field_value]]),i.errors[e.display_name]?((0,r.uX)(),(0,r.CE)("span",Ece,(0,n.v_)(i.errors[e.display_name][0]),1)):(0,r.Q3)("",!0)])):(0,r.Q3)("",!0)])))),128)),(0,r.Lk)("div",xce,[(0,r.Lk)("div",Xce,[a[25]||(a[25]=(0,r.Lk)("label",{class:"form-label"},"Assign To",-1)),a[26]||(a[26]=(0,r.Lk)("span",{class:"text-danger"}," *",-1)),(0,r.bF)(u,{modelValue:i.variable.asset_types_obj,"onUpdate:modelValue":a[7]||(a[7]=e=>i.variable.asset_types_obj=e),filter:"",optionLabel:"asset_type_name",options:i.asset_types,placeholder:"Select Assign To",maxSelectedLabels:3,style:(0,n.Tr)([{width:"100%",height:"37px"},i.errors?.asset_types?i.error_style:""])},null,8,["modelValue","options","style"]),i.errors?.asset_types?((0,r.uX)(),(0,r.CE)("span",Pce,[(0,r.Lk)("small",$ce,(0,n.v_)(i.errors?.asset_types[0]),1)])):(0,r.Q3)("",!0)])])])]),(0,r.Lk)("div",Sce,[(0,r.bF)(d,{type:"button",class:"btn btn-danger me-2",to:"/variables"},{default:(0,r.k6)((()=>a[27]||(a[27]=[(0,r.Lk)("i",{class:"ri-close-line fs-18 lh-1"},null,-1),(0,r.eW)(" Discard")]))),_:1}),(0,r.Lk)("button",Ace,[i.status?((0,r.uX)(),(0,r.CE)("span",Dce,a[28]||(a[28]=[(0,r.Lk)("i",{class:"ri-save-line fs-18 lh-1"},null,-1),(0,r.eW)(" Submit")]))):((0,r.uX)(),(0,r.CE)("span",Tce,a[29]||(a[29]=[(0,r.Lk)("i",{class:"ri-save-line fs-18 lh-1"},null,-1),(0,r.eW)(" Update")])))])])])],32)])])])}var Vce={components:{Pagination:md,Search:It.A,MultiSelect:Ru.A},data(){return{variables:[],variable:{variable_id:"",variable_type_id:"",variable_code:"",variable_name:"",data_type:"",ppms_code:"",variable_attributes:[],asset_types_obj:[],asset_types:[],frequency_id:"",deleted_variable_attribute_values:[],deleted_variable_asset_types:[]},deleted_variable_asset_types:[],status:!0,errors:[],deleted_variable_attribute_values:[],variable_types:[],asset_types:[],frequencies:[],show_variables:[],asset_type_status:!1,error_style:{"border-color":"#dc3545","padding-right":"calc(1.5em + 0.812rem)","background-image":"url(\"data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 12 12' width='12' height='12' fill='none' stroke='%23dc3545'%3e%3ccircle cx='6' cy='6' r='4.5'/%3e%3cpath stroke-linejoin='round' d='M5.8 3.6h.4L6 6.5z'/%3e%3ccircle cx='6' cy='8.2' r='.6' fill='%23dc3545' stroke='none'/%3e%3c/svg%3e\")","background-repeat":"no-repeat","background-position":"right calc(0.375em + 0.203rem) center","background-size":"calc(0.75em + 0.406rem) calc(0.75em + 0.406rem)"}}},beforeRouteEnter(e,a,t){t((a=>{if(a.getAssetTypes(),"Variables.Create"==e.name);else{a.status=!1;let t={uri:"getVariableData",data:{variable_id:e.params.variable_id}};a.$store.dispatch("post",t).then((function(e){a.variable=e.data.data,a.variable.variable_attributes.map((function(e){a.deleted_variable_attribute_values.push(e.variable_attribute_value.variable_attribute_value_id)})),a.variable.deleted_variable_attribute_values=[],a.variable.deleted_variable_asset_types=[],a.variable.asset_types_obj=[],a.variable.variable_asset_types.map((function(e){a.variable.asset_types_obj.push({asset_type_code:e.asset_types.asset_type_code,asset_type_id:e.asset_types.asset_type_id,status:e.asset_types.status,asset_type_name:e.asset_types.asset_type_name})}))})).catch((function(e){a.errors=e.response.data.errors,a.$store.dispatch("error",e.response.data.message)}))}}))},methods:{updateActivityType(e,a){let t=this;const s=e.target.checked;let r=a?.variable_asset_types?.filter((function(a){return a.asset_type_id==e.target.value}));if(r?.length){let e=r[0].variable_asset_type_id;if(s){if(t.variable.deleted_variable_asset_types.includes(e)){let a=t.variable.deleted_variable_asset_types.filter((function(a){return a!=e}));t.variable.deleted_variable_asset_types=a}}else t.variable.deleted_variable_asset_types.includes(e)||t.variable.deleted_variable_asset_types.push(e)}},toggleAssetTypeStatus(){this.asset_type_status=!this.asset_type_status},submitForm(){let e=this;e.status?e.addVariable():e.updateVariable()},validateFields(){let e=!0;this.errors={},this.variable.variable_code||(this.errors.variable_code=["Variable Code is required"],e=!1),this.variable.variable_name||(this.errors.variable_name=["Variable Name is required"],e=!1),this.variable.ppms_code||(this.errors.ppms_code=["PPMS Code is required"],e=!1),this.variable.data_type||(this.errors.data_type=["Data Type is required"],e=!1),this.variable.variable_type_id||(this.errors.variable_type_id=["Variable Type is required"],e=!1),0===this.variable.asset_types.length&&(this.errors.asset_types=["At least one Asset Type must be selected"],e=!1);for(const a of Object.values(this.variable.variable_attributes))a.is_required&&!a.variable_attribute_value.field_value&&("Color"===a.field_type?a.variable_attribute_value.field_value="#000000":(this.errors[a.display_name]=[`${a.display_name} is required`],e=!1));return e},addVariable(){let e=this;if(e.variable.asset_types_obj.map((function(a){e.variable.asset_types.push(a.asset_type_id)})),!e.validateFields())return;let a=e.$loading.show();e.$store.dispatch("post",{uri:"addVariable",data:e.variable}).then((t=>{a.hide(),e.$store.dispatch("success",t.data.message),e.$router.push("/variables")})).catch((function(t){a.hide(),e.errors=t.response.data.errors,e.$store.dispatch("error",t.response.data.message)}))},getAssetTypes(){let e=this,a=e.$loading.show();e.$store.dispatch("post",{uri:"getAssetTypes"}).then((t=>{a.hide(),e.asset_types=t.data.data,e.getVariableTypes()})).catch((function(t){a.hide(),e.errors=t.response.data.errors,e.$store.dispatch("error",t.response.data.message)}))},getFrequencies(){let e=this,a=e.$loading.show();e.$store.dispatch("post",{uri:"getFrequencies"}).then((t=>{a.hide(),e.frequencies=t.data.data})).catch((function(t){a.hide(),e.errors=t.response.data.errors,e.$store.dispatch("error",t.response.data.message)}))},updateVariable(){let e=this;if(e.variable.deleted_variable_asset_types=e.variable?.variable_asset_types.filter((a=>!e.variable.asset_types_obj.some((e=>a.asset_type_id===e.asset_type_id)))),e.variable.asset_types=e.variable.asset_types_obj.map((e=>e.asset_type_id)),e.variable.deleted_variable_asset_types=e.variable.deleted_variable_asset_types.map((e=>e.variable_asset_type_id)),!e.validateFields())return;let a=e.$loading.show();e.$store.dispatch("post",{uri:"updateVariable",data:e.variable}).then((t=>{a.hide(),e.$store.dispatch("success",t.data.message),e.$router.push("/variables")})).catch((function(t){a.hide(),e.errors=t.response.data.errors,e.$store.dispatch("error",t.response.data.message)}))},getVariableTypes(){let e=this,a=e.$loading.show();e.$store.dispatch("post",{uri:"getVariableTypes"}).then((t=>{a.hide(),e.variable_types=t.data.data,e.getFrequencies()})).catch((function(t){a.hide(),e.errors=t.response.data.errors,e.$store.dispatch("error",t.response.data.message)}))},getVariableTypeFields(e){let a=this,t=a.$loading.show();a.deleted_variable_attribute_values.length&&(a.variable.deleted_variable_attribute_values=a.deleted_variable_attribute_values),a.$store.dispatch("post",{uri:"getVariablesDropdown",data:{variable_type_id:e}}).then((e=>{t.hide(),a.variable.variable_attributes=e.data.data})).catch((function(e){t.hide(),a.errors=e.response.data.errors,a.$store.dispatch("error",e.response.data.message)}))},discard(){let e=this;e.variable.variable_type_id="",e.variable.variable_code="",e.variable.variable_name="",e.variable.ppms_code="",e.variable.data_type="",e.variable.asset_types=[],e.variable.frequency_id="",e.show_variables=[],e.variable.variable_attributes=[],e.errors=[],e.status=!0},reset(){let e=this;e.variable.variable_type_id="",e.variable.asset_types=[],e.variable.frequency_id="",e.show_variables=[],e.variable.variable_attributes=[],e.errors=[]}}};const Fce=(0,Ze.A)(Vce,[["render",Qce],["__scopeId","data-v-d11c98f2"]]);var Uce=Fce;const jce={class:""},zce={class:"d-sm-flex align-items-center justify-content-between mb-2"},Wce={class:"breadcrumb fs-sm mb-1"},Rce={class:"breadcrumb-item","aria-current":"page"},qce={class:"row"},Ice={class:"col-12"},Nce={class:"card card-one"},Mce={class:"card-body"},Kce={class:"table-responsive table-responsive-sm"},Jce={class:"table table-sm text-nowrap table-striped table-bordered mb-0"},Bce={class:"",style:{"background-color":"#9b9b9b",color:"white"}},Oce={key:0,class:"ri-arrow-up-line"},Hce={key:1,class:"ri-arrow-down-line"},Yce={key:2,class:"fas fa-sort"},Zce={key:0,class:"ri-arrow-up-line"},Gce={key:1,class:"ri-arrow-down-line"},eue={key:2,class:"fas fa-sort"},aue={key:0,class:"ri-arrow-up-line"},tue={key:1,class:"ri-arrow-down-line"},sue={key:2,class:"fas fa-sort"},rue={key:0,class:"ri-arrow-up-line"},lue={key:1,class:"ri-arrow-down-line"},iue={key:2,class:"fas fa-sort"},oue={key:0,class:"ri-arrow-up-line"},due={key:1,class:"ri-arrow-down-line"},nue={key:2,class:"fas fa-sort"},cue={key:0,class:"ri-arrow-up-line"},uue={key:1,class:"ri-arrow-down-line"},_ue={key:2,class:"fas fa-sort"},pue={class:"text-center"},mue={class:"text-center"},bue={key:0},kue={class:"text-center"},vue={class:"text-center"},hue={class:"form-switch"},yue=["id","checked","value","onChange"],gue=["for"],fue={class:"text-center"},Lue=["onClick"],Cue={class:"card-footer"},wue={class:"d-flex justify-content-between align-items-center"};function Eue(e,a,t,l,i,o){const d=(0,r.g2)("router-link"),c=(0,r.g2)("Pagination"),u=(0,r.gN)("can");return(0,r.uX)(),(0,r.CE)("div",jce,[(0,r.Lk)("div",zce,[(0,r.Lk)("div",null,[(0,r.Lk)("ol",Wce,[(0,r.Lk)("li",Rce,[(0,r.bF)(d,{to:"/dashboard"},{default:(0,r.k6)((()=>a[9]||(a[9]=[(0,r.eW)("Dashboard")]))),_:1})]),a[10]||(a[10]=(0,r.Lk)("li",{class:"breadcrumb-item"},[(0,r.Lk)("a",{href:"javascript:void(0)"},"Masters")],-1)),a[11]||(a[11]=(0,r.Lk)("li",{class:"breadcrumb-item active","aria-current":"page"},"Variables",-1))]),a[12]||(a[12]=(0,r.Lk)("h4",{class:"main-title mb-0"},"Variables",-1))]),(0,r.bo)(((0,r.uX)(),(0,r.Wv)(d,{to:"/variables/create",class:"btn btn-primary",style:{float:"right"}},{default:(0,r.k6)((()=>a[13]||(a[13]=[(0,r.Lk)("i",{class:"ri-list-check"},null,-1),(0,r.eW)(" ADD VARIABLE")]))),_:1})),[[u,"variables.create"]])]),(0,r.Lk)("div",qce,[(0,r.Lk)("div",Ice,[(0,r.Lk)("div",Nce,[a[26]||(a[26]=(0,r.Lk)("div",{class:"card-header d-flex justify-content-between"},[(0,r.Lk)("h6",{class:"card-title"},"Variables")],-1)),(0,r.Lk)("div",Mce,[(0,r.bo)((0,r.Lk)("input",{class:"form-control mb-2",type:"text",placeholder:"Type keyword and press enter key","onUpdate:modelValue":a[0]||(a[0]=e=>i.meta.search=e),onKeypress:a[1]||(a[1]=(0,s.jR)((e=>o.search()),["enter"]))},null,544),[[s.Jo,i.meta.search]]),(0,r.Lk)("div",Kce,[(0,r.Lk)("table",Jce,[(0,r.Lk)("thead",null,[(0,r.Lk)("tr",Bce,[a[22]||(a[22]=(0,r.Lk)("th",{class:"text-center"},"#",-1)),(0,r.Lk)("th",{onClick:a[2]||(a[2]=e=>o.sort("variable_type_name"))},[a[14]||(a[14]=(0,r.eW)(" Variable Type ")),(0,r.Lk)("span",null,["variable_type_name"==i.meta.keyword&&"asc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",Oce)):"variable_type_name"==i.meta.keyword&&"desc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",Hce)):((0,r.uX)(),(0,r.CE)("i",Yce))])]),(0,r.Lk)("th",{onClick:a[3]||(a[3]=e=>o.sort("variable_code"))},[a[15]||(a[15]=(0,r.eW)(" Variable Code ")),(0,r.Lk)("span",null,["variable_code"==i.meta.keyword&&"asc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",Zce)):"variable_code"==i.meta.keyword&&"desc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",Gce)):((0,r.uX)(),(0,r.CE)("i",eue))])]),(0,r.Lk)("th",{onClick:a[4]||(a[4]=e=>o.sort("variable_name"))},[a[16]||(a[16]=(0,r.eW)(" Variable Name ")),(0,r.Lk)("span",null,["variable_name"==i.meta.keyword&&"asc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",aue)):"variable_name"==i.meta.keyword&&"desc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",tue)):((0,r.uX)(),(0,r.CE)("i",sue))])]),(0,r.Lk)("th",{onClick:a[5]||(a[5]=e=>o.sort("ppms_code"))},[a[17]||(a[17]=(0,r.eW)(" PPMS Code ")),(0,r.Lk)("span",null,["ppms_code"==i.meta.keyword&&"asc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",rue)):"ppms_code"==i.meta.keyword&&"desc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",lue)):((0,r.uX)(),(0,r.CE)("i",iue))])]),(0,r.Lk)("th",{onClick:a[6]||(a[6]=e=>o.sort("data_type"))},[a[18]||(a[18]=(0,r.eW)(" Data Type ")),(0,r.Lk)("span",null,["data_type"==i.meta.keyword&&"asc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",oue)):"data_type"==i.meta.keyword&&"desc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",due)):((0,r.uX)(),(0,r.CE)("i",nue))])]),(0,r.Lk)("th",null,[a[19]||(a[19]=(0,r.eW)(" Asset Type ")),(0,r.Lk)("span",null,["asset_type_id"==i.meta.keyword&&"asc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",cue)):"asset_type_id"==i.meta.keyword&&"desc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",uue)):((0,r.uX)(),(0,r.CE)("i",_ue))])]),(0,r.bo)(((0,r.uX)(),(0,r.CE)("th",pue,a[20]||(a[20]=[(0,r.eW)("Status")]))),[[u,"variables.delete"]]),(0,r.bo)(((0,r.uX)(),(0,r.CE)("th",mue,a[21]||(a[21]=[(0,r.eW)("Actions")]))),[[u,"variables.update"]])])]),(0,r.Lk)("tbody",null,[0==i.variables.length?((0,r.uX)(),(0,r.CE)("tr",bue,a[23]||(a[23]=[(0,r.Lk)("td",{colspan:"7",class:"text-center"},"No records found",-1)]))):(0,r.Q3)("",!0),((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(i.variables,((e,t)=>((0,r.uX)(),(0,r.CE)("tr",{key:t},[(0,r.Lk)("td",kue,(0,n.v_)(i.meta.from+t),1),(0,r.Lk)("td",null,(0,n.v_)(e.variable_type?.variable_type_name),1),(0,r.Lk)("td",null,(0,n.v_)(e.variable_code),1),(0,r.Lk)("td",null,(0,n.v_)(e.variable_name),1),(0,r.Lk)("td",null,(0,n.v_)(e.ppms_code),1),(0,r.Lk)("td",null,(0,n.v_)(e?.data_type),1),(0,r.Lk)("td",null,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(e.variable_asset_types,((e,a)=>((0,r.uX)(),(0,r.CE)("span",{key:a},(0,n.v_)(e?.asset_types?.asset_type_name)+", ",1)))),128))]),(0,r.bo)(((0,r.uX)(),(0,r.CE)("td",vue,[(0,r.Lk)("div",hue,[(0,r.Lk)("input",{class:"form-check-input",type:"checkbox",role:"switch",id:"variable"+e.variable_id,checked:e.status,value:e.status,onChange:a=>o.deleteVariable(e)},null,40,yue),(0,r.Lk)("label",{class:"custom-control-label",for:"variable"+e.variable_id},null,8,gue)])])),[[u,"variables.delete"]]),(0,r.bo)(((0,r.uX)(),(0,r.CE)("td",fue,[e.status?((0,r.uX)(),(0,r.CE)("a",{key:0,href:"javascript:void(0)",class:"text-success me-2",onClick:a=>o.editVariable(e)},a[24]||(a[24]=[(0,r.Lk)("i",{class:"ri-pencil-line fs-18 lh-1"},null,-1)]),8,Lue)):(0,r.Q3)("",!0)])),[[u,"variables.update"]])])))),128))])])])]),(0,r.Lk)("div",Cue,[(0,r.Lk)("div",wue,[(0,r.bo)((0,r.Lk)("select",{class:"form-select from-select-sm width-75","onUpdate:modelValue":a[7]||(a[7]=e=>i.meta.per_page=e),onChange:a[8]||(a[8]=(...e)=>o.onPerPageChange&&o.onPerPageChange(...e))},a[25]||(a[25]=[(0,r.Lk)("option",null,"10",-1),(0,r.Lk)("option",null,"15",-1),(0,r.Lk)("option",null,"20",-1),(0,r.Lk)("option",null,"25",-1),(0,r.Lk)("option",null,"30",-1)]),544),[[s.u1,i.meta.per_page]]),(0,r.Lk)("span",null,"Showing "+(0,n.v_)(i.meta.from)+" to "+(0,n.v_)(i.meta.to)+" of "+(0,n.v_)(i.meta.totalRows)+" entries",1),(0,r.bF)(c,{maxPage:i.meta.maxPage,totalPages:i.meta.lastPage,currentPage:parseInt(i.meta.page),onPagechanged:o.onPageChange},null,8,["maxPage","totalPages","currentPage","onPagechanged"])])])])])])])}var xue={components:{Pagination:md},data(){return{meta:{search:"",order_by:"desc",keyword:"variable_id",per_page:10,totalRows:0,page:1,lastPage:1,from:1,to:1,maxPage:1},variable:{variable_id:""},variables:[],errors:[],update:!1}},beforeRouteEnter(e,a,t){t((e=>{"Variables.Edit"!=a.name?e.$store.commit("setCurrentPage",e.meta.page):e.meta.page=e.$store.getters.current_page}))},mounted(){this.index()},methods:{index(){let e=this,a=e.$loading.show();e.$store.dispatch("post",{uri:"paginateVariables",data:e.meta}).then((t=>{a.hide(),e.variables=t.data.data,e.meta.totalRows=t.data.meta.total,e.meta.from=t.data.meta.from,e.meta.to=t.data.meta.to,e.meta.lastPage=t.data.meta.last_page,e.meta.maxPage=e.meta.lastPage>=3?3:e.meta.lastPage})).catch((function(t){a.hide(),e.errors=t.response.data.errors,e.$store.dispatch("error",t.response.data.message)}))},editVariable(e){this.$store.commit("setCurrentPage",parseInt(this.meta.page)),this.$router.push("/variables/"+e.variable_id+"/edit")},deleteVariable(e){let a=this,t=a.$loading.show();const s=e.status;e.status=!e.status,a.$store.dispatch("post",{uri:"deleteVariable",data:e}).then((e=>{t.hide(),a.$store.dispatch("success",e.data.message),a.index()})).catch((function(r){t.hide(),e.status=s,a.errors=r.response.data.errors,a.$store.dispatch("error",r.response.data.message)}))},onPageChange(e){this.meta.page=e,this.index()},sort(e){this.meta.keyword=e,this.meta.order_by="asc"==this.meta.order_by?"desc":"asc",this.index()},search(){let e=this;e.meta.page=1,e.index()},onPerPageChange(){let e=this;e.meta.page=1,e.index()}}};const Xue=(0,Ze.A)(xue,[["render",Eue]]);var Pue=Xue;const $ue={class:""},Sue={class:"d-sm-flex align-items-center justify-content-between mb-2"},Aue={class:"breadcrumb fs-sm mb-1"},Due={class:"breadcrumb-item"},Tue={class:"breadcrumb-item active","aria-current":"page"},Que={key:0,class:"breadcrumb-item","aria-current":"page"},Vue={key:1,class:"breadcrumb-item active","aria-current":"page"},Fue={class:"row g-2"},Uue={class:"col-12"},jue={class:"card card-one"},zue={class:"card-header d-flex justify-content-between"},Wue={key:0,class:"card-title"},Rue={key:1,class:"card-title"},que={class:"card-body"},Iue={class:"row g-2"},Nue={class:"col-md-4"},Mue={class:"d-flex justify-content-between"},Kue={key:0},Jue={class:"text-danger"},Bue={class:"col-md-4"},Oue=["disabled"],Hue={key:0,class:"invalid-feedback"},Yue={class:"col-md-4"},Zue={key:0,class:"invalid-feedback"},Gue={key:0},e_e={class:"form-label"},a_e={key:0,class:"text-danger"},t_e=["placeholder","onUpdate:modelValue"],s_e={key:1,class:"invalid-feedback"},r_e={key:1},l_e={class:"form-label"},i_e={key:0,class:"text-danger"},o_e=["placeholder","onUpdate:modelValue"],d_e={key:1,class:"invalid-feedback"},n_e={key:2},c_e={class:"form-label"},u_e={key:0,class:"text-danger"},__e=["placeholder","onUpdate:modelValue"],p_e={key:0,class:"invalid-feedback"},m_e={key:3},b_e={class:"form-label"},k_e={key:0,class:"text-danger"},v_e=["placeholder","onUpdate:modelValue"],h_e={key:0,class:"invalid-feedback"},y_e={key:4},g_e={class:"form-label"},f_e={key:0,class:"text-danger"},L_e=["onUpdate:modelValue"],C_e=["value"],w_e=["value"],E_e=["value"],x_e={key:1,class:"invalid-feedback"},X_e={key:5},P_e={class:"form-label"},$_e={key:0,class:"text-danger"},S_e=["onUpdate:modelValue"],A_e={key:0,class:"invalid-feedback"},D_e={key:6},T_e={class:"form-label"},Q_e={key:0,class:"text-danger"},V_e=["onUpdate:modelValue"],F_e=["value"],U_e=["value"],j_e=["value"],z_e={key:1,class:"invalid-feedback"},W_e={class:"col-md-4"},R_e={class:"form-group"},q_e={key:0},I_e={class:"text-danger"},N_e={class:"card-footer text-end"},M_e={type:"submit",class:"btn btn-primary"},K_e={key:0},J_e={key:1};function B_e(e,a,t,l,i,o){const d=(0,r.g2)("router-link"),c=(0,r.g2)("search"),u=(0,r.g2)("MultiSelect");return(0,r.uX)(),(0,r.CE)("div",$ue,[(0,r.Lk)("div",Sue,[(0,r.Lk)("div",null,[(0,r.Lk)("ol",Aue,[(0,r.Lk)("li",Due,[(0,r.bF)(d,{to:"/dashboard"},{default:(0,r.k6)((()=>a[7]||(a[7]=[(0,r.eW)("Dashboard")]))),_:1})]),a[9]||(a[9]=(0,r.Lk)("li",{class:"breadcrumb-item"},[(0,r.Lk)("a",{href:"javascript:void(0)"},"Masters")],-1)),(0,r.Lk)("li",Tue,[(0,r.bF)(d,{to:"/data_sources"},{default:(0,r.k6)((()=>a[8]||(a[8]=[(0,r.eW)("Data Sources")]))),_:1})]),i.status?((0,r.uX)(),(0,r.CE)("li",Que,"New Data Source")):((0,r.uX)(),(0,r.CE)("li",Vue,"Update Data Source"))]),a[10]||(a[10]=(0,r.Lk)("h4",{class:"main-title mb-0"},"Data Sources",-1))]),(0,r.bF)(d,{to:"/data_sources",type:"submit",class:"btn btn-primary",style:{float:"right"}},{default:(0,r.k6)((()=>a[11]||(a[11]=[(0,r.Lk)("i",{class:"ri-list-check"},null,-1),(0,r.eW)(" DATA SOURCES")]))),_:1})]),(0,r.Lk)("div",Fue,[(0,r.Lk)("div",Uue,[(0,r.Lk)("form",{onSubmit:a[6]||(a[6]=(0,s.D$)((e=>o.submitForm()),["prevent"]))},[(0,r.Lk)("div",jue,[(0,r.Lk)("div",zue,[i.status?((0,r.uX)(),(0,r.CE)("h6",Wue,"Add Data Source")):((0,r.uX)(),(0,r.CE)("h6",Rue,"Update Data Source"))]),(0,r.Lk)("div",que,[(0,r.Lk)("div",Iue,[(0,r.Lk)("div",Nue,[(0,r.Lk)("div",Mue,[a[13]||(a[13]=(0,r.Lk)("div",null,[(0,r.Lk)("label",{class:"form-label"},"Data Source Types"),(0,r.Lk)("span",{class:"text-danger"}," *")],-1)),(0,r.Lk)("a",{type:"button",class:"text-danger me-2",onClick:a[0]||(a[0]=e=>o.reset())},a[12]||(a[12]=[(0,r.Lk)("i",{class:"ri-close-line fs-20 lh-1"},null,-1)]))]),(0,r.bF)(c,{class:(0,n.C4)({"is-invalid":i.errors.data_source_type_id}),customClass:{"is-invalid":i.errors.data_source_type_id},initialize:i.data_source.data_source_type_id,id:"data_source_type_id",label:"data_source_type_name",placeholder:"Select Data Source Type",data:i.data_source_types,onInput:a[1]||(a[1]=e=>i.data_source.data_source_type_id=e),onSelectsearch:a[2]||(a[2]=e=>o.getDataSourceTypeFields(i.data_source.data_source_type_id))},null,8,["class","customClass","initialize","data"]),i.errors.data_source_type_id?((0,r.uX)(),(0,r.CE)("span",Kue,[(0,r.Lk)("small",Jue,(0,n.v_)(i.errors.data_source_type_id[0]),1)])):(0,r.Q3)("",!0)]),(0,r.Lk)("div",Bue,[a[14]||(a[14]=(0,r.Lk)("label",{class:"form-label"},"Data Source Code",-1)),a[15]||(a[15]=(0,r.Lk)("span",{class:"text-danger"}," *",-1)),(0,r.bo)((0,r.Lk)("input",{type:"text",placeholder:"Data Source Code",class:(0,n.C4)(["form-control",{"is-invalid":i.errors.data_source_code}]),"onUpdate:modelValue":a[3]||(a[3]=e=>i.data_source.data_source_code=e),disabled:!i.status},null,10,Oue),[[s.Jo,i.data_source.data_source_code]]),i.errors.data_source_code?((0,r.uX)(),(0,r.CE)("span",Hue,(0,n.v_)(i.errors.data_source_code[0]),1)):(0,r.Q3)("",!0)]),(0,r.Lk)("div",Yue,[a[16]||(a[16]=(0,r.Lk)("label",{class:"form-label"},"Data Source Name",-1)),a[17]||(a[17]=(0,r.Lk)("span",{class:"text-danger"}," *",-1)),(0,r.bo)((0,r.Lk)("input",{type:"text",placeholder:"Data Source Name",class:(0,n.C4)(["form-control",{"is-invalid":i.errors.data_source_name}]),"onUpdate:modelValue":a[4]||(a[4]=e=>i.data_source.data_source_name=e)},null,2),[[s.Jo,i.data_source.data_source_name]]),i.errors.data_source_name?((0,r.uX)(),(0,r.CE)("span",Zue,(0,n.v_)(i.errors.data_source_name[0]),1)):(0,r.Q3)("",!0)]),((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(i.data_source.data_source_attributes,((e,a)=>((0,r.uX)(),(0,r.CE)("div",{class:"col-md-4",key:a},["Text"==e.field_type?((0,r.uX)(),(0,r.CE)("div",Gue,[(0,r.Lk)("label",e_e,(0,n.v_)(e.display_name),1),e.is_required?((0,r.uX)(),(0,r.CE)("span",a_e,"*")):(0,r.Q3)("",!0),(0,r.bo)((0,r.Lk)("input",{type:"text",class:(0,n.C4)(["form-control",{"is-invalid":i.errors[e.display_name]}]),placeholder:"Enter "+e.display_name,"onUpdate:modelValue":a=>e.data_source_attribute_value.field_value=a},null,10,t_e),[[s.Jo,e.data_source_attribute_value.field_value]]),i.errors[e.display_name]?((0,r.uX)(),(0,r.CE)("span",s_e,(0,n.v_)(i.errors[e.display_name][0]),1)):(0,r.Q3)("",!0)])):(0,r.Q3)("",!0),"Number"==e.field_type?((0,r.uX)(),(0,r.CE)("div",r_e,[(0,r.Lk)("label",l_e,(0,n.v_)(e.display_name),1),e.is_required?((0,r.uX)(),(0,r.CE)("span",i_e,"*")):(0,r.Q3)("",!0),(0,r.bo)((0,r.Lk)("input",{type:"number",class:(0,n.C4)(["form-control",{"is-invalid":i.errors[e.display_name]}]),step:"any",min:"0",oninput:"validity.valid||(value='');",placeholder:"Enter "+e.display_name,"onUpdate:modelValue":a=>e.data_source_attribute_value.field_value=a},null,10,o_e),[[s.Jo,e.data_source_attribute_value.field_value]]),i.errors[e.display_name]?((0,r.uX)(),(0,r.CE)("span",d_e,(0,n.v_)(i.errors[e.display_name][0]),1)):(0,r.Q3)("",!0)])):(0,r.Q3)("",!0),"Date"===e.field_type?((0,r.uX)(),(0,r.CE)("div",n_e,[(0,r.Lk)("label",c_e,[(0,r.eW)((0,n.v_)(e.display_name)+" ",1),e.is_required?((0,r.uX)(),(0,r.CE)("span",u_e,"*")):(0,r.Q3)("",!0)]),(0,r.bo)((0,r.Lk)("input",{type:"date",class:(0,n.C4)(["form-control",{"is-invalid":i.errors[e.display_name]}]),placeholder:"Enter "+e.display_name,"onUpdate:modelValue":a=>e.data_source_attribute_value.field_value=a},null,10,__e),[[s.Jo,e.data_source_attribute_value.field_value]]),i.errors[e.display_name]?((0,r.uX)(),(0,r.CE)("span",p_e,(0,n.v_)(i.errors[e.display_name][0]),1)):(0,r.Q3)("",!0)])):(0,r.Q3)("",!0),"Date&Time"===e.field_type?((0,r.uX)(),(0,r.CE)("div",m_e,[(0,r.Lk)("label",b_e,[(0,r.eW)((0,n.v_)(e.display_name)+" ",1),e.is_required?((0,r.uX)(),(0,r.CE)("span",k_e,"*")):(0,r.Q3)("",!0)]),(0,r.bo)((0,r.Lk)("input",{type:"datetime-local",class:(0,n.C4)(["form-control",{"is-invalid":i.errors[e.display_name]}]),placeholder:"Enter "+e.display_name,"onUpdate:modelValue":a=>e.data_source_attribute_value.field_value=a,step:"1"},null,10,v_e),[[s.Jo,e.data_source_attribute_value.field_value]]),i.errors[e.display_name]?((0,r.uX)(),(0,r.CE)("span",h_e,(0,n.v_)(i.errors[e.display_name][0]),1)):(0,r.Q3)("",!0)])):(0,r.Q3)("",!0),"Dropdown"==e.field_type?((0,r.uX)(),(0,r.CE)("div",y_e,[(0,r.Lk)("label",g_e,(0,n.v_)(e.display_name),1),e.is_required?((0,r.uX)(),(0,r.CE)("span",f_e,"*")):(0,r.Q3)("",!0),(0,r.bo)((0,r.Lk)("select",{class:(0,n.C4)(["form-control",{"is-invalid":i.errors[e.display_name]}]),"onUpdate:modelValue":a=>e.data_source_attribute_value.field_value=a},[e.data_source_attribute_value.field_value?((0,r.uX)(),(0,r.CE)("option",{key:0,value:e.data_source_attribute_value.field_value},(0,n.v_)(e.data_source_attribute_value.field_value),9,C_e)):((0,r.uX)(),(0,r.CE)("option",{key:1,value:e.data_source_attribute_value.field_value},"Select "+(0,n.v_)(e.display_name),9,w_e)),((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(e.field_values.split(","),((e,a)=>((0,r.uX)(),(0,r.CE)("option",{key:a,value:e},(0,n.v_)(e),9,E_e)))),128))],10,L_e),[[s.u1,e.data_source_attribute_value.field_value]]),i.errors[e.display_name]?((0,r.uX)(),(0,r.CE)("span",x_e,(0,n.v_)(i.errors[e.display_name][0]),1)):(0,r.Q3)("",!0)])):(0,r.Q3)("",!0),"Color"==e.field_type?((0,r.uX)(),(0,r.CE)("div",X_e,[(0,r.Lk)("label",P_e,[(0,r.eW)((0,n.v_)(e.display_name),1),e.is_required?((0,r.uX)(),(0,r.CE)("span",$_e,"*")):(0,r.Q3)("",!0)]),(0,r.bo)((0,r.Lk)("input",{type:"color",class:"form-control","onUpdate:modelValue":a=>e.data_source_attribute_value.field_value=a,style:{height:"2.2rem"}},null,8,S_e),[[s.Jo,e.data_source_attribute_value.field_value]]),i.errors[e.display_name]?((0,r.uX)(),(0,r.CE)("span",A_e,(0,n.v_)(i.errors[e.display_name][0]),1)):(0,r.Q3)("",!0)])):(0,r.Q3)("",!0),"List"==e.field_type?((0,r.uX)(),(0,r.CE)("div",D_e,[(0,r.Lk)("label",T_e,(0,n.v_)(e.display_name),1),e.is_required?((0,r.uX)(),(0,r.CE)("span",Q_e,"*")):(0,r.Q3)("",!0),(0,r.bo)((0,r.Lk)("select",{class:(0,n.C4)(["form-control",{"is-invalid":i.errors[e.display_name]}]),"onUpdate:modelValue":a=>e.data_source_attribute_value.field_value=a},[e.data_source_attribute_value.field_value?((0,r.uX)(),(0,r.CE)("option",{key:0,value:e.data_source_attribute_value.field_value},(0,n.v_)(e.data_source_attribute_value.field_value),9,F_e)):((0,r.uX)(),(0,r.CE)("option",{key:1,value:e.data_source_attribute_value.field_value},"Select "+(0,n.v_)(e.display_name),9,U_e)),((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(e.list_parameter?.field_values.split(","),((e,a)=>((0,r.uX)(),(0,r.CE)("option",{key:a,value:e},(0,n.v_)(e),9,j_e)))),128))],10,V_e),[[s.u1,e.data_source_attribute_value.field_value]]),i.errors[e.display_name]?((0,r.uX)(),(0,r.CE)("span",z_e,(0,n.v_)(i.errors[e.display_name][0]),1)):(0,r.Q3)("",!0)])):(0,r.Q3)("",!0)])))),128)),(0,r.Lk)("div",W_e,[(0,r.Lk)("div",R_e,[a[18]||(a[18]=(0,r.Lk)("label",{class:"form-label"},"Assign To",-1)),a[19]||(a[19]=(0,r.Lk)("span",{class:"text-danger"}," *",-1)),(0,r.bF)(u,{modelValue:i.data_source.asset_types_obj,"onUpdate:modelValue":a[5]||(a[5]=e=>i.data_source.asset_types_obj=e),filter:"",optionLabel:"asset_type_name",options:i.asset_types,placeholder:"Select Assign To",maxSelectedLabels:3,style:(0,n.Tr)([{width:"100%",height:"37px"},i.errors?.asset_types?i.error_style:""])},null,8,["modelValue","options","style"]),i.errors?.asset_types?((0,r.uX)(),(0,r.CE)("span",q_e,[(0,r.Lk)("small",I_e,(0,n.v_)(i.errors?.asset_types[0]),1)])):(0,r.Q3)("",!0)])])])]),(0,r.Lk)("div",N_e,[(0,r.bF)(d,{type:"button",class:"btn btn-danger me-2",to:"/data_sources"},{default:(0,r.k6)((()=>a[20]||(a[20]=[(0,r.Lk)("i",{class:"ri-close-line fs-18 lh-1"},null,-1),(0,r.eW)(" Discard")]))),_:1}),(0,r.Lk)("button",M_e,[i.status?((0,r.uX)(),(0,r.CE)("span",K_e,a[21]||(a[21]=[(0,r.Lk)("i",{class:"ri-save-line fs-18 lh-1"},null,-1),(0,r.eW)(" Submit")]))):((0,r.uX)(),(0,r.CE)("span",J_e,a[22]||(a[22]=[(0,r.Lk)("i",{class:"ri-save-line fs-18 lh-1"},null,-1),(0,r.eW)(" Update")])))])])])],32)])])])}var O_e={components:{Pagination:md,Search:It.A,MultiSelect:Ru.A},data(){return{data_sources:[],data_source:{data_source_id:"",data_source_type_id:"",data_source_code:"",data_source_name:"",data_source_attributes:[],asset_types_obj:[],asset_types:[],frequency_id:"",deleted_data_source_attribute_values:[],deleted_data_source_asset_types:[]},deleted_data_source_asset_types:[],status:!0,errors:[],deleted_data_source_attribute_values:[],data_source_types:[],asset_types:[],frequencies:[],show_data_sources:[],asset_type_status:!1,error_style:{"border-color":"#dc3545","padding-right":"calc(1.5em + 0.812rem)","background-image":"url(\"data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 12 12' width='12' height='12' fill='none' stroke='%23dc3545'%3e%3ccircle cx='6' cy='6' r='4.5'/%3e%3cpath stroke-linejoin='round' d='M5.8 3.6h.4L6 6.5z'/%3e%3ccircle cx='6' cy='8.2' r='.6' fill='%23dc3545' stroke='none'/%3e%3c/svg%3e\")","background-repeat":"no-repeat","background-position":"right calc(0.375em + 0.203rem) center","background-size":"calc(0.75em + 0.406rem) calc(0.75em + 0.406rem)"}}},beforeRouteEnter(e,a,t){t((a=>{if(a.getAssetTypes(),"DataSources.Create"==e.name);else{a.status=!1;let t={uri:"getDataSourceData",data:{data_source_id:e.params.data_source_id}};a.$store.dispatch("post",t).then((function(e){a.data_source=e.data.data,a.data_source.data_source_attributes.map((function(e){a.deleted_data_source_attribute_values.push(e.data_source_attribute_value.data_source_attribute_value_id)})),a.data_source.deleted_data_source_attribute_values=[],a.data_source.deleted_data_source_asset_types=[],a.data_source.asset_types_obj=[],a.data_source.data_source_asset_types.map((function(e){a.data_source.asset_types_obj.push({asset_type_code:e.asset_types.asset_type_code,asset_type_id:e.asset_types.asset_type_id,status:e.asset_types.status,asset_type_name:e.asset_types.asset_type_name})}))})).catch((function(e){a.errors=e.response.data.errors,a.$store.dispatch("error",e.response.data.message)}))}}))},methods:{updateActivityType(e,a){let t=this;const s=e.target.checked;let r=a?.data_source_asset_types?.filter((function(a){return a.asset_type_id==e.target.value}));if(r?.length){let e=r[0].data_source_asset_type_id;if(s){if(t.data_source.deleted_data_source_asset_types.includes(e)){let a=t.data_source.deleted_data_source_asset_types.filter((function(a){return a!=e}));t.data_source.deleted_data_source_asset_types=a}}else t.data_source.deleted_data_source_asset_types.includes(e)||t.data_source.deleted_data_source_asset_types.push(e)}console.log("Checked IDs:",t.data_source.asset_types),console.log("Unchecked IDs:",t.data_source.deleted_data_source_asset_types)},toggleAssetTypeStatus(){this.asset_type_status=!this.asset_type_status},submitForm(){let e=this;e.status?e.addDataSource():e.updateDataSource()},validateFields(){let e=!0;this.errors={},this.data_source.data_source_code||(this.errors.data_source_code=["Data Source Code is required"],e=!1),this.data_source.data_source_name||(this.errors.data_source_name=["Data Source Name is required"],e=!1),this.data_source.data_source_type_id||(this.errors.data_source_type_id=["Data Source Type is required"],e=!1),0===this.data_source.asset_types.length&&(this.errors.asset_types=["At least one Asset Type must be selected"],e=!1);for(const a of Object.values(this.data_source.data_source_attributes))a.is_required&&!a.data_source_attribute_value.field_value&&("Color"===a.field_type?a.data_source_attribute_value.field_value="#000000":(this.errors[a.display_name]=[`${a.display_name} is required`],e=!1));return e},addDataSource(){let e=this;if(e.data_source.asset_types_obj.map((function(a){e.data_source.asset_types.push(a.asset_type_id)})),!e.validateFields())return;let a=e.$loading.show();e.$store.dispatch("post",{uri:"addDataSource",data:e.data_source}).then((t=>{a.hide(),e.$store.dispatch("success",t.data.message),e.$router.push("/data_sources")})).catch((function(t){a.hide(),e.errors=t.response.data.errors,e.$store.dispatch("error",t.response.data.message)}))},getAssetTypes(){let e=this,a=e.$loading.show();e.$store.dispatch("post",{uri:"getAssetTypes"}).then((t=>{a.hide(),e.asset_types=t.data.data,e.getDataSourceTypes()})).catch((function(t){a.hide(),e.errors=t.response.data.errors,e.$store.dispatch("error",t.response.data.message)}))},getFrequencies(){let e=this,a=e.$loading.show();e.$store.dispatch("post",{uri:"getFrequencies"}).then((t=>{a.hide(),e.frequencies=t.data.data})).catch((function(t){a.hide(),e.errors=t.response.data.errors,e.$store.dispatch("error",t.response.data.message)}))},updateDataSource(){let e=this;if(e.data_source.deleted_data_source_asset_types=e.data_source?.data_source_asset_types.filter((a=>!e.data_source.asset_types_obj.some((e=>a.asset_type_id===e.asset_type_id)))),e.data_source.asset_types=e.data_source.asset_types_obj.map((e=>e.asset_type_id)),e.data_source.deleted_data_source_asset_types=e.data_source.deleted_data_source_asset_types.map((e=>e.data_source_asset_type_id)),!e.validateFields())return;let a=e.$loading.show();e.$store.dispatch("post",{uri:"updateDataSource",data:e.data_source}).then((t=>{a.hide(),e.$store.dispatch("success",t.data.message),e.$router.push("/data_sources")})).catch((function(t){a.hide(),e.errors=t.response.data.errors,e.$store.dispatch("error",t.response.data.message)}))},getDataSourceTypes(){let e=this,a=e.$loading.show();e.$store.dispatch("post",{uri:"getDataSourceTypes"}).then((t=>{a.hide(),e.data_source_types=t.data.data,e.getFrequencies()})).catch((function(t){a.hide(),e.errors=t.response.data.errors,e.$store.dispatch("error",t.response.data.message)}))},getDataSourceTypeFields(e){let a=this,t=a.$loading.show();a.deleted_data_source_attribute_values.length&&(a.data_source.deleted_data_source_attribute_values=a.deleted_data_source_attribute_values),a.$store.dispatch("post",{uri:"getDataSourcesDropdown",data:{data_source_type_id:e}}).then((e=>{t.hide(),a.data_source.data_source_attributes=e.data.data})).catch((function(e){t.hide(),a.errors=e.response.data.errors,a.$store.dispatch("error",e.response.data.message)}))},discard(){let e=this;e.data_source.data_source_type_id="",e.data_source.data_source_code="",e.data_source.data_source_name="",e.data_source.asset_types=[],e.data_source.frequency_id="",e.show_data_sources=[],e.data_source.data_source_attributes=[],e.errors=[],e.status=!0},reset(){let e=this;e.data_source.data_source_type_id="",e.data_source.asset_types=[],e.data_source.frequency_id="",e.show_data_sources=[],e.data_source.data_source_attributes=[],e.errors=[]}}};const H_e=(0,Ze.A)(O_e,[["render",B_e],["__scopeId","data-v-7cf260be"]]);var Y_e=H_e;const Z_e={class:""},G_e={class:"d-sm-flex align-items-center justify-content-between mb-2"},epe={class:"breadcrumb fs-sm mb-1"},ape={class:"breadcrumb-item","aria-current":"page"},tpe={class:"row"},spe={class:"col-12"},rpe={class:"card card-one"},lpe={class:"card-body"},ipe={class:"table-responsive table-responsive-sm"},ope={class:"table table-sm text-nowrap table-striped table-bordered mb-0"},dpe={class:"",style:{"background-color":"#9b9b9b",color:"white"}},npe={key:0,class:"ri-arrow-up-line"},cpe={key:1,class:"ri-arrow-down-line"},upe={key:2,class:"fas fa-sort"},_pe={key:0,class:"ri-arrow-up-line"},ppe={key:1,class:"ri-arrow-down-line"},mpe={key:2,class:"fas fa-sort"},bpe={key:0,class:"ri-arrow-up-line"},kpe={key:1,class:"ri-arrow-down-line"},vpe={key:2,class:"fas fa-sort"},hpe={key:0,class:"ri-arrow-up-line"},ype={key:1,class:"ri-arrow-down-line"},gpe={key:2,class:"fas fa-sort"},fpe={class:"text-center"},Lpe={class:"text-center"},Cpe={key:0},wpe={class:"text-center"},Epe={class:"text-center"},xpe={class:"form-switch"},Xpe=["id","checked","value","onChange"],Ppe=["for"],$pe={class:"text-center"},Spe=["onClick"],Ape={class:"card-footer"},Dpe={class:"d-flex justify-content-between align-items-center"};function Tpe(e,a,t,l,i,o){const d=(0,r.g2)("router-link"),c=(0,r.g2)("Pagination"),u=(0,r.gN)("can");return(0,r.uX)(),(0,r.CE)("div",Z_e,[(0,r.Lk)("div",G_e,[(0,r.Lk)("div",null,[(0,r.Lk)("ol",epe,[(0,r.Lk)("li",ape,[(0,r.bF)(d,{to:"/dashboard"},{default:(0,r.k6)((()=>a[7]||(a[7]=[(0,r.eW)("Dashboard")]))),_:1})]),a[8]||(a[8]=(0,r.Lk)("li",{class:"breadcrumb-item"},[(0,r.Lk)("a",{href:"javascript:void(0)"},"Masters")],-1)),a[9]||(a[9]=(0,r.Lk)("li",{class:"breadcrumb-item active","aria-current":"page"},"Data Sources",-1))]),a[10]||(a[10]=(0,r.Lk)("h4",{class:"main-title mb-0"},"Data Sources",-1))]),(0,r.bo)(((0,r.uX)(),(0,r.Wv)(d,{to:"/data_sources/create",class:"btn btn-primary",style:{float:"right"}},{default:(0,r.k6)((()=>a[11]||(a[11]=[(0,r.Lk)("i",{class:"ri-list-check"},null,-1),(0,r.eW)(" ADD DATA SOURCE")]))),_:1})),[[u,"data_sources.create"]])]),(0,r.Lk)("div",tpe,[(0,r.Lk)("div",spe,[(0,r.Lk)("div",rpe,[a[22]||(a[22]=(0,r.Lk)("div",{class:"card-header d-flex justify-content-between"},[(0,r.Lk)("h6",{class:"card-title"},"Data Sources")],-1)),(0,r.Lk)("div",lpe,[(0,r.bo)((0,r.Lk)("input",{class:"form-control mb-2",type:"text",placeholder:"Type keyword and press enter key","onUpdate:modelValue":a[0]||(a[0]=e=>i.meta.search=e),onKeypress:a[1]||(a[1]=(0,s.jR)((e=>o.search()),["enter"]))},null,544),[[s.Jo,i.meta.search]]),(0,r.Lk)("div",ipe,[(0,r.Lk)("table",ope,[(0,r.Lk)("thead",null,[(0,r.Lk)("tr",dpe,[a[18]||(a[18]=(0,r.Lk)("th",{class:"text-center"},"#",-1)),(0,r.Lk)("th",{onClick:a[2]||(a[2]=e=>o.sort("data_source_type_name"))},[a[12]||(a[12]=(0,r.eW)(" Data Source Type ")),(0,r.Lk)("span",null,["data_source_type_name"==i.meta.keyword&&"asc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",npe)):"data_source_type_name"==i.meta.keyword&&"desc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",cpe)):((0,r.uX)(),(0,r.CE)("i",upe))])]),(0,r.Lk)("th",{onClick:a[3]||(a[3]=e=>o.sort("data_source_code"))},[a[13]||(a[13]=(0,r.eW)(" Data Source Code ")),(0,r.Lk)("span",null,["data_source_code"==i.meta.keyword&&"asc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",_pe)):"data_source_code"==i.meta.keyword&&"desc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",ppe)):((0,r.uX)(),(0,r.CE)("i",mpe))])]),(0,r.Lk)("th",{onClick:a[4]||(a[4]=e=>o.sort("data_source_name"))},[a[14]||(a[14]=(0,r.eW)(" Data Source Name ")),(0,r.Lk)("span",null,["data_source_name"==i.meta.keyword&&"asc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",bpe)):"data_source_name"==i.meta.keyword&&"desc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",kpe)):((0,r.uX)(),(0,r.CE)("i",vpe))])]),(0,r.Lk)("th",null,[a[15]||(a[15]=(0,r.eW)(" Asset Type ")),(0,r.Lk)("span",null,["asset_type_id"==i.meta.keyword&&"asc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",hpe)):"asset_type_id"==i.meta.keyword&&"desc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",ype)):((0,r.uX)(),(0,r.CE)("i",gpe))])]),(0,r.bo)(((0,r.uX)(),(0,r.CE)("th",fpe,a[16]||(a[16]=[(0,r.eW)("Status")]))),[[u,"data_sources.delete"]]),(0,r.bo)(((0,r.uX)(),(0,r.CE)("th",Lpe,a[17]||(a[17]=[(0,r.eW)("Actions")]))),[[u,"data_sources.update"]])])]),(0,r.Lk)("tbody",null,[0==i.data_sources.length?((0,r.uX)(),(0,r.CE)("tr",Cpe,a[19]||(a[19]=[(0,r.Lk)("td",{colspan:"7",class:"text-center"},"No records found",-1)]))):(0,r.Q3)("",!0),((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(i.data_sources,((e,t)=>((0,r.uX)(),(0,r.CE)("tr",{key:t},[(0,r.Lk)("td",wpe,(0,n.v_)(i.meta.from+t),1),(0,r.Lk)("td",null,(0,n.v_)(e.data_source_type?.data_source_type_name),1),(0,r.Lk)("td",null,(0,n.v_)(e.data_source_code),1),(0,r.Lk)("td",null,(0,n.v_)(e.data_source_name),1),(0,r.Lk)("td",null,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(e.data_source_asset_types,((e,a)=>((0,r.uX)(),(0,r.CE)("span",{key:a},(0,n.v_)(e?.asset_types?.asset_type_name)+", ",1)))),128))]),(0,r.bo)(((0,r.uX)(),(0,r.CE)("td",Epe,[(0,r.Lk)("div",xpe,[(0,r.Lk)("input",{class:"form-check-input",type:"checkbox",role:"switch",id:"data_source"+e.data_source_id,checked:e.status,value:e.status,onChange:a=>o.deleteDataSource(e)},null,40,Xpe),(0,r.Lk)("label",{class:"custom-control-label",for:"data_source"+e.data_source_id},null,8,Ppe)])])),[[u,"data_sources.delete"]]),(0,r.bo)(((0,r.uX)(),(0,r.CE)("td",$pe,[e.status?((0,r.uX)(),(0,r.CE)("a",{key:0,href:"javascript:void(0)",class:"text-success me-2",onClick:a=>o.editDataSource(e)},a[20]||(a[20]=[(0,r.Lk)("i",{class:"ri-pencil-line fs-18 lh-1"},null,-1)]),8,Spe)):(0,r.Q3)("",!0)])),[[u,"data_sources.update"]])])))),128))])])])]),(0,r.Lk)("div",Ape,[(0,r.Lk)("div",Dpe,[(0,r.bo)((0,r.Lk)("select",{class:"form-select from-select-sm width-75","onUpdate:modelValue":a[5]||(a[5]=e=>i.meta.per_page=e),onChange:a[6]||(a[6]=(...e)=>o.onPerPageChange&&o.onPerPageChange(...e))},a[21]||(a[21]=[(0,r.Lk)("option",null,"10",-1),(0,r.Lk)("option",null,"15",-1),(0,r.Lk)("option",null,"20",-1),(0,r.Lk)("option",null,"25",-1),(0,r.Lk)("option",null,"30",-1)]),544),[[s.u1,i.meta.per_page]]),(0,r.Lk)("span",null,"Showing "+(0,n.v_)(i.meta.from)+" to "+(0,n.v_)(i.meta.to)+" of "+(0,n.v_)(i.meta.totalRows)+" entries",1),(0,r.bF)(c,{maxPage:i.meta.maxPage,totalPages:i.meta.lastPage,currentPage:parseInt(i.meta.page),onPagechanged:o.onPageChange},null,8,["maxPage","totalPages","currentPage","onPagechanged"])])])])])])])}var Qpe={components:{Pagination:md},data(){return{meta:{search:"",order_by:"desc",keyword:"data_source_id",per_page:10,totalRows:0,page:1,lastPage:1,from:1,to:1,maxPage:1},data_source:{data_source_id:""},data_sources:[],errors:[],update:!1}},beforeRouteEnter(e,a,t){t((e=>{"DataSources.Edit"!=a.name?e.$store.commit("setCurrentPage",e.meta.page):e.meta.page=e.$store.getters.current_page}))},mounted(){this.index()},methods:{index(){let e=this,a=e.$loading.show();e.$store.dispatch("post",{uri:"paginateDataSources",data:e.meta}).then((t=>{a.hide(),e.data_sources=t.data.data,e.meta.totalRows=t.data.meta.total,e.meta.from=t.data.meta.from,e.meta.to=t.data.meta.to,e.meta.lastPage=t.data.meta.last_page,e.meta.maxPage=e.meta.lastPage>=3?3:e.meta.lastPage})).catch((function(t){a.hide(),e.errors=t.response.data.errors,e.$store.dispatch("error",t.response.data.message)}))},editDataSource(e){this.$store.commit("setCurrentPage",parseInt(this.meta.page)),this.$router.push("/data_sources/"+e.data_source_id+"/edit")},deleteDataSource(e){let a=this,t=a.$loading.show();const s=e.status;e.status=!e.status,a.$store.dispatch("post",{uri:"deleteDataSource",data:e}).then((e=>{t.hide(),a.$store.dispatch("success",e.data.message),a.index()})).catch((function(r){t.hide(),e.status=s,a.errors=r.response.data.errors,a.$store.dispatch("error",r.response.data.message)}))},onPageChange(e){this.meta.page=e,this.index()},sort(e){this.meta.keyword=e,this.meta.order_by="asc"==this.meta.order_by?"desc":"asc",this.index()},search(){let e=this;e.meta.page=1,e.index()},onPerPageChange(){let e=this;e.meta.page=1,e.index()}}};const Vpe=(0,Ze.A)(Qpe,[["render",Tpe]]);var Fpe=Vpe;const Upe={class:""},jpe={class:"d-sm-flex align-items-center justify-content-between mb-2"},zpe={class:"breadcrumb fs-sm mb-1"},Wpe={class:"breadcrumb-item"},Rpe={class:"breadcrumb-item active","aria-current":"page"},qpe={key:0,class:"breadcrumb-item","aria-current":"page"},Ipe={key:1,class:"breadcrumb-item active","aria-current":"page"},Npe={class:"row g-2"},Mpe={class:"col-12"},Kpe={class:"card card-one"},Jpe={class:"card-header d-flex justify-content-between"},Bpe={key:0,class:"card-title"},Ope={key:1,class:"card-title"},Hpe={class:"card-body"},Ype={class:"row g-2"},Zpe={class:"col-md-6"},Gpe={class:"form-group"},eme=["customClass"],ame={key:0},tme={class:"text-danger"},sme={key:0,class:"multiselect"},rme=["value"],lme={style:{"margin-left":"5px"}},ime={class:"col-md-6"},ome={key:0},dme={class:"text-danger"},nme={class:"col-md-4"},cme={key:0,class:"invalid-feedback"},ume={class:"col-md-4"},_me={key:0,class:"invalid-feedback"},pme={key:0},mme={class:"form-label"},bme={key:0,class:"text-danger"},kme=["placeholder","onUpdate:modelValue"],vme={key:1,class:"invalid-feedback"},hme={key:1},yme={class:"form-label"},gme={key:0,class:"text-danger"},fme=["placeholder","onUpdate:modelValue"],Lme={key:1,class:"invalid-feedback"},Cme={key:2},wme={class:"form-label"},Eme={key:0,class:"text-danger"},xme=["placeholder","onUpdate:modelValue"],Xme={key:0,class:"invalid-feedback"},Pme={key:3},$me={class:"form-label"},Sme={key:0,class:"text-danger"},Ame=["placeholder","onUpdate:modelValue"],Dme={key:0,class:"invalid-feedback"},Tme={key:4},Qme={class:"form-label"},Vme={key:0,class:"text-danger"},Fme=["onUpdate:modelValue"],Ume=["value"],jme=["value"],zme=["value"],Wme={key:1,class:"invalid-feedback"},Rme={key:5},qme={class:"form-label"},Ime={key:0,class:"text-danger"},Nme=["onUpdate:modelValue"],Mme={key:0,class:"invalid-feedback"},Kme={key:6},Jme={class:"form-label"},Bme={key:0,class:"text-danger"},Ome=["onUpdate:modelValue"],Hme=["value"],Yme=["value"],Zme=["value"],Gme={key:1,class:"invalid-feedback"},ebe={class:"card-footer text-end"},abe={type:"submit",class:"btn btn-primary"},tbe={key:0},sbe={key:1};function rbe(e,a,t,l,i,o){const d=(0,r.g2)("router-link"),c=(0,r.g2)("search");return(0,r.uX)(),(0,r.CE)("div",Upe,[(0,r.Lk)("div",jpe,[(0,r.Lk)("div",null,[(0,r.Lk)("ol",zpe,[(0,r.Lk)("li",Wpe,[(0,r.bF)(d,{to:"/dashboard"},{default:(0,r.k6)((()=>a[7]||(a[7]=[(0,r.eW)("Dashboard")]))),_:1})]),a[9]||(a[9]=(0,r.Lk)("li",{class:"breadcrumb-item"},[(0,r.Lk)("a",{href:"javascript:void(0)"},"Masters")],-1)),(0,r.Lk)("li",Rpe,[(0,r.bF)(d,{to:"/break_down_lists"},{default:(0,r.k6)((()=>a[8]||(a[8]=[(0,r.eW)("Break Down Lists")]))),_:1})]),i.status?((0,r.uX)(),(0,r.CE)("li",qpe,"New Break Down List")):((0,r.uX)(),(0,r.CE)("li",Ipe,"Update Break Down List"))]),a[10]||(a[10]=(0,r.Lk)("h4",{class:"main-title mb-0"},"Break Down Lists",-1))]),(0,r.bF)(d,{to:"/break_down_lists",type:"submit",class:"btn btn-primary",style:{float:"right"}},{default:(0,r.k6)((()=>a[11]||(a[11]=[(0,r.Lk)("i",{class:"ri-list-check"},null,-1),(0,r.eW)(" BREAK DOWN LISTS")]))),_:1})]),(0,r.Lk)("div",Npe,[(0,r.Lk)("div",Mpe,[(0,r.Lk)("form",{onSubmit:a[6]||(a[6]=(0,s.D$)((e=>o.submitForm()),["prevent"]))},[(0,r.Lk)("div",Kpe,[(0,r.Lk)("div",Jpe,[i.status?((0,r.uX)(),(0,r.CE)("h6",Bpe,"Add Break Down List")):((0,r.uX)(),(0,r.CE)("h6",Ope,"Update Break Down List"))]),(0,r.Lk)("div",Hpe,[(0,r.Lk)("div",Ype,[(0,r.Lk)("div",Zpe,[(0,r.Lk)("div",Gpe,[a[14]||(a[14]=(0,r.Lk)("label",{class:"form-label"},"Asset Type",-1)),a[15]||(a[15]=(0,r.Lk)("span",{class:"text-danger"}," *",-1)),(0,r.Lk)("div",{class:"dropdown",onClick:a[0]||(a[0]=e=>o.toggleAssetTypeStatus())},[a[13]||(a[13]=(0,r.Lk)("div",{class:"overselect"},null,-1)),(0,r.Lk)("select",{class:(0,n.C4)(["form-control",{"is-invalid":i.errors.asset_types}]),customClass:{"is-invalid":i.errors.asset_types}},a[12]||(a[12]=[(0,r.Lk)("option",{value:""},"Select Asset Type",-1)]),10,eme),i.errors.asset_types?((0,r.uX)(),(0,r.CE)("span",ame,[(0,r.Lk)("small",tme,(0,n.v_)(i.errors.asset_types[0]),1)])):(0,r.Q3)("",!0)]),i.asset_type_status?((0,r.uX)(),(0,r.CE)("div",sme,[(0,r.Lk)("ul",null,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(i.asset_types,((e,t)=>((0,r.uX)(),(0,r.CE)("li",{class:"",key:t},[(0,r.bo)((0,r.Lk)("input",{type:"checkbox",value:e.asset_type_id,"onUpdate:modelValue":a[1]||(a[1]=e=>i.break_down.asset_types=e),style:{padding:"2px"}},null,8,rme),[[s.lH,i.break_down.asset_types]]),(0,r.Lk)("label",lme,(0,n.v_)(e.asset_type_name),1)])))),128))])])):(0,r.Q3)("",!0)])]),(0,r.Lk)("div",ime,[a[16]||(a[16]=(0,r.Lk)("label",{class:"form-label"},"Break Down Types",-1)),a[17]||(a[17]=(0,r.Lk)("span",{class:"text-danger"}," *",-1)),(0,r.bF)(c,{class:(0,n.C4)({"is-invalid":i.errors.break_down_type_id}),customClass:{"is-invalid":i.errors.break_down_type_id},initialize:i.break_down.break_down_type_id,id:"break_down_type_id",label:"break_down_type_name",placeholder:"Select Break Down Type",data:i.break_down_types,onInput:a[2]||(a[2]=e=>i.break_down.break_down_type_id=e),onSelectsearch:a[3]||(a[3]=e=>o.getBreakDownTypeFields(i.break_down.break_down_type_id))},null,8,["class","customClass","initialize","data"]),i.errors.break_down_type_id?((0,r.uX)(),(0,r.CE)("span",ome,[(0,r.Lk)("small",dme,(0,n.v_)(i.errors.break_down_type_id[0]),1)])):(0,r.Q3)("",!0)]),(0,r.Lk)("div",nme,[a[18]||(a[18]=(0,r.Lk)("label",{class:"form-label"},"Break Down List Code",-1)),a[19]||(a[19]=(0,r.Lk)("span",{class:"text-danger"}," *",-1)),(0,r.bo)((0,r.Lk)("input",{type:"text",placeholder:"Break Down List Code",class:(0,n.C4)(["form-control",{"is-invalid":i.errors.break_down_list_code}]),"onUpdate:modelValue":a[4]||(a[4]=e=>i.break_down.break_down_list_code=e)},null,2),[[s.Jo,i.break_down.break_down_list_code]]),i.errors.break_down_list_code?((0,r.uX)(),(0,r.CE)("span",cme,(0,n.v_)(i.errors.break_down_list_code[0]),1)):(0,r.Q3)("",!0)]),(0,r.Lk)("div",ume,[a[20]||(a[20]=(0,r.Lk)("label",{class:"form-label"},"Break Down List Name",-1)),a[21]||(a[21]=(0,r.Lk)("span",{class:"text-danger"}," *",-1)),(0,r.bo)((0,r.Lk)("input",{type:"text",placeholder:"Break Down List Name",class:(0,n.C4)(["form-control",{"is-invalid":i.errors.break_down_list_name}]),"onUpdate:modelValue":a[5]||(a[5]=e=>i.break_down.break_down_list_name=e)},null,2),[[s.Jo,i.break_down.break_down_list_name]]),i.errors.break_down_list_name?((0,r.uX)(),(0,r.CE)("span",_me,(0,n.v_)(i.errors.break_down_list_name[0]),1)):(0,r.Q3)("",!0)]),((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(i.break_down.break_down_attributes,((e,a)=>((0,r.uX)(),(0,r.CE)("div",{class:"col-md-4",key:a},["Text"==e.field_type?((0,r.uX)(),(0,r.CE)("div",pme,[(0,r.Lk)("label",mme,(0,n.v_)(e.display_name),1),e.is_required?((0,r.uX)(),(0,r.CE)("span",bme,"*")):(0,r.Q3)("",!0),(0,r.bo)((0,r.Lk)("input",{type:"text",class:(0,n.C4)(["form-control",{"is-invalid":i.errors[e.display_name]}]),placeholder:"Enter "+e.display_name,"onUpdate:modelValue":a=>e.break_down_attribute_value.field_value=a},null,10,kme),[[s.Jo,e.break_down_attribute_value.field_value]]),i.errors[e.display_name]?((0,r.uX)(),(0,r.CE)("span",vme,(0,n.v_)(i.errors[e.display_name][0]),1)):(0,r.Q3)("",!0)])):(0,r.Q3)("",!0),"Number"==e.field_type?((0,r.uX)(),(0,r.CE)("div",hme,[(0,r.Lk)("label",yme,(0,n.v_)(e.display_name),1),e.is_required?((0,r.uX)(),(0,r.CE)("span",gme,"*")):(0,r.Q3)("",!0),(0,r.bo)((0,r.Lk)("input",{type:"number",class:(0,n.C4)(["form-control",{"is-invalid":i.errors[e.display_name]}]),min:"0",oninput:"validity.valid||(value='');",placeholder:"Enter "+e.display_name,"onUpdate:modelValue":a=>e.break_down_attribute_value.field_value=a},null,10,fme),[[s.Jo,e.break_down_attribute_value.field_value]]),i.errors[e.display_name]?((0,r.uX)(),(0,r.CE)("span",Lme,(0,n.v_)(i.errors[e.display_name][0]),1)):(0,r.Q3)("",!0)])):(0,r.Q3)("",!0),"Date"===e.field_type?((0,r.uX)(),(0,r.CE)("div",Cme,[(0,r.Lk)("label",wme,[(0,r.eW)((0,n.v_)(e.display_name)+" ",1),e.is_required?((0,r.uX)(),(0,r.CE)("span",Eme,"*")):(0,r.Q3)("",!0)]),(0,r.bo)((0,r.Lk)("input",{type:"date",class:(0,n.C4)(["form-control",{"is-invalid":i.errors[e.display_name]}]),placeholder:"Enter "+e.display_name,"onUpdate:modelValue":a=>e.break_down_attribute_value.field_value=a},null,10,xme),[[s.Jo,e.break_down_attribute_value.field_value]]),i.errors[e.display_name]?((0,r.uX)(),(0,r.CE)("span",Xme,(0,n.v_)(i.errors[e.display_name][0]),1)):(0,r.Q3)("",!0)])):(0,r.Q3)("",!0),"Date&Time"===e.field_type?((0,r.uX)(),(0,r.CE)("div",Pme,[(0,r.Lk)("label",$me,[(0,r.eW)((0,n.v_)(e.display_name)+" ",1),e.is_required?((0,r.uX)(),(0,r.CE)("span",Sme,"*")):(0,r.Q3)("",!0)]),(0,r.bo)((0,r.Lk)("input",{type:"datetime-local",class:(0,n.C4)(["form-control",{"is-invalid":i.errors[e.display_name]}]),placeholder:"Enter "+e.display_name,"onUpdate:modelValue":a=>e.break_down_attribute_value.field_value=a,step:"1"},null,10,Ame),[[s.Jo,e.break_down_attribute_value.field_value]]),i.errors[e.display_name]?((0,r.uX)(),(0,r.CE)("span",Dme,(0,n.v_)(i.errors[e.display_name][0]),1)):(0,r.Q3)("",!0)])):(0,r.Q3)("",!0),"Dropdown"==e.field_type?((0,r.uX)(),(0,r.CE)("div",Tme,[(0,r.Lk)("label",Qme,(0,n.v_)(e.display_name),1),e.is_required?((0,r.uX)(),(0,r.CE)("span",Vme,"*")):(0,r.Q3)("",!0),(0,r.bo)((0,r.Lk)("select",{class:(0,n.C4)(["form-control",{"is-invalid":i.errors[e.display_name]}]),"onUpdate:modelValue":a=>e.break_down_attribute_value.field_value=a},[e.break_down_attribute_value.field_value?((0,r.uX)(),(0,r.CE)("option",{key:0,value:e.break_down_attribute_value.field_value},(0,n.v_)(e.break_down_attribute_value.field_value),9,Ume)):((0,r.uX)(),(0,r.CE)("option",{key:1,value:e.break_down_attribute_value.field_value},"Select "+(0,n.v_)(e.display_name),9,jme)),((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(e.field_values.split(","),((e,a)=>((0,r.uX)(),(0,r.CE)("option",{key:a,value:e},(0,n.v_)(e),9,zme)))),128))],10,Fme),[[s.u1,e.break_down_attribute_value.field_value]]),i.errors[e.display_name]?((0,r.uX)(),(0,r.CE)("span",Wme,(0,n.v_)(i.errors[e.display_name][0]),1)):(0,r.Q3)("",!0)])):(0,r.Q3)("",!0),"Color"==e.field_type?((0,r.uX)(),(0,r.CE)("div",Rme,[(0,r.Lk)("label",qme,[(0,r.eW)((0,n.v_)(e.display_name),1),e.is_required?((0,r.uX)(),(0,r.CE)("span",Ime,"*")):(0,r.Q3)("",!0)]),(0,r.bo)((0,r.Lk)("input",{type:"color",class:"form-control","onUpdate:modelValue":a=>e.break_down_attribute_value.field_value=a,style:{height:"2.2rem"}},null,8,Nme),[[s.Jo,e.break_down_attribute_value.field_value]]),i.errors[e.display_name]?((0,r.uX)(),(0,r.CE)("span",Mme,(0,n.v_)(i.errors[e.display_name][0]),1)):(0,r.Q3)("",!0)])):(0,r.Q3)("",!0),"List"==e.field_type?((0,r.uX)(),(0,r.CE)("div",Kme,[(0,r.Lk)("label",Jme,(0,n.v_)(e.display_name),1),e.is_required?((0,r.uX)(),(0,r.CE)("span",Bme,"*")):(0,r.Q3)("",!0),(0,r.bo)((0,r.Lk)("select",{class:(0,n.C4)(["form-control",{"is-invalid":i.errors[e.display_name]}]),"onUpdate:modelValue":a=>e.break_down_attribute_value.field_value=a},[e.break_down_attribute_value.field_value?((0,r.uX)(),(0,r.CE)("option",{key:0,value:e.break_down_attribute_value.field_value},(0,n.v_)(e.break_down_attribute_value.field_value),9,Hme)):((0,r.uX)(),(0,r.CE)("option",{key:1,value:e.break_down_attribute_value.field_value},"Select "+(0,n.v_)(e.display_name),9,Yme)),((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(e.list_parameter?.field_values.split(","),((e,a)=>((0,r.uX)(),(0,r.CE)("option",{key:a,value:e},(0,n.v_)(e),9,Zme)))),128))],10,Ome),[[s.u1,e.break_down_attribute_value.field_value]]),i.errors[e.display_name]?((0,r.uX)(),(0,r.CE)("span",Gme,(0,n.v_)(i.errors[e.display_name][0]),1)):(0,r.Q3)("",!0)])):(0,r.Q3)("",!0)])))),128))])]),(0,r.Lk)("div",ebe,[(0,r.bF)(d,{type:"button",class:"btn btn-danger me-2",to:"/break_down_lists"},{default:(0,r.k6)((()=>a[22]||(a[22]=[(0,r.Lk)("i",{class:"ri-close-line fs-18 lh-1"},null,-1),(0,r.eW)(" Discard")]))),_:1}),(0,r.Lk)("button",abe,[i.status?((0,r.uX)(),(0,r.CE)("span",tbe,a[23]||(a[23]=[(0,r.Lk)("i",{class:"ri-save-line fs-18 lh-1"},null,-1),(0,r.eW)(" Submit")]))):((0,r.uX)(),(0,r.CE)("span",sbe,a[24]||(a[24]=[(0,r.Lk)("i",{class:"ri-save-line fs-18 lh-1"},null,-1),(0,r.eW)(" Update")])))])])])],32)])])])}var lbe={components:{Pagination:md,Search:It.A},data(){return{break_downs:[],break_down:{break_down_list_id:"",break_down_type_id:"",break_down_list_code:"",break_down_list_name:"",break_down_attributes:[],asset_types:[],frequency_id:"",deleted_break_down_attribute_values:[]},status:!0,errors:[],deleted_break_down_attribute_values:[],break_down_types:[],asset_types:[],frequencies:[],show_break_downs:[],asset_type_status:!1}},beforeRouteEnter(e,a,t){t((a=>{if(a.getAssetTypes(),"BreakDownLists.Create"==e.name);else{a.status=!1;let t={uri:"getBreakDownData",data:{break_down_list_id:e.params.break_down_list_id}};a.$store.dispatch("post",t).then((function(e){a.break_down=e.data.data,a.break_down.break_down_attributes.map((function(e){a.deleted_break_down_attribute_values.push(e.break_down_attribute_value.break_down_attribute_value_id)})),a.break_down.deleted_break_down_attribute_values=[]})).catch((function(e){a.errors=e.response.data.errors,a.$store.dispatch("error",e.response.data.message)}))}}))},methods:{toggleAssetTypeStatus(){this.asset_type_status=!this.asset_type_status},submitForm(){let e=this;e.status?e.addBreakDown():e.updateBreakDown()},validateFields(){let e=!0;this.errors={},this.break_down.break_down_list_code||(this.errors.break_down_list_code=["Break Down Code is required"],e=!1),this.break_down.break_down_list_name||(this.errors.break_down_list_name=["Break Down Name is required"],e=!1),this.break_down.break_down_type_id||(this.errors.break_down_type_id=["Break Down Type is required"],e=!1),0===this.break_down.asset_types.length&&(this.errors.asset_types=["At least one Asset Type must be selected"],e=!1);for(const a of Object.values(this.break_down.break_down_attributes))a.is_required&&!a.break_down_attribute_value.field_value&&(this.errors[a.display_name]=[`${a.display_name} is required`],e=!1);return e},addBreakDown(){if(!this.validateFields())return;let e=this,a=e.$loading.show();e.$store.dispatch("post",{uri:"addBreakDownList",data:e.break_down}).then((t=>{a.hide(),e.$store.dispatch("success",t.data.message),e.$router.push("/break_down_lists")})).catch((function(t){a.hide(),e.errors=t.response.data.errors,e.$store.dispatch("error",t.response.data.message)}))},getAssetTypes(){let e=this,a=e.$loading.show();e.$store.dispatch("post",{uri:"getAssetTypes"}).then((t=>{a.hide(),e.asset_types=t.data.data,e.getBreakDownTypes()})).catch((function(t){a.hide(),e.errors=t.response.data.errors,e.$store.dispatch("error",t.response.data.message)}))},getFrequencies(){let e=this,a=e.$loading.show();e.$store.dispatch("post",{uri:"getFrequencies"}).then((t=>{a.hide(),e.frequencies=t.data.data})).catch((function(t){a.hide(),e.errors=t.response.data.errors,e.$store.dispatch("error",t.response.data.message)}))},updateBreakDown(){if(!this.validateFields())return;let e=this,a=e.$loading.show();e.$store.dispatch("post",{uri:"updateBreakDownList",data:e.break_down}).then((t=>{a.hide(),e.$store.dispatch("success",t.data.message),e.$router.push("/break_down_lists")})).catch((function(t){a.hide(),e.errors=t.response.data.errors,e.$store.dispatch("error",t.response.data.message)}))},getBreakDownTypes(){let e=this,a=e.$loading.show();e.$store.dispatch("post",{uri:"getBreakDownTypes"}).then((t=>{a.hide(),e.break_down_types=t.data.data,e.getFrequencies()})).catch((function(t){a.hide(),e.errors=t.response.data.errors,e.$store.dispatch("error",t.response.data.message)}))},getBreakDownTypeFields(e){let a=this,t=a.$loading.show();a.deleted_break_down_attribute_values.length&&(a.break_down.deleted_break_down_attribute_values=a.deleted_break_down_attribute_values),a.$store.dispatch("post",{uri:"getBreakDownsDropdown",data:{break_down_type_id:e}}).then((e=>{t.hide(),a.break_down.break_down_attributes=e.data.data})).catch((function(e){t.hide(),a.errors=e.response.data.errors,a.$store.dispatch("error",e.response.data.message)}))},discard(){let e=this;e.break_down.break_down_type_id="",e.break_down.break_down_list_code="",e.break_down.break_down_list_name="",e.break_down.asset_types=[],e.break_down.frequency_id="",e.show_break_downs=[],e.break_down.break_down_attributes=[],e.errors=[],e.status=!0}}};const ibe=(0,Ze.A)(lbe,[["render",rbe],["__scopeId","data-v-07387604"]]);var obe=ibe;const dbe={class:""},nbe={class:"d-sm-flex align-items-center justify-content-between mb-2"},cbe={class:"breadcrumb fs-sm mb-1"},ube={class:"breadcrumb-item","aria-current":"page"},_be={class:"row"},pbe={class:"col-12"},mbe={class:"card card-one"},bbe={class:"card-body"},kbe={class:"table-responsive table-responsive-sm"},vbe={class:"table table-sm text-nowrap table-striped table-bordered mb-0"},hbe={class:"",style:{"background-color":"#9b9b9b",color:"white"}},ybe={key:0,class:"ri-arrow-up-line"},gbe={key:1,class:"ri-arrow-down-line"},fbe={key:2,class:"fas fa-sort"},Lbe={key:0,class:"ri-arrow-up-line"},Cbe={key:1,class:"ri-arrow-down-line"},wbe={key:2,class:"fas fa-sort"},Ebe={key:0,class:"ri-arrow-up-line"},xbe={key:1,class:"ri-arrow-down-line"},Xbe={key:2,class:"fas fa-sort"},Pbe={key:0,class:"ri-arrow-up-line"},$be={key:1,class:"ri-arrow-down-line"},Sbe={key:2,class:"fas fa-sort"},Abe={key:0},Dbe={class:"text-center"},Tbe={class:"text-center"},Qbe={class:"form-switch"},Vbe=["id","checked","value","onChange"],Fbe=["for"],Ube={class:"text-center"},jbe=["onClick"],zbe={class:"card-footer"},Wbe={class:"d-flex justify-content-between align-items-center"};function Rbe(e,a,t,l,i,o){const d=(0,r.g2)("router-link"),c=(0,r.g2)("Pagination");return(0,r.uX)(),(0,r.CE)("div",dbe,[(0,r.Lk)("div",nbe,[(0,r.Lk)("div",null,[(0,r.Lk)("ol",cbe,[(0,r.Lk)("li",ube,[(0,r.bF)(d,{to:"/dashboard"},{default:(0,r.k6)((()=>a[7]||(a[7]=[(0,r.eW)("Dashboard")]))),_:1})]),a[8]||(a[8]=(0,r.Lk)("li",{class:"breadcrumb-item"},[(0,r.Lk)("a",{href:"javascript:void(0)"},"Masters")],-1)),a[9]||(a[9]=(0,r.Lk)("li",{class:"breadcrumb-item active","aria-current":"page"},"Break Down Lists",-1))]),a[10]||(a[10]=(0,r.Lk)("h4",{class:"main-title mb-0"},"Break Down Lists",-1))]),(0,r.bF)(d,{to:"/break_down_lists/create",class:"btn btn-primary",style:{float:"right"}},{default:(0,r.k6)((()=>a[11]||(a[11]=[(0,r.Lk)("i",{class:"ri-list-check"},null,-1),(0,r.eW)(" ADD BREAK DOWN LIST")]))),_:1})]),(0,r.Lk)("div",_be,[(0,r.Lk)("div",pbe,[(0,r.Lk)("div",mbe,[a[22]||(a[22]=(0,r.Lk)("div",{class:"card-header d-flex justify-content-between"},[(0,r.Lk)("h6",{class:"card-title"},"Break Down Lists")],-1)),(0,r.Lk)("div",bbe,[(0,r.bo)((0,r.Lk)("input",{class:"form-control mb-2",type:"text",placeholder:"Type keyword and press enter key","onUpdate:modelValue":a[0]||(a[0]=e=>i.meta.search=e),onKeypress:a[1]||(a[1]=(0,s.jR)((e=>o.search()),["enter"]))},null,544),[[s.Jo,i.meta.search]]),(0,r.Lk)("div",kbe,[(0,r.Lk)("table",vbe,[(0,r.Lk)("thead",null,[(0,r.Lk)("tr",hbe,[a[16]||(a[16]=(0,r.Lk)("th",{class:"text-center"},"#",-1)),(0,r.Lk)("th",{onClick:a[2]||(a[2]=e=>o.sort("break_down_list_id"))},[a[12]||(a[12]=(0,r.eW)(" Break Down Type ")),(0,r.Lk)("span",null,["break_down_list_id"==i.meta.keyword&&"asc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",ybe)):"break_down_list_id"==i.meta.keyword&&"desc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",gbe)):((0,r.uX)(),(0,r.CE)("i",fbe))])]),(0,r.Lk)("th",{onClick:a[3]||(a[3]=e=>o.sort("break_down_list_code"))},[a[13]||(a[13]=(0,r.eW)(" Break Down List Code ")),(0,r.Lk)("span",null,["break_down_list_code"==i.meta.keyword&&"asc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",Lbe)):"break_down_list_code"==i.meta.keyword&&"desc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",Cbe)):((0,r.uX)(),(0,r.CE)("i",wbe))])]),(0,r.Lk)("th",{onClick:a[4]||(a[4]=e=>o.sort("break_down_list_name"))},[a[14]||(a[14]=(0,r.eW)(" Break Down List Name ")),(0,r.Lk)("span",null,["break_down_list_name"==i.meta.keyword&&"asc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",Ebe)):"break_down_list_name"==i.meta.keyword&&"desc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",xbe)):((0,r.uX)(),(0,r.CE)("i",Xbe))])]),(0,r.Lk)("th",null,[a[15]||(a[15]=(0,r.eW)(" Asset Type ")),(0,r.Lk)("span",null,["asset_type_id"==i.meta.keyword&&"asc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",Pbe)):"asset_type_id"==i.meta.keyword&&"desc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",$be)):((0,r.uX)(),(0,r.CE)("i",Sbe))])]),a[17]||(a[17]=(0,r.Lk)("th",{class:"text-center"},"Status",-1)),a[18]||(a[18]=(0,r.Lk)("th",{class:"text-center"},"Actions",-1))])]),(0,r.Lk)("tbody",null,[0==i.break_down_lists.length?((0,r.uX)(),(0,r.CE)("tr",Abe,a[19]||(a[19]=[(0,r.Lk)("td",{colspan:"7",class:"text-center"},"No records found",-1)]))):(0,r.Q3)("",!0),((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(i.break_down_lists,((e,t)=>((0,r.uX)(),(0,r.CE)("tr",{key:t},[(0,r.Lk)("td",Dbe,(0,n.v_)(i.meta.from+t),1),(0,r.Lk)("td",null,(0,n.v_)(e.break_down_type?.break_down_type_name),1),(0,r.Lk)("td",null,(0,n.v_)(e.break_down_list_code),1),(0,r.Lk)("td",null,(0,n.v_)(e.break_down_list_name),1),(0,r.Lk)("td",null,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(e.break_down_list_asset_types,((e,a)=>((0,r.uX)(),(0,r.CE)("span",{key:a},(0,n.v_)(e?.asset_types?.asset_type_name)+", ",1)))),128))]),(0,r.Lk)("td",Tbe,[(0,r.Lk)("div",Qbe,[(0,r.Lk)("input",{class:"form-check-input",type:"checkbox",role:"switch",id:"break_down_list"+e.break_down_list_id,checked:e.status,value:e.status,onChange:a=>o.deleteBreakDownList(e)},null,40,Vbe),(0,r.Lk)("label",{class:"custom-control-label",for:"break_down_list"+e.break_down_list_id},null,8,Fbe)])]),(0,r.Lk)("td",Ube,[e.status?((0,r.uX)(),(0,r.CE)("a",{key:0,href:"javascript:void(0)",class:"text-success me-2",onClick:a=>o.editBreakDownList(e)},a[20]||(a[20]=[(0,r.Lk)("i",{class:"ri-pencil-line fs-18 lh-1"},null,-1)]),8,jbe)):(0,r.Q3)("",!0)])])))),128))])])])]),(0,r.Lk)("div",zbe,[(0,r.Lk)("div",Wbe,[(0,r.bo)((0,r.Lk)("select",{class:"form-select from-select-sm width-75","onUpdate:modelValue":a[5]||(a[5]=e=>i.meta.per_page=e),onChange:a[6]||(a[6]=(...e)=>o.onPerPageChange&&o.onPerPageChange(...e))},a[21]||(a[21]=[(0,r.Lk)("option",null,"10",-1),(0,r.Lk)("option",null,"15",-1),(0,r.Lk)("option",null,"20",-1),(0,r.Lk)("option",null,"25",-1),(0,r.Lk)("option",null,"30",-1)]),544),[[s.u1,i.meta.per_page]]),(0,r.Lk)("span",null,"Showing "+(0,n.v_)(i.meta.from)+" to "+(0,n.v_)(i.meta.to)+" of "+(0,n.v_)(i.meta.totalRows)+" entries",1),(0,r.bF)(c,{maxPage:i.meta.maxPage,totalPages:i.meta.lastPage,currentPage:i.meta.page,onPagechanged:o.onPageChange},null,8,["maxPage","totalPages","currentPage","onPagechanged"])])])])])])])}var qbe={components:{Pagination:md},data(){return{meta:{search:"",order_by:"desc",keyword:"break_down_list_id",per_page:10,totalRows:0,page:1,lastPage:1,from:1,maxPage:1},break_down_list:{break_down_list_id:""},break_down_lists:[],errors:[],update:!1}},beforeRouteEnter(e,a,t){t((e=>{"BreakDownLists.Edit"!=a.name?e.$store.commit("setCurrentPage",e.meta.page):e.meta.page=e.$store.getters.current_page}))},mounted(){this.index()},methods:{index(){let e=this,a=this.$loading.show();this.$store.dispatch("post",{uri:"paginateBreakDownLists",data:e.meta}).then((t=>{a.hide(),console.log("breakdown-response",t),this.break_down_lists=t.data.data,this.meta.totalRows=t.data.meta.total,this.meta.from=t.data.meta.from,this.meta.lastPage=t.data.meta.last_page,this.meta.maxPage=e.meta.lastPage>=3?3:e.meta.lastPage})).catch((function(t){a.hide(),console.log("breakdown-error",t),e.errors=t.response.data.errors,e.$store.dispatch("error",t.response.data.message)}))},editBreakDownList(e){console.log("ddd---",e),this.$store.commit("setCurrentPage",this.meta.page),this.$router.push("/break_down_lists/"+e.break_down_list_id+"/edit")},deleteBreakDownList(e){let a=this,t=a.$loading.show();a.$store.dispatch("post",{uri:"deleteBreakDownList",data:e}).then((e=>{t.hide(),a.$store.dispatch("success",e.data.message),a.index()})).catch((function(e){t.hide(),a.errors=e.response.data.errors,a.$store.dispatch("error",e.response.data.message)}))},onPageChange(e){this.meta.page=e,this.index()},sort(e){this.meta.keyword=e,this.meta.order_by="asc"==this.meta.order_by?"desc":"asc",this.index()},search(){let e=this;e.meta.page=1,e.index()},onPerPageChange(){let e=this;e.meta.page=1,e.index()}}};const Ibe=(0,Ze.A)(qbe,[["render",Rbe]]);var Nbe=Ibe;const Mbe={class:""},Kbe={class:"breadcrumb fs-sm mb-1"},Jbe={class:"breadcrumb-item"},Bbe={class:"row g-2"},Obe={class:"col-4"},Hbe={class:"card card-one"},Ybe={class:"card-header d-flex justify-content-between"},Zbe={key:0,class:"card-title"},Gbe={key:1,class:"card-title"},eke={class:"card-body"},ake={class:"row g-2"},tke={class:"col-md-12"},ske=["disabled"],rke={key:0},lke={class:"text-danger"},ike={class:"col-md-12"},oke={class:"card-footer text-end"},dke={type:"submit",class:"btn btn-primary"},nke={key:0},cke={key:1},uke={class:"card card-one"},_ke={class:"card-body"},pke={class:"table-responsive table-responsive-sm"},mke={class:"table table-sm text-nowrap table-striped table-bordered mb-0"},bke={style:{"background-color":"#9b9b9b",color:"white"}},kke={key:0,class:"ri-arrow-up-line"},vke={key:1,class:"ri-arrow-down-line"},hke={key:2,class:"fas fa-sort"},yke={key:0,class:"ri-arrow-up-line"},gke={key:1,class:"ri-arrow-down-line"},fke={key:2,class:"fas fa-sort"},Lke={class:"text-center"},Cke={class:"text-center"},wke={key:0},Eke={class:"text-center"},xke={class:"text-center"},Xke={class:"form-switch"},Pke=["id","checked","value","onChange"],$ke=["for"],Ske={class:"text-center"},Ake=["onClick"],Dke={class:"card-footer"},Tke={class:"d-flex justify-content-between align-items-center"};function Qke(e,a,t,l,i,o){const d=(0,r.g2)("router-link"),c=(0,r.g2)("Pagination"),u=(0,r.gN)("can");return(0,r.uX)(),(0,r.CE)("div",Mbe,[(0,r.Lk)("div",null,[(0,r.Lk)("ol",Kbe,[(0,r.Lk)("li",Jbe,[(0,r.bF)(d,{to:"/dashboard"},{default:(0,r.k6)((()=>a[10]||(a[10]=[(0,r.eW)("Dashboard")]))),_:1})]),a[11]||(a[11]=(0,r.Lk)("li",{class:"breadcrumb-item","aria-current":"page"},[(0,r.Lk)("a",{href:"javascript:void(0)"},"User Management")],-1)),a[12]||(a[12]=(0,r.Lk)("li",{class:"breadcrumb-item active","aria-current":"page"},"Role",-1))]),a[13]||(a[13]=(0,r.Lk)("h4",{class:"main-title mb-2"},"Role",-1))]),(0,r.Lk)("div",Bbe,[(0,r.bo)(((0,r.uX)(),(0,r.CE)("div",Obe,[(0,r.Lk)("form",{onSubmit:a[3]||(a[3]=(0,s.D$)((e=>o.submitForm()),["prevent"]))},[(0,r.Lk)("div",Hbe,[(0,r.Lk)("div",Ybe,[i.status?((0,r.uX)(),(0,r.CE)("h6",Zbe,"Add Role")):((0,r.uX)(),(0,r.CE)("h6",Gbe,"Update Role"))]),(0,r.Lk)("div",eke,[(0,r.Lk)("div",ake,[(0,r.Lk)("div",tke,[a[14]||(a[14]=(0,r.Lk)("label",{class:"form-label"},"Role",-1)),a[15]||(a[15]=(0,r.Lk)("span",{class:"text-danger"}," *",-1)),(0,r.bo)((0,r.Lk)("input",{type:"text",placeholder:"Role",class:(0,n.C4)([{"is-invalid":i.errors.role},"form-control"]),"onUpdate:modelValue":a[0]||(a[0]=e=>i.role.role=e),ref:"role",disabled:!i.status},null,10,ske),[[s.Jo,i.role.role]]),i.errors.role?((0,r.uX)(),(0,r.CE)("span",rke,[(0,r.Lk)("small",lke,(0,n.v_)(i.errors.role[0]),1)])):(0,r.Q3)("",!0)]),(0,r.Lk)("div",ike,[a[16]||(a[16]=(0,r.Lk)("label",{class:"form-label"},"Description",-1)),(0,r.bo)((0,r.Lk)("textarea",{rows:"2",type:"text",placeholder:"Description",class:"form-control","onUpdate:modelValue":a[1]||(a[1]=e=>i.role.description=e)},null,512),[[s.Jo,i.role.description]])])])]),(0,r.Lk)("div",oke,[(0,r.Lk)("button",{type:"button",class:"btn btn-danger me-2",onClick:a[2]||(a[2]=e=>o.discard())},a[17]||(a[17]=[(0,r.Lk)("i",{class:"ri-close-line fs-18 lh-1"},null,-1),(0,r.eW)(" Discard")])),(0,r.Lk)("button",dke,[i.status?((0,r.uX)(),(0,r.CE)("span",nke,a[18]||(a[18]=[(0,r.Lk)("i",{class:"ri-save-line fs-18 lh-1"},null,-1),(0,r.eW)(" Submit")]))):((0,r.uX)(),(0,r.CE)("span",cke,a[19]||(a[19]=[(0,r.Lk)("i",{class:"ri-save-line fs-18 lh-1"},null,-1),(0,r.eW)(" Update")])))])])])],32)])),[[u,"roles.create"]]),(0,r.Lk)("div",{class:(0,n.C4)(i.column)},[(0,r.Lk)("div",uke,[a[28]||(a[28]=(0,r.Lk)("div",{class:"card-header d-flex justify-content-between"},[(0,r.Lk)("h6",{class:"card-title"},"Roles")],-1)),(0,r.Lk)("div",_ke,[(0,r.bo)((0,r.Lk)("input",{class:"form-control form-control-sm mb-2",type:"text",placeholder:"Type keyword and press enter key","onUpdate:modelValue":a[4]||(a[4]=e=>i.meta.search=e),onKeypress:a[5]||(a[5]=(0,s.jR)((e=>o.search()),["enter"]))},null,544),[[s.Jo,i.meta.search]]),(0,r.Lk)("div",pke,[(0,r.Lk)("table",mke,[(0,r.Lk)("thead",null,[(0,r.Lk)("tr",bke,[a[24]||(a[24]=(0,r.Lk)("th",{class:"text-center"},"#",-1)),(0,r.Lk)("th",{onClick:a[6]||(a[6]=e=>o.sort("role"))},[a[20]||(a[20]=(0,r.eW)(" Role ")),(0,r.Lk)("span",null,["role"==i.meta.keyword&&"asc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",kke)):"role"==i.meta.keyword&&"desc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",vke)):((0,r.uX)(),(0,r.CE)("i",hke))])]),(0,r.Lk)("th",{onClick:a[7]||(a[7]=e=>o.sort("description"))},[a[21]||(a[21]=(0,r.eW)(" Description ")),(0,r.Lk)("span",null,["description"==i.meta.keyword&&"asc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",yke)):"description"==i.meta.keyword&&"desc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",gke)):((0,r.uX)(),(0,r.CE)("i",fke))])]),(0,r.bo)(((0,r.uX)(),(0,r.CE)("th",Lke,a[22]||(a[22]=[(0,r.eW)("Status")]))),[[u,"roles.delete"]]),(0,r.bo)(((0,r.uX)(),(0,r.CE)("th",Cke,a[23]||(a[23]=[(0,r.eW)("Actions")]))),[[u,"roles.update"]])])]),(0,r.Lk)("tbody",null,[0==i.roles.length?((0,r.uX)(),(0,r.CE)("tr",wke,a[25]||(a[25]=[(0,r.Lk)("td",{colspan:"5",class:"text-center"},"No records found",-1)]))):(0,r.Q3)("",!0),((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(i.roles,((e,t)=>((0,r.uX)(),(0,r.CE)("tr",{key:t},[(0,r.Lk)("td",Eke,(0,n.v_)(i.meta.from+t),1),(0,r.Lk)("td",null,(0,n.v_)(e.role),1),(0,r.Lk)("td",null,(0,n.v_)(e.description),1),(0,r.bo)(((0,r.uX)(),(0,r.CE)("td",xke,[(0,r.Lk)("div",Xke,[(0,r.Lk)("input",{class:"form-check-input",type:"checkbox",role:"switch",id:"role"+e.role_id,checked:e.status,value:e.status,onChange:a=>o.deleteRole(e)},null,40,Pke),(0,r.Lk)("label",{class:"custom-control-label",for:"role"+e.role_id},null,8,$ke)])])),[[u,"roles.delete"]]),(0,r.bo)(((0,r.uX)(),(0,r.CE)("td",Ske,[e.status?((0,r.uX)(),(0,r.CE)("a",{key:0,href:"javascript:void(0)",class:"text-success",onClick:a=>o.editRole(e)},a[26]||(a[26]=[(0,r.Lk)("i",{class:"ri-pencil-line fs-18 lh-1"},null,-1)]),8,Ake)):(0,r.Q3)("",!0)])),[[u,"roles.update"]])])))),128))])])])]),(0,r.Lk)("div",Dke,[(0,r.Lk)("div",Tke,[(0,r.bo)((0,r.Lk)("select",{class:"form-select from-select-sm width-75","onUpdate:modelValue":a[8]||(a[8]=e=>i.meta.per_page=e),onChange:a[9]||(a[9]=(...e)=>o.onPerPageChange&&o.onPerPageChange(...e))},a[27]||(a[27]=[(0,r.Lk)("option",null,"10",-1),(0,r.Lk)("option",null,"15",-1),(0,r.Lk)("option",null,"20",-1),(0,r.Lk)("option",null,"25",-1),(0,r.Lk)("option",null,"30",-1)]),544),[[s.u1,i.meta.per_page]]),(0,r.Lk)("span",null,"Showing "+(0,n.v_)(i.meta.from)+" to "+(0,n.v_)(i.meta.to)+" of "+(0,n.v_)(i.meta.totalRows)+" entries",1),(0,r.bF)(c,{maxPage:i.meta.maxPage,totalPages:i.meta.lastPage,currentPage:i.meta.page,onPagechanged:o.onPageChange},null,8,["maxPage","totalPages","currentPage","onPagechanged"])])])])],2)])])}var Vke={components:{Pagination:md},data(){return{column:"col-8",meta:{search:"",order_by:"desc",keyword:"role_id",per_page:10,totalRows:0,page:1,lastPage:1,from:1,to:1,maxPage:1,trashed:!1},roles:[],role:{role_id:"",role:"",description:"",status:""},status:!0,errors:[],update:!1}},mounted(){this.create_role=this.$store.getters.permissions.filter((function(e){return e.ability.ability.includes("roles.create")})),this.create_role.length?this.column="col-8":this.column="col-12",this.index()},methods:{submitForm(){let e=this;e.status?e.addRole():e.updateRole()},index(){let e=this,a=e.$loading.show();e.$store.dispatch("post",{uri:"paginateRoles",data:e.meta}).then((t=>{a.hide(),e.roles=t.data.data,e.meta.totalRows=t.data.meta.total,e.meta.from=t.data.meta.from,e.meta.to=t.data.meta.to,e.meta.lastPage=t.data.meta.last_page,e.meta.maxPage=e.meta.lastPage>=3?3:e.meta.lastPage})).catch((function(t){a.hide(),e.errors=t.response.data.errors,e.$store.dispatch("error",t.response.data.message)}))},addRole(){let e=this,a=e.$loading.show();e.$store.dispatch("post",{uri:"addRole",data:e.role}).then((t=>{a.hide(),e.$store.dispatch("success",t.data.message),e.discard()})).catch((function(t){a.hide(),e.errors=t.response.data.errors,e.$store.dispatch("error",t.response.data.message)}))},deleteRole(e){let a=this,t=a.$loading.show();e.status=1==e.status?0:1,a.$store.dispatch("post",{uri:"deleteRole",data:e}).then((function(e){t.hide(),a.$store.dispatch("success",e.data.message),a.discard()})).catch((function(e){console.error(e)}))},editRole(e){let a=this;a.role=e,a.update=!0,a.status=!1},updateRole(){let e=this,a=e.$loading.show();e.$store.dispatch("post",{uri:"updateRole",data:e.role}).then((t=>{a.hide(),e.$store.dispatch("success",t.data.message),e.discard()})).catch((function(t){a.hide(),e.errors=t.response.data.errors,e.$store.dispatch("error",t.response.data.message)}))},onPageChange(e){this.meta.page=e,this.index()},sort(e){this.meta.keyword=e,this.meta.order_by="asc"==this.meta.order_by?"desc":"asc",this.index()},discard(){let e=this;e.role.role="",e.role.description="",e.$refs.role.focus(),e.errors=[],e.status=!0,e.index()},search(){let e=this;e.meta.page=1,e.index()},onPerPageChange(){let e=this;e.meta.page=1,e.index()}}};const Fke=(0,Ze.A)(Vke,[["render",Qke]]);var Uke=Fke;const jke={class:""},zke={class:"d-sm-flex align-items-center justify-content-between mb-2"},Wke={class:"breadcrumb fs-sm mb-1"},Rke={class:"breadcrumb-item","aria-current":"page"},qke={class:"breadcrumb-item","aria-current":"page"},Ike={key:0,class:"breadcrumb-item","aria-current":"page"},Nke={key:1,class:"breadcrumb-item active","aria-current":"page"},Mke={class:"row"},Kke={class:"col-12"},Jke={class:"card card-one"},Bke={class:"card-header d-flex justify-content-between"},Oke={key:0,class:"card-title"},Hke={key:1,class:"card-title"},Yke={class:"card-body"},Zke={class:"row g-2"},Gke={class:"col-md-6"},eve={key:0,class:"invalid-feedback"},ave={class:"col-md-6"},tve={key:0,class:"invalid-feedback"},sve={class:"col-md-3"},rve={class:"input-group"},lve=["type","disabled"],ive=["disabled"],ove={key:0,class:"invalid-feedback"},dve={class:"col-md-3"},nve={key:0,class:"invalid-feedback"},cve={class:"col-md-3"},uve={key:0,class:"invalid-feedback"},_ve={class:"col-md-3"},pve={key:0,class:"invalid-feedback"},mve={key:0,class:"col-md-3"},bve=["value"],kve={key:0,class:"invalid-feedback"},vve={class:"col-md-12"},hve={key:0,class:"invalid-feedback"},yve={class:"card-footer text-end"},gve={type:"submit",class:"btn btn-primary"},fve={key:0},Lve={key:1};function Cve(e,a,t,l,i,o){const d=(0,r.g2)("router-link"),c=(0,r.g2)("search");return(0,r.uX)(),(0,r.CE)("div",jke,[(0,r.Lk)("div",zke,[(0,r.Lk)("div",null,[(0,r.Lk)("ol",Wke,[(0,r.Lk)("li",Rke,[(0,r.bF)(d,{to:"/dashboard"},{default:(0,r.k6)((()=>a[11]||(a[11]=[(0,r.eW)("Dashboard")]))),_:1})]),a[13]||(a[13]=(0,r.Lk)("li",{class:"breadcrumb-item","aria-current":"page"},[(0,r.Lk)("a",{href:"javascript:void(0)"},"User Management")],-1)),(0,r.Lk)("li",qke,[(0,r.bF)(d,{to:"/users"},{default:(0,r.k6)((()=>a[12]||(a[12]=[(0,r.eW)("Users")]))),_:1})]),i.status?((0,r.uX)(),(0,r.CE)("li",Ike,"New User")):((0,r.uX)(),(0,r.CE)("li",Nke,"Update User"))]),a[14]||(a[14]=(0,r.Lk)("h4",{class:"main-title mb-0"},"User",-1))]),(0,r.bF)(d,{to:"/users",type:"submit",class:"btn btn-primary",style:{float:"right"}},{default:(0,r.k6)((()=>a[15]||(a[15]=[(0,r.Lk)("i",{class:"ri-list-check"},null,-1),(0,r.eW)(" USERS")]))),_:1})]),(0,r.Lk)("div",Mke,[(0,r.Lk)("div",Kke,[(0,r.Lk)("form",{onSubmit:a[10]||(a[10]=(0,s.D$)(((...e)=>o.submitForm&&o.submitForm(...e)),["prevent"]))},[(0,r.Lk)("div",Jke,[(0,r.Lk)("div",Bke,[i.status?((0,r.uX)(),(0,r.CE)("h6",Oke,"New User")):((0,r.uX)(),(0,r.CE)("h6",Hke,"Update User"))]),(0,r.Lk)("div",Yke,[(0,r.Lk)("div",Zke,[(0,r.Lk)("div",Gke,[a[16]||(a[16]=(0,r.Lk)("label",{class:"form-label"},"Name",-1)),a[17]||(a[17]=(0,r.Lk)("span",{class:"text-danger"}," *",-1)),(0,r.bo)((0,r.Lk)("input",{type:"text",placeholder:"Name",class:(0,n.C4)(["form-control",{"is-invalid":i.errors?.name}]),"onUpdate:modelValue":a[0]||(a[0]=e=>i.user.name=e),ref:"name"},null,2),[[s.Jo,i.user.name]]),i.errors?.name?((0,r.uX)(),(0,r.CE)("span",eve,(0,n.v_)(i.errors?.name[0]),1)):(0,r.Q3)("",!0)]),(0,r.Lk)("div",ave,[a[18]||(a[18]=(0,r.Lk)("label",{class:"form-label"},"Email",-1)),a[19]||(a[19]=(0,r.Lk)("span",{class:"text-danger"}," *",-1)),(0,r.bo)((0,r.Lk)("input",{type:"email",placeholder:"Email",class:(0,n.C4)(["form-control",{"is-invalid":i.errors?.email}]),"onUpdate:modelValue":a[1]||(a[1]=e=>i.user.email=e)},null,2),[[s.Jo,i.user.email]]),i.errors?.email?((0,r.uX)(),(0,r.CE)("span",tve,(0,n.v_)(i.errors?.email[0]),1)):(0,r.Q3)("",!0)]),(0,r.Lk)("div",sve,[a[20]||(a[20]=(0,r.Lk)("label",{class:"form-label"},"Password",-1)),a[21]||(a[21]=(0,r.Lk)("span",{class:"text-danger"}," *",-1)),(0,r.Lk)("div",rve,[(0,r.bo)((0,r.Lk)("input",{type:i.showPassword?"text":"password",disabled:!i.status,placeholder:"Password",class:(0,n.C4)(["form-control",{"is-invalid":i.errors?.password}]),"onUpdate:modelValue":a[2]||(a[2]=e=>i.user.password=e)},null,10,lve),[[s.hp,i.user.password]]),(0,r.Lk)("button",{disabled:!i.status,type:"button",class:"input-group-text",onClick:a[3]||(a[3]=e=>i.showPassword=!i.showPassword)},[(0,r.Lk)("i",{class:(0,n.C4)(i.showPassword?"ri-eye-line":"ri-eye-off-line")},null,2)],8,ive),i.errors?.password?((0,r.uX)(),(0,r.CE)("span",ove,(0,n.v_)(i.errors?.password[0]),1)):(0,r.Q3)("",!0)])]),(0,r.Lk)("div",dve,[a[22]||(a[22]=(0,r.Lk)("label",{class:"form-label"},"Mobile No.",-1)),a[23]||(a[23]=(0,r.Lk)("span",{class:"text-danger"}," *",-1)),(0,r.bo)((0,r.Lk)("input",{type:"text",placeholder:"Mobile No.",class:(0,n.C4)(["form-control",{"is-invalid":i.errors?.mobile_no}]),"onUpdate:modelValue":a[4]||(a[4]=e=>i.user.mobile_no=e)},null,2),[[s.Jo,i.user.mobile_no]]),i.errors?.mobile_no?((0,r.uX)(),(0,r.CE)("span",nve,(0,n.v_)(i.errors?.mobile_no[0]),1)):(0,r.Q3)("",!0)]),(0,r.Lk)("div",cve,[a[24]||(a[24]=(0,r.Lk)("label",{class:"form-label"},"Department",-1)),a[25]||(a[25]=(0,r.Lk)("span",{class:"text-danger"}," *",-1)),(0,r.bF)(c,{class:(0,n.C4)({"is-invalid":i.errors?.department_id}),customClass:{"is-invalid":i.errors?.department_id},initialize:i.user?.department_id,id:"department_id",label:"department_name",placeholder:"Select Department",data:i.departments,onInput:a[5]||(a[5]=e=>i.user.department_id=e)},null,8,["class","customClass","initialize","data"]),i.errors?.department_id?((0,r.uX)(),(0,r.CE)("span",uve,(0,n.v_)(i.errors?.department_id[0]),1)):(0,r.Q3)("",!0)]),(0,r.Lk)("div",_ve,[a[26]||(a[26]=(0,r.Lk)("label",{class:"form-label"},"Role",-1)),a[27]||(a[27]=(0,r.Lk)("span",{class:"text-danger"}," *",-1)),(0,r.bF)(c,{class:(0,n.C4)({"is-invalid":i.errors?.role_id}),customClass:{"is-invalid":i.errors?.role_id},initialize:i.user?.role_id,id:"role_id",label:"role",placeholder:"Select Role",data:i.roles,onInput:a[6]||(a[6]=e=>i.user.role_id=e),onSelectsearch:a[7]||(a[7]=e=>o.getRoleVendors(i.user?.role_id))},null,8,["class","customClass","initialize","data"]),i.errors?.role_id?((0,r.uX)(),(0,r.CE)("span",pve,(0,n.v_)(i.errors?.role_id[0]),1)):(0,r.Q3)("",!0)]),i.showVendors?((0,r.uX)(),(0,r.CE)("div",mve,[a[29]||(a[29]=(0,r.Lk)("label",{class:"form-label"},"Vendor Name",-1)),(0,r.bo)((0,r.Lk)("select",{class:(0,n.C4)(["form-control",{"is-invalid":i.errors?.vendor_name}]),"onUpdate:modelValue":a[8]||(a[8]=e=>i.user.vendor_name=e)},[a[28]||(a[28]=(0,r.Lk)("option",{value:""},"Select Vendor",-1)),((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(i.role_vendors,((e,a)=>((0,r.uX)(),(0,r.CE)("option",{key:a,value:e},(0,n.v_)(e),9,bve)))),128))],2),[[s.u1,i.user.vendor_name]]),i.errors?.vendor_name?((0,r.uX)(),(0,r.CE)("span",kve,(0,n.v_)(i.errors?.vendor_name[0]),1)):(0,r.Q3)("",!0)])):(0,r.Q3)("",!0),(0,r.Lk)("div",vve,[a[30]||(a[30]=(0,r.Lk)("label",{class:"form-label"},"Address",-1)),(0,r.bo)((0,r.Lk)("textarea",{rows:"2",type:"text",placeholder:"Address",class:(0,n.C4)(["form-control",{"is-invalid":i.errors?.address}]),"onUpdate:modelValue":a[9]||(a[9]=e=>i.user.address=e)},null,2),[[s.Jo,i.user.address]]),i.errors?.address?((0,r.uX)(),(0,r.CE)("span",hve,(0,n.v_)(i.errors?.address[0]),1)):(0,r.Q3)("",!0)])])]),(0,r.Lk)("div",yve,[(0,r.bF)(d,{type:"button",class:"btn btn-danger me-2",to:"/users"},{default:(0,r.k6)((()=>a[31]||(a[31]=[(0,r.Lk)("i",{class:"ri-close-line fs-18 lh-1"},null,-1),(0,r.eW)(" Discard")]))),_:1}),(0,r.Lk)("button",gve,[i.status?((0,r.uX)(),(0,r.CE)("span",fve,a[32]||(a[32]=[(0,r.Lk)("i",{class:"ri-save-line fs-18 lh-1"},null,-1),(0,r.eW)(" Submit")]))):((0,r.uX)(),(0,r.CE)("span",Lve,a[33]||(a[33]=[(0,r.Lk)("i",{class:"ri-save-line fs-18 lh-1"},null,-1),(0,r.eW)(" Update")])))])])])],32)])])])}var wve={components:{Search:It.A},name:"User.Create",data(){return{user:{user_id:"",name:"",email:"",password:"",mobile_no:"",role_id:"",plant_id:"",department_id:"",address:"",vendor_name:""},roles:[],plants:[],role_vendors:[],errors:[],departments:[],status:!0,showPassword:!1,showVendors:!1}},beforeRouteEnter(e,a,t){t((a=>{if(a.getDepartments(),a.getRoles(),"Users.Create"==e.name)a.$refs.name.focus();else{a.status=!1;let t={uri:"getUser",data:{user_id:e.params.user_id}};a.$store.dispatch("post",t).then((function(e){a.user=e.data.data;const t=a.roles.find((e=>e.role_id===a.user.role_id));(t&&"Vendor"===t.role||"Shift In-Charge"===t.role)&&a.vendorSelected()})).catch((function(e){a.errors=e.response.data.errors,a.$store.dispatch("error",e.response.data.message)}))}}))},methods:{submitForm(){let e=this;e.status?e.addUser():e.updateUser()},getRoles(){let e=this,a=e.$loading.show();e.$store.dispatch("post",{uri:"getRoles"}).then((t=>{a.hide(),e.roles=t.data.data})).catch((function(t){a.hide(),e.errors=t.response.data.errors,e.$store.dispatch("error",t.response.data.message)}))},getDepartments(){let e=this,a=e.$loading.show();e.$store.dispatch("post",{uri:"getDepartments"}).then((t=>{a.hide(),e.departments=t.data.data,e.getRoles()})).catch((function(t){a.hide(),e.errors=t.response.data.errors,e.$store.dispatch("error",t.response.data.message)}))},addUser(){let e=this,a=e.$loading.show();e.$store.dispatch("post",{uri:"addUser",data:e.user}).then((t=>{a.hide(),e.$store.dispatch("success",t.data.message),e.$router.push("/users")})).catch((function(t){a.hide(),e.errors=t.response.data.errors,e.$store.dispatch("error",t.response.data.message)}))},updateUser(){let e=this,a=e.$loading.show();e.$store.dispatch("post",{uri:"updateUser",data:e.user}).then((t=>{a.hide(),e.$store.dispatch("success",t.data.message),e.$router.push("/users")})).catch((function(t){a.hide(),e.errors=t.response.data.errors,e.$store.dispatch("error",t.response.data.message)}))},getUser(){let e=this,a=e.$loading.show();e.$store.dispatch("post",{uri:"showUser",data:e.user}).then((t=>{a.hide(),e.user=t.data.data})).catch((function(t){a.hide(),e.errors=t.response.data.errors,e.$store.dispatch("error",t.response.data.message)}))},discard(){let e=this;e.user.name="",e.user.email="",e.user.password="",e.user.mobile_no="",e.user.address="",e.user.role_id="",e.$refs.name.focus(),e.errors=[],e.status=!0},getRoleVendors(){const e=this.roles.find((e=>e.role_id===this.user.role_id));e&&"Vendor"===e.role||"Shift In-Charge"===e.role?this.vendorSelected():(this.showVendors=!1,this.user.vendor_name="")},vendorSelected(){let e=this,a=e.$loading.show();e.$store.dispatch("post",{uri:"roleVendors",data:e.user}).then((t=>{a.hide(),e.role_vendors=t.data.vendors,e.showVendors=!0})).catch((function(t){a.hide(),e.errors=t.response.data.errors,e.$store.dispatch("error",t.response.data.message)}))}}};const Eve=(0,Ze.A)(wve,[["render",Cve]]);var xve=Eve;const Xve={class:""},Pve={class:"d-sm-flex align-items-center justify-content-between mb-2"},$ve={class:"breadcrumb fs-sm mb-1"},Sve={class:"breadcrumb-item","aria-current":"page"},Ave={class:"row"},Dve={class:"col-12"},Tve={class:"card card-one"},Qve={class:"card-header d-flex justify-content-between"},Vve={class:"card-body"},Fve={class:"table-responsive table-responsive-sm"},Uve={class:"table table-sm text-nowrap table-striped table-bordered mb-0"},jve={style:{"background-color":"#9b9b9b",color:"white"}},zve={key:0,class:"ri-arrow-up-line"},Wve={key:1,class:"ri-arrow-down-line"},Rve={key:2,class:"fas fa-sort"},qve={key:0,class:"ri-arrow-up-line"},Ive={key:1,class:"ri-arrow-down-line"},Nve={key:2,class:"fas fa-sort"},Mve={key:0,class:"ri-arrow-up-line"},Kve={key:1,class:"ri-arrow-down-line"},Jve={key:2,class:"fas fa-sort"},Bve={key:0,class:"ri-arrow-up-line"},Ove={key:1,class:"ri-arrow-down-line"},Hve={key:2,class:"fas fa-sort"},Yve={key:0,class:"ri-arrow-up-line"},Zve={key:1,class:"ri-arrow-down-line"},Gve={key:2,class:"fas fa-sort"},ehe={class:"text-center"},ahe={class:"text-center"},the={key:0},she={class:"text-center"},rhe={class:"text-center"},lhe={class:"form-switch"},ihe=["id","checked","value","onChange"],ohe=["for"],dhe={class:"text-center"},nhe=["onClick"],che=["onClick"],uhe={class:"card-footer"},_he={class:"d-flex justify-content-between align-items-center"};function phe(e,a,t,l,i,o){const d=(0,r.g2)("router-link"),c=(0,r.g2)("Pagination"),u=(0,r.gN)("can");return(0,r.uX)(),(0,r.CE)("div",Xve,[(0,r.Lk)("div",Pve,[(0,r.Lk)("div",null,[(0,r.Lk)("ol",$ve,[(0,r.Lk)("li",Sve,[(0,r.bF)(d,{to:"/dashboard"},{default:(0,r.k6)((()=>a[9]||(a[9]=[(0,r.eW)("Dashboard")]))),_:1})]),a[10]||(a[10]=(0,r.Lk)("li",{class:"breadcrumb-item","aria-current":"page"},[(0,r.Lk)("a",{href:"javascript:void(0)"},"User Management")],-1)),a[11]||(a[11]=(0,r.Lk)("li",{class:"breadcrumb-item active","aria-current":"page"},"Users",-1))]),a[12]||(a[12]=(0,r.Lk)("h4",{class:"main-title mb-0"},"Users",-1))]),(0,r.bo)(((0,r.uX)(),(0,r.Wv)(d,{to:"/user/create",class:"btn btn-primary",style:{float:"right"}},{default:(0,r.k6)((()=>a[13]||(a[13]=[(0,r.Lk)("i",{class:"ri-list-check"},null,-1),(0,r.eW)(" ADD USER")]))),_:1})),[[u,"users.create"]])]),(0,r.Lk)("div",Ave,[(0,r.Lk)("div",Dve,[(0,r.Lk)("div",Tve,[(0,r.Lk)("div",Qve,[a[15]||(a[15]=(0,r.Lk)("h6",{class:"card-title"},"Users",-1)),(0,r.bF)(d,{to:"/in_active_users",class:"btn btn-danger",style:{float:"right",padding:"2px 8px","font-size":"12px","line-height":"1.2"}},{default:(0,r.k6)((()=>a[14]||(a[14]=[(0,r.eW)("Inactive Users")]))),_:1})]),(0,r.Lk)("div",Vve,[(0,r.bo)((0,r.Lk)("input",{class:"form-control form-control-sm mb-2",type:"text",placeholder:"Type keyword and press enter key","onUpdate:modelValue":a[0]||(a[0]=e=>i.meta.search=e),onKeypress:a[1]||(a[1]=(0,s.jR)((e=>o.search()),["enter"]))},null,544),[[s.Jo,i.meta.search]]),(0,r.Lk)("div",Fve,[(0,r.Lk)("table",Uve,[(0,r.Lk)("thead",null,[(0,r.Lk)("tr",jve,[a[23]||(a[23]=(0,r.Lk)("th",{class:"text-center"},"#",-1)),(0,r.Lk)("th",{onClick:a[2]||(a[2]=e=>o.sort("name"))},[a[16]||(a[16]=(0,r.eW)(" Name ")),(0,r.Lk)("span",null,["name"==i.meta.keyword&&"asc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",zve)):"name"==i.meta.keyword&&"desc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",Wve)):((0,r.uX)(),(0,r.CE)("i",Rve))])]),(0,r.Lk)("th",{onClick:a[3]||(a[3]=e=>o.sort("email"))},[a[17]||(a[17]=(0,r.eW)(" Email ")),(0,r.Lk)("span",null,["email"==i.meta.keyword&&"asc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",qve)):"email"==i.meta.keyword&&"desc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",Ive)):((0,r.uX)(),(0,r.CE)("i",Nve))])]),(0,r.Lk)("th",{onClick:a[4]||(a[4]=e=>o.sort("department_id"))},[a[18]||(a[18]=(0,r.eW)(" Department ")),(0,r.Lk)("span",null,["department_id"==i.meta.keyword&&"asc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",Mve)):"department_id"==i.meta.keyword&&"desc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",Kve)):((0,r.uX)(),(0,r.CE)("i",Jve))])]),(0,r.Lk)("th",{onClick:a[5]||(a[5]=e=>o.sort("role"))},[a[19]||(a[19]=(0,r.eW)(" Role ")),(0,r.Lk)("span",null,["role"==i.meta.keyword&&"asc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",Bve)):"role"==i.meta.keyword&&"desc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",Ove)):((0,r.uX)(),(0,r.CE)("i",Hve))])]),a[24]||(a[24]=(0,r.Lk)("th",null,"Shop",-1)),(0,r.Lk)("th",{onClick:a[6]||(a[6]=e=>o.sort("mobile_no"))},[a[20]||(a[20]=(0,r.eW)(" Mobile No. ")),(0,r.Lk)("span",null,["mobile_no"==i.meta.keyword&&"asc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",Yve)):"mobile_no"==i.meta.keyword&&"desc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",Zve)):((0,r.uX)(),(0,r.CE)("i",Gve))])]),(0,r.bo)(((0,r.uX)(),(0,r.CE)("th",ehe,a[21]||(a[21]=[(0,r.eW)("Status")]))),[[u,"users.delete"]]),(0,r.bo)(((0,r.uX)(),(0,r.CE)("th",ahe,a[22]||(a[22]=[(0,r.eW)("Actions")]))),[[u,["users.update","users.ResetPassword"]]])])]),(0,r.Lk)("tbody",null,[0==i.users.length?((0,r.uX)(),(0,r.CE)("tr",the,a[25]||(a[25]=[(0,r.Lk)("td",{colspan:"8",class:"text-center"},"No records found",-1)]))):(0,r.Q3)("",!0),((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(i.users,((e,t)=>((0,r.uX)(),(0,r.CE)("tr",{key:t},[(0,r.Lk)("td",she,(0,n.v_)(i.meta.from+t),1),(0,r.Lk)("td",null,(0,n.v_)(e.name),1),(0,r.Lk)("td",null,(0,n.v_)(e.email),1),(0,r.Lk)("td",null,(0,n.v_)(e?.department?.department_name),1),(0,r.Lk)("td",null,(0,n.v_)(e.role?.role),1),(0,r.Lk)("td",null,(0,n.v_)(e.plant?.plant_name),1),(0,r.Lk)("td",null,(0,n.v_)(e.mobile_no),1),(0,r.bo)(((0,r.uX)(),(0,r.CE)("td",rhe,[(0,r.Lk)("div",lhe,[(0,r.Lk)("input",{class:"form-check-input",type:"checkbox",role:"switch",id:"user"+e.user_id,checked:e.status,value:e.status,onChange:a=>o.deleteUser(e)},null,40,ihe),(0,r.Lk)("label",{class:"custom-control-label",for:"user"+e.user_id},null,8,ohe)])])),[[u,"users.delete"]]),(0,r.Lk)("td",dhe,[e.status?(0,r.bo)(((0,r.uX)(),(0,r.CE)("a",{key:0,href:"javascript:void(0)",class:"text-success",style:{"margin-right":"8px"},onClick:a=>o.editUser(e),title:"Edit User"},a[26]||(a[26]=[(0,r.Lk)("i",{class:"ri-pencil-line fs-18 lh-1"},null,-1)]),8,nhe)),[[u,"users.update"]]):(0,r.Q3)("",!0),e.status?(0,r.bo)(((0,r.uX)(),(0,r.CE)("a",{key:1,href:"javascript:void(0)",class:"text-warning",onClick:a=>o.resetUserPassword(e),title:"Reset Password"},a[27]||(a[27]=[(0,r.Lk)("i",{class:"ri-lock-unlock-fill",style:{"font-size":"20px"}},null,-1)]),8,che)),[[u,"users.ResetPassword"]]):(0,r.Q3)("",!0)])])))),128))])])])]),(0,r.Lk)("div",uhe,[(0,r.Lk)("div",_he,[(0,r.bo)((0,r.Lk)("select",{class:"form-select from-select-sm width-75","onUpdate:modelValue":a[7]||(a[7]=e=>i.meta.per_page=e),onChange:a[8]||(a[8]=(...e)=>o.onPerPageChange&&o.onPerPageChange(...e))},a[28]||(a[28]=[(0,r.Lk)("option",null,"10",-1),(0,r.Lk)("option",null,"15",-1),(0,r.Lk)("option",null,"20",-1),(0,r.Lk)("option",null,"25",-1),(0,r.Lk)("option",null,"30",-1)]),544),[[s.u1,i.meta.per_page]]),(0,r.Lk)("span",null,"Showing "+(0,n.v_)(i.meta.from)+" to "+(0,n.v_)(i.meta.to)+" of "+(0,n.v_)(i.meta.totalRows)+" entries",1),(0,r.bF)(c,{maxPage:i.meta.maxPage,totalPages:i.meta.lastPage,currentPage:parseInt(i.meta.page),onPagechanged:o.onPageChange},null,8,["maxPage","totalPages","currentPage","onPagechanged"])])])])])])])}var mhe={components:{Pagination:md},data(){return{meta:{search:"",order_by:"desc",keyword:"user_id",per_page:10,totalRows:0,page:1,lastPage:1,from:1,to:1,maxPage:1,trashed:!1},users:[],errors:[],status:!0}},beforeRouteEnter(e,a,t){t((e=>{console.log("from spare----",a.name),"Users.Edit"==a.name?e.meta.page=e.$store.getters.current_page:e.meta.page=1}))},mounted(){this.index()},methods:{index(){let e=this,a=e.$loading.show();e.$store.dispatch("post",{uri:"paginateUsers",data:e.meta}).then((t=>{a.hide(),e.users=t.data.data,e.meta.totalRows=t.data.meta.total,e.meta.from=t.data.meta.from,e.meta.to=t.data.meta.to,e.meta.lastPage=t.data.meta.last_page,e.meta.maxPage=e.meta.lastPage>=3?3:e.meta.lastPage})).catch((function(t){a.hide(),e.errors=t.response.data.errors,e.$store.dispatch("error",t.response.data.message)}))},editUser(e){this.$store.commit("setCurrentPage",parseInt(this.meta.page)),this.$router.push("/users/"+e.user_id+"/edit")},resetUserPassword(e){let a=this,t=a.$loading.show();a.$store.dispatch("post",{uri:"resetUserPassword",data:e}).then((s=>{t.hide(),a.$store.dispatch("success",s.data.message),alert(`Password Reset for ${e.name||"User"}\nNew Password: ${s.data.password}`),window.location.reload()})).catch((function(e){t.hide(),a.errors=e.response.data.errors,a.$store.dispatch("error",e.response.data.message)}))},deleteUser(e){let a=this,t=a.$loading.show();a.$store.dispatch("post",{uri:"deleteUser",data:e}).then((e=>{t.hide(),a.$store.dispatch("success",e.data.message),window.location.reload()})).catch((function(e){t.hide(),a.errors=e.response.data.errors,a.$store.dispatch("error",e.response.data.message)}))},search(){let e=this;e.meta.page=1,e.index()},onPageChange(e){this.meta.page=e,this.index()},sort(e){this.meta.keyword=e,this.meta.order_by="asc"==this.meta.order_by?"desc":"asc",this.index()},onPerPageChange(){let e=this;e.meta.page=1,e.index()}}};const bhe=(0,Ze.A)(mhe,[["render",phe]]);var khe=bhe;const vhe={class:""},hhe={class:"d-sm-flex align-items-center justify-content-between mb-2"},yhe={class:"breadcrumb fs-sm mb-1"},ghe={class:"breadcrumb-item","aria-current":"page"},fhe={class:"row"},Lhe={class:"col-12"},Che={class:"card card-one"},whe={class:"card-header d-flex justify-content-between"},Ehe={class:"card-body"},xhe={class:"table-responsive table-responsive-sm"},Xhe={class:"table table-sm text-nowrap table-striped table-bordered mb-0"},Phe={style:{"background-color":"#9b9b9b",color:"white"}},$he={key:0,class:"ri-arrow-up-line"},She={key:1,class:"ri-arrow-down-line"},Ahe={key:2,class:"fas fa-sort"},Dhe={key:0,class:"ri-arrow-up-line"},The={key:1,class:"ri-arrow-down-line"},Qhe={key:2,class:"fas fa-sort"},Vhe={key:0,class:"ri-arrow-up-line"},Fhe={key:1,class:"ri-arrow-down-line"},Uhe={key:2,class:"fas fa-sort"},jhe={key:0,class:"ri-arrow-up-line"},zhe={key:1,class:"ri-arrow-down-line"},Whe={key:2,class:"fas fa-sort"},Rhe={key:0,class:"ri-arrow-up-line"},qhe={key:1,class:"ri-arrow-down-line"},Ihe={key:2,class:"fas fa-sort"},Nhe={class:"text-center"},Mhe={key:0},Khe={class:"text-center"},Jhe={class:"text-center"},Bhe={class:"form-switch"},Ohe=["id","checked","value","onChange"],Hhe=["for"],Yhe={class:"card-footer"},Zhe={class:"d-flex justify-content-between align-items-center"};function Ghe(e,a,t,l,i,o){const d=(0,r.g2)("router-link"),c=(0,r.g2)("Pagination"),u=(0,r.gN)("can");return(0,r.uX)(),(0,r.CE)("div",vhe,[(0,r.Lk)("div",hhe,[(0,r.Lk)("div",null,[(0,r.Lk)("ol",yhe,[(0,r.Lk)("li",ghe,[(0,r.bF)(d,{to:"/dashboard"},{default:(0,r.k6)((()=>a[9]||(a[9]=[(0,r.eW)("Dashboard")]))),_:1})]),a[10]||(a[10]=(0,r.Fv)('<li class="breadcrumb-item" aria-current="page"><a href="javascript:void(0)">User Management</a></li><li class="breadcrumb-item active" aria-current="page"><a href="javascript:void(0)">Users</a></li><li class="breadcrumb-item active" aria-current="page">Inactive Users</li>',3))]),a[11]||(a[11]=(0,r.Lk)("h4",{class:"main-title mb-0"},"Inactive Users",-1))])]),(0,r.Lk)("div",fhe,[(0,r.Lk)("div",Lhe,[(0,r.Lk)("div",Che,[(0,r.Lk)("div",whe,[a[13]||(a[13]=(0,r.Lk)("h6",{class:"card-title"},"Inactive Users",-1)),(0,r.bF)(d,{to:"/users",class:"btn btn-success",style:{float:"right",padding:"2px 8px","font-size":"12px","line-height":"1.2"}},{default:(0,r.k6)((()=>a[12]||(a[12]=[(0,r.eW)("Active Users")]))),_:1})]),(0,r.Lk)("div",Ehe,[(0,r.bo)((0,r.Lk)("input",{class:"form-control form-control-sm mb-2",type:"text",placeholder:"Type keyword and press enter key","onUpdate:modelValue":a[0]||(a[0]=e=>i.meta.search=e),onKeypress:a[1]||(a[1]=(0,s.jR)((e=>o.search()),["enter"]))},null,544),[[s.Jo,i.meta.search]]),(0,r.Lk)("div",xhe,[(0,r.Lk)("table",Xhe,[(0,r.Lk)("thead",null,[(0,r.Lk)("tr",Phe,[a[20]||(a[20]=(0,r.Lk)("th",{class:"text-center"},"#",-1)),(0,r.Lk)("th",{onClick:a[2]||(a[2]=e=>o.sort("name"))},[a[14]||(a[14]=(0,r.eW)(" Name ")),(0,r.Lk)("span",null,["name"==i.meta.keyword&&"asc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",$he)):"name"==i.meta.keyword&&"desc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",She)):((0,r.uX)(),(0,r.CE)("i",Ahe))])]),(0,r.Lk)("th",{onClick:a[3]||(a[3]=e=>o.sort("email"))},[a[15]||(a[15]=(0,r.eW)(" Email ")),(0,r.Lk)("span",null,["email"==i.meta.keyword&&"asc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",Dhe)):"email"==i.meta.keyword&&"desc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",The)):((0,r.uX)(),(0,r.CE)("i",Qhe))])]),(0,r.Lk)("th",{onClick:a[4]||(a[4]=e=>o.sort("department_id"))},[a[16]||(a[16]=(0,r.eW)(" Department ")),(0,r.Lk)("span",null,["department_id"==i.meta.keyword&&"asc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",Vhe)):"department_id"==i.meta.keyword&&"desc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",Fhe)):((0,r.uX)(),(0,r.CE)("i",Uhe))])]),(0,r.Lk)("th",{onClick:a[5]||(a[5]=e=>o.sort("role"))},[a[17]||(a[17]=(0,r.eW)(" Role ")),(0,r.Lk)("span",null,["role"==i.meta.keyword&&"asc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",jhe)):"role"==i.meta.keyword&&"desc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",zhe)):((0,r.uX)(),(0,r.CE)("i",Whe))])]),a[21]||(a[21]=(0,r.Lk)("th",null,"Shop",-1)),(0,r.Lk)("th",{onClick:a[6]||(a[6]=e=>o.sort("mobile_no"))},[a[18]||(a[18]=(0,r.eW)(" Mobile No. ")),(0,r.Lk)("span",null,["mobile_no"==i.meta.keyword&&"asc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",Rhe)):"mobile_no"==i.meta.keyword&&"desc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",qhe)):((0,r.uX)(),(0,r.CE)("i",Ihe))])]),(0,r.bo)(((0,r.uX)(),(0,r.CE)("th",Nhe,a[19]||(a[19]=[(0,r.eW)("Status")]))),[[u,"users.delete"]])])]),(0,r.Lk)("tbody",null,[0==i.users.length?((0,r.uX)(),(0,r.CE)("tr",Mhe,a[22]||(a[22]=[(0,r.Lk)("td",{colspan:"8",class:"text-center"},"No records found",-1)]))):(0,r.Q3)("",!0),((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(i.users,((e,a)=>((0,r.uX)(),(0,r.CE)("tr",{key:a},[(0,r.Lk)("td",Khe,(0,n.v_)(i.meta.from+a),1),(0,r.Lk)("td",null,(0,n.v_)(e.name),1),(0,r.Lk)("td",null,(0,n.v_)(e.email),1),(0,r.Lk)("td",null,(0,n.v_)(e?.department?.department_name),1),(0,r.Lk)("td",null,(0,n.v_)(e.role?.role),1),(0,r.Lk)("td",null,(0,n.v_)(e.plant?.plant_name),1),(0,r.Lk)("td",null,(0,n.v_)(e.mobile_no),1),(0,r.bo)(((0,r.uX)(),(0,r.CE)("td",Jhe,[(0,r.Lk)("div",Bhe,[(0,r.Lk)("input",{class:"form-check-input",type:"checkbox",role:"switch",id:"user"+e.user_id,checked:e.status,value:e.status,onChange:a=>o.deleteUser(e)},null,40,Ohe),(0,r.Lk)("label",{class:"custom-control-label",for:"user"+e.user_id},null,8,Hhe)])])),[[u,"users.delete"]])])))),128))])])])]),(0,r.Lk)("div",Yhe,[(0,r.Lk)("div",Zhe,[(0,r.bo)((0,r.Lk)("select",{class:"form-select from-select-sm width-75","onUpdate:modelValue":a[7]||(a[7]=e=>i.meta.per_page=e),onChange:a[8]||(a[8]=(...e)=>o.onPerPageChange&&o.onPerPageChange(...e))},a[23]||(a[23]=[(0,r.Lk)("option",null,"10",-1),(0,r.Lk)("option",null,"15",-1),(0,r.Lk)("option",null,"20",-1),(0,r.Lk)("option",null,"25",-1),(0,r.Lk)("option",null,"30",-1)]),544),[[s.u1,i.meta.per_page]]),(0,r.Lk)("span",null,"Showing "+(0,n.v_)(i.meta.from)+" to "+(0,n.v_)(i.meta.to)+" of "+(0,n.v_)(i.meta.totalRows)+" entries",1),(0,r.bF)(c,{maxPage:i.meta.maxPage,totalPages:i.meta.lastPage,currentPage:parseInt(i.meta.page),onPagechanged:o.onPageChange},null,8,["maxPage","totalPages","currentPage","onPagechanged"])])])])])])])}var eye={components:{Pagination:md},data(){return{meta:{search:"",order_by:"desc",keyword:"user_id",per_page:10,totalRows:0,page:1,lastPage:1,from:1,to:1,maxPage:1,trashed:!1},users:[],errors:[],status:!0}},beforeRouteEnter(e,a,t){t((e=>{console.log("from spare----",a.name),"Users.Edit"==a.name?e.meta.page=e.$store.getters.current_page:e.meta.page=1}))},mounted(){this.index()},methods:{index(){let e=this,a=e.$loading.show();e.$store.dispatch("post",{uri:"paginateInActiveUsers",data:e.meta}).then((t=>{a.hide(),e.users=t.data.data,e.meta.totalRows=t.data.meta.total,e.meta.from=t.data.meta.from,e.meta.to=t.data.meta.to,e.meta.lastPage=t.data.meta.last_page,e.meta.maxPage=e.meta.lastPage>=3?3:e.meta.lastPage})).catch((function(t){a.hide(),e.errors=t.response.data.errors,e.$store.dispatch("error",t.response.data.message)}))},deleteUser(e){let a=this,t=a.$loading.show();a.$store.dispatch("post",{uri:"deleteUser",data:e}).then((e=>{t.hide(),a.$store.dispatch("success",e.data.message),window.location.reload()})).catch((function(e){t.hide(),a.errors=e.response.data.errors,a.$store.dispatch("error",e.response.data.message)}))},search(){let e=this;e.meta.page=1,e.index()},onPageChange(e){this.meta.page=e,this.index()},sort(e){this.meta.keyword=e,this.meta.order_by="asc"==this.meta.order_by?"desc":"asc",this.index()},onPerPageChange(){let e=this;e.meta.page=1,e.index()}}};const aye=(0,Ze.A)(eye,[["render",Ghe]]);var tye=aye;const sye={class:"d-sm-flex align-items-center justify-content-between mb-2"},rye={class:"breadcrumb fs-sm mb-1"},lye={class:"breadcrumb-item","aria-current":"page"},iye={class:"d-flex align-items-center gap-2 mt-3 mt-md-0"},oye={class:"row g-3"},dye={class:"col-sm-12"},nye={class:"card card-one"},cye={class:"card-header"},uye={class:"nav ms-auto"},_ye=["value"],pye={class:"card-body"},mye={class:"row"},bye={class:"table-responsive text-wrap"},kye={class:"table table-sm table-bordered table-striped"},vye={colspan:"4",class:"bold text-primary"},hye={class:"text-center"},yye={class:"text-center"},gye={class:"form-switch"},fye=["disabled","checked","value","onChange"];function Lye(e,a,t,l,i,o){const d=(0,r.g2)("router-link");return(0,r.uX)(),(0,r.CE)("div",null,[(0,r.Lk)("div",sye,[(0,r.Lk)("div",null,[(0,r.Lk)("ol",rye,[(0,r.Lk)("li",lye,[(0,r.bF)(d,{to:"/dashboard"},{default:(0,r.k6)((()=>a[3]||(a[3]=[(0,r.eW)("Dashboard")]))),_:1})]),a[4]||(a[4]=(0,r.Lk)("li",{class:"breadcrumb-item","aria-current":"page"},[(0,r.Lk)("a",{href:"javascript:void(0)"},"User Management")],-1)),a[5]||(a[5]=(0,r.Lk)("li",{class:"breadcrumb-item active","aria-current":"page"},"Permissions",-1))]),a[6]||(a[6]=(0,r.Lk)("h4",{class:"main-title mb-0"},"Permissions",-1))]),(0,r.Lk)("div",iye,[(0,r.Lk)("button",{type:"button",class:"btn btn-primary d-flex align-items-center gap-2",onClick:a[0]||(a[0]=e=>o.addPermissions())},a[7]||(a[7]=[(0,r.Lk)("i",{class:"ri-git-repository-private-line fs-18 lh-1"},null,-1),(0,r.eW)(" Add Permissions ")]))])]),(0,r.Lk)("div",oye,[(0,r.Lk)("div",dye,[(0,r.Lk)("div",nye,[(0,r.Lk)("div",cye,[a[9]||(a[9]=(0,r.Lk)("h6",{class:"card-title"},"Permissions",-1)),(0,r.Lk)("nav",uye,[(0,r.bo)((0,r.Lk)("select",{class:(0,n.C4)(["form-control",{"is-invalid":i.errors.role_id}]),"onUpdate:modelValue":a[1]||(a[1]=e=>i.role.role_id=e),onChange:a[2]||(a[2]=(...e)=>o.getRoleAbilities&&o.getRoleAbilities(...e))},[a[8]||(a[8]=(0,r.Lk)("option",{value:""},"Select Role",-1)),((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(i.roles,((e,a)=>((0,r.uX)(),(0,r.CE)("option",{key:a,value:e.role_id},(0,n.v_)(e.role),9,_ye)))),128))],34),[[s.u1,i.role.role_id]])])]),(0,r.Lk)("div",pye,[(0,r.Lk)("div",mye,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(i.role_abilities,((e,t)=>((0,r.uX)(),(0,r.CE)("div",{class:"col-sm-6",key:t},[(0,r.Lk)("div",bye,[(0,r.Lk)("table",kye,[(0,r.Lk)("thead",null,[(0,r.Lk)("tr",null,[(0,r.Lk)("th",vye,(0,n.v_)(e[0]?.module.module_name),1)]),a[10]||(a[10]=(0,r.Lk)("tr",{class:"text-wrap"},[(0,r.Lk)("th",{width:"5%",class:"text-center"},"#"),(0,r.Lk)("th",{width:"40%"},"Ability"),(0,r.Lk)("th",{width:"40%"},"Description"),(0,r.Lk)("th",{width:"5%",class:"text-center"},"Status")],-1))]),(0,r.Lk)("tbody",null,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(e,((a,t)=>((0,r.uX)(),(0,r.CE)("tr",{key:t},[(0,r.Lk)("td",hye,(0,n.v_)(t+1),1),(0,r.Lk)("td",null,(0,n.v_)(o.getAbilityStatus(e,a)),1),(0,r.Lk)("td",null,(0,n.v_)(a.description),1),(0,r.Lk)("td",yye,[(0,r.Lk)("div",gye,[(0,r.Lk)("input",{class:"form-check-input",type:"checkbox",role:"switch",disabled:a.is_disabled,checked:a.status,value:a.status,onChange:t=>o.deleteAuthorization(e,a,t)},null,40,fye)])])])))),128))])])])])))),128))])])])])])])}var Cye={data(){return{roles:[],role_abilities:[],errors:[],role:{role_id:""}}},mounted(){let e=this;e.role.role_id=e.$store?.getters?.user?.role_id,e.getRoles()},methods:{getAbilityStatus(e,a){a.is_disabled=!1;let t=e.filter((function(e){let a=e.ability.split(".");if(a.length&&"view"==a[1])return e}));t.length&&0==t[0].status&&(a.is_disabled=!0);let s=a.ability.split(".");return s.length&&"view"==s[1]&&(a.is_disabled=!1),a.ability},getRoles(){let e=this,a=e.$loading.show();e.$store.dispatch("post",{uri:"getRoles",data:e.role}).then((t=>{a.hide(),e.roles=t.data.data,e.getRoleAbilities()})).catch((t=>{a.hide(),e.errors=t.response.data.errors,e.$store.dispatch("error",t.response.data.message)}))},getRoleAbilities(){let e=this,a=e.$loading.show();this.$store.dispatch("post",{uri:"getPermissionStatus",data:{role_id:e.role.role_id}}).then((t=>{a.hide(),e.role_abilities=t.data})).catch((t=>{a.hide(),e.errors=t.response.data.errors,e.$store.dispatch("error",t.response.data.message)}))},addPermissions(){let e=this,a=e.$loading.show();e.$store.dispatch("post",{uri:"addPermissions",data:{role_id:e.role.role_id}}).then((t=>{a.hide(),e.$store.dispatch("success","Permissions updated successfully!"),e.getRoleAbilities()})).catch((t=>{a.hide(),e.errors=t.response.data.error,e.$store.dispatch("error",t.response.data.message)}))},deleteAuthorization(e,a,t){let s=this,r=a.ability.split("."),l=[];r.length&&("view"!=r[1]||t.target.checked||e.map((function(e){e.status=!1,l.push(e)})));let i={uri:"deleteAuthorization",data:{role_id:s.role.role_id,ability_id:a.ability_id,status:a.status,role_abilities:l}};s.$store.dispatch("post",i).then((function(){s.getRoleAbilities()})).catch((function(e){s.errors=e.response.data.error,s.$store.dispatch("error",e.response.data.message)}))}}};const wye=(0,Ze.A)(Cye,[["render",Lye]]);var Eye=wye;const xye={class:""},Xye={class:"d-sm-flex align-items-center justify-content-between mb-2"},Pye={class:"breadcrumb fs-sm mb-1"},$ye={class:"breadcrumb-item","aria-current":"page"},Sye={class:"row"},Aye={class:"col-12"},Dye={class:"card card-one mb-3"},Tye={class:"card-header align-items-center d-flex justify-content-between"},Qye={class:"card-body"},Vye={class:"row"},Fye={class:"col-auto"},Uye={class:"col-auto"},jye={class:"col-auto"},zye={class:"col-auto"},Wye={class:"col-auto"},Rye={class:"col-auto"},qye={class:"col-auto mt-auto"},Iye={key:0,class:"mb-3"},Nye={key:1,class:"mb-3"},Mye={key:2,class:"mb-3"},Kye={key:3};function Jye(e,a,t,l,i,o){const d=(0,r.g2)("router-link"),c=(0,r.g2)("search"),u=(0,r.g2)("ActivityRegisterTable"),_=(0,r.g2)("ServiceRegisterTable"),p=(0,r.g2)("CheckRegisterTable"),m=(0,r.g2)("ProcessRegisterTable"),b=(0,r.gN)("can");return(0,r.uX)(),(0,r.CE)("div",xye,[(0,r.Lk)("div",Xye,[(0,r.Lk)("div",null,[(0,r.Lk)("ol",Pye,[(0,r.Lk)("li",$ye,[(0,r.bF)(d,{to:"/dashboard"},{default:(0,r.k6)((()=>a[11]||(a[11]=[(0,r.eW)("Dashboard")]))),_:1})]),a[12]||(a[12]=(0,r.Lk)("li",{class:"breadcrumb-item","aria-current":"page"},[(0,r.Lk)("a",{href:"javascript:void(0)"},"Asset Reports")],-1))]),a[13]||(a[13]=(0,r.Lk)("h4",{class:"main-title mb-0"},"Asset Reports",-1))])]),(0,r.Lk)("div",Sye,[(0,r.Lk)("div",Aye,[(0,r.Lk)("div",Dye,[(0,r.Lk)("div",Tye,[a[15]||(a[15]=(0,r.Lk)("h6",{class:"card-title"},"Asset Reports",-1)),(0,r.bo)(((0,r.uX)(),(0,r.CE)("button",{class:"btn btn-success",onClick:a[0]||(a[0]=e=>o.downloadExcel()),style:{float:"right"}},a[14]||(a[14]=[(0,r.Lk)("i",{class:"ri-file-excel-line"},null,-1),(0,r.eW)(" DOWNLOAD EXCEL")]))),[[b,"asset_reports.download"]])]),(0,r.Lk)("div",Qye,[(0,r.Lk)("div",Vye,[(0,r.Lk)("div",Fye,[a[16]||(a[16]=(0,r.Lk)("label",{class:"form-label"},"Asset Type",-1)),(0,r.bF)(c,{class:(0,n.C4)({"is-invalid":i.errors?.asset_type_id}),customClass:{"is-invalid":i.errors?.asset_type_id},initialize:i.meta.asset_type_id,id:"asset_type_id",label:"asset_type_name",placeholder:"Select Asset Type",data:i.asset_types,onInput:a[1]||(a[1]=e=>i.meta.asset_type_id=e),onSelectsearch:a[2]||(a[2]=e=>o.getAsset())},null,8,["class","customClass","initialize","data"])]),(0,r.Lk)("div",Uye,[a[17]||(a[17]=(0,r.Lk)("label",{class:"form-label"},"Asset",-1)),(0,r.bF)(c,{class:(0,n.C4)({"is-invalid":i.errors?.asset_id}),customClass:{"is-invalid":i.errors?.asset_id},initialize:i.meta?.asset_id,id:"asset_id",label2:"asset_name",label:"asset_code",placeholder:"Select Asset",data:i.assets,onInput:a[3]||(a[3]=e=>i.meta.asset_id=e),onSelectsearch:a[4]||(a[4]=e=>o.getDepartments())},null,8,["class","customClass","initialize","data"])]),(0,r.Lk)("div",jye,[a[18]||(a[18]=(0,r.Lk)("label",{class:"form-label"},"Department",-1)),(0,r.bF)(c,{class:(0,n.C4)({"is-invalid":i.errors?.department_id}),customClass:{"is-invalid":i.errors?.department_id},initialize:i.meta?.department_id,id:"department_id",label:"department_name",placeholder:"Select Department",data:i.departments,onInput:a[5]||(a[5]=e=>i.meta.department_id=e)},null,8,["class","customClass","initialize","data"])]),(0,r.Lk)("div",zye,[a[20]||(a[20]=(0,r.Lk)("label",{class:"form-label"},"Register",-1)),(0,r.bo)((0,r.Lk)("select",{class:"form-control mb-3","onUpdate:modelValue":a[6]||(a[6]=e=>i.meta.register=e)},a[19]||(a[19]=[(0,r.Fv)('<option value="">Select Register</option><option value="all_registers">All Registers</option><option value="activity_register">Activity Register</option><option value="service_register">Spare Register</option><option value="check_register">Inspection Register</option><option value="process_register">Process Register</option>',6)]),512),[[s.u1,i.meta.register]])]),(0,r.Lk)("div",Wye,[a[21]||(a[21]=(0,r.Lk)("label",{class:"form-label"},"From Date",-1)),(0,r.bo)((0,r.Lk)("input",{class:"form-control mb-3",type:"date","onUpdate:modelValue":a[7]||(a[7]=e=>i.meta.from_date=e)},null,512),[[s.Jo,i.meta.from_date]])]),(0,r.Lk)("div",Rye,[a[22]||(a[22]=(0,r.Lk)("label",{class:"form-label"},"To Date",-1)),(0,r.bo)((0,r.Lk)("input",{class:"form-control mb-3",type:"date","onUpdate:modelValue":a[8]||(a[8]=e=>i.meta.to_date=e)},null,512),[[s.Jo,i.meta.to_date]])]),(0,r.Lk)("div",qye,[(0,r.Lk)("button",{class:"btn mb-3 btn-primary me-2",onClick:a[9]||(a[9]=(...e)=>o.search&&o.search(...e))},"Search"),(0,r.Lk)("button",{class:"btn mb-3 btn-danger",onClick:a[10]||(a[10]=(...e)=>o.reset&&o.reset(...e))},"Reset")])])])]),"activity_register"==i.meta.register||"all_registers"==i.meta.register?((0,r.uX)(),(0,r.CE)("div",Iye,[(0,r.bF)(u,{ref:"activityRegister",meta1:i.meta},null,8,["meta1"])])):(0,r.Q3)("",!0),"service_register"==i.meta.register||"all_registers"==i.meta.register?((0,r.uX)(),(0,r.CE)("div",Nye,[(0,r.bF)(_,{ref:"serviceRegister",meta1:i.meta},null,8,["meta1"])])):(0,r.Q3)("",!0),"check_register"==i.meta.register||"all_registers"==i.meta.register?((0,r.uX)(),(0,r.CE)("div",Mye,[(0,r.bF)(p,{ref:"checkRegister",meta1:i.meta},null,8,["meta1"])])):(0,r.Q3)("",!0),"process_register"==i.meta.register||"all_registers"==i.meta.register?((0,r.uX)(),(0,r.CE)("div",Kye,[(0,r.bF)(m,{ref:"processRegister",meta1:i.meta},null,8,["meta1"])])):(0,r.Q3)("",!0)])])])}const Bye={class:"card card-one"},Oye={class:"card-body"},Hye={class:"table-responsive table-responsive-sm"},Yye={class:"table table-sm text-nowrap table-striped table-bordered mb-0"},Zye={class:"",style:{"background-color":"#9b9b9b",color:"white"}},Gye={key:0,class:"ri-arrow-up-line"},ege={key:1,class:"ri-arrow-down-line"},age={key:2,class:"fas fa-sort"},tge={key:0,class:"ri-arrow-up-line"},sge={key:1,class:"ri-arrow-down-line"},rge={key:2,class:"fas fa-sort"},lge={key:0,class:"ri-arrow-up-line"},ige={key:1,class:"ri-arrow-down-line"},oge={key:2,class:"fas fa-sort"},dge={key:0,class:"ri-arrow-up-line"},nge={key:1,class:"ri-arrow-down-line"},cge={key:2,class:"fas fa-sort"},uge={class:"text-center"},_ge=["onClick"],pge={href:"javascript:void(0)"},mge={key:0},bge={class:"card-footer"},kge={class:"d-flex justify-content-between align-items-center"};function vge(e,a,t,l,i,o){const d=(0,r.g2)("Pagination");return(0,r.uX)(),(0,r.CE)("div",Bye,[a[16]||(a[16]=(0,r.Lk)("div",{class:"card-header d-flex justify-content-between"},[(0,r.Lk)("h6",{class:"card-title"},"Activity Registers")],-1)),(0,r.Lk)("div",Oye,[(0,r.bo)((0,r.Lk)("input",{class:"form-control form-control-sm mb-2",type:"text",placeholder:"Type keyword and press enter key","onUpdate:modelValue":a[0]||(a[0]=e=>i.meta.search=e),onKeypress:a[1]||(a[1]=(0,s.jR)((e=>o.search()),["enter"]))},null,544),[[s.Jo,i.meta.search]]),(0,r.Lk)("div",Hye,[(0,r.Lk)("table",Yye,[(0,r.Lk)("thead",null,[(0,r.Lk)("tr",Zye,[a[12]||(a[12]=(0,r.Lk)("th",{class:"text-center"},"#",-1)),(0,r.Lk)("th",{onClick:a[2]||(a[2]=e=>o.sort("activity_no"))},[a[8]||(a[8]=(0,r.eW)(" Activity No. ")),(0,r.Lk)("span",null,["activity_no"==i.meta.keyword&&"asc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",Gye)):"activity_no"==i.meta.keyword&&"desc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",ege)):((0,r.uX)(),(0,r.CE)("i",age))])]),a[13]||(a[13]=(0,r.Lk)("th",null,"Activity Date & Time",-1)),(0,r.Lk)("th",{onClick:a[3]||(a[3]=e=>o.sort("asset_code"))},[a[9]||(a[9]=(0,r.eW)(" Asset Code ")),(0,r.Lk)("span",null,["asset_code"==i.meta.keyword&&"asc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",tge)):"asset_code"==i.meta.keyword&&"desc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",sge)):((0,r.uX)(),(0,r.CE)("i",rge))])]),(0,r.Lk)("th",{onClick:a[4]||(a[4]=e=>o.sort("reason_code"))},[a[10]||(a[10]=(0,r.eW)(" Reason ")),(0,r.Lk)("span",null,["reason_code"==i.meta.keyword&&"asc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",lge)):"reason_code"==i.meta.keyword&&"desc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",ige)):((0,r.uX)(),(0,r.CE)("i",oge))])]),(0,r.Lk)("th",{onClick:a[5]||(a[5]=e=>o.sort("cost"))},[a[11]||(a[11]=(0,r.eW)(" Cost ")),(0,r.Lk)("span",null,["cost"==i.meta.keyword&&"asc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",dge)):"cost"==i.meta.keyword&&"desc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",nge)):((0,r.uX)(),(0,r.CE)("i",cge))])])])]),(0,r.Lk)("tbody",null,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(i.activities,((e,a)=>((0,r.uX)(),(0,r.CE)("tr",{key:a},[(0,r.Lk)("td",uge,(0,n.v_)(i.meta.from+a),1),(0,r.Lk)("td",{onClick:a=>o.showActivity(e,"activity")},[(0,r.Lk)("a",pge,(0,n.v_)(e.activity_no),1)],8,_ge),(0,r.Lk)("td",null,(0,n.v_)(o.convertDateFormat(e.activity_date)),1),(0,r.Lk)("td",null,(0,n.v_)(e.asset?.asset_code),1),(0,r.Lk)("td",null,(0,n.v_)(e.reason?.reason_code),1),(0,r.Lk)("td",null,(0,n.v_)(e.cost),1)])))),128)),0==i.activities.length?((0,r.uX)(),(0,r.CE)("tr",mge,a[14]||(a[14]=[(0,r.Lk)("td",{colspan:"8",class:"text-center"},"No records found",-1)]))):(0,r.Q3)("",!0)])])])]),(0,r.Lk)("div",bge,[(0,r.Lk)("div",kge,[(0,r.bo)((0,r.Lk)("select",{class:"form-select from-select-sm width-75","onUpdate:modelValue":a[6]||(a[6]=e=>i.meta.per_page=e),onChange:a[7]||(a[7]=(...e)=>o.onPerPageChange&&o.onPerPageChange(...e))},a[15]||(a[15]=[(0,r.Lk)("option",null,"10",-1),(0,r.Lk)("option",null,"15",-1),(0,r.Lk)("option",null,"20",-1),(0,r.Lk)("option",null,"25",-1),(0,r.Lk)("option",null,"30",-1)]),544),[[s.u1,i.meta.per_page]]),(0,r.Lk)("span",null,"Showing "+(0,n.v_)(i.meta.from)+" to "+(0,n.v_)(i.meta.to)+" of "+(0,n.v_)(i.meta.totalRows)+" entries",1),(0,r.bF)(d,{maxPage:i.meta.maxPage,totalPages:i.meta.lastPage,currentPage:parseInt(i.meta.page),onPagechanged:o.onPageChange},null,8,["maxPage","totalPages","currentPage","onPagechanged"])])])])}var hge={components:{Pagination:md},props:{meta1:{type:Object}},data(){return{meta:{search:"",order_by:"desc",keyword:"user_activity_id",per_page:10,totalRows:0,page:1,lastPage:1,from:1,to:1,maxPage:1,trashed:!1},get_activity:[],get_asset:[],activities:[],errors:[],status:!0}},mounted(){this.get_activity=this.$store.getters.permissions.filter((function(e){return e.ability.ability.includes("userActivities.update")||e.ability.ability.includes("userActivities.delete")})),this.$store.commit("setAssetId",""),this.index()},methods:{index(){let e=this,a=e.$loading.show();e.meta.asset_type_id=e.meta1.asset_type_id,e.meta.asset_id=e.meta1.asset_id,e.meta.department_id=e.meta1.department_id,e.meta.from_date=e.meta1.from_date,e.meta.to_date=e.meta1.to_date,e.meta1.keyword="user_activity_id",e.$store.dispatch("post",{uri:"paginateUserActivities",data:e.meta}).then((t=>{a.hide(),e.activities=t.data.data,e.meta.totalRows=t.data.meta.total,e.meta.from=t.data.meta.from,e.meta.to=t.data.meta.to,e.meta.lastPage=t.data.meta.last_page,e.meta.maxPage=e.meta.lastPage>=3?3:e.meta.lastPage})).catch((function(t){a.hide(),e.errors=t.response.data.errors,e.$store.dispatch("error",t.response.data.message)}))},showActivity(e,a){this.$store.commit("setCurrentPage",this.meta.page),this.$router.push("/asset_reports/"+a+"/"+e.user_activity_id+"/view")},convertDateFormat(e){return sG()(e).format("yyyy-MM-DD HH:mm")},search(){let e=this;e.meta.page=1,e.index()},onPageChange(e){this.meta.page=e,this.index()},sort(e){this.meta.keyword=e,this.meta.order_by="asc"==this.meta.order_by?"desc":"asc",this.index()},onPerPageChange(){let e=this;e.meta.page=1,e.index()}}};const yge=(0,Ze.A)(hge,[["render",vge]]);var gge=yge;const fge={class:"card card-one"},Lge={class:"card-body"},Cge={class:"table-responsive table-responsive-sm"},wge={class:"table table-sm text-nowrap table-striped table-bordered mb-0"},Ege={class:"",style:{"background-color":"#9b9b9b",color:"white"}},xge={key:0,class:"ri-arrow-up-line"},Xge={key:1,class:"ri-arrow-down-line"},Pge={key:2,class:"fas fa-sort"},$ge={key:0,class:"ri-arrow-up-line"},Sge={key:1,class:"ri-arrow-down-line"},Age={key:2,class:"fas fa-sort"},Dge={key:0,class:"ri-arrow-up-line"},Tge={key:1,class:"ri-arrow-down-line"},Qge={key:2,class:"fas fa-sort"},Vge={key:0,class:"ri-arrow-up-line"},Fge={key:1,class:"ri-arrow-down-line"},Uge={key:2,class:"fas fa-sort"},jge={class:"text-center"},zge=["onClick"],Wge={href:"javascript:void(0)"},Rge={key:0},qge={class:"card-footer"},Ige={class:"d-flex justify-content-between align-items-center"};function Nge(e,a,t,l,i,o){const d=(0,r.g2)("Pagination");return(0,r.uX)(),(0,r.CE)("div",fge,[a[15]||(a[15]=(0,r.Lk)("div",{class:"card-header d-flex justify-content-between"},[(0,r.Lk)("h6",{class:"card-title"},"Spare Registers")],-1)),(0,r.Lk)("div",Lge,[(0,r.bo)((0,r.Lk)("input",{class:"form-control form-control-sm mb-2",type:"text",placeholder:"Type keyword and press enter key","onUpdate:modelValue":a[0]||(a[0]=e=>i.meta.search=e),onKeypress:a[1]||(a[1]=(0,s.jR)((e=>o.search()),["enter"]))},null,544),[[s.Jo,i.meta.search]]),(0,r.Lk)("div",Cge,[(0,r.Lk)("table",wge,[(0,r.Lk)("thead",null,[(0,r.Lk)("tr",Ege,[a[12]||(a[12]=(0,r.Lk)("th",{class:"text-center"},"#",-1)),(0,r.Lk)("th",{onClick:a[2]||(a[2]=e=>o.sort("service_no"))},[a[8]||(a[8]=(0,r.eW)(" Service No. ")),(0,r.Lk)("span",null,["service_no"==i.meta.keyword&&"asc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",xge)):"service_no"==i.meta.keyword&&"desc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",Xge)):((0,r.uX)(),(0,r.CE)("i",Pge))])]),(0,r.Lk)("th",{onClick:a[3]||(a[3]=e=>o.sort("service_date"))},[a[9]||(a[9]=(0,r.eW)(" Service Date ")),(0,r.Lk)("span",null,["service_date"==i.meta.keyword&&"asc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",$ge)):"service_date"==i.meta.keyword&&"desc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",Sge)):((0,r.uX)(),(0,r.CE)("i",Age))])]),(0,r.Lk)("th",{onClick:a[4]||(a[4]=e=>o.sort("next_service_date"))},[a[10]||(a[10]=(0,r.eW)(" Next Service Date ")),(0,r.Lk)("span",null,["next_service_date"==i.meta.keyword&&"asc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",Dge)):"next_service_date"==i.meta.keyword&&"desc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",Tge)):((0,r.uX)(),(0,r.CE)("i",Qge))])]),(0,r.Lk)("th",{onClick:a[5]||(a[5]=e=>o.sort("asset_code"))},[a[11]||(a[11]=(0,r.eW)(" Asset Code ")),(0,r.Lk)("span",null,["asset_code"==i.meta.keyword&&"asc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",Vge)):"asset_code"==i.meta.keyword&&"desc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",Fge)):((0,r.uX)(),(0,r.CE)("i",Uge))])])])]),(0,r.Lk)("tbody",null,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(i.user_services,((e,a)=>((0,r.uX)(),(0,r.CE)("tr",{key:a},[(0,r.Lk)("td",jge,(0,n.v_)(i.meta.from+a),1),(0,r.Lk)("td",{onClick:a=>o.showService(e,"service")},[(0,r.Lk)("a",Wge,(0,n.v_)(e.service_no),1)],8,zge),(0,r.Lk)("td",null,(0,n.v_)(o.convertDateFormat(e.service_date)),1),(0,r.Lk)("td",null,(0,n.v_)(o.convertDateFormat(e.next_service_date)),1),(0,r.Lk)("td",null,(0,n.v_)(e.asset?.asset_code),1)])))),128)),0==i.user_services.length?((0,r.uX)(),(0,r.CE)("tr",Rge,a[13]||(a[13]=[(0,r.Lk)("td",{colspan:"8",class:"text-center"},"No records found",-1)]))):(0,r.Q3)("",!0)])])])]),(0,r.Lk)("div",qge,[(0,r.Lk)("div",Ige,[(0,r.bo)((0,r.Lk)("select",{class:"form-select from-select-sm width-75","onUpdate:modelValue":a[6]||(a[6]=e=>i.meta.per_page=e),onChange:a[7]||(a[7]=(...e)=>o.onPerPageChange&&o.onPerPageChange(...e))},a[14]||(a[14]=[(0,r.Lk)("option",null,"10",-1),(0,r.Lk)("option",null,"15",-1),(0,r.Lk)("option",null,"20",-1),(0,r.Lk)("option",null,"25",-1),(0,r.Lk)("option",null,"30",-1)]),544),[[s.u1,i.meta.per_page]]),(0,r.Lk)("span",null,"Showing "+(0,n.v_)(i.meta.from)+" to "+(0,n.v_)(i.meta.to)+" of "+(0,n.v_)(i.meta.totalRows)+" entries",1),(0,r.bF)(d,{maxPage:i.meta.maxPage,totalPages:i.meta.lastPage,currentPage:parseInt(i.meta.page),onPagechanged:o.onPageChange},null,8,["maxPage","totalPages","currentPage","onPagechanged"])])])])}var Mge={components:{Pagination:md},props:{meta1:{type:Object}},data(){return{meta:{search:"",order_by:"desc",keyword:"user_service_id",per_page:10,totalRows:0,page:1,lastPage:1,from:1,to:1,maxPage:1,trashed:!1},get_service:[],get_asset:[],user_services:[],errors:[],status:!0}},mounted(){this.get_service=this.$store.getters.permissions.filter((function(e){return e.ability.ability.includes("userServices.update")||e.ability.ability.includes("userServices.delete")})),this.$store.commit("setAssetId",""),this.index()},methods:{convertDateFormat(e){return sG()(e).format("yyyy-MM-DD HH:mm")},index(){let e=this,a=e.$loading.show();e.meta.asset_type_id=e.meta1.asset_type_id,e.meta.asset_id=e.meta1.asset_id,e.meta.department_id=e.meta1.department_id,e.meta.from_date=e.meta1.from_date,e.meta.to_date=e.meta1.to_date,e.meta1.keyword="user_service_id",e.$store.dispatch("post",{uri:"paginateUserServices",data:e.meta}).then((t=>{a.hide(),e.user_services=t.data.data,e.meta.totalRows=t.data.meta.total,e.meta.from=t.data.meta.from,e.meta.to=t.data.meta.to,e.meta.lastPage=t.data.meta.last_page,e.meta.page=t.data.meta.current_page,e.meta.maxPage=e.meta.lastPage>=3?3:e.meta.lastPage})).catch((function(t){a.hide(),e.errors=t.response.data.errors,e.$store.dispatch("error",t.response.data.message)}))},showService(e,a){this.$store.commit("setCurrentPage",this.meta.page),this.$router.push("/asset_reports/"+a+"/"+e.user_service_id+"/view")},search(){let e=this;e.meta.page=1,e.index()},onPageChange(e){this.meta.page=e,this.index()},sort(e){this.meta.keyword=e,this.meta.order_by="asc"==this.meta.order_by?"desc":"asc",this.index()},onPerPageChange(){let e=this;e.meta.page=1,e.index()}}};const Kge=(0,Ze.A)(Mge,[["render",Nge]]);var Jge=Kge;const Bge={class:"card card-one"},Oge={class:"card-body"},Hge={class:"table-responsive table-responsive-sm"},Yge={class:"table table-sm text-nowrap table-striped table-bordered mb-0"},Zge={class:"",style:{"background-color":"#9b9b9b",color:"white"}},Gge={key:0,class:"ri-arrow-up-line"},efe={key:1,class:"ri-arrow-down-line"},afe={key:2,class:"fas fa-sort"},tfe={key:0,class:"ri-arrow-up-line"},sfe={key:1,class:"ri-arrow-down-line"},rfe={key:2,class:"fas fa-sort"},lfe={key:0,class:"ri-arrow-up-line"},ife={key:1,class:"ri-arrow-down-line"},ofe={key:2,class:"fas fa-sort"},dfe={key:0,class:"ri-arrow-up-line"},nfe={key:1,class:"ri-arrow-down-line"},cfe={key:2,class:"fas fa-sort"},ufe={class:"text-center"},_fe=["onClick"],pfe={href:"javascript:void(0)"},mfe={key:0},bfe={class:"card-footer"},kfe={class:"d-flex justify-content-between align-items-center"};function vfe(e,a,t,l,i,o){const d=(0,r.g2)("Pagination");return(0,r.uX)(),(0,r.CE)("div",Bge,[a[14]||(a[14]=(0,r.Lk)("div",{class:"card-header d-flex justify-content-between"},[(0,r.Lk)("h6",{class:"card-title"},"Inspection Registers")],-1)),(0,r.Lk)("div",Oge,[(0,r.bo)((0,r.Lk)("input",{class:"form-control form-control-sm mb-2",type:"text",placeholder:"Type keyword and press enter key","onUpdate:modelValue":a[0]||(a[0]=e=>i.meta.search=e),onKeypress:a[1]||(a[1]=(0,s.jR)((e=>o.search()),["enter"]))},null,544),[[s.Jo,i.meta.search]]),(0,r.Lk)("div",Hge,[(0,r.Lk)("table",Yge,[(0,r.Lk)("thead",null,[(0,r.Lk)("tr",Zge,[a[11]||(a[11]=(0,r.Lk)("th",{class:"text-center"},"#",-1)),(0,r.Lk)("th",{onClick:a[2]||(a[2]=e=>o.sort("asset_code"))},[a[7]||(a[7]=(0,r.eW)(" Asset ")),(0,r.Lk)("span",null,["asset_code"==i.meta.keyword&&"asc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",Gge)):"asset_code"==i.meta.keyword&&"desc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",efe)):((0,r.uX)(),(0,r.CE)("i",afe))])]),(0,r.Lk)("th",{onClick:a[3]||(a[3]=e=>o.sort("reference_no"))},[a[8]||(a[8]=(0,r.eW)(" Reference No. ")),(0,r.Lk)("span",null,["reference_no"==i.meta.keyword&&"asc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",tfe)):"reference_no"==i.meta.keyword&&"desc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",sfe)):((0,r.uX)(),(0,r.CE)("i",rfe))])]),(0,r.Lk)("th",{onClick:a[4]||(a[4]=e=>o.sort("reference_date"))},[a[9]||(a[9]=(0,r.eW)(" Reference Date & Time ")),(0,r.Lk)("span",null,["reference_date"==i.meta.keyword&&"asc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",lfe)):"reference_date"==i.meta.keyword&&"desc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",ife)):((0,r.uX)(),(0,r.CE)("i",ofe))])]),(0,r.Lk)("th",null,[a[10]||(a[10]=(0,r.eW)(" Asset Zone ")),(0,r.Lk)("span",null,["asset_zone_id"==i.meta.keyword&&"asc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",dfe)):"asset_zone_id"==i.meta.keyword&&"desc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",nfe)):((0,r.uX)(),(0,r.CE)("i",cfe))])])])]),(0,r.Lk)("tbody",null,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(i.user_checks,((e,a)=>((0,r.uX)(),(0,r.CE)("tr",{key:a},[(0,r.Lk)("td",ufe,(0,n.v_)(i.meta.from+a),1),(0,r.Lk)("td",{onClick:a=>o.showCheck(e,"user_check")},[(0,r.Lk)("a",pfe,(0,n.v_)(e.asset?.asset_code),1)],8,_fe),(0,r.Lk)("td",null,(0,n.v_)(e.reference_no),1),(0,r.Lk)("td",null,(0,n.v_)(o.convertDateFormat(e.reference_date)),1),(0,r.Lk)("td",null,(0,n.v_)(e?.asset_zone?.zone_name),1)])))),128)),0==i.user_checks.length?((0,r.uX)(),(0,r.CE)("tr",mfe,a[12]||(a[12]=[(0,r.Lk)("td",{colspan:"6",class:"text-center"},"No records found",-1)]))):(0,r.Q3)("",!0)])])])]),(0,r.Lk)("div",bfe,[(0,r.Lk)("div",kfe,[(0,r.bo)((0,r.Lk)("select",{class:"form-select from-select-sm width-75","onUpdate:modelValue":a[5]||(a[5]=e=>i.meta.per_page=e),onChange:a[6]||(a[6]=(...e)=>o.onPerPageChange&&o.onPerPageChange(...e))},a[13]||(a[13]=[(0,r.Lk)("option",null,"10",-1),(0,r.Lk)("option",null,"15",-1),(0,r.Lk)("option",null,"20",-1),(0,r.Lk)("option",null,"25",-1),(0,r.Lk)("option",null,"30",-1)]),544),[[s.u1,i.meta.per_page]]),(0,r.Lk)("span",null,"Showing "+(0,n.v_)(i.meta.from)+" to "+(0,n.v_)(i.meta.to)+" of "+(0,n.v_)(i.meta.totalRows)+" entries",1),(0,r.bF)(d,{maxPage:i.meta.maxPage,totalPages:i.meta.lastPage,currentPage:parseInt(i.meta.page),onPagechanged:o.onPageChange},null,8,["maxPage","totalPages","currentPage","onPagechanged"])])])])}var hfe={name:"UserChecks.Index",components:{Pagination:md},props:{meta1:{type:Object}},data(){return{status:!0,meta:{search:"",order_by:"desc",keyword:"user_check_id",per_page:10,totalRows:0,page:1,lastPage:1,from:1,to:1,maxPage:1,trashed:!1},user_checks:[],errors:[],status:!0}},mounted(){this.$store.commit("setAssetId",""),this.index()},methods:{convertDateFormat(e){return sG()(e).format("DD-MM-YYYY HH:mm")},index(){let e=this,a=e.$loading.show();e.meta.asset_type_id=e.meta1.asset_type_id,e.meta.asset_id=e.meta1.asset_id,e.meta.department_id=e.meta1.department_id,e.meta.from_date=e.meta1.from_date,e.meta.to_date=e.meta1.to_date,e.meta1.keyword="user_check_id",e.$store.dispatch("post",{uri:"paginateUserChecks",data:e.meta}).then((t=>{a.hide(),e.user_checks=t.data.data,e.meta.totalRows=t.data.meta.total,e.meta.from=t.data.meta.from,e.meta.to=t.data.meta.to,e.meta.lastPage=t.data.meta.last_page,e.meta.maxPage=e.meta.lastPage>=3?3:e.meta.lastPage})).catch((function(t){a.hide(),e.errors=t.response.data.errors,e.$store.dispatch("error",t.response.data.message)}))},showCheck(e,a){this.$store.commit("setCurrentPage",this.meta.page),this.$router.push("/asset_reports/"+a+"/"+e.user_check_id+"/view")},search(){let e=this;e.meta.page=1,e.index()},onPageChange(e){this.meta.page=e,this.index()},sort(e){this.meta.keyword=e,this.meta.order_by="asc"==this.meta.order_by?"desc":"asc",this.index()},onPerPageChange(){let e=this;e.meta.page=1,e.index()}}};const yfe=(0,Ze.A)(hfe,[["render",vfe]]);var gfe=yfe;const ffe={class:"card card-one"},Lfe={class:"card-body"},Cfe={class:"table-responsive table-responsive-sm"},wfe={class:"table table-sm text-nowrap table-striped table-bordered mb-0"},Efe={class:"",style:{"background-color":"#9b9b9b",color:"white"}},xfe={key:0,class:"ri-arrow-up-line"},Xfe={key:1,class:"ri-arrow-down-line"},Pfe={key:2,class:"fas fa-sort"},$fe={key:0,class:"ri-arrow-up-line"},Sfe={key:1,class:"ri-arrow-down-line"},Afe={key:2,class:"fas fa-sort"},Dfe={key:0,class:"ri-arrow-up-line"},Tfe={key:1,class:"ri-arrow-down-line"},Qfe={key:2,class:"fas fa-sort"},Vfe={key:0,class:"ri-arrow-up-line"},Ffe={key:1,class:"ri-arrow-down-line"},Ufe={key:2,class:"fas fa-sort"},jfe={class:"text-center"},zfe=["onClick"],Wfe={href:"javascript:void(0)"},Rfe={key:0},qfe={class:"card-footer"},Ife={class:"d-flex justify-content-between align-items-center"};function Nfe(e,a,t,l,i,o){const d=(0,r.g2)("Pagination");return(0,r.uX)(),(0,r.CE)("div",ffe,[a[14]||(a[14]=(0,r.Lk)("div",{class:"card-header d-flex justify-content-between"},[(0,r.Lk)("h6",{class:"card-title"},"Process Registers")],-1)),(0,r.Lk)("div",Lfe,[(0,r.bo)((0,r.Lk)("input",{class:"form-control form-control-sm mb-2",type:"text",placeholder:"Type keyword and press enter key","onUpdate:modelValue":a[0]||(a[0]=e=>i.meta.search=e),onKeypress:a[1]||(a[1]=(0,s.jR)((e=>o.search()),["enter"]))},null,544),[[s.Jo,i.meta.search]]),(0,r.Lk)("div",Cfe,[(0,r.Lk)("table",wfe,[(0,r.Lk)("thead",null,[(0,r.Lk)("tr",Efe,[a[11]||(a[11]=(0,r.Lk)("th",{class:"text-center"},"#",-1)),(0,r.Lk)("th",{onClick:a[2]||(a[2]=e=>o.sort("asset_id"))},[a[7]||(a[7]=(0,r.eW)(" Asset ")),(0,r.Lk)("span",null,["asset_id"==i.meta.keyword&&"asc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",xfe)):"asset_id"==i.meta.keyword&&"desc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",Xfe)):((0,r.uX)(),(0,r.CE)("i",Pfe))])]),(0,r.Lk)("th",{onClick:a[3]||(a[3]=e=>o.sort("reference_no"))},[a[8]||(a[8]=(0,r.eW)(" Job No. ")),(0,r.Lk)("span",null,["reference_no"==i.meta.keyword&&"asc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",$fe)):"reference_no"==i.meta.keyword&&"desc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",Sfe)):((0,r.uX)(),(0,r.CE)("i",Afe))])]),(0,r.Lk)("th",{onClick:a[4]||(a[4]=e=>o.sort("reference_date"))},[a[9]||(a[9]=(0,r.eW)(" Job Date & Time ")),(0,r.Lk)("span",null,["reference_date"==i.meta.keyword&&"asc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",Dfe)):"reference_date"==i.meta.keyword&&"desc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",Tfe)):((0,r.uX)(),(0,r.CE)("i",Qfe))])]),(0,r.Lk)("th",null,[a[10]||(a[10]=(0,r.eW)(" Manual/Auto ")),(0,r.Lk)("span",null,["log_id"==i.meta.keyword&&"asc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",Vfe)):"log_id"==i.meta.keyword&&"desc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",Ffe)):((0,r.uX)(),(0,r.CE)("i",Ufe))])])])]),(0,r.Lk)("tbody",null,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(i.user_variables,((e,a)=>((0,r.uX)(),(0,r.CE)("tr",{key:a},[(0,r.Lk)("td",jfe,(0,n.v_)(i.meta.from+a),1),(0,r.Lk)("td",{onClick:a=>o.showProcess(e,"process")},[(0,r.Lk)("a",Wfe,(0,n.v_)(e.asset?.asset_code),1)],8,zfe),(0,r.Lk)("td",null,(0,n.v_)(e.job_no),1),(0,r.Lk)("td",null,(0,n.v_)(o.convertDateFormat(e.job_date)),1),(0,r.Lk)("td",null,(0,n.v_)(e.log_id?"Auto":"Manual"),1)])))),128)),0==i.user_variables.length?((0,r.uX)(),(0,r.CE)("tr",Rfe,a[12]||(a[12]=[(0,r.Lk)("td",{colspan:"5",class:"text-center"},"No records found",-1)]))):(0,r.Q3)("",!0)])])])]),(0,r.Lk)("div",qfe,[(0,r.Lk)("div",Ife,[(0,r.bo)((0,r.Lk)("select",{class:"form-select from-select-sm width-75","onUpdate:modelValue":a[5]||(a[5]=e=>i.meta.per_page=e),onChange:a[6]||(a[6]=(...e)=>o.onPerPageChange&&o.onPerPageChange(...e))},a[13]||(a[13]=[(0,r.Lk)("option",null,"10",-1),(0,r.Lk)("option",null,"15",-1),(0,r.Lk)("option",null,"20",-1),(0,r.Lk)("option",null,"25",-1),(0,r.Lk)("option",null,"30",-1)]),544),[[s.u1,i.meta.per_page]]),(0,r.Lk)("span",null,"Showing "+(0,n.v_)(i.meta.from)+" to "+(0,n.v_)(i.meta.to)+" of "+(0,n.v_)(i.meta.totalRows)+" entries",1),(0,r.bF)(d,{maxPage:i.meta.maxPage,totalPages:i.meta.lastPage,currentPage:parseInt(i.meta.page),onPagechanged:o.onPageChange},null,8,["maxPage","totalPages","currentPage","onPagechanged"])])])])}var Mfe={name:"ProcessRegisters.Index",components:{Pagination:md},props:{meta1:{type:Object}},data(){return{status:!0,meta:{search:"",order_by:"desc",keyword:"user_variable_id",per_page:10,totalRows:0,page:1,lastPage:1,from:1,to:1,maxPage:1,trashed:!1},user_variables:[],errors:[],status:!0}},mounted(){this.$store.commit("setAssetId",""),this.index()},methods:{index(){let e=this,a=e.$loading.show();e.meta.asset_type_id=e.meta1.asset_type_id,e.meta.asset_id=e.meta1.asset_id,e.meta.department_id=e.meta1.department_id,e.meta.from_date=e.meta1.from_date,e.meta.to_date=e.meta1.to_date,e.meta1.keyword="user_variable_id",e.$store.dispatch("post",{uri:"paginateUserVariables",data:e.meta}).then((t=>{a.hide(),e.user_variables=t.data.data,e.meta.totalRows=t.data.meta.total,e.meta.from=t.data.meta.from,e.meta.to=t.data.meta.to,e.meta.lastPage=t.data.meta.last_page,e.meta.maxPage=e.meta.lastPage>=3?3:e.meta.lastPage})).catch((function(t){a.hide(),e.errors=t.response.data.errors,e.$store.dispatch("error",t.response.data.message)}))},showProcess(e,a){console.log("process",e);this.$store.commit("setCurrentPage",this.meta.page),this.$router.push("/asset_reports/"+a+"/"+e.user_variable_id+"/view")},convertDateFormat(e){return sG()(e).format("yyyy-MM-DD HH:mm")},search(){let e=this;e.meta.page=1,e.index()},onPageChange(e){this.meta.page=e,this.index()},sort(e){this.meta.keyword=e,this.meta.order_by="asc"==this.meta.order_by?"desc":"asc",this.index()},onPerPageChange(){let e=this;e.meta.page=1,e.index()}}};const Kfe=(0,Ze.A)(Mfe,[["render",Nfe]]);var Jfe=Kfe,Bfe={components:{Pagination:md,ActivityRegisterTable:gge,ServiceRegisterTable:Jge,CheckRegisterTable:gfe,ProcessRegisterTable:Jfe,Search:It.A},data(){return{meta:{search:"",order_by:"desc",keyword:"user_service_id",per_page:10,totalRows:0,page:1,lastPage:1,from:1,to:1,maxPage:1,trashed:!1,department_id:"",asset_type_id:"",asset_id:"",from_date:"",to_date:"",download:"excel",register:"all_registers"},user_services:[],errors:[],asset_types:[],assets:[],departments:[],downloaded_excel:[],status:!0}},mounted(){this.getAssetTypes()},methods:{index(){let e=this,a=this.$loading.show();this.$store.dispatch("post",{uri:"paginatePendingJobs",data:e.meta}).then((t=>{a.hide(),e.user_services=t.data.data,e.meta.totalRows=t.data.meta.total,e.meta.from=t.data.meta.from,e.meta.lastPage=t.data.meta.last_page;const s=e.meta.from+Number(e.meta.per_page)-1;e.meta.to=s>e.meta.totalRows?e.meta.totalRows:s,e.meta.maxPage=e.meta.lastPage>=3?3:e.meta.lastPage})).catch((function(t){a.hide(),e.errors=t.response.data.errors,e.$store.dispatch("error",t.response.data.message)}))},getAssetTypes(){let e=this,a=e.$loading.show();e.$store.dispatch("post",{uri:"getAssetTypes"}).then((t=>{a.hide(),e.asset_types=t.data.data})).catch((function(t){a.hide(),e.errors=t.response.data.errors,e.$store.dispatch("error",t.response.data.message)}))},getAsset(){let e=this,a=e.$loading.show();e.$store.dispatch("post",{uri:"getAssetTypeAssets",data:e.meta}).then((t=>{a.hide(),console.log("dd--",t.data),e.assets=t.data,console.log(" vm.assets--",e.assets)})).catch((function(t){a.hide(),e.errors=t.response.data.errors,e.$store.dispatch("error",t.response.data.message)}))},getDepartments(){let e=this,a=e.$loading.show();e.$store.dispatch("post",{uri:"getDepartments",data:e.meta}).then((t=>{a.hide(),e.departments=t.data.data})).catch((function(t){a.hide(),e.errors=t.response.data.errors,e.$store.dispatch("error",t.response.data.message)}))},downloadExcel(){let e=this,a=e.$loading.show();e.$store.dispatch("post",{uri:"downloadAllRegisters",data:e.meta}).then((t=>{a.hide(),e.$store.dispatch("success",t.data.message),e.downloaded_excel=t.data})).catch((function(t){a.hide(),e.errors=t.response.data.errors,e.$store.dispatch("error",t.response.data.message)}))},reset(){let e=this;e.meta.asset_type_id="",e.meta.asset_id="",e.meta.department_id="",e.meta.from_date="",e.meta.to_date="",e.meta.register="all_registers",e.errors=[],this.$refs.activityRegister?.index&&this.$refs.activityRegister.index(),this.$refs.serviceRegister?.index&&this.$refs.serviceRegister.index(),this.$refs.checkRegister?.index&&this.$refs.checkRegister.index(),this.$refs.processRegister?.index&&this.$refs.processRegister.index()},search(){let e=this;e.meta.page=1,"activity_register"===e.meta.register&&this.$refs.activityRegister?this.$refs.activityRegister.index():"service_register"===e.meta.register&&this.$refs.serviceRegister?this.$refs.serviceRegister.index():"check_register"===e.meta.register&&this.$refs.checkRegister?this.$refs.checkRegister.index():"process_register"===e.meta.register&&this.$refs.processRegister?this.$refs.processRegister.index():"all_registers"===e.meta.register&&(this.$refs.activityRegister?.index&&this.$refs.activityRegister.index(),this.$refs.serviceRegister?.index&&this.$refs.serviceRegister.index(),this.$refs.checkRegister?.index&&this.$refs.checkRegister.index(),this.$refs.processRegister?.index&&this.$refs.processRegister.index())},onPageChange(e){this.meta.page=e,this.index()},onPerPageChange(){let e=this;e.meta.page=1,e.index()},sort(e){this.meta.keyword=e,this.meta.order_by="asc"==this.meta.order_by?"desc":"asc",this.index()}}};const Ofe=(0,Ze.A)(Bfe,[["render",Jye]]);var Hfe=Ofe;const Yfe={class:""},Zfe={class:"d-sm-flex align-items-center justify-content-between mb-2"},Gfe={class:"breadcrumb fs-sm mb-1"},eLe={class:"breadcrumb-item","aria-current":"page"},aLe={class:"row"},tLe={class:"col-12"},sLe={class:"card card-one"},rLe={class:"card-header d-flex justify-content-between align-items-center"},lLe={key:0},iLe={class:"card-body"},oLe={class:"row"},dLe={class:"col-3"},nLe=["value"],cLe={class:"col-3"},uLe=["value"],_Le={class:"col-6"},pLe={class:"table-responsive table-responsive-sm"},mLe={class:"table table-sm text-nowrap table-striped table-bordered mb-0"},bLe={style:{"background-color":"#9b9b9b",color:"white"}},kLe={class:"text-center"},vLe={key:0,class:"ri-arrow-up-line"},hLe={key:1,class:"ri-arrow-down-line"},yLe={key:2,class:"fas fa-sort"},gLe={key:0,class:"ri-arrow-up-line"},fLe={key:1,class:"ri-arrow-down-line"},LLe={key:2,class:"fas fa-sort"},CLe={key:0,class:"ri-arrow-up-line"},wLe={key:1,class:"ri-arrow-down-line"},ELe={key:2,class:"fas fa-sort"},xLe={key:0,class:"ri-arrow-up-line"},XLe={key:1,class:"ri-arrow-down-line"},PLe={key:2,class:"fas fa-sort"},$Le={key:0,class:"ri-arrow-up-line"},SLe={key:1,class:"ri-arrow-down-line"},ALe={key:2,class:"fas fa-sort"},DLe={key:0,class:"ri-arrow-up-line"},TLe={key:1,class:"ri-arrow-down-line"},QLe={key:2,class:"fas fa-sort"},VLe={key:0,class:"ri-arrow-up-line"},FLe={key:1,class:"ri-arrow-down-line"},ULe={key:2,class:"fas fa-sort"},jLe={key:0,class:"ri-arrow-up-line"},zLe={key:1,class:"ri-arrow-down-line"},WLe={key:2,class:"fas fa-sort"},RLe={key:0,class:"ri-arrow-up-line"},qLe={key:1,class:"ri-arrow-down-line"},ILe={key:2,class:"fas fa-sort"},NLe={key:0,class:"ri-arrow-up-line"},MLe={key:1,class:"ri-arrow-down-line"},KLe={key:2,class:"fas fa-sort"},JLe={key:0,class:"ri-arrow-up-line"},BLe={key:1,class:"ri-arrow-down-line"},OLe={key:2,class:"fas fa-sort"},HLe={key:0,class:"ri-arrow-up-line"},YLe={key:1,class:"ri-arrow-down-line"},ZLe={key:2,class:"fas fa-sort"},GLe={key:0},eCe={class:"text-center"},aCe=["value"],tCe={class:"text-center"},sCe={class:"text-center"},rCe=["onClick"],lCe={class:"card-footer"},iCe={class:"d-flex justify-content-between align-items-center"},oCe={class:"modal fade",id:"exampleModal",tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true",ref:"deviationModal"},dCe={class:"modal-dialog"},nCe={class:"modal-content"},cCe={class:"modal-body"},uCe={key:0,class:"invalid-feedback"},_Ce={class:"modal-footer"},pCe={class:"modal fade",id:"bulkUpdateModal",tabindex:"-1","aria-labelledby":"bulkUpdateModalLabel","aria-hidden":"true",ref:"bulkDeviationModal"},mCe={class:"modal-dialog"},bCe={class:"modal-content"},kCe={class:"modal-body"},vCe={key:0,class:"invalid-feedback"},hCe={class:"modal-footer"};function yCe(e,a,t,l,i,o){const d=(0,r.g2)("router-link"),c=(0,r.g2)("Pagination");return(0,r.uX)(),(0,r.CE)(r.FK,null,[(0,r.Lk)("div",Yfe,[(0,r.Lk)("div",Zfe,[(0,r.Lk)("div",null,[(0,r.Lk)("ol",Gfe,[(0,r.Lk)("li",eLe,[(0,r.bF)(d,{to:"/dashboard"},{default:(0,r.k6)((()=>a[24]||(a[24]=[(0,r.eW)("Dashboard")]))),_:1})]),a[25]||(a[25]=(0,r.Lk)("li",{class:"breadcrumb-item","aria-current":"page"},[(0,r.Lk)("a",{href:"javascript:void(0)"},"Inspection Deviations")],-1))]),a[26]||(a[26]=(0,r.Lk)("h4",{class:"main-title mb-0"},"Inspection Deviations",-1))]),(0,r.bF)(d,{to:"/completed_deviations",class:"btn btn-primary"},{default:(0,r.k6)((()=>a[27]||(a[27]=[(0,r.eW)(" Completed Inspection Deviations")]))),_:1})]),(0,r.Lk)("div",aLe,[(0,r.Lk)("div",tLe,[(0,r.Lk)("div",sLe,[(0,r.Lk)("div",rLe,[a[28]||(a[28]=(0,r.Lk)("h6",{class:"card-title"},"Inspection Deviations",-1)),i.selectedDeviations.length>0&&i.showBulkUpdateButton?((0,r.uX)(),(0,r.CE)("div",lLe,[(0,r.Lk)("button",{class:"btn btn-primary","data-bs-toggle":"modal","data-bs-target":"#bulkUpdateModal",onClick:a[0]||(a[0]=(...e)=>o.prepareBulkUpdate&&o.prepareBulkUpdate(...e))},"Update "+(0,n.v_)(i.selectedDeviations.length)+" Deviation(s)",1)])):(0,r.Q3)("",!0)]),(0,r.Lk)("div",iLe,[(0,r.Lk)("div",oLe,[(0,r.Lk)("div",dLe,[(0,r.bo)((0,r.Lk)("select",{class:"form-control form-control-sm mb-2","onUpdate:modelValue":a[1]||(a[1]=e=>i.meta.asset_id=e),onChange:a[2]||(a[2]=e=>o.search())},[a[29]||(a[29]=(0,r.Lk)("option",{value:""},"Select Asset",-1)),((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(i.assets,((e,a)=>((0,r.uX)(),(0,r.CE)("option",{key:a,value:e.asset_id},(0,n.v_)(e.asset_name),9,nLe)))),128))],544),[[s.u1,i.meta.asset_id]])]),(0,r.Lk)("div",cLe,[(0,r.bo)((0,r.Lk)("select",{class:"form-control form-control-sm mb-2","onUpdate:modelValue":a[3]||(a[3]=e=>i.meta.department_id=e),onChange:a[4]||(a[4]=e=>o.search())},[a[30]||(a[30]=(0,r.Lk)("option",{value:""},"Select Department",-1)),((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(i.departments,((e,a)=>((0,r.uX)(),(0,r.CE)("option",{key:a,value:e.department_id},(0,n.v_)(e.department_name),9,uLe)))),128))],544),[[s.u1,i.meta.department_id]])]),(0,r.Lk)("div",_Le,[(0,r.bo)((0,r.Lk)("input",{class:"form-control form-control-sm mb-2",type:"text",placeholder:"Type keyword and press enter key","onUpdate:modelValue":a[5]||(a[5]=e=>i.meta.search=e),onKeypress:a[6]||(a[6]=(0,s.jR)((e=>o.search()),["enter"]))},null,544),[[s.Jo,i.meta.search]])])]),(0,r.Lk)("div",pLe,[(0,r.Lk)("table",mLe,[(0,r.Lk)("thead",null,[(0,r.Lk)("tr",bLe,[(0,r.Lk)("th",kLe,[(0,r.bo)((0,r.Lk)("input",{type:"checkbox","onUpdate:modelValue":a[7]||(a[7]=e=>i.selectAll=e),onChange:a[8]||(a[8]=(...e)=>o.toggleSelectAll&&o.toggleSelectAll(...e))},null,544),[[s.lH,i.selectAll]])]),a[43]||(a[43]=(0,r.Lk)("th",{class:"text-center"},"#",-1)),(0,r.Lk)("th",null,[a[31]||(a[31]=(0,r.eW)(" Asset ")),(0,r.Lk)("span",null,["asset_name"==i.meta.keyword&&"asc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",vLe)):"asset_name"==i.meta.keyword&&"desc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",hLe)):((0,r.uX)(),(0,r.CE)("i",yLe))])]),(0,r.Lk)("th",null,[a[32]||(a[32]=(0,r.eW)(" Department ")),(0,r.Lk)("span",null,["department_name"==i.meta.keyword&&"asc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",gLe)):"department_name"==i.meta.keyword&&"desc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",fLe)):((0,r.uX)(),(0,r.CE)("i",LLe))])]),(0,r.Lk)("th",null,[a[33]||(a[33]=(0,r.eW)(" Asset Type ")),(0,r.Lk)("span",null,["asset_type_name"==i.meta.keyword&&"asc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",CLe)):"asset_type_name"==i.meta.keyword&&"desc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",wLe)):((0,r.uX)(),(0,r.CE)("i",ELe))])]),(0,r.Lk)("th",null,[a[34]||(a[34]=(0,r.eW)(" Reference No. ")),(0,r.Lk)("span",null,["reference_no"==i.meta.keyword&&"asc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",xLe)):"reference_no"==i.meta.keyword&&"desc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",XLe)):((0,r.uX)(),(0,r.CE)("i",PLe))])]),(0,r.Lk)("th",null,[a[35]||(a[35]=(0,r.eW)(" Check Date ")),(0,r.Lk)("span",null,["reference_date"==i.meta.keyword&&"asc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",$Le)):"reference_date"==i.meta.keyword&&"desc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",SLe)):((0,r.uX)(),(0,r.CE)("i",ALe))])]),(0,r.Lk)("th",{onClick:a[9]||(a[9]=e=>o.sort("asset_check_id"))},[a[36]||(a[36]=(0,r.eW)(" Asset Zone Service ")),(0,r.Lk)("span",null,["asset_check_id"==i.meta.keyword&&"asc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",DLe)):"asset_check_id"==i.meta.keyword&&"desc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",TLe)):((0,r.uX)(),(0,r.CE)("i",QLe))])]),(0,r.Lk)("th",{onClick:a[10]||(a[10]=e=>o.sort("field_name"))},[a[37]||(a[37]=(0,r.eW)(" Check ")),(0,r.Lk)("span",null,["field_name"==i.meta.keyword&&"asc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",VLe)):"field_name"==i.meta.keyword&&"desc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",FLe)):((0,r.uX)(),(0,r.CE)("i",ULe))])]),(0,r.Lk)("th",{onClick:a[11]||(a[11]=e=>o.sort("field_type"))},[a[38]||(a[38]=(0,r.eW)(" Field Type ")),(0,r.Lk)("span",null,["field_type"==i.meta.keyword&&"asc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",jLe)):"field_type"==i.meta.keyword&&"desc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",zLe)):((0,r.uX)(),(0,r.CE)("i",WLe))])]),(0,r.Lk)("th",{onClick:a[12]||(a[12]=e=>o.sort("lcl"))},[a[39]||(a[39]=(0,r.eW)(" Lcl ")),(0,r.Lk)("span",null,["lcl"==i.meta.keyword&&"asc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",RLe)):"lcl"==i.meta.keyword&&"desc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",qLe)):((0,r.uX)(),(0,r.CE)("i",ILe))])]),(0,r.Lk)("th",{onClick:a[13]||(a[13]=e=>o.sort("ucl"))},[a[40]||(a[40]=(0,r.eW)(" Ucl ")),(0,r.Lk)("span",null,["ucl"==i.meta.keyword&&"asc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",NLe)):"ucl"==i.meta.keyword&&"desc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",MLe)):((0,r.uX)(),(0,r.CE)("i",KLe))])]),(0,r.Lk)("th",{onClick:a[14]||(a[14]=e=>o.sort("default_value"))},[a[41]||(a[41]=(0,r.eW)(" Default Value ")),(0,r.Lk)("span",null,["default_value"==i.meta.keyword&&"asc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",JLe)):"default_value"==i.meta.keyword&&"desc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",BLe)):((0,r.uX)(),(0,r.CE)("i",OLe))])]),(0,r.Lk)("th",{onClick:a[15]||(a[15]=e=>o.sort("value"))},[a[42]||(a[42]=(0,r.eW)(" Value ")),(0,r.Lk)("span",null,["value"==i.meta.keyword&&"asc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",HLe)):"value"==i.meta.keyword&&"desc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",YLe)):((0,r.uX)(),(0,r.CE)("i",ZLe))])]),a[44]||(a[44]=(0,r.Lk)("th",{class:"text-center"},"Action",-1))])]),(0,r.Lk)("tbody",null,[0==i.user_assets.length?((0,r.uX)(),(0,r.CE)("tr",GLe,a[45]||(a[45]=[(0,r.Lk)("td",{colspan:"12",class:"text-center"},"No records found",-1)]))):(0,r.Q3)("",!0),((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(i.user_assets,((e,t)=>((0,r.uX)(),(0,r.CE)("tr",{key:t},[(0,r.Lk)("td",eCe,[(0,r.bo)((0,r.Lk)("input",{type:"checkbox",value:e.user_asset_check_id,"onUpdate:modelValue":a[16]||(a[16]=e=>i.selectedDeviations=e),onChange:a[17]||(a[17]=(...e)=>o.updateSelectAll&&o.updateSelectAll(...e))},null,40,aCe),[[s.lH,i.selectedDeviations]])]),(0,r.Lk)("td",tCe,(0,n.v_)(i.meta.from+t),1),(0,r.Lk)("td",null,(0,n.v_)(e?.asset?.asset_name),1),(0,r.Lk)("td",null,(0,n.v_)(e?.asset?.asset_department.map((e=>e.department?.department_name)).join(", ")),1),(0,r.Lk)("td",null,(0,n.v_)(e.asset?.asset_type?.asset_type_name),1),(0,r.Lk)("td",null,(0,n.v_)(e.user_check?.reference_no),1),(0,r.Lk)("td",null,(0,n.v_)(e.user_check?.reference_date),1),(0,r.Lk)("td",null,(0,n.v_)(e.asset_check?.asset_zone?.zone_name)+" :: "+(0,n.v_)(e.asset_check?.asset_services?.service?.service_name),1),(0,r.Lk)("td",null,(0,n.v_)(e.check?.field_name),1),(0,r.Lk)("td",null,(0,n.v_)(e?.field_type),1),(0,r.Lk)("td",null,(0,n.v_)(e?.lcl),1),(0,r.Lk)("td",null,(0,n.v_)(e?.ucl),1),(0,r.Lk)("td",null,(0,n.v_)(e?.default_value),1),(0,r.Lk)("td",null,(0,n.v_)(e?.value),1),(0,r.Lk)("td",sCe,[(0,r.Lk)("button",{class:"btn btn-sm btn-primary","data-bs-toggle":"modal","data-bs-target":"#exampleModal",onClick:a=>o.update(e)},a[46]||(a[46]=[(0,r.Lk)("i",{class:"ri-add-line fs-18 lh-1"},null,-1)]),8,rCe)])])))),128))])])])]),(0,r.Lk)("div",lCe,[(0,r.Lk)("div",iCe,[(0,r.bo)((0,r.Lk)("select",{class:"form-select from-select-sm width-75","onUpdate:modelValue":a[18]||(a[18]=e=>i.meta.per_page=e),onChange:a[19]||(a[19]=(...e)=>o.onPerPageChange&&o.onPerPageChange(...e))},a[47]||(a[47]=[(0,r.Lk)("option",null,"10",-1),(0,r.Lk)("option",null,"15",-1),(0,r.Lk)("option",null,"20",-1),(0,r.Lk)("option",null,"25",-1),(0,r.Lk)("option",null,"30",-1),(0,r.Lk)("option",null,"100",-1),(0,r.Lk)("option",null,"500",-1),(0,r.Lk)("option",null,"3000",-1)]),544),[[s.u1,i.meta.per_page]]),(0,r.Lk)("span",null,"Showing "+(0,n.v_)(i.meta.from)+" to "+(0,n.v_)(i.meta.to)+" of "+(0,n.v_)(i.meta.totalRows)+" entries",1),(0,r.bF)(c,{maxPage:i.meta.maxPage,totalPages:i.meta.lastPage,currentPage:parseInt(i.meta.page),onPagechanged:o.onPageChange},null,8,["maxPage","totalPages","currentPage","onPagechanged"])])])])])])]),(0,r.Lk)("div",oCe,[(0,r.Lk)("div",dCe,[(0,r.Lk)("div",nCe,[a[51]||(a[51]=(0,r.Lk)("div",{class:"modal-header"},[(0,r.Lk)("h5",{class:"modal-title",id:"exampleModalLabel"},"Update Inspection Deviation"),(0,r.Lk)("button",{type:"button",id:"close",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1)),(0,r.Lk)("div",cCe,[(0,r.Lk)("div",null,[a[48]||(a[48]=(0,r.Lk)("label",{class:"form-label"},"Remarks",-1)),a[49]||(a[49]=(0,r.Lk)("span",{class:"text-danger"}," *",-1)),(0,r.bo)((0,r.Lk)("textarea",{rows:"2",class:(0,n.C4)(["form-control",{"is-invalid":i.errors.remarks}]),type:"text",placeholder:"Remarks for Deviation","onUpdate:modelValue":a[20]||(a[20]=e=>i.user_check.remarks=e)},null,2),[[s.Jo,i.user_check.remarks]]),i.errors.remarks?((0,r.uX)(),(0,r.CE)("span",uCe,(0,n.v_)(i.errors.remarks[0]),1)):(0,r.Q3)("",!0)])]),(0,r.Lk)("div",_Ce,[a[50]||(a[50]=(0,r.Lk)("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal"},"Close",-1)),(0,r.Lk)("button",{type:"button",class:"btn btn-primary",onClick:a[21]||(a[21]=(...e)=>o.updateDeviation&&o.updateDeviation(...e))},"Update changes")])])])],512),(0,r.Lk)("div",pCe,[(0,r.Lk)("div",mCe,[(0,r.Lk)("div",bCe,[a[55]||(a[55]=(0,r.Lk)("div",{class:"modal-header"},[(0,r.Lk)("h5",{class:"modal-title",id:"bulkUpdateModalLabel"},"Update Inspection Deviations"),(0,r.Lk)("button",{type:"button",id:"bulkClose",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1)),(0,r.Lk)("div",kCe,[(0,r.Lk)("div",null,[a[52]||(a[52]=(0,r.Lk)("label",{class:"form-label"},"Remarks",-1)),a[53]||(a[53]=(0,r.Lk)("span",{class:"text-danger"}," *",-1)),(0,r.bo)((0,r.Lk)("textarea",{rows:"2",class:(0,n.C4)(["form-control",{"is-invalid":e.bulkErrors?.remarks}]),type:"text",placeholder:"Remarks for deviations","onUpdate:modelValue":a[22]||(a[22]=e=>i.bulkRemarks=e)},null,2),[[s.Jo,i.bulkRemarks]]),e.bulkErrors?.remarks?((0,r.uX)(),(0,r.CE)("span",vCe,(0,n.v_)(e.bulkErrors?.remarks[0]),1)):(0,r.Q3)("",!0)])]),(0,r.Lk)("div",hCe,[a[54]||(a[54]=(0,r.Lk)("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal"},"Close",-1)),(0,r.Lk)("button",{type:"button",class:"btn btn-primary",onClick:a[23]||(a[23]=(...e)=>o.bulkUpdateDeviation&&o.bulkUpdateDeviation(...e))},"Update Deviations")])])])],512)],64)}var gCe={components:{Pagination:md},data(){return{meta:{search:"",order_by:"desc",keyword:"user_check_id",per_page:10,totalRows:0,page:1,lastPage:1,from:1,to:1,maxPage:1,trashed:!1,department_id:"",asset_id:""},user_check:{user_asset_check_id:"",remarks:""},user_assets:[],errors:[],departments:[],assets:[],status:!0,selectedDeviations:[],selectAll:!1,bulkRemarks:"",showBulkUpdateButton:!0}},mounted(){this.index(),this.getDepartments(),this.getAssets()},methods:{index(){let e=this,a=e.$loading.show();e.$store.dispatch("post",{uri:"deviationAssetChecks",data:e.meta}).then((t=>{a.hide(),e.user_assets=t.data.data,e.meta.totalRows=t.data.meta.total,e.meta.from=t.data.meta.from,e.meta.to=t.data.meta.to,e.meta.lastPage=t.data.meta.last_page,e.meta.maxPage=e.meta.lastPage>=3?3:e.meta.lastPage,e.showBulkUpdateButton=!0,e.updateSelectAll()})).catch((function(t){a.hide(),e.errors=t.response.data.errors,e.$store.dispatch("error",t.response.data.message)}))},update(e){let a=this;a.user_check.user_asset_check_id=e.user_asset_check_id},updateDeviation(){let e=this,a=e.$loading.show();e.$store.dispatch("post",{uri:"updateDeviation",data:e.user_check}).then((t=>{a.hide(),e.$store.dispatch("success",t.data.message);let s=e.$refs.deviationModal;s.style.display="none",document.getElementById("close").click(),e.index()})).catch((function(t){a.hide(),e.errors=t.response.data.errors,e.$store.dispatch("error",t.response.data.message)}))},prepareBulkUpdate(){let e=this;e.bulkRemarks="",e.bulkErrors=[]},bulkUpdateDeviation(){let e=this,a=e.$loading.show();const t=e.user_assets.filter((a=>e.selectedDeviations.includes(a.user_asset_check_id))).map((a=>({...a,remarks:e.bulkRemarks}))),s={deviations:t};e.$store.dispatch("post",{uri:"bulkUpdateDeviation",data:s}).then((t=>{a.hide(),e.$store.dispatch("success",t.data.message);let s=e.$refs.bulkDeviationModal;s.style.display="none",document.getElementById("bulkClose").click(),e.showBulkUpdateButton=!1,e.selectedDeviations=[],e.selectAll=!1,e.index()})).catch((function(t){a.hide(),e.bulkErrors=t.response?.data?.errors,e.$store.dispatch("error",t?.response?.data?.message)}))},getDepartments(){let e=this,a=e.$loading.show();e.$store.dispatch("post",{uri:"getDepartments"}).then((t=>{a.hide(),e.departments=t.data.data})).catch((function(t){a.hide(),e.errors=t.response.data.errors,e.$store.dispatch("error",t.response.data.message)}))},getAssets(){let e=this,a=e.$loading.show();e.$store.dispatch("post",{uri:"getAssets"}).then((t=>{a.hide(),e.assets=t.data.data})).catch((function(t){a.hide(),e.errors=t.response.data.errors,e.$store.dispatch("error",t.response.data.message)}))},search(){let e=this;e.meta.page=1,e.index()},onPageChange(e){this.meta.page=e,this.index()},sort(e){this.meta.keyword=e,this.meta.order_by="asc"==this.meta.order_by?"desc":"asc",this.index()},onPerPageChange(){let e=this;e.meta.page=1,e.index()},toggleSelectAll(){this.selectAll?this.user_assets.forEach((e=>{this.selectedDeviations.includes(e.user_asset_check_id)||this.selectedDeviations.push(e.user_asset_check_id)})):this.user_assets.forEach((e=>{const a=this.selectedDeviations.indexOf(e.user_asset_check_id);-1!==a&&this.selectedDeviations.splice(a,1)}))},updateSelectAll(){this.selectAll=this.user_assets.length>0&&this.user_assets.every((e=>this.selectedDeviations.includes(e.user_asset_check_id)))}}};const fCe=(0,Ze.A)(gCe,[["render",yCe]]);var LCe=fCe;const CCe={class:""},wCe={class:"d-sm-flex align-items-center justify-content-between mb-2"},ECe={class:"breadcrumb fs-sm mb-1"},xCe={class:"breadcrumb-item","aria-current":"page"},XCe={class:"row"},PCe={class:"col-12"},$Ce={class:"card card-one"},SCe={key:0,class:"card-body"},ACe={class:"row"},DCe={class:"col-3"},TCe=["value"],QCe={class:"col-3"},VCe=["value"],FCe={class:"col-6"},UCe={class:"table-responsive table-responsive-sm"},jCe={class:"table table-sm text-nowrap table-striped table-bordered mb-0"},zCe={style:{"background-color":"#9b9b9b",color:"white"}},WCe={key:0,class:"ri-arrow-up-line"},RCe={key:1,class:"ri-arrow-down-line"},qCe={key:2,class:"fas fa-sort"},ICe={key:0,class:"ri-arrow-up-line"},NCe={key:1,class:"ri-arrow-down-line"},MCe={key:2,class:"fas fa-sort"},KCe={key:0,class:"ri-arrow-up-line"},JCe={key:1,class:"ri-arrow-down-line"},BCe={key:2,class:"fas fa-sort"},OCe={key:0,class:"ri-arrow-up-line"},HCe={key:1,class:"ri-arrow-down-line"},YCe={key:2,class:"fas fa-sort"},ZCe={key:0,class:"ri-arrow-up-line"},GCe={key:1,class:"ri-arrow-down-line"},ewe={key:2,class:"fas fa-sort"},awe={key:0,class:"ri-arrow-up-line"},twe={key:1,class:"ri-arrow-down-line"},swe={key:2,class:"fas fa-sort"},rwe={key:0,class:"ri-arrow-up-line"},lwe={key:1,class:"ri-arrow-down-line"},iwe={key:2,class:"fas fa-sort"},owe={key:0,class:"ri-arrow-up-line"},dwe={key:1,class:"ri-arrow-down-line"},nwe={key:2,class:"fas fa-sort"},cwe={key:0,class:"ri-arrow-up-line"},uwe={key:1,class:"ri-arrow-down-line"},_we={key:2,class:"fas fa-sort"},pwe={key:0,class:"ri-arrow-up-line"},mwe={key:1,class:"ri-arrow-down-line"},bwe={key:2,class:"fas fa-sort"},kwe={key:0,class:"ri-arrow-up-line"},vwe={key:1,class:"ri-arrow-down-line"},hwe={key:2,class:"fas fa-sort"},ywe={key:0,class:"ri-arrow-up-line"},gwe={key:1,class:"ri-arrow-down-line"},fwe={key:2,class:"fas fa-sort"},Lwe={key:0,class:"ri-arrow-up-line"},Cwe={key:1,class:"ri-arrow-down-line"},wwe={key:2,class:"fas fa-sort"},Ewe={key:0,class:"ri-arrow-up-line"},xwe={key:1,class:"ri-arrow-down-line"},Xwe={key:2,class:"fas fa-sort"},Pwe={key:0},$we={class:"text-center"},Swe={key:1,class:"card-body"},Awe={class:"card-footer"},Dwe={class:"d-flex justify-content-between align-items-center"};function Twe(e,a,t,l,i,o){const d=(0,r.g2)("router-link"),c=(0,r.g2)("Pagination");return(0,r.uX)(),(0,r.CE)("div",CCe,[(0,r.Lk)("div",wCe,[(0,r.Lk)("div",null,[(0,r.Lk)("ol",ECe,[(0,r.Lk)("li",xCe,[(0,r.bF)(d,{to:"/dashboard"},{default:(0,r.k6)((()=>a[22]||(a[22]=[(0,r.eW)("Dashboard")]))),_:1})]),a[23]||(a[23]=(0,r.Lk)("li",{class:"breadcrumb-item","aria-current":"page"},[(0,r.Lk)("a",{href:"javascript:void(0)"},"Completed Inspection Deviations")],-1))]),a[24]||(a[24]=(0,r.Lk)("h4",{class:"main-title mb-0"},"Completed Inspection Deviations",-1))]),(0,r.bF)(d,{to:"/deviations",class:"btn btn-primary"},{default:(0,r.k6)((()=>a[25]||(a[25]=[(0,r.eW)("Inspection Deviations")]))),_:1})]),(0,r.Lk)("div",XCe,[(0,r.Lk)("div",PCe,[(0,r.Lk)("div",$Ce,[a[46]||(a[46]=(0,r.Lk)("div",{class:"card-header d-flex justify-content-between"},[(0,r.Lk)("h6",{class:"card-title"},"Completed Inspection Deviations")],-1)),i.loading?((0,r.uX)(),(0,r.CE)("div",Swe,a[44]||(a[44]=[(0,r.Lk)("p",null,"Loading...",-1)]))):((0,r.uX)(),(0,r.CE)("div",SCe,[(0,r.Lk)("div",ACe,[(0,r.Lk)("div",DCe,[(0,r.bo)((0,r.Lk)("select",{class:"form-control form-control-sm mb-2","onUpdate:modelValue":a[0]||(a[0]=e=>i.meta.asset_id=e),onChange:a[1]||(a[1]=e=>o.search())},[a[26]||(a[26]=(0,r.Lk)("option",{value:""},"Select Asset",-1)),((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(i.assets,((e,a)=>((0,r.uX)(),(0,r.CE)("option",{key:a,value:e.asset_id},(0,n.v_)(e.asset_name||"N/A"),9,TCe)))),128))],544),[[s.u1,i.meta.asset_id]])]),(0,r.Lk)("div",QCe,[(0,r.bo)((0,r.Lk)("select",{class:"form-control form-control-sm mb-2","onUpdate:modelValue":a[2]||(a[2]=e=>i.meta.department_id=e),onChange:a[3]||(a[3]=e=>o.search())},[a[27]||(a[27]=(0,r.Lk)("option",{value:""},"Select Department",-1)),((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(i.departments,((e,a)=>((0,r.uX)(),(0,r.CE)("option",{key:a,value:e.department_id},(0,n.v_)(e.department_name||"N/A"),9,VCe)))),128))],544),[[s.u1,i.meta.department_id]])]),(0,r.Lk)("div",FCe,[(0,r.bo)((0,r.Lk)("input",{class:"form-control form-control-sm mb-2",type:"text",placeholder:"Type keyword and press enter key","onUpdate:modelValue":a[4]||(a[4]=e=>i.meta.search=e),onKeypress:a[5]||(a[5]=(0,s.jR)((e=>o.search()),["enter"]))},null,544),[[s.Jo,i.meta.search]])])]),(0,r.Lk)("div",UCe,[(0,r.Lk)("table",jCe,[(0,r.Lk)("thead",null,[(0,r.Lk)("tr",zCe,[a[42]||(a[42]=(0,r.Lk)("th",{class:"text-center"},"#",-1)),(0,r.Lk)("th",{onClick:a[6]||(a[6]=e=>o.sort("asset_name"))},[a[28]||(a[28]=(0,r.eW)(" Asset ")),(0,r.Lk)("span",null,["asset_name"==i.meta.keyword&&"asc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",WCe)):"asset_name"==i.meta.keyword&&"desc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",RCe)):((0,r.uX)(),(0,r.CE)("i",qCe))])]),(0,r.Lk)("th",{onClick:a[7]||(a[7]=e=>o.sort("department_name"))},[a[29]||(a[29]=(0,r.eW)(" Department ")),(0,r.Lk)("span",null,["department_name"==i.meta.keyword&&"asc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",ICe)):"department_name"==i.meta.keyword&&"desc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",NCe)):((0,r.uX)(),(0,r.CE)("i",MCe))])]),(0,r.Lk)("th",{onClick:a[8]||(a[8]=e=>o.sort("reference_no"))},[a[30]||(a[30]=(0,r.eW)(" Reference No. ")),(0,r.Lk)("span",null,["reference_no"==i.meta.keyword&&"asc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",KCe)):"reference_no"==i.meta.keyword&&"desc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",JCe)):((0,r.uX)(),(0,r.CE)("i",BCe))])]),(0,r.Lk)("th",{onClick:a[9]||(a[9]=e=>o.sort("reference_date"))},[a[31]||(a[31]=(0,r.eW)(" Check Date ")),(0,r.Lk)("span",null,["reference_date"==i.meta.keyword&&"asc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",OCe)):"reference_date"==i.meta.keyword&&"desc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",HCe)):((0,r.uX)(),(0,r.CE)("i",YCe))])]),(0,r.Lk)("th",{onClick:a[10]||(a[10]=e=>o.sort("asset_check_id"))},[a[32]||(a[32]=(0,r.eW)(" Asset Zone Service ")),(0,r.Lk)("span",null,["asset_check_id"==i.meta.keyword&&"asc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",ZCe)):"asset_check_id"==i.meta.keyword&&"desc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",GCe)):((0,r.uX)(),(0,r.CE)("i",ewe))])]),(0,r.Lk)("th",{onClick:a[11]||(a[11]=e=>o.sort("field_name"))},[a[33]||(a[33]=(0,r.eW)(" Check ")),(0,r.Lk)("span",null,["field_name"==i.meta.keyword&&"asc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",awe)):"field_name"==i.meta.keyword&&"desc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",twe)):((0,r.uX)(),(0,r.CE)("i",swe))])]),(0,r.Lk)("th",{onClick:a[12]||(a[12]=e=>o.sort("field_type"))},[a[34]||(a[34]=(0,r.eW)(" Field Type ")),(0,r.Lk)("span",null,["field_type"==i.meta.keyword&&"asc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",rwe)):"field_type"==i.meta.keyword&&"desc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",lwe)):((0,r.uX)(),(0,r.CE)("i",iwe))])]),(0,r.Lk)("th",{onClick:a[13]||(a[13]=e=>o.sort("lcl"))},[a[35]||(a[35]=(0,r.eW)(" Lcl ")),(0,r.Lk)("span",null,["lcl"==i.meta.keyword&&"asc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",owe)):"lcl"==i.meta.keyword&&"desc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",dwe)):((0,r.uX)(),(0,r.CE)("i",nwe))])]),(0,r.Lk)("th",{onClick:a[14]||(a[14]=e=>o.sort("ucl"))},[a[36]||(a[36]=(0,r.eW)(" Ucl ")),(0,r.Lk)("span",null,["ucl"==i.meta.keyword&&"asc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",cwe)):"ucl"==i.meta.keyword&&"desc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",uwe)):((0,r.uX)(),(0,r.CE)("i",_we))])]),(0,r.Lk)("th",{onClick:a[15]||(a[15]=e=>o.sort("default_value"))},[a[37]||(a[37]=(0,r.eW)(" Default Value ")),(0,r.Lk)("span",null,["default_value"==i.meta.keyword&&"asc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",pwe)):"default_value"==i.meta.keyword&&"desc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",mwe)):((0,r.uX)(),(0,r.CE)("i",bwe))])]),(0,r.Lk)("th",{onClick:a[16]||(a[16]=e=>o.sort("value"))},[a[38]||(a[38]=(0,r.eW)(" Value ")),(0,r.Lk)("span",null,["value"==i.meta.keyword&&"asc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",kwe)):"value"==i.meta.keyword&&"desc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",vwe)):((0,r.uX)(),(0,r.CE)("i",hwe))])]),(0,r.Lk)("th",{onClick:a[17]||(a[17]=e=>o.sort("remark_user_id"))},[a[39]||(a[39]=(0,r.eW)(" Remark User ")),(0,r.Lk)("span",null,["remark_user_id"==i.meta.keyword&&"asc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",ywe)):"remark_user_id"==i.meta.keyword&&"desc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",gwe)):((0,r.uX)(),(0,r.CE)("i",fwe))])]),(0,r.Lk)("th",{onClick:a[18]||(a[18]=e=>o.sort("remark_date"))},[a[40]||(a[40]=(0,r.eW)(" Remark Date ")),(0,r.Lk)("span",null,["remark_date"==i.meta.keyword&&"asc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",Lwe)):"remark_date"==i.meta.keyword&&"desc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",Cwe)):((0,r.uX)(),(0,r.CE)("i",wwe))])]),(0,r.Lk)("th",{onClick:a[19]||(a[19]=e=>o.sort("remarks"))},[a[41]||(a[41]=(0,r.eW)(" Remarks ")),(0,r.Lk)("span",null,["remarks"==i.meta.keyword&&"asc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",Ewe)):"remarks"==i.meta.keyword&&"desc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",xwe)):((0,r.uX)(),(0,r.CE)("i",Xwe))])])])]),(0,r.Lk)("tbody",null,[0===i.completed_deviations.length?((0,r.uX)(),(0,r.CE)("tr",Pwe,a[43]||(a[43]=[(0,r.Lk)("td",{colspan:"13",class:"text-center"},"No records found",-1)]))):(0,r.Q3)("",!0),((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(i.completed_deviations,((e,a)=>((0,r.uX)(),(0,r.CE)("tr",{key:a},[(0,r.Lk)("td",$we,(0,n.v_)(i.meta.from+a),1),(0,r.Lk)("td",null,(0,n.v_)(e?.user_check?.asset_details?.asset_name||""),1),(0,r.Lk)("td",null,(0,n.v_)(e?.user_check?.asset_details?.asset_department?.map((e=>e.department?.department_name))?.join(", ")||"N/A"),1),(0,r.Lk)("td",null,(0,n.v_)(e?.user_check?.reference_no||""),1),(0,r.Lk)("td",null,(0,n.v_)(e?.user_check?.reference_date||""),1),(0,r.Lk)("td",null,(0,n.v_)(e.asset_check?.asset_zone?.zone_name)+" :: "+(0,n.v_)(e.asset_check?.asset_services?.service?.service_name),1),(0,r.Lk)("td",null,(0,n.v_)(e?.check?.field_name||""),1),(0,r.Lk)("td",null,(0,n.v_)(e?.field_type||""),1),(0,r.Lk)("td",null,(0,n.v_)(e?.lcl||""),1),(0,r.Lk)("td",null,(0,n.v_)(e?.ucl||""),1),(0,r.Lk)("td",null,(0,n.v_)(e?.default_value||""),1),(0,r.Lk)("td",null,(0,n.v_)(e?.value||""),1),(0,r.Lk)("td",null,(0,n.v_)(e?.remark_user?.name||""),1),(0,r.Lk)("td",null,(0,n.v_)(e?.remark_date||""),1),(0,r.Lk)("td",null,(0,n.v_)(e?.remarks||""),1)])))),128))])])])])),(0,r.Lk)("div",Awe,[(0,r.Lk)("div",Dwe,[(0,r.bo)((0,r.Lk)("select",{class:"form-select from-select-sm width-75","onUpdate:modelValue":a[20]||(a[20]=e=>i.meta.per_page=e),onChange:a[21]||(a[21]=(...e)=>o.onPerPageChange&&o.onPerPageChange(...e))},a[45]||(a[45]=[(0,r.Lk)("option",null,"10",-1),(0,r.Lk)("option",null,"15",-1),(0,r.Lk)("option",null,"20",-1),(0,r.Lk)("option",null,"25",-1),(0,r.Lk)("option",null,"30",-1)]),544),[[s.u1,i.meta.per_page]]),(0,r.Lk)("span",null,"Showing "+(0,n.v_)(i.meta.from)+" to "+(0,n.v_)(i.meta.to)+" of "+(0,n.v_)(i.meta.totalRows)+" entries",1),(0,r.bF)(c,{maxPage:i.meta.maxPage,totalPages:i.meta.lastPage,currentPage:parseInt(i.meta.page),onPagechanged:o.onPageChange},null,8,["maxPage","totalPages","currentPage","onPagechanged"])])])])])])])}var Qwe={components:{Pagination:md},data(){return{meta:{search:"",order_by:"desc",keyword:"user_check_id",per_page:10,totalRows:0,page:1,lastPage:1,from:1,to:1,maxPage:1,trashed:!1,department_id:"",asset_id:""},completed_deviations:[],departments:[],assets:[],errors:[],loading:!0}},mounted(){this.index(),this.getDepartments(),this.getAssets()},methods:{index(){let e=this;e.loading=!0;let a=e.$loading.show();e.$store.dispatch("post",{uri:"completedDeviationChecks",data:e.meta}).then((t=>{a.hide(),e.completed_deviations=t.data.data||[],e.meta.totalRows=t.data.meta?.total||0,e.meta.from=t.data.meta?.from||1,e.meta.to=t.data.meta?.to||1,e.meta.lastPage=t.data.meta?.last_page||1,e.meta.maxPage=e.meta.lastPage>=3?3:e.meta.lastPage,e.loading=!1})).catch((t=>{a.hide(),e.errors=t.response?.data?.errors||[],e.$store.dispatch("error",t.response?.data?.message||"Failed to load data"),e.loading=!1}))},getDepartments(){let e=this,a=e.$loading.show();e.$store.dispatch("post",{uri:"getDepartments"}).then((t=>{a.hide(),e.departments=t.data.data||[]})).catch((t=>{a.hide(),e.errors=t.response?.data?.errors||[],e.$store.dispatch("error",t.response?.data?.message||"Failed to load departments")}))},getAssets(){let e=this,a=e.$loading.show();e.$store.dispatch("post",{uri:"getAssets"}).then((t=>{a.hide(),e.assets=t.data.data||[]})).catch((t=>{a.hide(),e.errors=t.response?.data?.errors||[],e.$store.dispatch("error",t.response?.data?.message||"Failed to load assets")}))},search(){this.meta.page=1,this.index()},onPageChange(e){this.meta.page=e,this.index()},sort(e){this.meta.keyword=e,this.meta.order_by="asc"===this.meta.order_by?"desc":"asc",this.index()},onPerPageChange(){this.meta.page=1,this.index()}}};const Vwe=(0,Ze.A)(Qwe,[["render",Twe]]);var Fwe=Vwe;const Uwe={class:""},jwe={class:"d-sm-flex align-items-center justify-content-between mb-2"},zwe={class:"breadcrumb fs-sm mb-1"},Wwe={class:"breadcrumb-item","aria-current":"page"},Rwe={class:"row"},qwe={class:"col-12"},Iwe={class:"card card-one"},Nwe={class:"card-header d-flex justify-content-between align-items-center"},Mwe={key:0},Kwe={class:"card-body"},Jwe={class:"row"},Bwe={class:"col-3"},Owe=["value"],Hwe={class:"col-9"},Ywe={class:"table-responsive table-responsive-sm"},Zwe={class:"table table-sm text-nowrap table-striped table-bordered mb-0"},Gwe={style:{"background-color":"#9b9b9b",color:"white"}},eEe={class:"text-center"},aEe={key:0,class:"ri-arrow-up-line"},tEe={key:1,class:"ri-arrow-down-line"},sEe={key:2,class:"fas fa-sort"},rEe={key:0,class:"ri-arrow-up-line"},lEe={key:1,class:"ri-arrow-down-line"},iEe={key:2,class:"fas fa-sort"},oEe={key:0,class:"ri-arrow-up-line"},dEe={key:1,class:"ri-arrow-down-line"},nEe={key:2,class:"fas fa-sort"},cEe={key:0,class:"ri-arrow-up-line"},uEe={key:1,class:"ri-arrow-down-line"},_Ee={key:2,class:"fas fa-sort"},pEe={key:0,class:"ri-arrow-up-line"},mEe={key:1,class:"ri-arrow-down-line"},bEe={key:2,class:"fas fa-sort"},kEe={key:0,class:"ri-arrow-up-line"},vEe={key:1,class:"ri-arrow-down-line"},hEe={key:2,class:"fas fa-sort"},yEe={key:0,class:"ri-arrow-up-line"},gEe={key:1,class:"ri-arrow-down-line"},fEe={key:2,class:"fas fa-sort"},LEe={key:0,class:"ri-arrow-up-line"},CEe={key:1,class:"ri-arrow-down-line"},wEe={key:2,class:"fas fa-sort"},EEe={key:0},xEe={class:"text-center"},XEe=["value"],PEe={class:"text-center"},$Ee={class:"text-center"},SEe=["onClick"],AEe={class:"card-footer"},DEe={class:"d-flex justify-content-between align-items-center"},TEe={class:"modal fade",id:"exampleModal",tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true",ref:"deviationModal"},QEe={class:"modal-dialog"},VEe={class:"modal-content"},FEe={class:"modal-body"},UEe={key:0,class:"invalid-feedback"},jEe={class:"modal-footer"},zEe={class:"modal fade",id:"bulkUpdateModal",tabindex:"-1","aria-labelledby":"bulkUpdateModalLabel","aria-hidden":"true",ref:"bulkDeviationModal"},WEe={class:"modal-dialog"},REe={class:"modal-content"},qEe={class:"modal-body"},IEe={key:0,class:"invalid-feedback"},NEe={class:"modal-footer"};function MEe(e,a,t,l,i,o){const d=(0,r.g2)("router-link"),c=(0,r.g2)("Pagination");return(0,r.uX)(),(0,r.CE)(r.FK,null,[(0,r.Lk)("div",Uwe,[(0,r.Lk)("div",jwe,[(0,r.Lk)("div",null,[(0,r.Lk)("ol",zwe,[(0,r.Lk)("li",Wwe,[(0,r.bF)(d,{to:"/dashboard"},{default:(0,r.k6)((()=>a[19]||(a[19]=[(0,r.eW)("Dashboard")]))),_:1})]),a[20]||(a[20]=(0,r.Lk)("li",{class:"breadcrumb-item","aria-current":"page"},[(0,r.Lk)("a",{href:"javascript:void(0)"},"Process Deviations")],-1))]),a[21]||(a[21]=(0,r.Lk)("h4",{class:"main-title mb-0"},"Process Deviations",-1))]),(0,r.bF)(d,{to:"/completed_process_deviations",class:"btn btn-primary"},{default:(0,r.k6)((()=>a[22]||(a[22]=[(0,r.eW)(" Completed Process Deviations")]))),_:1})]),(0,r.Lk)("div",Rwe,[(0,r.Lk)("div",qwe,[(0,r.Lk)("div",Iwe,[(0,r.Lk)("div",Nwe,[a[23]||(a[23]=(0,r.Lk)("h6",{class:"card-title"},"Process Deviations",-1)),i.selectedDeviations.length>0&&i.showBulkUpdateButton?((0,r.uX)(),(0,r.CE)("div",Mwe,[(0,r.Lk)("button",{class:"btn btn-primary","data-bs-toggle":"modal","data-bs-target":"#bulkUpdateModal",onClick:a[0]||(a[0]=(...a)=>e.prepareBulkUpdate&&e.prepareBulkUpdate(...a))},"Update "+(0,n.v_)(i.selectedDeviations.length)+" Deviation(s)",1)])):(0,r.Q3)("",!0)]),(0,r.Lk)("div",Kwe,[(0,r.Lk)("div",Jwe,[(0,r.Lk)("div",Bwe,[(0,r.bo)((0,r.Lk)("select",{class:"form-control form-control-sm mb-2","onUpdate:modelValue":a[1]||(a[1]=e=>i.meta.asset_id=e),onChange:a[2]||(a[2]=e=>o.search())},[a[24]||(a[24]=(0,r.Lk)("option",{value:""},"Select Asset",-1)),((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(i.assets,((e,a)=>((0,r.uX)(),(0,r.CE)("option",{key:a,value:e.asset_id},(0,n.v_)(e.asset_name),9,Owe)))),128))],544),[[s.u1,i.meta.asset_id]])]),(0,r.Lk)("div",Hwe,[(0,r.bo)((0,r.Lk)("input",{class:"form-control form-control-sm mb-2",type:"text",placeholder:"Type keyword and press enter key","onUpdate:modelValue":a[3]||(a[3]=e=>i.meta.search=e),onKeypress:a[4]||(a[4]=(0,s.jR)((e=>o.search()),["enter"]))},null,544),[[s.Jo,i.meta.search]])])]),(0,r.Lk)("div",Ywe,[(0,r.Lk)("table",Zwe,[(0,r.Lk)("thead",null,[(0,r.Lk)("tr",Gwe,[(0,r.Lk)("th",eEe,[(0,r.bo)((0,r.Lk)("input",{type:"checkbox","onUpdate:modelValue":a[5]||(a[5]=e=>i.selectAll=e),onChange:a[6]||(a[6]=(...e)=>o.toggleSelectAll&&o.toggleSelectAll(...e))},null,544),[[s.lH,i.selectAll]])]),a[33]||(a[33]=(0,r.Lk)("th",{class:"text-center"},"#",-1)),(0,r.Lk)("th",null,[a[25]||(a[25]=(0,r.eW)(" Asset ")),(0,r.Lk)("span",null,["asset_name"==i.meta.keyword&&"asc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",aEe)):"asset_name"==i.meta.keyword&&"desc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",tEe)):((0,r.uX)(),(0,r.CE)("i",sEe))])]),(0,r.Lk)("th",null,[a[26]||(a[26]=(0,r.eW)(" Asset Type ")),(0,r.Lk)("span",null,["asset_type_name"==i.meta.keyword&&"asc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",rEe)):"asset_type_name"==i.meta.keyword&&"desc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",lEe)):((0,r.uX)(),(0,r.CE)("i",iEe))])]),(0,r.Lk)("th",null,[a[27]||(a[27]=(0,r.eW)(" Job No. ")),(0,r.Lk)("span",null,["reference_no"==i.meta.keyword&&"asc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",oEe)):"reference_no"==i.meta.keyword&&"desc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",dEe)):((0,r.uX)(),(0,r.CE)("i",nEe))])]),(0,r.Lk)("th",null,[a[28]||(a[28]=(0,r.eW)(" Job Date ")),(0,r.Lk)("span",null,["reference_date"==i.meta.keyword&&"asc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",cEe)):"reference_date"==i.meta.keyword&&"desc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",uEe)):((0,r.uX)(),(0,r.CE)("i",_Ee))])]),(0,r.Lk)("th",{onClick:a[7]||(a[7]=e=>o.sort("field_name"))},[a[29]||(a[29]=(0,r.eW)(" Variable ")),(0,r.Lk)("span",null,["field_name"==i.meta.keyword&&"asc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",pEe)):"field_name"==i.meta.keyword&&"desc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",mEe)):((0,r.uX)(),(0,r.CE)("i",bEe))])]),(0,r.Lk)("th",{onClick:a[8]||(a[8]=e=>o.sort("lcl"))},[a[30]||(a[30]=(0,r.eW)(" Lcl ")),(0,r.Lk)("span",null,["lcl"==i.meta.keyword&&"asc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",kEe)):"lcl"==i.meta.keyword&&"desc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",vEe)):((0,r.uX)(),(0,r.CE)("i",hEe))])]),(0,r.Lk)("th",{onClick:a[9]||(a[9]=e=>o.sort("ucl"))},[a[31]||(a[31]=(0,r.eW)(" Ucl ")),(0,r.Lk)("span",null,["ucl"==i.meta.keyword&&"asc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",yEe)):"ucl"==i.meta.keyword&&"desc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",gEe)):((0,r.uX)(),(0,r.CE)("i",fEe))])]),(0,r.Lk)("th",{onClick:a[10]||(a[10]=e=>o.sort("value"))},[a[32]||(a[32]=(0,r.eW)(" Value ")),(0,r.Lk)("span",null,["value"==i.meta.keyword&&"asc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",LEe)):"value"==i.meta.keyword&&"desc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",CEe)):((0,r.uX)(),(0,r.CE)("i",wEe))])]),a[34]||(a[34]=(0,r.Lk)("th",{class:"text-center"},"Action",-1))])]),(0,r.Lk)("tbody",null,[0==i.user_variables.length?((0,r.uX)(),(0,r.CE)("tr",EEe,a[35]||(a[35]=[(0,r.Lk)("td",{colspan:"12",class:"text-center"},"No records found",-1)]))):(0,r.Q3)("",!0),((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(i.user_variables,((e,t)=>((0,r.uX)(),(0,r.CE)("tr",{key:t},[(0,r.Lk)("td",xEe,[(0,r.bo)((0,r.Lk)("input",{type:"checkbox",value:e.user_asset_variable_id,"onUpdate:modelValue":a[11]||(a[11]=e=>i.selectedDeviations=e),onChange:a[12]||(a[12]=(...e)=>o.updateSelectAll&&o.updateSelectAll(...e))},null,40,XEe),[[s.lH,i.selectedDeviations]])]),(0,r.Lk)("td",PEe,(0,n.v_)(i.meta.from+t),1),(0,r.Lk)("td",null,(0,n.v_)(e?.asset?.asset_name),1),(0,r.Lk)("td",null,(0,n.v_)(e.asset_type?.asset_type_name),1),(0,r.Lk)("td",null,(0,n.v_)(e?.job_no),1),(0,r.Lk)("td",null,(0,n.v_)(e?.job_date),1),(0,r.Lk)("td",null,(0,n.v_)(e.variable?.variable_name),1),(0,r.Lk)("td",null,(0,n.v_)(e?.lcl),1),(0,r.Lk)("td",null,(0,n.v_)(e?.ucl),1),(0,r.Lk)("td",null,(0,n.v_)(e?.value),1),(0,r.Lk)("td",$Ee,[(0,r.Lk)("button",{class:"btn btn-sm btn-primary","data-bs-toggle":"modal","data-bs-target":"#exampleModal",onClick:a=>o.update(e)},a[36]||(a[36]=[(0,r.Lk)("i",{class:"ri-add-line fs-18 lh-1"},null,-1)]),8,SEe)])])))),128))])])])]),(0,r.Lk)("div",AEe,[(0,r.Lk)("div",DEe,[(0,r.bo)((0,r.Lk)("select",{class:"form-select from-select-sm width-75","onUpdate:modelValue":a[13]||(a[13]=e=>i.meta.per_page=e),onChange:a[14]||(a[14]=(...e)=>o.onPerPageChange&&o.onPerPageChange(...e))},a[37]||(a[37]=[(0,r.Lk)("option",null,"10",-1),(0,r.Lk)("option",null,"15",-1),(0,r.Lk)("option",null,"20",-1),(0,r.Lk)("option",null,"25",-1),(0,r.Lk)("option",null,"30",-1),(0,r.Lk)("option",null,"500",-1),(0,r.Lk)("option",null,"3000",-1)]),544),[[s.u1,i.meta.per_page]]),(0,r.Lk)("span",null,"Showing "+(0,n.v_)(i.meta.from)+" to "+(0,n.v_)(i.meta.to)+" of "+(0,n.v_)(i.meta.totalRows)+" entries",1),(0,r.bF)(c,{maxPage:i.meta.maxPage,totalPages:i.meta.lastPage,currentPage:parseInt(i.meta.page),onPagechanged:o.onPageChange},null,8,["maxPage","totalPages","currentPage","onPagechanged"])])])])])])]),(0,r.Lk)("div",TEe,[(0,r.Lk)("div",QEe,[(0,r.Lk)("div",VEe,[a[41]||(a[41]=(0,r.Lk)("div",{class:"modal-header"},[(0,r.Lk)("h5",{class:"modal-title",id:"exampleModalLabel"},"Update Process Deviation"),(0,r.Lk)("button",{type:"button",id:"close",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1)),(0,r.Lk)("div",FEe,[(0,r.Lk)("div",null,[a[38]||(a[38]=(0,r.Lk)("label",{class:"form-label"},"Remarks",-1)),a[39]||(a[39]=(0,r.Lk)("span",{class:"text-danger"}," *",-1)),(0,r.bo)((0,r.Lk)("textarea",{rows:"2",class:(0,n.C4)(["form-control",{"is-invalid":i.errors.remarks}]),type:"text",placeholder:"Remarks for Deviations","onUpdate:modelValue":a[15]||(a[15]=e=>i.user_variableId.remarks=e)},null,2),[[s.Jo,i.user_variableId.remarks]]),i.errors.remarks?((0,r.uX)(),(0,r.CE)("span",UEe,(0,n.v_)(i.errors.remarks[0]),1)):(0,r.Q3)("",!0)])]),(0,r.Lk)("div",jEe,[a[40]||(a[40]=(0,r.Lk)("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal"},"Close",-1)),(0,r.Lk)("button",{type:"button",class:"btn btn-primary",onClick:a[16]||(a[16]=(...e)=>o.updateDeviation&&o.updateDeviation(...e))},"Update changes")])])])],512),(0,r.Lk)("div",zEe,[(0,r.Lk)("div",WEe,[(0,r.Lk)("div",REe,[a[45]||(a[45]=(0,r.Lk)("div",{class:"modal-header"},[(0,r.Lk)("h5",{class:"modal-title",id:"bulkUpdateModalLabel"},"Update Process Deviations"),(0,r.Lk)("button",{type:"button",id:"bulkClose",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1)),(0,r.Lk)("div",qEe,[(0,r.Lk)("div",null,[a[42]||(a[42]=(0,r.Lk)("label",{class:"form-label"},"Remarks",-1)),a[43]||(a[43]=(0,r.Lk)("span",{class:"text-danger"}," *",-1)),(0,r.bo)((0,r.Lk)("textarea",{rows:"2",class:(0,n.C4)(["form-control",{"is-invalid":i.bulkErrors?.remarks}]),type:"text",placeholder:"Remarks for deviations","onUpdate:modelValue":a[17]||(a[17]=e=>i.bulkRemarks=e)},null,2),[[s.Jo,i.bulkRemarks]]),i.bulkErrors?.remarks?((0,r.uX)(),(0,r.CE)("span",IEe,(0,n.v_)(i.bulkErrors?.remarks[0]),1)):(0,r.Q3)("",!0)])]),(0,r.Lk)("div",NEe,[a[44]||(a[44]=(0,r.Lk)("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal"},"Close",-1)),(0,r.Lk)("button",{type:"button",class:"btn btn-primary",onClick:a[18]||(a[18]=(...e)=>o.bulkUpdateDeviation&&o.bulkUpdateDeviation(...e))},"Update Deviations")])])])],512)],64)}var KEe={components:{Pagination:md},data(){return{meta:{search:"",order_by:"desc",keyword:"user_variable_id",per_page:10,totalRows:0,page:1,lastPage:1,from:1,to:1,maxPage:1,trashed:!1,department_id:"",asset_id:""},user_variableId:{user_asset_variable_id:"",remarks:""},user_variables:[],errors:[],departments:[],assets:[],status:!0,selectedDeviations:[],selectAll:!1,bulkRemarks:"",showBulkUpdateButton:!0,bulkErrors:[]}},mounted(){this.index(),this.getDepartments(),this.getAssets()},methods:{index(){let e=this,a=e.$loading.show();e.$store.dispatch("post",{uri:"processDeviations",data:e.meta}).then((t=>{a.hide(),e.user_variables=t.data.data,e.meta.totalRows=t.data.meta.total,e.meta.from=t.data.meta.from,e.meta.to=t.data.meta.to,e.meta.lastPage=t.data.meta.last_page,e.meta.maxPage=e.meta.lastPage>=3?3:e.meta.lastPage,e.showBulkUpdateButton=!0,e.updateSelectAll()})).catch((function(t){a.hide(),e.errors=t.response.data.errors,e.$store.dispatch("error",t.response.data.message)}))},update(e){let a=this;a.user_variableId.user_asset_variable_id=e.user_asset_variable_id},updateDeviation(){let e=this,a=e.$loading.show();e.$store.dispatch("post",{uri:"updateProcessDeviation",data:e.user_variableId}).then((t=>{a.hide(),e.$store.dispatch("success",t.data.message);let s=e.$refs.deviationModal;s.style.display="none",document.getElementById("close").click(),e.index()})).catch((function(t){a.hide(),e.errors=t.response.data.errors,e.$store.dispatch("error",t.response.data.message)}))},bulkUpdateDeviation(){let e=this,a=e.$loading.show();const t=e.user_variables.filter((a=>e.selectedDeviations.includes(a.user_asset_variable_id))).map((a=>({...a,remarks:e.bulkRemarks}))),s={deviations:t};e.$store.dispatch("post",{uri:"bulkUpdateProcessDeviation",data:s}).then((t=>{a.hide(),e.$store.dispatch("success",t.data.message);let s=e.$refs.bulkDeviationModal;s.style.display="none",document.getElementById("bulkClose").click(),e.showBulkUpdateButton=!1,e.selectedDeviations=[],e.selectAll=!1,e.index()})).catch((function(t){a.hide(),e.bulkErrors=t.response?.data?.errors||[],e.$store.dispatch("error",t.response?.data?.message||"An error occurred")}))},getDepartments(){let e=this,a=e.$loading.show();e.$store.dispatch("post",{uri:"getDepartments"}).then((t=>{a.hide(),e.departments=t.data.data})).catch((function(t){a.hide(),e.errors=t.response.data.errors,e.$store.dispatch("error",t.response.data.message)}))},getAssets(){let e=this,a=e.$loading.show();e.$store.dispatch("post",{uri:"getAssets"}).then((t=>{a.hide(),e.assets=t.data.data})).catch((function(t){a.hide(),e.errors=t.response.data.errors,e.$store.dispatch("error",t.response.data.message)}))},search(){let e=this;e.meta.page=1,e.index()},onPageChange(e){this.meta.page=e,this.index()},sort(e){this.meta.keyword=e,this.meta.order_by="asc"==this.meta.order_by?"desc":"asc",this.index()},onPerPageChange(){let e=this;e.meta.page=1,e.index()},toggleSelectAll(){this.selectAll?this.user_variables.forEach((e=>{this.selectedDeviations.includes(e.user_asset_variable_id)||this.selectedDeviations.push(e.user_asset_variable_id)})):this.user_variables.forEach((e=>{const a=this.selectedDeviations.indexOf(e.user_asset_variable_id);-1!==a&&this.selectedDeviations.splice(a,1)}))},updateSelectAll(){this.selectAll=this.user_variables.length>0&&this.user_variables.every((e=>this.selectedDeviations.includes(e.user_asset_variable_id)))}}};const JEe=(0,Ze.A)(KEe,[["render",MEe]]);var BEe=JEe;const OEe={class:""},HEe={class:"d-sm-flex align-items-center justify-content-between mb-2"},YEe={class:"breadcrumb fs-sm mb-1"},ZEe={class:"breadcrumb-item","aria-current":"page"},GEe={class:"row"},exe={class:"col-12"},axe={class:"card card-one"},txe={class:"card-body"},sxe={class:"row"},rxe={class:"col-3"},lxe=["value"],ixe={class:"col-9"},oxe={class:"table-responsive table-responsive-sm"},dxe={class:"table table-sm text-nowrap table-striped table-bordered mb-0"},nxe={style:{"background-color":"#9b9b9b",color:"white"}},cxe={key:0,class:"ri-arrow-up-line"},uxe={key:1,class:"ri-arrow-down-line"},_xe={key:2,class:"fas fa-sort"},pxe={key:0,class:"ri-arrow-up-line"},mxe={key:1,class:"ri-arrow-down-line"},bxe={key:2,class:"fas fa-sort"},kxe={key:0,class:"ri-arrow-up-line"},vxe={key:1,class:"ri-arrow-down-line"},hxe={key:2,class:"fas fa-sort"},yxe={key:0,class:"ri-arrow-up-line"},gxe={key:1,class:"ri-arrow-down-line"},fxe={key:2,class:"fas fa-sort"},Lxe={key:0,class:"ri-arrow-up-line"},Cxe={key:1,class:"ri-arrow-down-line"},wxe={key:2,class:"fas fa-sort"},Exe={key:0,class:"ri-arrow-up-line"},xxe={key:1,class:"ri-arrow-down-line"},Xxe={key:2,class:"fas fa-sort"},Pxe={key:0,class:"ri-arrow-up-line"},$xe={key:1,class:"ri-arrow-down-line"},Sxe={key:2,class:"fas fa-sort"},Axe={key:0,class:"ri-arrow-up-line"},Dxe={key:1,class:"ri-arrow-down-line"},Txe={key:2,class:"fas fa-sort"},Qxe={key:0,class:"ri-arrow-up-line"},Vxe={key:1,class:"ri-arrow-down-line"},Fxe={key:2,class:"fas fa-sort"},Uxe={key:0,class:"ri-arrow-up-line"},jxe={key:1,class:"ri-arrow-down-line"},zxe={key:2,class:"fas fa-sort"},Wxe={key:0,class:"ri-arrow-up-line"},Rxe={key:1,class:"ri-arrow-down-line"},qxe={key:2,class:"fas fa-sort"},Ixe={key:0},Nxe={class:"text-center"},Mxe={class:"card-footer"},Kxe={class:"d-flex justify-content-between align-items-center"};function Jxe(e,a,t,l,i,o){const d=(0,r.g2)("router-link"),c=(0,r.g2)("Pagination");return(0,r.uX)(),(0,r.CE)("div",OEe,[(0,r.Lk)("div",HEe,[(0,r.Lk)("div",null,[(0,r.Lk)("ol",YEe,[(0,r.Lk)("li",ZEe,[(0,r.bF)(d,{to:"/dashboard"},{default:(0,r.k6)((()=>a[13]||(a[13]=[(0,r.eW)("Dashboard")]))),_:1})]),a[14]||(a[14]=(0,r.Lk)("li",{class:"breadcrumb-item","aria-current":"page"},[(0,r.Lk)("a",{href:"javascript:void(0)"},"Completed Process Deviations")],-1))]),a[15]||(a[15]=(0,r.Lk)("h4",{class:"main-title mb-0"},"Completed Process Deviations",-1))]),(0,r.bF)(d,{to:"/process_deviations",class:"btn btn-primary"},{default:(0,r.k6)((()=>a[16]||(a[16]=[(0,r.eW)("Process Deviations")]))),_:1})]),(0,r.Lk)("div",GEe,[(0,r.Lk)("div",exe,[(0,r.Lk)("div",axe,[a[32]||(a[32]=(0,r.Lk)("div",{class:"card-header d-flex justify-content-between"},[(0,r.Lk)("h6",{class:"card-title"},"Completed Process Deviations")],-1)),(0,r.Lk)("div",txe,[(0,r.Lk)("div",sxe,[(0,r.Lk)("div",rxe,[(0,r.bo)((0,r.Lk)("select",{class:"form-control form-control-sm mb-2","onUpdate:modelValue":a[0]||(a[0]=e=>i.meta.asset_id=e),onChange:a[1]||(a[1]=e=>o.search())},[a[17]||(a[17]=(0,r.Lk)("option",{value:""},"Select Asset",-1)),((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(i.assets,((e,a)=>((0,r.uX)(),(0,r.CE)("option",{key:a,value:e.asset_id},(0,n.v_)(e.asset_name),9,lxe)))),128))],544),[[s.u1,i.meta.asset_id]])]),(0,r.Lk)("div",ixe,[(0,r.bo)((0,r.Lk)("input",{class:"form-control form-control-sm mb-2",type:"text",placeholder:"Type keyword and press enter key","onUpdate:modelValue":a[2]||(a[2]=e=>i.meta.search=e),onKeypress:a[3]||(a[3]=(0,s.jR)((e=>o.search()),["enter"]))},null,544),[[s.Jo,i.meta.search]])])]),(0,r.Lk)("div",oxe,[(0,r.Lk)("table",dxe,[(0,r.Lk)("thead",null,[(0,r.Lk)("tr",nxe,[a[29]||(a[29]=(0,r.Lk)("th",{class:"text-center"},"#",-1)),(0,r.Lk)("th",null,[a[18]||(a[18]=(0,r.eW)(" Asset ")),(0,r.Lk)("span",null,["asset_name"==i.meta.keyword&&"asc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",cxe)):"asset_name"==i.meta.keyword&&"desc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",uxe)):((0,r.uX)(),(0,r.CE)("i",_xe))])]),(0,r.Lk)("th",null,[a[19]||(a[19]=(0,r.eW)(" Asset Type ")),(0,r.Lk)("span",null,["asset_type_name"==i.meta.keyword&&"asc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",pxe)):"asset_type_name"==i.meta.keyword&&"desc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",mxe)):((0,r.uX)(),(0,r.CE)("i",bxe))])]),(0,r.Lk)("th",null,[a[20]||(a[20]=(0,r.eW)(" Job No. ")),(0,r.Lk)("span",null,["reference_no"==i.meta.keyword&&"asc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",kxe)):"reference_no"==i.meta.keyword&&"desc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",vxe)):((0,r.uX)(),(0,r.CE)("i",hxe))])]),(0,r.Lk)("th",null,[a[21]||(a[21]=(0,r.eW)(" Job Date ")),(0,r.Lk)("span",null,["reference_date"==i.meta.keyword&&"asc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",yxe)):"reference_date"==i.meta.keyword&&"desc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",gxe)):((0,r.uX)(),(0,r.CE)("i",fxe))])]),(0,r.Lk)("th",{onClick:a[4]||(a[4]=e=>o.sort("field_name"))},[a[22]||(a[22]=(0,r.eW)(" Variable ")),(0,r.Lk)("span",null,["field_name"==i.meta.keyword&&"asc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",Lxe)):"field_name"==i.meta.keyword&&"desc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",Cxe)):((0,r.uX)(),(0,r.CE)("i",wxe))])]),(0,r.Lk)("th",{onClick:a[5]||(a[5]=e=>o.sort("lcl"))},[a[23]||(a[23]=(0,r.eW)(" Lcl ")),(0,r.Lk)("span",null,["lcl"==i.meta.keyword&&"asc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",Exe)):"lcl"==i.meta.keyword&&"desc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",xxe)):((0,r.uX)(),(0,r.CE)("i",Xxe))])]),(0,r.Lk)("th",{onClick:a[6]||(a[6]=e=>o.sort("ucl"))},[a[24]||(a[24]=(0,r.eW)(" Ucl ")),(0,r.Lk)("span",null,["ucl"==i.meta.keyword&&"asc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",Pxe)):"ucl"==i.meta.keyword&&"desc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",$xe)):((0,r.uX)(),(0,r.CE)("i",Sxe))])]),(0,r.Lk)("th",{onClick:a[7]||(a[7]=e=>o.sort("value"))},[a[25]||(a[25]=(0,r.eW)(" Value ")),(0,r.Lk)("span",null,["value"==i.meta.keyword&&"asc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",Axe)):"value"==i.meta.keyword&&"desc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",Dxe)):((0,r.uX)(),(0,r.CE)("i",Txe))])]),(0,r.Lk)("th",{onClick:a[8]||(a[8]=e=>o.sort("remark_user_id"))},[a[26]||(a[26]=(0,r.eW)(" Remark User ")),(0,r.Lk)("span",null,["remark_user_id"==i.meta.keyword&&"asc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",Qxe)):"remark_user_id"==i.meta.keyword&&"desc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",Vxe)):((0,r.uX)(),(0,r.CE)("i",Fxe))])]),(0,r.Lk)("th",{onClick:a[9]||(a[9]=e=>o.sort("remark_date"))},[a[27]||(a[27]=(0,r.eW)(" Remark Date ")),(0,r.Lk)("span",null,["remark_date"==i.meta.keyword&&"asc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",Uxe)):"remark_date"==i.meta.keyword&&"desc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",jxe)):((0,r.uX)(),(0,r.CE)("i",zxe))])]),(0,r.Lk)("th",{onClick:a[10]||(a[10]=e=>o.sort("remarks"))},[a[28]||(a[28]=(0,r.eW)(" Remarks ")),(0,r.Lk)("span",null,["remarks"==i.meta.keyword&&"asc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",Wxe)):"remarks"==i.meta.keyword&&"desc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",Rxe)):((0,r.uX)(),(0,r.CE)("i",qxe))])])])]),(0,r.Lk)("tbody",null,[0==i.completed_deviations.length?((0,r.uX)(),(0,r.CE)("tr",Ixe,a[30]||(a[30]=[(0,r.Lk)("td",{colspan:"13",class:"text-center"},"No records found",-1)]))):(0,r.Q3)("",!0),((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(i.completed_deviations,((e,a)=>((0,r.uX)(),(0,r.CE)("tr",{key:a},[(0,r.Lk)("td",Nxe,(0,n.v_)(i.meta.from+a),1),(0,r.Lk)("td",null,(0,n.v_)(e?.asset?.asset_name),1),(0,r.Lk)("td",null,(0,n.v_)(e.asset_type?.asset_type_name),1),(0,r.Lk)("td",null,(0,n.v_)(e?.job_no),1),(0,r.Lk)("td",null,(0,n.v_)(e?.job_date),1),(0,r.Lk)("td",null,(0,n.v_)(e.variable?.variable_name),1),(0,r.Lk)("td",null,(0,n.v_)(e?.lcl),1),(0,r.Lk)("td",null,(0,n.v_)(e?.ucl),1),(0,r.Lk)("td",null,(0,n.v_)(e?.value),1),(0,r.Lk)("td",null,(0,n.v_)(e?.remark_user?.name),1),(0,r.Lk)("td",null,(0,n.v_)(e?.remark_date),1),(0,r.Lk)("td",null,(0,n.v_)(e?.remarks),1)])))),128))])])])]),(0,r.Lk)("div",Mxe,[(0,r.Lk)("div",Kxe,[(0,r.bo)((0,r.Lk)("select",{class:"form-select from-select-sm width-75","onUpdate:modelValue":a[11]||(a[11]=e=>i.meta.per_page=e),onChange:a[12]||(a[12]=(...e)=>o.onPerPageChange&&o.onPerPageChange(...e))},a[31]||(a[31]=[(0,r.Lk)("option",null,"10",-1),(0,r.Lk)("option",null,"15",-1),(0,r.Lk)("option",null,"20",-1),(0,r.Lk)("option",null,"25",-1),(0,r.Lk)("option",null,"30",-1)]),544),[[s.u1,i.meta.per_page]]),(0,r.Lk)("span",null,"Showing "+(0,n.v_)(i.meta.from)+" to "+(0,n.v_)(i.meta.to)+" of "+(0,n.v_)(i.meta.totalRows)+" entries",1),(0,r.bF)(c,{maxPage:i.meta.maxPage,totalPages:i.meta.lastPage,currentPage:parseInt(i.meta.page),onPagechanged:o.onPageChange},null,8,["maxPage","totalPages","currentPage","onPagechanged"])])])])])])])}var Bxe={components:{Pagination:md},data(){return{meta:{search:"",order_by:"desc",keyword:"user_variable_id",per_page:10,totalRows:0,page:1,lastPage:1,from:1,to:1,maxPage:1,trashed:!1,department_id:"",asset_id:""},completed_deviations:[],departments:[],assets:[],errors:[]}},mounted(){this.index(),this.getAssets()},methods:{index(){let e=this,a=e.$loading.show();e.$store.dispatch("post",{uri:"completedProcessDeviations",data:e.meta}).then((t=>{a.hide(),e.completed_deviations=t.data.data,e.meta.totalRows=t.data.meta.total,e.meta.from=t.data.meta.from,e.meta.to=t.data.meta.to,e.meta.lastPage=t.data.meta.last_page,e.meta.maxPage=e.meta.lastPage>=3?3:e.meta.lastPage})).catch((function(t){a.hide(),e.errors=t.response.data.errors,e.$store.dispatch("error",t.response.data.message)}))},getAssets(){let e=this,a=e.$loading.show();e.$store.dispatch("post",{uri:"getAssets"}).then((t=>{a.hide(),e.assets=t.data.data})).catch((function(t){a.hide(),e.errors=t.response.data.errors,e.$store.dispatch("error",t.response.data.message)}))},search(){let e=this;e.meta.page=1,e.index()},onPageChange(e){this.meta.page=e,this.index()},sort(e){this.meta.keyword=e,this.meta.order_by="asc"==this.meta.order_by?"desc":"asc",this.index()},onPerPageChange(){let e=this;e.meta.page=1,e.index()}}};const Oxe=(0,Ze.A)(Bxe,[["render",Jxe]]);var Hxe=Oxe;const Yxe={class:""},Zxe={class:"d-sm-flex align-items-center justify-content-between mb-2"},Gxe={class:"breadcrumb fs-sm mb-1"},eXe={class:"breadcrumb-item","aria-current":"page"},aXe={class:"row"},tXe={class:"col-12"},sXe={class:"card card-one"},rXe={class:"card-body"},lXe={class:"row"},iXe={class:"col-3"},oXe=["value"],dXe={class:"col-3"},nXe=["value"],cXe={class:"col-6"},uXe={class:"table-responsive table-responsive-sm"},_Xe={class:"table table-sm text-nowrap table-striped table-bordered mb-0"},pXe={style:{"background-color":"#9b9b9b",color:"white"}},mXe={key:0,class:"ri-arrow-up-line"},bXe={key:1,class:"ri-arrow-down-line"},kXe={key:2,class:"fas fa-sort"},vXe={key:0,class:"ri-arrow-up-line"},hXe={key:1,class:"ri-arrow-down-line"},yXe={key:2,class:"fas fa-sort"},gXe={key:0,class:"ri-arrow-up-line"},fXe={key:1,class:"ri-arrow-down-line"},LXe={key:2,class:"fas fa-sort"},CXe={key:0,class:"ri-arrow-up-line"},wXe={key:1,class:"ri-arrow-down-line"},EXe={key:2,class:"fas fa-sort"},xXe={key:0,class:"ri-arrow-up-line"},XXe={key:1,class:"ri-arrow-down-line"},PXe={key:2,class:"fas fa-sort"},$Xe={key:0,class:"ri-arrow-up-line"},SXe={key:1,class:"ri-arrow-down-line"},AXe={key:2,class:"fas fa-sort"},DXe={key:0,class:"ri-arrow-up-line"},TXe={key:1,class:"ri-arrow-down-line"},QXe={key:2,class:"fas fa-sort"},VXe={key:0},FXe={class:"text-center"},UXe={class:"card-footer"},jXe={class:"d-flex justify-content-between align-items-center"};function zXe(e,a,t,l,i,o){const d=(0,r.g2)("router-link"),c=(0,r.g2)("Pagination");return(0,r.uX)(),(0,r.CE)("div",Yxe,[(0,r.Lk)("div",Zxe,[(0,r.Lk)("div",null,[(0,r.Lk)("ol",Gxe,[(0,r.Lk)("li",eXe,[(0,r.bF)(d,{to:"/dashboard"},{default:(0,r.k6)((()=>a[13]||(a[13]=[(0,r.eW)("Dashboard")]))),_:1})]),a[14]||(a[14]=(0,r.Lk)("li",{class:"breadcrumb-item","aria-current":"page"},[(0,r.Lk)("a",{href:"javascript:void(0)"},"Pendings/Overdues")],-1))]),a[15]||(a[15]=(0,r.Lk)("h4",{class:"main-title mb-0"},"Pendings/Overdues",-1))])]),(0,r.Lk)("div",aXe,[(0,r.Lk)("div",tXe,[(0,r.Lk)("div",sXe,[a[28]||(a[28]=(0,r.Lk)("div",{class:"card-header d-flex justify-content-between"},[(0,r.Lk)("h6",{class:"card-title"},"Pendings/Overdues")],-1)),(0,r.Lk)("div",rXe,[(0,r.Lk)("div",lXe,[(0,r.Lk)("div",iXe,[(0,r.bo)((0,r.Lk)("select",{class:"form-control form-control-sm mb-2","onUpdate:modelValue":a[0]||(a[0]=e=>i.meta.asset_id=e),onChange:a[1]||(a[1]=e=>o.search())},[a[16]||(a[16]=(0,r.Lk)("option",{value:""},"Select Asset",-1)),((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(i.assets,((e,a)=>((0,r.uX)(),(0,r.CE)("option",{key:a,value:e.asset_id},(0,n.v_)(e.asset_code),9,oXe)))),128))],544),[[s.u1,i.meta.asset_id]])]),(0,r.Lk)("div",dXe,[(0,r.bo)((0,r.Lk)("select",{class:"form-control form-control-sm mb-2","onUpdate:modelValue":a[2]||(a[2]=e=>i.meta.department_id=e),onChange:a[3]||(a[3]=e=>o.search())},[a[17]||(a[17]=(0,r.Lk)("option",{value:""},"Select Department",-1)),((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(i.departments,((e,a)=>((0,r.uX)(),(0,r.CE)("option",{key:a,value:e.department_id},(0,n.v_)(e.department_name),9,nXe)))),128))],544),[[s.u1,i.meta.department_id]])]),(0,r.Lk)("div",cXe,[(0,r.bo)((0,r.Lk)("input",{class:"form-control form-control-sm mb-2",type:"text",placeholder:"Type keyword and press enter key","onUpdate:modelValue":a[4]||(a[4]=e=>i.meta.search=e),onKeypress:a[5]||(a[5]=(0,s.jR)((e=>o.search()),["enter"]))},null,544),[[s.Jo,i.meta.search]])])]),(0,r.Lk)("div",uXe,[(0,r.Lk)("table",_Xe,[(0,r.Lk)("thead",null,[(0,r.Lk)("tr",pXe,[a[25]||(a[25]=(0,r.Lk)("th",{class:"text-center"},"#",-1)),(0,r.Lk)("th",null,[a[18]||(a[18]=(0,r.eW)(" Department ")),(0,r.Lk)("span",null,["department_id"==i.meta.keyword&&"asc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",mXe)):"department_id"==i.meta.keyword&&"desc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",bXe)):((0,r.uX)(),(0,r.CE)("i",kXe))])]),(0,r.Lk)("th",{onClick:a[6]||(a[6]=e=>o.sort("service_no"))},[a[19]||(a[19]=(0,r.eW)(" Service No. ")),(0,r.Lk)("span",null,["service_no"==i.meta.keyword&&"asc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",vXe)):"service_no"==i.meta.keyword&&"desc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",hXe)):((0,r.uX)(),(0,r.CE)("i",yXe))])]),(0,r.Lk)("th",{onClick:a[7]||(a[7]=e=>o.sort("service_no"))},[a[20]||(a[20]=(0,r.eW)(" Service. ")),(0,r.Lk)("span",null,["service_no"==i.meta.keyword&&"asc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",gXe)):"service_no"==i.meta.keyword&&"desc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",fXe)):((0,r.uX)(),(0,r.CE)("i",LXe))])]),(0,r.Lk)("th",{onClick:a[8]||(a[8]=e=>o.sort("service_date"))},[a[21]||(a[21]=(0,r.eW)(" Service Date ")),(0,r.Lk)("span",null,["service_date"==i.meta.keyword&&"asc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",CXe)):"service_date"==i.meta.keyword&&"desc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",wXe)):((0,r.uX)(),(0,r.CE)("i",EXe))])]),(0,r.Lk)("th",{onClick:a[9]||(a[9]=e=>o.sort("next_service_date"))},[a[22]||(a[22]=(0,r.eW)(" Next Service Date ")),(0,r.Lk)("span",null,["next_service_date"==i.meta.keyword&&"asc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",xXe)):"next_service_date"==i.meta.keyword&&"desc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",XXe)):((0,r.uX)(),(0,r.CE)("i",PXe))])]),(0,r.Lk)("th",{onClick:a[10]||(a[10]=e=>o.sort("asset_id"))},[a[23]||(a[23]=(0,r.eW)(" Asset Code ")),(0,r.Lk)("span",null,["asset_id"==i.meta.keyword&&"asc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",$Xe)):"asset_id"==i.meta.keyword&&"desc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",SXe)):((0,r.uX)(),(0,r.CE)("i",AXe))])]),(0,r.Lk)("th",null,[a[24]||(a[24]=(0,r.eW)(" Delay (in days) ")),(0,r.Lk)("span",null,["delay"==i.meta.keyword&&"asc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",DXe)):"delay"==i.meta.keyword&&"desc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",TXe)):((0,r.uX)(),(0,r.CE)("i",QXe))])])])]),(0,r.Lk)("tbody",null,[0==i.user_services.length?((0,r.uX)(),(0,r.CE)("tr",VXe,a[26]||(a[26]=[(0,r.Lk)("td",{colspan:"7",class:"text-center"},"No records found",-1)]))):(0,r.Q3)("",!0),((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(i.user_services,((e,a)=>((0,r.uX)(),(0,r.CE)("tr",{key:a},[(0,r.Lk)("td",FXe,(0,n.v_)(i.meta.from+a),1),(0,r.Lk)("td",null,(0,n.v_)(e?.asset?.asset_department_ids.map((e=>e.department?.department_name)).join(", ")),1),(0,r.Lk)("td",null,(0,n.v_)(e?.service_no),1),(0,r.Lk)("td",null,(0,n.v_)(e?.user_spares?.map((e=>e.service?.service_name)).filter((e=>e)).join(", ")),1),(0,r.Lk)("td",null,(0,n.v_)(e?.service_date),1),(0,r.Lk)("td",null,(0,n.v_)(e?.next_service_date),1),(0,r.Lk)("td",null,(0,n.v_)(e.asset?.asset_code),1),(0,r.Lk)("td",null,(0,n.v_)(e?.delay_days),1)])))),128))])])])]),(0,r.Lk)("div",UXe,[(0,r.Lk)("div",jXe,[(0,r.bo)((0,r.Lk)("select",{class:"form-select from-select-sm width-75","onUpdate:modelValue":a[11]||(a[11]=e=>i.meta.per_page=e),onChange:a[12]||(a[12]=(...e)=>o.onPerPageChange&&o.onPerPageChange(...e))},a[27]||(a[27]=[(0,r.Lk)("option",null,"10",-1),(0,r.Lk)("option",null,"15",-1),(0,r.Lk)("option",null,"20",-1),(0,r.Lk)("option",null,"25",-1),(0,r.Lk)("option",null,"30",-1)]),544),[[s.u1,i.meta.per_page]]),(0,r.Lk)("span",null,"Showing "+(0,n.v_)(i.meta.from)+" to "+(0,n.v_)(i.meta.to)+" of "+(0,n.v_)(i.meta.totalRows)+" entries",1),(0,r.bF)(c,{maxPage:i.meta.maxPage,totalPages:i.meta.lastPage,currentPage:parseInt(i.meta.page),onPagechanged:o.onPageChange},null,8,["maxPage","totalPages","currentPage","onPagechanged"])])])])])])])}var WXe={components:{Pagination:md},data(){return{meta:{search:"",order_by:"desc",keyword:"user_service_id",per_page:10,totalRows:0,page:1,lastPage:1,from:1,to:1,maxPage:1,trashed:!1,department_id:"",asset_id:""},user_services:[],errors:[],departments:[],assets:[],status:!0}},mounted(){this.index(),this.getDepartments(),this.getAssets()},methods:{index(){let e=this,a=e.$loading.show();e.$store.dispatch("post",{uri:"getPendingServices",data:e.meta}).then((t=>{a.hide(),e.user_services=t.data.data,e.meta.totalRows=t.data.meta.total,e.meta.from=t.data.meta.from,e.meta.to=t.data.meta.to,e.meta.lastPage=t.data.meta.last_page,e.meta.maxPage=e.meta.lastPage>=3?3:e.meta.lastPage})).catch((function(t){a.hide(),e.errors=t.response.data.errors,e.$store.dispatch("error",t.response.data.message)}))},getDepartments(){let e=this,a=e.$loading.show();e.$store.dispatch("post",{uri:"getDepartments"}).then((t=>{a.hide(),e.departments=t.data.data})).catch((function(t){a.hide(),e.errors=t.response.data.errors,e.$store.dispatch("error",t.response.data.message)}))},getAssets(){let e=this,a=e.$loading.show();e.$store.dispatch("post",{uri:"getAssets"}).then((t=>{a.hide(),e.assets=t.data.data})).catch((function(t){a.hide(),e.errors=t.response.data.errors,e.$store.dispatch("error",t.response.data.message)}))},search(){let e=this;e.meta.page=1,e.index()},onPageChange(e){this.meta.page=e,this.index()},sort(e){this.meta.keyword=e,this.meta.order_by="asc"==this.meta.order_by?"desc":"asc",this.index()},onPerPageChange(){let e=this;e.meta.page=1,e.index()}}};const RXe=(0,Ze.A)(WXe,[["render",zXe]]);var qXe=RXe;const IXe={class:""},NXe={class:"d-sm-flex align-items-center justify-content-between mb-2"},MXe={class:"breadcrumb fs-sm mb-1"},KXe={class:"breadcrumb-item","aria-current":"page"},JXe={class:"row"},BXe={class:"col-12"},OXe={class:"card card-one"},HXe={class:"card-body"},YXe={class:"row"},ZXe={class:"col-3"},GXe=["value"],ePe={class:"col-3"},aPe=["value"],tPe={class:"col-6"},sPe={class:"table-responsive table-responsive-sm"},rPe={class:"table table-sm text-nowrap table-striped table-bordered mb-0"},lPe={style:{"background-color":"#9b9b9b",color:"white"}},iPe={key:0,class:"ri-arrow-up-line"},oPe={key:1,class:"ri-arrow-down-line"},dPe={key:2,class:"fas fa-sort"},nPe={key:0,class:"ri-arrow-up-line"},cPe={key:1,class:"ri-arrow-down-line"},uPe={key:2,class:"fas fa-sort"},_Pe={key:0,class:"ri-arrow-up-line"},pPe={key:1,class:"ri-arrow-down-line"},mPe={key:2,class:"fas fa-sort"},bPe={key:0,class:"ri-arrow-up-line"},kPe={key:1,class:"ri-arrow-down-line"},vPe={key:2,class:"fas fa-sort"},hPe={key:0,class:"ri-arrow-up-line"},yPe={key:1,class:"ri-arrow-down-line"},gPe={key:2,class:"fas fa-sort"},fPe={key:0,class:"ri-arrow-up-line"},LPe={key:1,class:"ri-arrow-down-line"},CPe={key:2,class:"fas fa-sort"},wPe={key:0},EPe={class:"text-center"},xPe={class:"card-footer"},XPe={class:"d-flex justify-content-between align-items-center"};function PPe(e,a,t,l,i,o){const d=(0,r.g2)("router-link"),c=(0,r.g2)("Pagination");return(0,r.uX)(),(0,r.CE)("div",IXe,[(0,r.Lk)("div",NXe,[(0,r.Lk)("div",null,[(0,r.Lk)("ol",MXe,[(0,r.Lk)("li",KXe,[(0,r.bF)(d,{to:"/dashboard"},{default:(0,r.k6)((()=>a[13]||(a[13]=[(0,r.eW)("Dashboard")]))),_:1})]),a[14]||(a[14]=(0,r.Lk)("li",{class:"breadcrumb-item","aria-current":"page"},[(0,r.Lk)("a",{href:"javascript:void(0)"},"Upcoming Jobs")],-1))]),a[15]||(a[15]=(0,r.Lk)("h4",{class:"main-title mb-0"},"Upcoming Jobs",-1))])]),(0,r.Lk)("div",JXe,[(0,r.Lk)("div",BXe,[(0,r.Lk)("div",OXe,[a[27]||(a[27]=(0,r.Lk)("div",{class:"card-header d-flex justify-content-between"},[(0,r.Lk)("h6",{class:"card-title"},"Upcoming Jobs")],-1)),(0,r.Lk)("div",HXe,[(0,r.Lk)("div",YXe,[(0,r.Lk)("div",ZXe,[(0,r.bo)((0,r.Lk)("select",{class:"form-control form-control-sm mb-2","onUpdate:modelValue":a[0]||(a[0]=e=>i.meta.asset_id=e),onChange:a[1]||(a[1]=e=>o.search())},[a[16]||(a[16]=(0,r.Lk)("option",{value:""},"Select Asset",-1)),((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(i.assets,((e,a)=>((0,r.uX)(),(0,r.CE)("option",{key:a,value:e.asset_id},(0,n.v_)(e.asset_name),9,GXe)))),128))],544),[[s.u1,i.meta.asset_id]])]),(0,r.Lk)("div",ePe,[(0,r.bo)((0,r.Lk)("select",{class:"form-control form-control-sm mb-2","onUpdate:modelValue":a[2]||(a[2]=e=>i.meta.department_id=e),onChange:a[3]||(a[3]=e=>o.search())},[a[17]||(a[17]=(0,r.Lk)("option",{value:""},"Select Department",-1)),((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(i.departments,((e,a)=>((0,r.uX)(),(0,r.CE)("option",{key:a,value:e.department_id},(0,n.v_)(e.department_name),9,aPe)))),128))],544),[[s.u1,i.meta.department_id]])]),(0,r.Lk)("div",tPe,[(0,r.bo)((0,r.Lk)("input",{class:"form-control form-control-sm mb-2",type:"text",placeholder:"Type keyword and press enter key","onUpdate:modelValue":a[4]||(a[4]=e=>i.meta.search=e),onKeypress:a[5]||(a[5]=(0,s.jR)((e=>o.search()),["enter"]))},null,544),[[s.Jo,i.meta.search]])])]),(0,r.Lk)("div",sPe,[(0,r.Lk)("table",rPe,[(0,r.Lk)("thead",null,[(0,r.Lk)("tr",lPe,[a[24]||(a[24]=(0,r.Lk)("th",{class:"text-center"},"#",-1)),(0,r.Lk)("th",null,[a[18]||(a[18]=(0,r.eW)(" Department ")),(0,r.Lk)("span",null,["department_id"==i.meta.keyword&&"asc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",iPe)):"department_id"==i.meta.keyword&&"desc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",oPe)):((0,r.uX)(),(0,r.CE)("i",dPe))])]),(0,r.Lk)("th",{onClick:a[6]||(a[6]=e=>o.sort("service_no"))},[a[19]||(a[19]=(0,r.eW)(" Service No. ")),(0,r.Lk)("span",null,["service_no"==i.meta.keyword&&"asc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",nPe)):"service_no"==i.meta.keyword&&"desc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",cPe)):((0,r.uX)(),(0,r.CE)("i",uPe))])]),(0,r.Lk)("th",{onClick:a[7]||(a[7]=e=>o.sort("service_no"))},[a[20]||(a[20]=(0,r.eW)(" Service. ")),(0,r.Lk)("span",null,["service_no"==i.meta.keyword&&"asc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",_Pe)):"service_no"==i.meta.keyword&&"desc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",pPe)):((0,r.uX)(),(0,r.CE)("i",mPe))])]),(0,r.Lk)("th",{onClick:a[8]||(a[8]=e=>o.sort("service_date"))},[a[21]||(a[21]=(0,r.eW)(" Service Date ")),(0,r.Lk)("span",null,["service_date"==i.meta.keyword&&"asc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",bPe)):"service_date"==i.meta.keyword&&"desc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",kPe)):((0,r.uX)(),(0,r.CE)("i",vPe))])]),(0,r.Lk)("th",{onClick:a[9]||(a[9]=e=>o.sort("next_service_date"))},[a[22]||(a[22]=(0,r.eW)(" Next Service Date ")),(0,r.Lk)("span",null,["next_service_date"==i.meta.keyword&&"asc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",hPe)):"next_service_date"==i.meta.keyword&&"desc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",yPe)):((0,r.uX)(),(0,r.CE)("i",gPe))])]),(0,r.Lk)("th",{onClick:a[10]||(a[10]=e=>o.sort("asset_id"))},[a[23]||(a[23]=(0,r.eW)(" Asset Code ")),(0,r.Lk)("span",null,["asset_id"==i.meta.keyword&&"asc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",fPe)):"asset_id"==i.meta.keyword&&"desc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",LPe)):((0,r.uX)(),(0,r.CE)("i",CPe))])])])]),(0,r.Lk)("tbody",null,[0==i.user_services.length?((0,r.uX)(),(0,r.CE)("tr",wPe,a[25]||(a[25]=[(0,r.Lk)("td",{colspan:"6",class:"text-center"},"No records found",-1)]))):(0,r.Q3)("",!0),((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(i.user_services,((e,a)=>((0,r.uX)(),(0,r.CE)("tr",{key:a},[(0,r.Lk)("td",EPe,(0,n.v_)(i.meta.from+a),1),(0,r.Lk)("td",null,(0,n.v_)(e?.asset?.asset_department_ids.map((e=>e.department?.department_name)).join(", ")),1),(0,r.Lk)("td",null,(0,n.v_)(e?.service_no),1),(0,r.Lk)("td",null,(0,n.v_)(e?.user_spares?.map((e=>e.service?.service_name)).filter((e=>e)).join(", ")),1),(0,r.Lk)("td",null,(0,n.v_)(e?.service_date),1),(0,r.Lk)("td",null,(0,n.v_)(e?.next_service_date),1),(0,r.Lk)("td",null,(0,n.v_)(e.asset?.asset_code),1)])))),128))])])])]),(0,r.Lk)("div",xPe,[(0,r.Lk)("div",XPe,[(0,r.bo)((0,r.Lk)("select",{class:"form-select from-select-sm width-75","onUpdate:modelValue":a[11]||(a[11]=e=>i.meta.per_page=e),onChange:a[12]||(a[12]=(...e)=>o.onPerPageChange&&o.onPerPageChange(...e))},a[26]||(a[26]=[(0,r.Lk)("option",null,"10",-1),(0,r.Lk)("option",null,"15",-1),(0,r.Lk)("option",null,"20",-1),(0,r.Lk)("option",null,"25",-1),(0,r.Lk)("option",null,"30",-1)]),544),[[s.u1,i.meta.per_page]]),(0,r.Lk)("span",null,"Showing "+(0,n.v_)(i.meta.from)+" to "+(0,n.v_)(i.meta.to)+" of "+(0,n.v_)(i.meta.totalRows)+" entries",1),(0,r.bF)(c,{maxPage:i.meta.maxPage,totalPages:i.meta.lastPage,currentPage:parseInt(i.meta.page),onPagechanged:o.onPageChange},null,8,["maxPage","totalPages","currentPage","onPagechanged"])])])])])])])}var $Pe={components:{Pagination:md},data(){return{meta:{search:"",order_by:"desc",keyword:"user_service_id",per_page:10,totalRows:0,page:1,lastPage:1,from:1,to:1,maxPage:1,trashed:!1,department_id:"",asset_id:""},user_services:[],errors:[],departments:[],assets:[],status:!0}},mounted(){this.index(),this.getDepartments(),this.getAssets()},methods:{index(){let e=this,a=e.$loading.show();e.$store.dispatch("post",{uri:"getUpcomingServices",data:e.meta}).then((t=>{a.hide(),e.user_services=t.data.data,e.meta.totalRows=t.data.meta.total,e.meta.from=t.data.meta.from,e.meta.to=t.data.meta.to,e.meta.lastPage=t.data.meta.last_page,e.meta.maxPage=e.meta.lastPage>=3?3:e.meta.lastPage})).catch((function(t){a.hide(),e.errors=t.response.data.errors,e.$store.dispatch("error",t.response.data.message)}))},getDepartments(){let e=this,a=e.$loading.show();e.$store.dispatch("post",{uri:"getDepartments"}).then((t=>{a.hide(),e.departments=t.data.data})).catch((function(t){a.hide(),e.errors=t.response.data.errors,e.$store.dispatch("error",t.response.data.message)}))},getAssets(){let e=this,a=e.$loading.show();e.$store.dispatch("post",{uri:"getAssets"}).then((t=>{a.hide(),e.assets=t.data.data})).catch((function(t){a.hide(),e.errors=t.response.data.errors,e.$store.dispatch("error",t.response.data.message)}))},search(){let e=this;e.meta.page=1,e.index()},onPageChange(e){this.meta.page=e,this.index()},sort(e){this.meta.keyword=e,this.meta.order_by="asc"==this.meta.order_by?"desc":"asc",this.index()},onPerPageChange(){let e=this;e.meta.page=1,e.index()}}};const SPe=(0,Ze.A)($Pe,[["render",PPe]]);var APe=SPe;const DPe={class:"d-sm-flex align-items-center justify-content-between mb-2"},TPe={class:"breadcrumb fs-sm mb-1"},QPe={class:"breadcrumb-item"},VPe={class:"row"},FPe={class:"col-12"},UPe={class:"card card-one"},jPe={class:"card-header d-flex justify-content-between"},zPe={key:0,class:"fw-bold"},WPe={class:"d-flex mb-2 align-items-center"},RPe=["disabled"],qPe=["value"],IPe=["disabled"],NPe={class:"card-body"},MPe={class:"table-responsive table-responsive-sm"},KPe={class:"table table-sm text-nowrap table-striped table-bordered mb-0"},JPe={key:0},BPe=["value"],OPe={class:"text-center"},HPe={class:"card-footer"},YPe={class:"d-flex justify-content-between align-items-center"},ZPe={class:"col-12 mt-3"},GPe={class:"card card-one"},e$e={class:"card-header d-flex justify-content-between"},a$e={key:0,class:"fw-bold"},t$e={class:"d-flex mb-2 align-items-center"},s$e=["disabled"],r$e=["value"],l$e=["disabled"],i$e={class:"card-body"},o$e={class:"table-responsive table-responsive-sm"},d$e={class:"table table-sm text-nowrap table-striped table-bordered mb-0"},n$e={key:0},c$e=["value"],u$e={class:"text-center"},_$e={class:"card-footer"},p$e={class:"d-flex justify-content-between align-items-center"};function m$e(e,a,t,l,i,o){const d=(0,r.g2)("router-link"),c=(0,r.g2)("Pagination");return(0,r.uX)(),(0,r.CE)(r.FK,null,[(0,r.Lk)("div",DPe,[(0,r.Lk)("div",null,[(0,r.Lk)("ol",TPe,[(0,r.Lk)("li",QPe,[(0,r.bF)(d,{to:"/dashboard"},{default:(0,r.k6)((()=>a[12]||(a[12]=[(0,r.eW)("Dashboard")]))),_:1})]),a[13]||(a[13]=(0,r.Lk)("li",{class:"breadcrumb-item","aria-current":"page"},[(0,r.Lk)("a",{href:"javascript:void(0)"},"Vendor")],-1))]),a[14]||(a[14]=(0,r.Lk)("h4",{class:"main-title mb-0"},"Vendor",-1))]),(0,r.bF)(d,{to:"/dashboard",class:"btn btn-danger"},{default:(0,r.k6)((()=>a[15]||(a[15]=[(0,r.Lk)("i",{class:"ri-list-check"},null,-1),(0,r.eW)(" BACK")]))),_:1})]),(0,r.Lk)("div",VPe,[(0,r.Lk)("div",FPe,[(0,r.Lk)("div",UPe,[(0,r.Lk)("div",jPe,[a[17]||(a[17]=(0,r.Lk)("h6",{class:"card-title mb-0"}," Vendor - Inspections ",-1)),i.vendor_services.length?((0,r.uX)(),(0,r.CE)("span",zPe,(0,n.v_)(i.vendor_services[0]?.asset_service?.asset?.asset_name)+" :: "+(0,n.v_)(i.vendor_services[0]?.asset_service?.asset?.asset_code),1)):(0,r.Q3)("",!0),(0,r.Lk)("div",WPe,[(0,r.bo)((0,r.Lk)("select",{class:"form-select me-2",style:{width:"180px"},"onUpdate:modelValue":a[0]||(a[0]=e=>i.selectedVendorService=e),disabled:!i.selectedServiceIds.length},[a[16]||(a[16]=(0,r.Lk)("option",{disabled:"",value:""},"Select Vendor",-1)),((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(i.vendors,(e=>((0,r.uX)(),(0,r.CE)("option",{key:e,value:e},(0,n.v_)(e),9,qPe)))),128))],8,RPe),[[s.u1,i.selectedVendorService]]),(0,r.Lk)("button",{class:"btn btn-primary",onClick:a[1]||(a[1]=(...e)=>o.updateSelectedServices&&o.updateSelectedServices(...e)),disabled:!i.selectedServiceIds.length||!i.selectedVendorService},"Update",8,IPe)])]),(0,r.Lk)("div",NPe,[(0,r.Lk)("div",MPe,[(0,r.Lk)("table",KPe,[a[19]||(a[19]=(0,r.Lk)("thead",null,[(0,r.Lk)("tr",{style:{"background-color":"#9b9b9b",color:"white"}},[(0,r.Lk)("th"),(0,r.Lk)("th",{class:"text-center"},"#"),(0,r.Lk)("th",null,"Asset Zone"),(0,r.Lk)("th",null,"Service"),(0,r.Lk)("th",null,"Vendor")])],-1)),(0,r.Lk)("tbody",null,[0==i.vendor_services.length?((0,r.uX)(),(0,r.CE)("tr",JPe,a[18]||(a[18]=[(0,r.Lk)("td",{colspan:"5",class:"text-center"},"No records found",-1)]))):(0,r.Q3)("",!0),((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(i.vendor_services,((e,t)=>((0,r.uX)(),(0,r.CE)("tr",{key:t},[(0,r.Lk)("td",null,[(0,r.bo)((0,r.Lk)("input",{type:"checkbox",value:e.asset_service_value_id,"onUpdate:modelValue":a[2]||(a[2]=e=>i.selectedServiceIds=e)},null,8,BPe),[[s.lH,i.selectedServiceIds]])]),(0,r.Lk)("td",OPe,(0,n.v_)(i.services_meta.from+t),1),(0,r.Lk)("td",null,(0,n.v_)(e?.asset_service?.asset_zone?.zone_name),1),(0,r.Lk)("td",null,(0,n.v_)(e?.asset_service?.service?.service_name),1),(0,r.Lk)("td",null,(0,n.v_)(e?.field_value),1)])))),128))])])])]),(0,r.Lk)("div",HPe,[(0,r.Lk)("div",YPe,[(0,r.bo)((0,r.Lk)("select",{class:"form-select form-select-sm width-75","onUpdate:modelValue":a[3]||(a[3]=e=>i.services_meta.per_page=e),onChange:a[4]||(a[4]=e=>o.onPerPageChange("services"))},a[20]||(a[20]=[(0,r.Lk)("option",null,"10",-1),(0,r.Lk)("option",null,"15",-1),(0,r.Lk)("option",null,"20",-1),(0,r.Lk)("option",null,"50",-1),(0,r.Lk)("option",null,"100",-1)]),544),[[s.u1,i.services_meta.per_page]]),(0,r.Lk)("span",null,"Showing "+(0,n.v_)(i.services_meta.from)+" to "+(0,n.v_)(i.services_meta.to)+" of "+(0,n.v_)(i.services_meta.totalRows)+" entries",1),(0,r.bF)(c,{maxPage:i.services_meta.maxPage,totalPages:i.services_meta.lastPage,currentPage:parseInt(i.services_meta.page),onPagechanged:a[5]||(a[5]=e=>o.onPageChange(e,"services"))},null,8,["maxPage","totalPages","currentPage"])])])])]),(0,r.Lk)("div",ZPe,[(0,r.Lk)("div",GPe,[(0,r.Lk)("div",e$e,[a[22]||(a[22]=(0,r.Lk)("h6",{class:"card-title mb-0"}," Vendor - Spares ",-1)),i.vendor_spares.length?((0,r.uX)(),(0,r.CE)("span",a$e,(0,n.v_)(i.vendor_spares[0]?.asset_spare?.asset?.asset_name)+" :: "+(0,n.v_)(i.vendor_spares[0]?.asset_spare?.asset?.asset_code),1)):(0,r.Q3)("",!0),(0,r.Lk)("div",t$e,[(0,r.bo)((0,r.Lk)("select",{class:"form-select me-2","onUpdate:modelValue":a[6]||(a[6]=e=>i.selectedVendorSpare=e),disabled:!i.selectedSpareIds.length},[a[21]||(a[21]=(0,r.Lk)("option",{disabled:"",value:""},"Select Vendor",-1)),((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(i.vendors,(e=>((0,r.uX)(),(0,r.CE)("option",{key:e,value:e},(0,n.v_)(e),9,r$e)))),128))],8,s$e),[[s.u1,i.selectedVendorSpare]]),(0,r.Lk)("button",{class:"btn btn-primary",onClick:a[7]||(a[7]=(...e)=>o.updateSelectedSpares&&o.updateSelectedSpares(...e)),disabled:!i.selectedSpareIds.length||!i.selectedVendorSpare},"Update",8,l$e)])]),(0,r.Lk)("div",i$e,[(0,r.Lk)("div",o$e,[(0,r.Lk)("table",d$e,[a[24]||(a[24]=(0,r.Lk)("thead",null,[(0,r.Lk)("tr",{style:{"background-color":"#9b9b9b",color:"white"}},[(0,r.Lk)("th"),(0,r.Lk)("th",{class:"text-center"},"#"),(0,r.Lk)("th",null,"Asset Zone"),(0,r.Lk)("th",null,"Service"),(0,r.Lk)("th",null,"Spare"),(0,r.Lk)("th",null,"Vendor")])],-1)),(0,r.Lk)("tbody",null,[0==i.vendor_spares.length?((0,r.uX)(),(0,r.CE)("tr",n$e,a[23]||(a[23]=[(0,r.Lk)("td",{colspan:"5",class:"text-center"},"No records found",-1)]))):(0,r.Q3)("",!0),((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(i.vendor_spares,((e,t)=>((0,r.uX)(),(0,r.CE)("tr",{key:t},[(0,r.Lk)("td",null,[(0,r.bo)((0,r.Lk)("input",{type:"checkbox",value:e.asset_spare_value_id,"onUpdate:modelValue":a[8]||(a[8]=e=>i.selectedSpareIds=e)},null,8,c$e),[[s.lH,i.selectedSpareIds]])]),(0,r.Lk)("td",u$e,(0,n.v_)(i.spares_meta.from+t),1),(0,r.Lk)("td",null,(0,n.v_)(e?.asset_spare?.asset_zone?.zone_name),1),(0,r.Lk)("td",null,(0,n.v_)(e?.asset_spare?.asset_service?.service?.service_name),1),(0,r.Lk)("td",null,(0,n.v_)(e?.asset_spare?.spare?.spare_name),1),(0,r.Lk)("td",null,(0,n.v_)(e?.field_value),1)])))),128))])])])]),(0,r.Lk)("div",_$e,[(0,r.Lk)("div",p$e,[(0,r.bo)((0,r.Lk)("select",{class:"form-select form-select-sm width-75","onUpdate:modelValue":a[9]||(a[9]=e=>i.spares_meta.per_page=e),onChange:a[10]||(a[10]=e=>o.onPerPageChange("spares"))},a[25]||(a[25]=[(0,r.Lk)("option",null,"10",-1),(0,r.Lk)("option",null,"15",-1),(0,r.Lk)("option",null,"20",-1),(0,r.Lk)("option",null,"50",-1),(0,r.Lk)("option",null,"100",-1)]),544),[[s.u1,i.spares_meta.per_page]]),(0,r.Lk)("span",null,"Showing "+(0,n.v_)(i.spares_meta.from)+" to "+(0,n.v_)(i.spares_meta.to)+" of "+(0,n.v_)(i.spares_meta.totalRows)+" entries",1),(0,r.bF)(c,{maxPage:i.spares_meta.maxPage,totalPages:i.spares_meta.lastPage,currentPage:parseInt(i.spares_meta.page),onPagechanged:a[11]||(a[11]=e=>o.onPageChange(e,"spares"))},null,8,["maxPage","totalPages","currentPage"])])])])])])],64)}var b$e={components:{Pagination:md},data(){return{services_meta:{order_by:"desc",keyword:"asset_service_id",per_page:10,totalRows:0,page:1,lastPage:1,from:1,to:1,maxPage:1,asset_id:""},spares_meta:{order_by:"desc",keyword:"asset_spare_id",per_page:10,totalRows:0,page:1,lastPage:1,from:1,to:1,maxPage:1,asset_id:""},vendor_services:[],vendor_spares:[],selectedServiceIds:[],selectedSpareIds:[],selectedVendorService:"",selectedVendorSpare:"",vendors:[],services:[],spares:[]}},mounted(){this.$route.params.asset_id&&(this.services_meta.asset_id=this.$route.params.asset_id,this.spares_meta.asset_id=this.$route.params.asset_id),this.index(),this.userVendors()},methods:{index(){let e=this,a=e.$loading.show();const t={asset_id:e.services_meta.asset_id,services_per_page:e.services_meta.per_page,services_page:e.services_meta.page,spares_per_page:e.spares_meta.per_page,spares_page:e.spares_meta.page};e.services_meta.service_id&&(t.service_id=e.services_meta.service_id),e.spares_meta.spare_id&&(t.spare_id=e.spares_meta.spare_id),e.$store.dispatch("post",{uri:"vendors",data:t}).then((t=>{a.hide(),e.vendor_services=t.data.asset_services.data||[],e.vendor_spares=t.data.asset_spares.data||[],e.services_meta.totalRows=t.data.asset_services.total,e.services_meta.from=t.data.asset_services.from,e.services_meta.to=t.data.asset_services.to,e.services_meta.lastPage=t.data.asset_services.last_page,e.services_meta.maxPage=Math.min(e.services_meta.lastPage,3),e.spares_meta.totalRows=t.data.asset_spares.total,e.spares_meta.from=t.data.asset_spares.from,e.spares_meta.to=t.data.asset_spares.to,e.spares_meta.lastPage=t.data.asset_spares.last_page,e.spares_meta.maxPage=Math.min(e.spares_meta.lastPage,3)})).catch((t=>{a.hide(),e.$store.dispatch("error",t?.response?.data?.message)}))},onServiceSelect(e,a){"service"===a&&(this.services_meta.service_id=e?.service_id||""),"spare"===a&&(this.spares_meta.spare_id=e?.spare_id||""),this.index()},onPageChange(e,a){"services"===a&&(this.services_meta.page=e),"spares"===a&&(this.spares_meta.page=e),this.index()},onPerPageChange(e){"services"===e&&(this.services_meta.page=1),"spares"===e&&(this.spares_meta.page=1),this.index()},userVendors(){let e=this,a=e.$loading.show();e.$store.dispatch("post",{uri:"userVendors"}).then((t=>{a.hide(),e.vendors=t.data.vendors})).catch((function(t){a.hide(),e.errors=t.response.data.errors,e.$store.dispatch("error",t.response.data.message)}))},updateSelectedServices(){let e=this;const a=this.vendor_services.filter((e=>this.selectedServiceIds.includes(e.asset_service_value_id))).map((e=>({asset_id:e.asset_id,asset_service_value_id:e.asset_service_value_id})));let t=e.$loading.show();this.$store.dispatch("post",{uri:"updateVendorServices",data:{vendor:this.selectedVendorService,services:a}}).then((a=>{t.hide(),e.$store.dispatch("success",a.data.message),this.selectedServiceIds=[],this.selectedVendorService="",this.index()})).catch((function(a){t.hide(),e.errors=a.response?.data?.errors,e.$store.dispatch("error",a?.response?.data?.message)}))},updateSelectedSpares(){let e=this;const a=this.vendor_spares.filter((e=>this.selectedSpareIds.includes(e.asset_spare_value_id))).map((e=>({asset_spare_value_id:e.asset_spare_value_id,asset_id:e.asset_id})));let t=e.$loading.show();this.$store.dispatch("post",{uri:"updateVendorSpares",data:{vendor:this.selectedVendorSpare,spares:a}}).then((a=>{t.hide(),e.$store.dispatch("success",a.data.message),e.selectedSpareIds=[],e.selectedVendorSpare="",e.index()})).catch((function(a){t.hide(),e.errors=a.response?.data?.errors,e.$store.dispatch("error",a?.response?.data?.message)}))}}};const k$e=(0,Ze.A)(b$e,[["render",m$e],["__scopeId","data-v-d285e44a"]]);var v$e=k$e;const h$e={class:""},y$e={class:"d-sm-flex align-items-center justify-content-between mb-2"},g$e={class:"breadcrumb fs-sm mb-1"},f$e={class:"breadcrumb-item","aria-current":"page"},L$e={class:"row"},C$e={class:"col-12"},w$e={class:"card card-one"},E$e={class:"card-header d-flex justify-content-between"},x$e={class:"card-body"},X$e={class:"row"},P$e={class:"col-2"},$$e={class:"col-2"},S$e={class:"col-2"},A$e={class:"col-2"},D$e={class:"col-2"},T$e={class:"col-2 d-flex mt-auto"},Q$e={class:"table-responsive table-responsive-sm"},V$e={class:"table table-sm text-nowrap table-striped table-bordered mb-0"},F$e={class:"",style:{"background-color":"#9b9b9b",color:"white"}},U$e={key:0,class:"ri-arrow-up-line"},j$e={key:1,class:"ri-arrow-down-line"},z$e={key:2,class:"fas fa-sort"},W$e={key:0,class:"ri-arrow-up-line"},R$e={key:1,class:"ri-arrow-down-line"},q$e={key:2,class:"fas fa-sort"},I$e={key:0,class:"ri-arrow-up-line"},N$e={key:1,class:"ri-arrow-down-line"},M$e={key:2,class:"fas fa-sort"},K$e={key:0,class:"ri-arrow-up-line"},J$e={key:1,class:"ri-arrow-down-line"},B$e={key:2,class:"fas fa-sort"},O$e={key:0},H$e={class:"text-center"},Y$e={class:"card-footer"},Z$e={class:"d-flex justify-content-between align-items-center"};function G$e(e,a,t,l,i,o){const d=(0,r.g2)("router-link"),c=(0,r.g2)("search"),u=(0,r.g2)("Pagination"),_=(0,r.gN)("can");return(0,r.uX)(),(0,r.CE)("div",h$e,[(0,r.Lk)("div",y$e,[(0,r.Lk)("div",null,[(0,r.Lk)("ol",g$e,[(0,r.Lk)("li",f$e,[(0,r.bF)(d,{to:"/dashboard"},{default:(0,r.k6)((()=>a[16]||(a[16]=[(0,r.eW)("Dashboard")]))),_:1})]),a[17]||(a[17]=(0,r.Lk)("li",{class:"breadcrumb-item","aria-current":"page"},[(0,r.Lk)("a",{href:"javascript:void(0)"},"Breakdown Reports")],-1))]),a[18]||(a[18]=(0,r.Lk)("h4",{class:"main-title mb-0"},"Breakdown Reports",-1))])]),(0,r.Lk)("div",L$e,[(0,r.Lk)("div",C$e,[(0,r.Lk)("div",w$e,[(0,r.Lk)("div",E$e,[a[20]||(a[20]=(0,r.Lk)("h6",{class:"card-title"},"Breakdown Reports",-1)),(0,r.bo)(((0,r.uX)(),(0,r.CE)("button",{class:"btn btn-success",onClick:a[0]||(a[0]=e=>o.downloadExcel())},a[19]||(a[19]=[(0,r.Lk)("i",{class:"ri-file-excel-line"},null,-1),(0,r.eW)(" DOWNLOAD EXCEL")]))),[[_,"break_down_reports.download"]])]),(0,r.Lk)("div",x$e,[(0,r.Lk)("div",X$e,[(0,r.Lk)("div",P$e,[a[21]||(a[21]=(0,r.Lk)("label",{class:"form-label"},"Asset Type",-1)),(0,r.bF)(c,{class:(0,n.C4)({"is-invalid":i.errors?.asset_type_id}),customClass:{"is-invalid":i.errors?.asset_type_id},initialize:i.meta.asset_type_id,id:"asset_type_id",label:"asset_type_name",placeholder:"Select Asset Type",data:i.asset_types,onInput:a[1]||(a[1]=e=>i.meta.asset_type_id=e),onSelectsearch:a[2]||(a[2]=e=>o.getAsset())},null,8,["class","customClass","initialize","data"])]),(0,r.Lk)("div",$$e,[a[22]||(a[22]=(0,r.Lk)("label",{class:"form-label"},"Asset",-1)),(0,r.bF)(c,{class:(0,n.C4)({"is-invalid":i.errors?.asset_id}),customClass:{"is-invalid":i.errors?.asset_id},initialize:i.meta?.asset_id,id:"asset_id",label2:"asset_name",label:"asset_code",placeholder:"Select Asset",data:i.assets,onInput:a[3]||(a[3]=e=>i.meta.asset_id=e),onSelectsearch:a[4]||(a[4]=e=>o.getDepartments())},null,8,["class","customClass","initialize","data"])]),(0,r.Lk)("div",S$e,[a[23]||(a[23]=(0,r.Lk)("label",{class:"form-label"},"Department",-1)),(0,r.bF)(c,{class:(0,n.C4)({"is-invalid":i.errors?.department_id}),customClass:{"is-invalid":i.errors?.department_id},initialize:i.meta?.department_id,id:"department_id",label:"department_name",placeholder:"Select Department",data:i.departments,onInput:a[5]||(a[5]=e=>i.meta.department_id=e)},null,8,["class","customClass","initialize","data"])]),(0,r.Lk)("div",A$e,[a[24]||(a[24]=(0,r.Lk)("label",{class:"form-label"},"From Date",-1)),(0,r.bo)((0,r.Lk)("input",{class:"form-control mb-3",type:"date","onUpdate:modelValue":a[6]||(a[6]=e=>i.meta.from_date=e)},null,512),[[s.Jo,i.meta.from_date]])]),(0,r.Lk)("div",D$e,[a[25]||(a[25]=(0,r.Lk)("label",{class:"form-label"},"To Date",-1)),(0,r.bo)((0,r.Lk)("input",{class:"form-control mb-3",type:"date","onUpdate:modelValue":a[7]||(a[7]=e=>i.meta.to_date=e)},null,512),[[s.Jo,i.meta.to_date]])]),(0,r.Lk)("div",T$e,[(0,r.Lk)("button",{class:"btn mb-3 btn-primary me-2",onClick:a[8]||(a[8]=(...e)=>o.search&&o.search(...e))},"Search"),(0,r.Lk)("button",{class:"btn mb-3 btn-danger",onClick:a[9]||(a[9]=(...e)=>o.reset&&o.reset(...e))},"Reset")])]),(0,r.Lk)("div",Q$e,[(0,r.Lk)("table",V$e,[(0,r.Lk)("thead",null,[(0,r.Lk)("tr",F$e,[a[30]||(a[30]=(0,r.Lk)("th",{class:"text-center"},"#",-1)),(0,r.Lk)("th",{onClick:a[10]||(a[10]=e=>o.sort("asset_name"))},[a[26]||(a[26]=(0,r.eW)(" Asset ")),(0,r.Lk)("span",null,["asset_name"==i.meta.keyword&&"asc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",U$e)):"asset_name"==i.meta.keyword&&"desc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",j$e)):((0,r.uX)(),(0,r.CE)("i",z$e))])]),(0,r.Lk)("th",{onClick:a[11]||(a[11]=e=>o.sort("break_down_type_name"))},[a[27]||(a[27]=(0,r.eW)(" Break Down Type ")),(0,r.Lk)("span",null,["break_down_type_name"==i.meta.keyword&&"asc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",W$e)):"break_down_type_name"==i.meta.keyword&&"desc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",R$e)):((0,r.uX)(),(0,r.CE)("i",q$e))])]),(0,r.Lk)("th",{onClick:a[12]||(a[12]=e=>o.sort("job_no"))},[a[28]||(a[28]=(0,r.eW)(" Job No. ")),(0,r.Lk)("span",null,["job_no"==i.meta.keyword&&"asc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",I$e)):"job_no"==i.meta.keyword&&"desc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",N$e)):((0,r.uX)(),(0,r.CE)("i",M$e))])]),(0,r.Lk)("th",{onClick:a[13]||(a[13]=e=>o.sort("job_date"))},[a[29]||(a[29]=(0,r.eW)(" Job Date & Time ")),(0,r.Lk)("span",null,["job_date"==i.meta.keyword&&"asc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",K$e)):"job_date"==i.meta.keyword&&"desc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",J$e)):((0,r.uX)(),(0,r.CE)("i",B$e))])])])]),(0,r.Lk)("tbody",null,[0==i.breakdown_reports.length?((0,r.uX)(),(0,r.CE)("tr",O$e,a[31]||(a[31]=[(0,r.Lk)("td",{colspan:"7",class:"text-center"},"No records found",-1)]))):(0,r.Q3)("",!0),((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(i.breakdown_reports,((e,a)=>((0,r.uX)(),(0,r.CE)("tr",{key:a},[(0,r.Lk)("td",H$e,(0,n.v_)(i.meta.from+a),1),(0,r.Lk)("td",null,(0,n.v_)(e.asset?.asset_name),1),(0,r.Lk)("td",null,(0,n.v_)(e.break_down_type?.break_down_type_name),1),(0,r.Lk)("td",null,(0,n.v_)(e.job_no),1),(0,r.Lk)("td",null,(0,n.v_)(o.convertDateFormat(e.job_date)),1)])))),128))])])])]),(0,r.Lk)("div",Y$e,[(0,r.Lk)("div",Z$e,[(0,r.bo)((0,r.Lk)("select",{class:"form-select from-select-sm width-75","onUpdate:modelValue":a[14]||(a[14]=e=>i.meta.per_page=e),onChange:a[15]||(a[15]=(...e)=>o.onPerPageChange&&o.onPerPageChange(...e))},a[32]||(a[32]=[(0,r.Lk)("option",null,"10",-1),(0,r.Lk)("option",null,"15",-1),(0,r.Lk)("option",null,"20",-1),(0,r.Lk)("option",null,"25",-1),(0,r.Lk)("option",null,"30",-1)]),544),[[s.u1,i.meta.per_page]]),(0,r.Lk)("span",null,"Showing "+(0,n.v_)(i.meta.from)+" to "+(0,n.v_)(i.meta.to)+" of "+(0,n.v_)(i.meta.totalRows)+" entries",1),(0,r.bF)(u,{maxPage:i.meta.maxPage,totalPages:i.meta.lastPage,currentPage:i.meta.page,onPagechanged:o.onPageChange},null,8,["maxPage","totalPages","currentPage","onPagechanged"])])])])])])])}var eSe={components:{Pagination:md,Search:It.A},data(){return{meta:{search:"",order_by:"desc",keyword:"break_down_list_id",per_page:10,totalRows:0,page:1,lastPage:1,from:1,to:1,maxPage:1,trashed:!1,department_id:"",asset_type_id:"",asset_id:"",from_date:"",to_date:"",download:"excel"},breakdown_reports:[],errors:[],asset_types:[],assets:[],departments:[],status:!0,downloaded_excel:[]}},mounted(){this.index(),this.getAssetTypes()},methods:{index(){let e=this,a=this.$loading.show();this.$store.dispatch("post",{uri:"paginateBreakDownLists",data:e.meta}).then((t=>{a.hide(),e.breakdown_reports=t.data.data,e.meta.totalRows=t.data.meta.total,e.meta.from=t.data.meta.from,e.meta.to=t.data.meta.to,e.meta.lastPage=t.data.meta.last_page,e.meta.maxPage=e.meta.lastPage>=3?3:e.meta.lastPage})).catch((function(t){a.hide(),e.errors=t.response.data.errors,e.$store.dispatch("error",t.response.data.message)}))},reset(){let e=this;e.meta.asset_type_id="",e.meta.asset_id="",e.meta.department_id="",e.meta.from_date="",e.meta.to_date="",e.errors=[],e.index()},convertDateFormat(e){return sG()(e).format("yyyy-MM-DD HH:mm")},getAssetTypes(){let e=this,a=e.$loading.show();e.$store.dispatch("post",{uri:"getAssetTypes"}).then((t=>{a.hide(),e.asset_types=t.data.data})).catch((function(t){a.hide(),e.errors=t.response.data.errors,e.$store.dispatch("error",t.response.data.message)}))},getAsset(){let e=this,a=e.$loading.show();e.$store.dispatch("post",{uri:"getAssetTypeAssets",data:e.meta}).then((t=>{a.hide(),console.log("dd--",t.data),e.assets=t.data,console.log(" vm.assets--",e.assets)})).catch((function(t){a.hide(),e.errors=t.response.data.errors,e.$store.dispatch("error",t.response.data.message)}))},getDepartments(){let e=this,a=e.$loading.show();e.$store.dispatch("post",{uri:"getDepartments",data:e.meta}).then((t=>{a.hide(),console.log("response.data.data",t.data),e.departments=t.data.data})).catch((function(t){a.hide(),e.errors=t.response.data.errors,e.$store.dispatch("error",t.response.data.message)}))},downloadExcel(){let e=this,a=e.$loading.show();e.$store.dispatch("post",{uri:"downloadBreakDownRegister",data:e.meta}).then((t=>{a.hide(),e.$store.dispatch("success",t.data.message),e.downloaded_excel=t.data})).catch((function(t){a.hide(),e.errors=t.response.data.errors,e.$store.dispatch("error",t.response.data.message)}))},search(){let e=this;e.meta.page=1,e.index()},onPageChange(e){this.meta.page=e,this.index()},onPerPageChange(){let e=this;e.meta.page=1,e.index()},sort(e){this.meta.keyword=e,this.meta.order_by="asc"==this.meta.order_by?"desc":"asc",this.index()}}};const aSe=(0,Ze.A)(eSe,[["render",G$e]]);var tSe=aSe;const sSe={class:""},rSe={class:"d-sm-flex align-items-center justify-content-between mb-2"},lSe={class:"breadcrumb fs-sm mb-1"},iSe={class:"breadcrumb-item","aria-current":"page"},oSe={class:"row"},dSe={class:"col-12"},nSe={class:"card card-one"},cSe={class:"card-header d-flex justify-content-between"},uSe={class:"card-body"},_Se={class:"row"},pSe={class:"col-2"},mSe={class:"col-2"},bSe={class:"col-2"},kSe={class:"col-2"},vSe={class:"col-2"},hSe={class:"col-2 mt-auto"},ySe={class:"table-responsive table-responsive-sm"},gSe={class:"table table-sm text-nowrap table-striped table-bordered mb-0"},fSe={style:{"background-color":"#9b9b9b",color:"white"}},LSe={key:0,class:"ri-arrow-up-line"},CSe={key:1,class:"ri-arrow-down-line"},wSe={key:2,class:"fas fa-sort"},ESe={key:0,class:"ri-arrow-up-line"},xSe={key:1,class:"ri-arrow-down-line"},XSe={key:2,class:"fas fa-sort"},PSe={key:0,class:"ri-arrow-up-line"},$Se={key:1,class:"ri-arrow-down-line"},SSe={key:2,class:"fas fa-sort"},ASe={key:0,class:"ri-arrow-up-line"},DSe={key:1,class:"ri-arrow-down-line"},TSe={key:2,class:"fas fa-sort"},QSe={key:0,class:"ri-arrow-up-line"},VSe={key:1,class:"ri-arrow-down-line"},FSe={key:2,class:"fas fa-sort"},USe={key:0,class:"ri-arrow-up-line"},jSe={key:1,class:"ri-arrow-down-line"},zSe={key:2,class:"fas fa-sort"},WSe={key:0},RSe={class:"text-center"},qSe={class:"card-footer"},ISe={class:"d-flex justify-content-between align-items-center"};function NSe(e,a,t,l,i,o){const d=(0,r.g2)("router-link"),c=(0,r.g2)("search"),u=(0,r.g2)("Pagination"),_=(0,r.gN)("can");return(0,r.uX)(),(0,r.CE)("div",sSe,[(0,r.Lk)("div",rSe,[(0,r.Lk)("div",null,[(0,r.Lk)("ol",lSe,[(0,r.Lk)("li",iSe,[(0,r.bF)(d,{to:"/dashboard"},{default:(0,r.k6)((()=>a[16]||(a[16]=[(0,r.eW)("Dashboard")]))),_:1})]),a[17]||(a[17]=(0,r.Lk)("li",{class:"breadcrumb-item","aria-current":"page"},[(0,r.Lk)("a",{href:"javascript:void(0)"},"Job Pending Reports")],-1))]),a[18]||(a[18]=(0,r.Lk)("h4",{class:"main-title mb-0"},"Job Pending Reports",-1))])]),(0,r.Lk)("div",oSe,[(0,r.Lk)("div",dSe,[(0,r.Lk)("div",nSe,[(0,r.Lk)("div",cSe,[a[20]||(a[20]=(0,r.Lk)("h6",{class:"card-title"},"Job Pending Reports",-1)),(0,r.bo)(((0,r.uX)(),(0,r.CE)("button",{class:"btn btn-success",onClick:a[0]||(a[0]=e=>o.downloadExcel()),style:{float:"right"}},a[19]||(a[19]=[(0,r.Lk)("i",{class:"ri-file-excel-line"},null,-1),(0,r.eW)(" DOWNLOAD EXCEL")]))),[[_,"job_pending_reports.download"]])]),(0,r.Lk)("div",uSe,[(0,r.Lk)("div",_Se,[(0,r.Lk)("div",pSe,[a[21]||(a[21]=(0,r.Lk)("label",{class:"form-label"},"Asset Type",-1)),(0,r.bF)(c,{class:(0,n.C4)({"is-invalid":i.errors?.asset_type_id}),customClass:{"is-invalid":i.errors?.asset_type_id},initialize:i.meta.asset_type_id,id:"asset_type_id",label:"asset_type_name",placeholder:"Select Asset Type",data:i.asset_types,onInput:a[1]||(a[1]=e=>i.meta.asset_type_id=e),onSelectsearch:a[2]||(a[2]=e=>o.getAsset())},null,8,["class","customClass","initialize","data"])]),(0,r.Lk)("div",mSe,[a[22]||(a[22]=(0,r.Lk)("label",{class:"form-label"},"Asset",-1)),(0,r.bF)(c,{class:(0,n.C4)({"is-invalid":i.errors?.asset_id}),customClass:{"is-invalid":i.errors?.asset_id},initialize:i.meta?.asset_id,id:"asset_id",label2:"asset_name",label:"asset_code",placeholder:"Select Asset",data:i.assets,onInput:a[3]||(a[3]=e=>i.meta.asset_id=e),onSelectsearch:a[4]||(a[4]=e=>o.getDepartments())},null,8,["class","customClass","initialize","data"])]),(0,r.Lk)("div",bSe,[a[23]||(a[23]=(0,r.Lk)("label",{class:"form-label"},"Department",-1)),(0,r.bF)(c,{class:(0,n.C4)({"is-invalid":i.errors?.department_id}),customClass:{"is-invalid":i.errors?.department_id},initialize:i.meta?.department_id,id:"department_id",label:"department_name",placeholder:"Select Department",data:i.departments,onInput:a[5]||(a[5]=e=>i.meta.department_id=e)},null,8,["class","customClass","initialize","data"])]),(0,r.Lk)("div",kSe,[a[24]||(a[24]=(0,r.Lk)("label",{class:"form-label"},"From Date",-1)),(0,r.bo)((0,r.Lk)("input",{class:"form-control mb-3",type:"date","onUpdate:modelValue":a[6]||(a[6]=e=>i.meta.from_date=e)},null,512),[[s.Jo,i.meta.from_date]])]),(0,r.Lk)("div",vSe,[a[25]||(a[25]=(0,r.Lk)("label",{class:"form-label"},"To Date",-1)),(0,r.bo)((0,r.Lk)("input",{class:"form-control mb-3",type:"date","onUpdate:modelValue":a[7]||(a[7]=e=>i.meta.to_date=e)},null,512),[[s.Jo,i.meta.to_date]])]),(0,r.Lk)("div",hSe,[(0,r.Lk)("button",{class:"btn mb-3 btn-primary me-2",onClick:a[8]||(a[8]=(...e)=>o.search&&o.search(...e))},"Search"),(0,r.Lk)("button",{class:"btn mb-3 btn-danger",onClick:a[9]||(a[9]=(...e)=>o.reset&&o.reset(...e))},"Reset")])]),(0,r.Lk)("div",ySe,[(0,r.Lk)("table",gSe,[(0,r.Lk)("thead",null,[(0,r.Lk)("tr",fSe,[a[32]||(a[32]=(0,r.Lk)("th",{class:"text-center"},"#",-1)),(0,r.Lk)("th",null,[a[26]||(a[26]=(0,r.eW)(" Department ")),(0,r.Lk)("span",null,["department_id"==i.meta.keyword&&"asc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",LSe)):"department_id"==i.meta.keyword&&"desc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",CSe)):((0,r.uX)(),(0,r.CE)("i",wSe))])]),(0,r.Lk)("th",{onClick:a[10]||(a[10]=e=>o.sort("service_no"))},[a[27]||(a[27]=(0,r.eW)(" Service No. ")),(0,r.Lk)("span",null,["service_no"==i.meta.keyword&&"asc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",ESe)):"service_no"==i.meta.keyword&&"desc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",xSe)):((0,r.uX)(),(0,r.CE)("i",XSe))])]),(0,r.Lk)("th",{onClick:a[11]||(a[11]=e=>o.sort("service_date"))},[a[28]||(a[28]=(0,r.eW)(" Service Date ")),(0,r.Lk)("span",null,["service_date"==i.meta.keyword&&"asc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",PSe)):"service_date"==i.meta.keyword&&"desc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",$Se)):((0,r.uX)(),(0,r.CE)("i",SSe))])]),(0,r.Lk)("th",{onClick:a[12]||(a[12]=e=>o.sort("next_service_date"))},[a[29]||(a[29]=(0,r.eW)(" Next Service Date ")),(0,r.Lk)("span",null,["next_service_date"==i.meta.keyword&&"asc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",ASe)):"next_service_date"==i.meta.keyword&&"desc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",DSe)):((0,r.uX)(),(0,r.CE)("i",TSe))])]),(0,r.Lk)("th",{onClick:a[13]||(a[13]=e=>o.sort("asset_id"))},[a[30]||(a[30]=(0,r.eW)(" Asset Code ")),(0,r.Lk)("span",null,["asset_id"==i.meta.keyword&&"asc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",QSe)):"asset_id"==i.meta.keyword&&"desc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",VSe)):((0,r.uX)(),(0,r.CE)("i",FSe))])]),(0,r.Lk)("th",null,[a[31]||(a[31]=(0,r.eW)(" Delay (in days) ")),(0,r.Lk)("span",null,["delay"==i.meta.keyword&&"asc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",USe)):"delay"==i.meta.keyword&&"desc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",jSe)):((0,r.uX)(),(0,r.CE)("i",zSe))])])])]),(0,r.Lk)("tbody",null,[0==i.user_services.length?((0,r.uX)(),(0,r.CE)("tr",WSe,a[33]||(a[33]=[(0,r.Lk)("td",{colspan:"10",class:"text-center"},"No records found",-1)]))):(0,r.Q3)("",!0),((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(i.user_services,((e,a)=>((0,r.uX)(),(0,r.CE)("tr",{key:a},[(0,r.Lk)("td",RSe,(0,n.v_)(i.meta.from+a),1),(0,r.Lk)("td",null,(0,n.v_)(e?.asset?.asset_department_ids.map((e=>e.department?.department_name)).join(", ")),1),(0,r.Lk)("td",null,(0,n.v_)(e?.service_no),1),(0,r.Lk)("td",null,(0,n.v_)(e?.service_date),1),(0,r.Lk)("td",null,(0,n.v_)(e?.next_service_date),1),(0,r.Lk)("td",null,(0,n.v_)(e.asset?.asset_code),1),(0,r.Lk)("td",null,(0,n.v_)(e?.delay_days),1)])))),128))])])])]),(0,r.Lk)("div",qSe,[(0,r.Lk)("div",ISe,[(0,r.bo)((0,r.Lk)("select",{class:"form-select from-select-sm width-75","onUpdate:modelValue":a[14]||(a[14]=e=>i.meta.per_page=e),onChange:a[15]||(a[15]=(...e)=>o.onPerPageChange&&o.onPerPageChange(...e))},a[34]||(a[34]=[(0,r.Lk)("option",null,"10",-1),(0,r.Lk)("option",null,"15",-1),(0,r.Lk)("option",null,"20",-1),(0,r.Lk)("option",null,"25",-1),(0,r.Lk)("option",null,"30",-1)]),544),[[s.u1,i.meta.per_page]]),(0,r.Lk)("span",null,"Showing "+(0,n.v_)(i.meta.from)+" to "+(0,n.v_)(i.meta.to)+" of "+(0,n.v_)(i.meta.totalRows)+" entries",1),(0,r.bF)(u,{maxPage:i.meta.maxPage,totalPages:i.meta.lastPage,currentPage:i.meta.page,onPagechanged:o.onPageChange},null,8,["maxPage","totalPages","currentPage","onPagechanged"])])])])])])])}var MSe={components:{Pagination:md,Search:It.A},data(){return{meta:{search:"",order_by:"desc",keyword:"user_service_id",per_page:10,totalRows:0,page:1,lastPage:1,from:1,to:1,maxPage:1,trashed:!1,department_id:"",asset_type_id:"",asset_id:"",from_date:"",to_date:"",download:"excel"},user_services:[],errors:[],asset_types:[],assets:[],departments:[],downloaded_excel:[],status:!0}},mounted(){this.index(),this.getAssetTypes()},methods:{index(){let e=this,a=this.$loading.show();this.$store.dispatch("post",{uri:"paginatePendingJobs",data:e.meta}).then((t=>{a.hide(),e.user_services=t.data.data,e.meta.totalRows=t.data.meta.total,e.meta.from=t.data.meta.from,e.meta.to=t.data.meta.to,e.meta.lastPage=t.data.meta.last_page,e.meta.maxPage=e.meta.lastPage>=3?3:e.meta.lastPage})).catch((function(t){a.hide(),e.errors=t.response.data.errors,e.$store.dispatch("error",t.response.data.message)}))},getAssetTypes(){let e=this,a=e.$loading.show();e.$store.dispatch("post",{uri:"getAssetTypes"}).then((t=>{a.hide(),e.asset_types=t.data.data})).catch((function(t){a.hide(),e.errors=t.response.data.errors,e.$store.dispatch("error",t.response.data.message)}))},getAsset(){let e=this,a=e.$loading.show();e.$store.dispatch("post",{uri:"getAssetTypeAssets",data:e.meta}).then((t=>{a.hide(),console.log("dd--",t.data),e.assets=t.data,console.log(" vm.assets--",e.assets)})).catch((function(t){a.hide(),e.errors=t.response.data.errors,e.$store.dispatch("error",t.response.data.message)}))},getDepartments(){let e=this,a=e.$loading.show();e.$store.dispatch("post",{uri:"getDepartments",data:e.meta}).then((t=>{a.hide(),e.departments=t.data.data})).catch((function(t){a.hide(),e.errors=t.response.data.errors,e.$store.dispatch("error",t.response.data.message)}))},downloadExcel(){let e=this,a=e.$loading.show();e.$store.dispatch("post",{uri:"downloadPendingJobs",data:e.meta}).then((t=>{a.hide(),e.$store.dispatch("success",t.data.message),e.downloaded_excel=t.data})).catch((function(t){a.hide(),e.errors=t.response.data.errors,e.$store.dispatch("error",t.response.data.message)}))},reset(){let e=this;e.meta.asset_type_id="",e.meta.asset_id="",e.meta.department_id="",e.meta.from_date="",e.meta.to_date="",e.errors=[],e.index()},search(){let e=this;e.meta.page=1,e.index()},onPageChange(e){this.meta.page=e,this.index()},onPerPageChange(){let e=this;e.meta.page=1,e.index()},sort(e){this.meta.keyword=e,this.meta.order_by="asc"==this.meta.order_by?"desc":"asc",this.index()}}};const KSe=(0,Ze.A)(MSe,[["render",NSe]]);var JSe=KSe;const BSe={class:""},OSe={class:"d-sm-flex align-items-center justify-content-between mb-2"},HSe={class:"breadcrumb fs-sm mb-1"},YSe={class:"breadcrumb-item","aria-current":"page"},ZSe={class:"row"},GSe={class:"col-12"},eAe={class:"card card-one"},aAe={class:"card-header d-flex justify-content-between"},tAe={class:"card-body"},sAe={class:"row"},rAe={class:"col-auto"},lAe={class:"col-auto"},iAe={class:"col-auto"},oAe={class:"col-auto"},dAe={class:"col-auto"},nAe={class:"col-auto"},cAe={class:"col-auto text-end mt-auto"},uAe={class:"table-responsive table-responsive-sm"},_Ae={class:"table table-sm text-nowrap table-striped table-bordered mb-0"},pAe={style:{"background-color":"#9b9b9b",color:"white"}},mAe={key:0,class:"ri-arrow-up-line"},bAe={key:1,class:"ri-arrow-down-line"},kAe={key:2,class:"fas fa-sort"},vAe={key:0,class:"ri-arrow-up-line"},hAe={key:1,class:"ri-arrow-down-line"},yAe={key:2,class:"fas fa-sort"},gAe={key:0,class:"ri-arrow-up-line"},fAe={key:1,class:"ri-arrow-down-line"},LAe={key:2,class:"fas fa-sort"},CAe={key:0,class:"ri-arrow-up-line"},wAe={key:1,class:"ri-arrow-down-line"},EAe={key:2,class:"fas fa-sort"},xAe={key:0,class:"ri-arrow-up-line"},XAe={key:1,class:"ri-arrow-down-line"},PAe={key:2,class:"fas fa-sort"},$Ae={key:0,class:"ri-arrow-up-line"},SAe={key:1,class:"ri-arrow-down-line"},AAe={key:2,class:"fas fa-sort"},DAe={key:0,class:"ri-arrow-up-line"},TAe={key:1,class:"ri-arrow-down-line"},QAe={key:2,class:"fas fa-sort"},VAe={key:0,class:"ri-arrow-up-line"},FAe={key:1,class:"ri-arrow-down-line"},UAe={key:2,class:"fas fa-sort"},jAe={key:0,class:"ri-arrow-up-line"},zAe={key:1,class:"ri-arrow-down-line"},WAe={key:2,class:"fas fa-sort"},RAe={key:0,class:"ri-arrow-up-line"},qAe={key:1,class:"ri-arrow-down-line"},IAe={key:2,class:"fas fa-sort"},NAe={key:0},MAe={class:"text-center"},KAe={class:"card-footer"},JAe={class:"d-flex justify-content-between align-items-center"};function BAe(e,a,t,l,i,o){const d=(0,r.g2)("router-link"),c=(0,r.g2)("search"),u=(0,r.g2)("Pagination"),_=(0,r.gN)("can");return(0,r.uX)(),(0,r.CE)("div",BSe,[(0,r.Lk)("div",OSe,[(0,r.Lk)("div",null,[(0,r.Lk)("ol",HSe,[(0,r.Lk)("li",YSe,[(0,r.bF)(d,{to:"/dashboard"},{default:(0,r.k6)((()=>a[19]||(a[19]=[(0,r.eW)("Dashboard")]))),_:1})]),a[20]||(a[20]=(0,r.Lk)("li",{class:"breadcrumb-item","aria-current":"page"},[(0,r.Lk)("a",{href:"javascript:void(0)"},"Deviation Reports")],-1))]),a[21]||(a[21]=(0,r.Lk)("h4",{class:"main-title mb-0"},"Deviation Reports",-1))])]),(0,r.Lk)("div",ZSe,[(0,r.Lk)("div",GSe,[(0,r.Lk)("div",eAe,[(0,r.Lk)("div",aAe,[a[23]||(a[23]=(0,r.Lk)("h6",{class:"card-title"},"Deviation Reports",-1)),(0,r.bo)(((0,r.uX)(),(0,r.CE)("button",{class:"btn btn-success",onClick:a[0]||(a[0]=e=>o.downloadExcel())},a[22]||(a[22]=[(0,r.Lk)("i",{class:"ri-file-excel-line"},null,-1),(0,r.eW)(" DOWNLOAD EXCEL")]))),[[_,"deviation_reports.download"]])]),(0,r.Lk)("div",tAe,[(0,r.Lk)("div",sAe,[(0,r.Lk)("div",rAe,[a[24]||(a[24]=(0,r.Lk)("label",{class:"form-label"},"Asset Type",-1)),(0,r.bF)(c,{class:(0,n.C4)({"is-invalid":i.errors?.asset_type_id}),customClass:{"is-invalid":i.errors?.asset_type_id},initialize:i.meta.asset_type_id,id:"asset_type_id",label:"asset_type_name",placeholder:"Select Asset Type",data:i.asset_types,onInput:a[1]||(a[1]=e=>i.meta.asset_type_id=e),onSelectsearch:a[2]||(a[2]=e=>o.getAsset())},null,8,["class","customClass","initialize","data"])]),(0,r.Lk)("div",lAe,[a[25]||(a[25]=(0,r.Lk)("label",{class:"form-label"},"Asset",-1)),(0,r.bF)(c,{class:(0,n.C4)({"is-invalid":i.errors?.asset_id}),customClass:{"is-invalid":i.errors?.asset_id},initialize:i.meta?.asset_id,id:"asset_id",label2:"asset_name",label:"asset_code",placeholder:"Select Asset",data:i.assets,onInput:a[3]||(a[3]=e=>i.meta.asset_id=e),onSelectsearch:a[4]||(a[4]=e=>o.getDepartments())},null,8,["class","customClass","initialize","data"])]),(0,r.Lk)("div",iAe,[a[26]||(a[26]=(0,r.Lk)("label",{class:"form-label"},"Department",-1)),(0,r.bF)(c,{class:(0,n.C4)({"is-invalid":i.errors?.department_id}),customClass:{"is-invalid":i.errors?.department_id},initialize:i.meta?.department_id,id:"department_id",label:"department_name",placeholder:"Select Department",data:i.departments,onInput:a[5]||(a[5]=e=>i.meta.department_id=e)},null,8,["class","customClass","initialize","data"])]),(0,r.Lk)("div",oAe,[a[28]||(a[28]=(0,r.Lk)("label",{class:"form-label"},"Remark Status",-1)),(0,r.bo)((0,r.Lk)("select",{class:"form-control mb-3","onUpdate:modelValue":a[6]||(a[6]=e=>i.meta.remark_status=e)},a[27]||(a[27]=[(0,r.Lk)("option",{value:""},"Select Remark Status ",-1),(0,r.Lk)("option",{value:"All"},"All",-1),(0,r.Lk)("option",{value:"Active"},"Active",-1),(0,r.Lk)("option",{value:"Closed"},"Closed",-1)]),512),[[s.u1,i.meta.remark_status]])]),(0,r.Lk)("div",dAe,[a[29]||(a[29]=(0,r.Lk)("label",{class:"form-label"},"From Date",-1)),(0,r.bo)((0,r.Lk)("input",{class:"form-control mb-3",type:"date","onUpdate:modelValue":a[7]||(a[7]=e=>i.meta.from_date=e)},null,512),[[s.Jo,i.meta.from_date]])]),(0,r.Lk)("div",nAe,[a[30]||(a[30]=(0,r.Lk)("label",{class:"form-label"},"To Date",-1)),(0,r.bo)((0,r.Lk)("input",{class:"form-control mb-3",type:"date","onUpdate:modelValue":a[8]||(a[8]=e=>i.meta.to_date=e)},null,512),[[s.Jo,i.meta.to_date]])]),(0,r.Lk)("div",cAe,[(0,r.Lk)("button",{class:"btn mb-3 btn-primary me-2",onClick:a[9]||(a[9]=(...e)=>o.search&&o.search(...e))},"Search"),(0,r.Lk)("button",{class:"btn mb-3 btn-danger",onClick:a[10]||(a[10]=(...e)=>o.reset&&o.reset(...e))},"Reset")])]),(0,r.Lk)("div",uAe,[(0,r.Lk)("table",_Ae,[(0,r.Lk)("thead",null,[(0,r.Lk)("tr",pAe,[a[41]||(a[41]=(0,r.Lk)("th",{class:"text-center"},"#",-1)),(0,r.Lk)("th",null,[a[31]||(a[31]=(0,r.eW)(" Department ")),(0,r.Lk)("span",null,["department_name"==i.meta.keyword&&"asc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",mAe)):"department_name"==i.meta.keyword&&"desc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",bAe)):((0,r.uX)(),(0,r.CE)("i",kAe))])]),(0,r.Lk)("th",null,[a[32]||(a[32]=(0,r.eW)(" Asset ")),(0,r.Lk)("span",null,["asset_name"==i.meta.keyword&&"asc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",vAe)):"asset_name"==i.meta.keyword&&"desc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",hAe)):((0,r.uX)(),(0,r.CE)("i",yAe))])]),(0,r.Lk)("th",null,[a[33]||(a[33]=(0,r.eW)(" Asset Type ")),(0,r.Lk)("span",null,["asset_type_name"==i.meta.keyword&&"asc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",gAe)):"asset_type_name"==i.meta.keyword&&"desc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",fAe)):((0,r.uX)(),(0,r.CE)("i",LAe))])]),(0,r.Lk)("th",null,[a[34]||(a[34]=(0,r.eW)(" Check Date ")),(0,r.Lk)("span",null,["reference_date"==i.meta.keyword&&"asc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",CAe)):"reference_date"==i.meta.keyword&&"desc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",wAe)):((0,r.uX)(),(0,r.CE)("i",EAe))])]),(0,r.Lk)("th",{onClick:a[11]||(a[11]=e=>o.sort("field_name"))},[a[35]||(a[35]=(0,r.eW)(" Check ")),(0,r.Lk)("span",null,["field_name"==i.meta.keyword&&"asc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",xAe)):"field_name"==i.meta.keyword&&"desc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",XAe)):((0,r.uX)(),(0,r.CE)("i",PAe))])]),(0,r.Lk)("th",{onClick:a[12]||(a[12]=e=>o.sort("lcl"))},[a[36]||(a[36]=(0,r.eW)(" Lcl ")),(0,r.Lk)("span",null,["lcl"==i.meta.keyword&&"asc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",$Ae)):"lcl"==i.meta.keyword&&"desc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",SAe)):((0,r.uX)(),(0,r.CE)("i",AAe))])]),(0,r.Lk)("th",{onClick:a[13]||(a[13]=e=>o.sort("ucl"))},[a[37]||(a[37]=(0,r.eW)(" Ucl ")),(0,r.Lk)("span",null,["ucl"==i.meta.keyword&&"asc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",DAe)):"ucl"==i.meta.keyword&&"desc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",TAe)):((0,r.uX)(),(0,r.CE)("i",QAe))])]),(0,r.Lk)("th",{onClick:a[14]||(a[14]=e=>o.sort("default_value"))},[a[38]||(a[38]=(0,r.eW)(" Default Value ")),(0,r.Lk)("span",null,["default_value"==i.meta.keyword&&"asc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",VAe)):"default_value"==i.meta.keyword&&"desc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",FAe)):((0,r.uX)(),(0,r.CE)("i",UAe))])]),(0,r.Lk)("th",{onClick:a[15]||(a[15]=e=>o.sort("value"))},[a[39]||(a[39]=(0,r.eW)(" Value ")),(0,r.Lk)("span",null,["value"==i.meta.keyword&&"asc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",jAe)):"value"==i.meta.keyword&&"desc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",zAe)):((0,r.uX)(),(0,r.CE)("i",WAe))])]),(0,r.Lk)("th",{class:"text-center",onClick:a[16]||(a[16]=e=>o.sort("remark_status"))},[a[40]||(a[40]=(0,r.eW)(" Remark Status ")),(0,r.Lk)("span",null,["remark_status"==i.meta.keyword&&"asc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",RAe)):"remark_status"==i.meta.keyword&&"desc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",qAe)):((0,r.uX)(),(0,r.CE)("i",IAe))])])])]),(0,r.Lk)("tbody",null,[0==i.user_assets.length?((0,r.uX)(),(0,r.CE)("tr",NAe,a[42]||(a[42]=[(0,r.Lk)("td",{colspan:"10",class:"text-center"},"No records found",-1)]))):(0,r.Q3)("",!0),((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(i.user_assets,((e,a)=>((0,r.uX)(),(0,r.CE)("tr",{key:a},[(0,r.Lk)("td",MAe,(0,n.v_)(i.meta.from+a),1),(0,r.Lk)("td",null,(0,n.v_)(e?.asset?.asset_department.map((e=>e.department?.department_name)).join(", ")),1),(0,r.Lk)("td",null,(0,n.v_)(e?.asset?.asset_name),1),(0,r.Lk)("td",null,(0,n.v_)(e?.asset?.asset_type?.asset_type_name),1),(0,r.Lk)("td",null,(0,n.v_)(e.user_check?.reference_date),1),(0,r.Lk)("td",null,(0,n.v_)(e.check?.field_name),1),(0,r.Lk)("td",null,(0,n.v_)(e?.lcl),1),(0,r.Lk)("td",null,(0,n.v_)(e?.ucl),1),(0,r.Lk)("td",null,(0,n.v_)(e.default_value),1),(0,r.Lk)("td",null,(0,n.v_)(e.value),1),(0,r.Lk)("td",{class:(0,n.C4)(["text-center",e.remark_status?"text-success":"text-danger"])},(0,n.v_)(e.remark_status?"Closed":"Active"),3)])))),128))])])])]),(0,r.Lk)("div",KAe,[(0,r.Lk)("div",JAe,[(0,r.bo)((0,r.Lk)("select",{class:"form-select from-select-sm width-75","onUpdate:modelValue":a[17]||(a[17]=e=>i.meta.per_page=e),onChange:a[18]||(a[18]=(...e)=>o.onPerPageChange&&o.onPerPageChange(...e))},a[43]||(a[43]=[(0,r.Lk)("option",null,"10",-1),(0,r.Lk)("option",null,"15",-1),(0,r.Lk)("option",null,"20",-1),(0,r.Lk)("option",null,"25",-1),(0,r.Lk)("option",null,"30",-1)]),544),[[s.u1,i.meta.per_page]]),(0,r.Lk)("span",null,"Showing "+(0,n.v_)(i.meta.from)+" to "+(0,n.v_)(i.meta.to)+" of "+(0,n.v_)(i.meta.totalRows)+" entries",1),(0,r.bF)(u,{maxPage:i.meta.maxPage,totalPages:i.meta.lastPage,currentPage:i.meta.page,onPagechanged:o.onPageChange},null,8,["maxPage","totalPages","currentPage","onPagechanged"])])])])])])])}var OAe={components:{Pagination:md,Search:It.A},data(){return{meta:{search:"",order_by:"desc",keyword:"user_check_id",per_page:10,totalRows:0,page:1,lastPage:1,from:1,to:1,maxPage:1,trashed:!1,department_id:"",asset_type_id:"",asset_id:"",from_date:"",to_date:"",download:"excel",remark_status:"All"},user_assets:[],errors:[],asset_types:[],assets:[],departments:[],status:!0,downloaded_excel:[]}},mounted(){this.index(),this.getAssetTypes()},methods:{index(){let e=this,a=this.$loading.show();this.$store.dispatch("post",{uri:"paginateDeviations",data:e.meta}).then((t=>{a.hide(),e.user_assets=t.data.data,e.meta.totalRows=t.data.meta.total,e.meta.from=t.data.meta.from,e.meta.to=t.data.meta.to,e.meta.lastPage=t.data.meta.last_page,e.meta.maxPage=e.meta.lastPage>=3?3:e.meta.lastPage})).catch((function(t){a.hide(),e.errors=t.response.data.errors,e.$store.dispatch("error",t.response.data.message)}))},reset(){let e=this;e.meta.asset_type_id="",e.meta.asset_id="",e.meta.department_id="",e.meta.remark_status="",e.meta.from_date="",e.meta.to_date="",e.errors=[],e.index()},getAssetTypes(){let e=this,a=e.$loading.show();e.$store.dispatch("post",{uri:"getAssetTypes"}).then((t=>{a.hide(),e.asset_types=t.data.data})).catch((function(t){a.hide(),e.errors=t.response.data.errors,e.$store.dispatch("error",t.response.data.message)}))},getAsset(){let e=this,a=e.$loading.show();e.$store.dispatch("post",{uri:"getAssetTypeAssets",data:e.meta}).then((t=>{a.hide(),console.log("dd--",t.data),e.assets=t.data,console.log(" vm.assets--",e.assets)})).catch((function(t){a.hide(),e.errors=t.response.data.errors,e.$store.dispatch("error",t.response.data.message)}))},getDepartments(){let e=this,a=e.$loading.show();e.$store.dispatch("post",{uri:"getDepartments",data:e.meta}).then((t=>{a.hide(),console.log("response.data.data",t.data),e.departments=t.data.data})).catch((function(t){a.hide(),e.errors=t.response.data.errors,e.$store.dispatch("error",t.response.data.message)}))},downloadExcel(){let e=this,a=e.$loading.show();e.$store.dispatch("post",{uri:"downloadDeviations",data:e.meta}).then((t=>{a.hide(),e.$store.dispatch("success",t.data.message),e.downloaded_excel=t.data})).catch((function(t){a.hide(),e.errors=t.response.data.errors,e.$store.dispatch("error",t.response.data.message)}))},search(){let e=this;e.meta.page=1,e.index()},onPageChange(e){this.meta.page=e,this.index()},onPerPageChange(){let e=this;e.meta.page=1,e.index()},sort(e){this.meta.keyword=e,this.meta.order_by="asc"==this.meta.order_by?"desc":"asc",this.index()}}};const HAe=(0,Ze.A)(OAe,[["render",BAe]]);var YAe=HAe;const ZAe={class:""},GAe={class:"d-sm-flex align-items-center justify-content-between mb-2"},eDe={class:"breadcrumb fs-sm mb-1"},aDe={class:"breadcrumb-item","aria-current":"page"},tDe={class:"row"},sDe={class:"col-12"},rDe={class:"card card-one"},lDe={class:"card-header d-flex justify-content-between"},iDe={class:"card-body"},oDe={class:"row"},dDe={class:"col-2"},nDe={class:"col-2"},cDe={class:"col-2"},uDe={class:"col-2"},_De={class:"col-2"},pDe={class:"col-2"},mDe={class:"col-2 mt-auto"},bDe={class:"table-responsive table-responsive-sm"},kDe={class:"table table-sm text-nowrap table-striped table-bordered mb-0"},vDe={style:{"background-color":"#9b9b9b",color:"white"}},hDe={key:0,class:"ri-arrow-up-line"},yDe={key:1,class:"ri-arrow-down-line"},gDe={key:2,class:"fas fa-sort"},fDe={key:0,class:"ri-arrow-up-line"},LDe={key:1,class:"ri-arrow-down-line"},CDe={key:2,class:"fas fa-sort"},wDe={key:0,class:"ri-arrow-up-line"},EDe={key:1,class:"ri-arrow-down-line"},xDe={key:2,class:"fas fa-sort"},XDe={key:0,class:"ri-arrow-up-line"},PDe={key:1,class:"ri-arrow-down-line"},$De={key:2,class:"fas fa-sort"},SDe={key:0,class:"ri-arrow-up-line"},ADe={key:1,class:"ri-arrow-down-line"},DDe={key:2,class:"fas fa-sort"},TDe={key:0,class:"ri-arrow-up-line"},QDe={key:1,class:"ri-arrow-down-line"},VDe={key:2,class:"fas fa-sort"},FDe={key:0,class:"ri-arrow-up-line"},UDe={key:1,class:"ri-arrow-down-line"},jDe={key:2,class:"fas fa-sort"},zDe={key:0},WDe={class:"text-center"},RDe={style:{"background-color":"#f0f0f0","font-weight":"bold"}},qDe={style:{"text-align":"center"}},IDe={style:{"text-align":"center"}},NDe={style:{"text-align":"center"}},MDe={style:{"text-align":"center"}},KDe={style:{"text-align":"center"}},JDe={style:{"text-align":"center"}},BDe={style:{"text-align":"center"}},ODe={class:"card-footer"},HDe={class:"d-flex justify-content-between align-items-center"};function YDe(e,a,t,l,i,o){const d=(0,r.g2)("router-link"),c=(0,r.g2)("search"),u=(0,r.g2)("MultiSelect"),_=(0,r.g2)("Pagination"),p=(0,r.gN)("can");return(0,r.uX)(),(0,r.CE)("div",ZAe,[(0,r.Lk)("div",GAe,[(0,r.Lk)("div",null,[(0,r.Lk)("ol",eDe,[(0,r.Lk)("li",aDe,[(0,r.bF)(d,{to:"/dashboard"},{default:(0,r.k6)((()=>a[13]||(a[13]=[(0,r.eW)("Dashboard")]))),_:1})]),a[14]||(a[14]=(0,r.Lk)("li",{class:"breadcrumb-item","aria-current":"page"},[(0,r.Lk)("a",{href:"javascript:void(0)"},"Refractory Consumption Reports")],-1))]),a[15]||(a[15]=(0,r.Lk)("h4",{class:"main-title mb-0"},"Refractory Consumption Reports",-1))])]),(0,r.Lk)("div",tDe,[(0,r.Lk)("div",sDe,[(0,r.Lk)("div",rDe,[(0,r.Lk)("div",lDe,[a[17]||(a[17]=(0,r.Lk)("h6",{class:"card-title"},"Refractory Consumption Reports",-1)),(0,r.bo)(((0,r.uX)(),(0,r.CE)("button",{class:"btn btn-success",onClick:a[0]||(a[0]=e=>o.downloadExcel()),style:{float:"right"}},a[16]||(a[16]=[(0,r.Lk)("i",{class:"ri-file-excel-line"},null,-1),(0,r.eW)(" DOWNLOAD EXCEL")]))),[[p,"refractory_consumption_reports.download"]])]),(0,r.Lk)("div",iDe,[(0,r.Lk)("div",oDe,[(0,r.Lk)("div",dDe,[a[18]||(a[18]=(0,r.Lk)("label",{class:"form-label"},"Asset Type",-1)),(0,r.bF)(c,{class:(0,n.C4)({"is-invalid":i.errors?.asset_type_id}),customClass:{"is-invalid":i.errors?.asset_type_id},initialize:i.meta.asset_type_id,id:"asset_type_id",label:"asset_type_name",placeholder:"Select Asset Type",data:i.asset_types,onInput:a[1]||(a[1]=e=>i.meta.asset_type_id=e),onSelectsearch:a[2]||(a[2]=e=>o.getAsset())},null,8,["class","customClass","initialize","data"])]),(0,r.Lk)("div",nDe,[a[19]||(a[19]=(0,r.Lk)("label",{class:"form-label"},"Asset",-1)),(0,r.bF)(u,{modelValue:i.meta.asset_id,"onUpdate:modelValue":a[3]||(a[3]=e=>i.meta.asset_id=e),options:i.assets,optionLabel:"asset_name",optionValue:"asset_id",placeholder:"Select Asset",onChange:o.getAssetZones,class:"w-100"},null,8,["modelValue","options","onChange"])]),(0,r.Lk)("div",cDe,[a[20]||(a[20]=(0,r.Lk)("label",{class:"form-label"},"Spare Types",-1)),(0,r.bF)(c,{class:(0,n.C4)({"is-invalid":i.errors?.spare_type_id}),customClass:{"is-invalid":i.errors?.spare_type_id},initialize:i.meta.spare_type_id,id:"spare_type_id",label:"spare_type_name",placeholder:"Select Spare Types",data:i.spare_types,onInput:a[4]||(a[4]=e=>i.meta.spare_type_id=e),onSelectsearch:a[5]||(a[5]=e=>o.getSpares())},null,8,["class","customClass","initialize","data"])]),(0,r.Lk)("div",uDe,[a[21]||(a[21]=(0,r.Lk)("label",{class:"form-label"},"Spares",-1)),(0,r.bF)(c,{class:(0,n.C4)({"is-invalid":i.errors?.spare_id}),customClass:{"is-invalid":i.errors?.spare_id},initialize:i.meta.spare_id,id:"spare_id",label:"spare_name",placeholder:"Select Spares",data:i.spares,onInput:a[6]||(a[6]=e=>i.meta.spare_id=e)},null,8,["class","customClass","initialize","data"])]),(0,r.Lk)("div",_De,[a[22]||(a[22]=(0,r.Lk)("label",{class:"form-label"},"From Date",-1)),(0,r.bo)((0,r.Lk)("input",{class:"form-control mb-3",type:"date","onUpdate:modelValue":a[7]||(a[7]=e=>i.meta.from_date=e)},null,512),[[s.Jo,i.meta.from_date]])]),(0,r.Lk)("div",pDe,[a[23]||(a[23]=(0,r.Lk)("label",{class:"form-label"},"To Date",-1)),(0,r.bo)((0,r.Lk)("input",{class:"form-control mb-3",type:"date","onUpdate:modelValue":a[8]||(a[8]=e=>i.meta.to_date=e)},null,512),[[s.Jo,i.meta.to_date]])]),(0,r.Lk)("div",mDe,[(0,r.Lk)("button",{class:"btn mb-3 btn-primary me-2",onClick:a[9]||(a[9]=(...e)=>o.search&&o.search(...e))},"Search"),(0,r.Lk)("button",{class:"btn mb-3 btn-danger",onClick:a[10]||(a[10]=(...e)=>o.reset&&o.reset(...e))},"Reset")])]),(0,r.Lk)("div",bDe,[(0,r.Lk)("table",kDe,[(0,r.Lk)("thead",null,[(0,r.Lk)("tr",vDe,[a[31]||(a[31]=(0,r.Lk)("th",{class:"text-center"},"#",-1)),(0,r.Lk)("th",null,[a[24]||(a[24]=(0,r.eW)(" Asset ")),(0,r.Lk)("span",null,["asset_id"==i.meta.keyword&&"asc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",hDe)):"asset_id"==i.meta.keyword&&"desc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",yDe)):((0,r.uX)(),(0,r.CE)("i",gDe))])]),(0,r.Lk)("th",null,[a[25]||(a[25]=(0,r.eW)(" Asset Type ")),(0,r.Lk)("span",null,["asset_type_id"==i.meta.keyword&&"asc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",fDe)):"asset_type_id"==i.meta.keyword&&"desc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",LDe)):((0,r.uX)(),(0,r.CE)("i",CDe))])]),(0,r.Lk)("th",null,[a[26]||(a[26]=(0,r.eW)(" Spare ")),(0,r.Lk)("span",null,["spare_id"==i.meta.keyword&&"asc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",wDe)):"spare_id"==i.meta.keyword&&"desc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",EDe)):((0,r.uX)(),(0,r.CE)("i",xDe))])]),(0,r.Lk)("th",null,[a[27]||(a[27]=(0,r.eW)(" Spare Type ")),(0,r.Lk)("span",null,["spare_type_id"==i.meta.keyword&&"asc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",XDe)):"spare_type_id"==i.meta.keyword&&"desc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",PDe)):((0,r.uX)(),(0,r.CE)("i",$De))])]),(0,r.Lk)("th",null,[a[28]||(a[28]=(0,r.eW)(" Total Quantity ")),(0,r.Lk)("span",null,["quantity"==i.meta.keyword&&"asc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",SDe)):"quantity"==i.meta.keyword&&"desc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",ADe)):((0,r.uX)(),(0,r.CE)("i",DDe))])]),(0,r.Lk)("th",null,[a[29]||(a[29]=(0,r.eW)(" Total Production ")),(0,r.Lk)("span",null,["quantity"==i.meta.keyword&&"asc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",TDe)):"quantity"==i.meta.keyword&&"desc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",QDe)):((0,r.uX)(),(0,r.CE)("i",VDe))])]),(0,r.Lk)("th",null,[a[30]||(a[30]=(0,r.eW)(" Specific Consumption ")),(0,r.Lk)("span",null,["quantity"==i.meta.keyword&&"asc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",FDe)):"quantity"==i.meta.keyword&&"desc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",UDe)):((0,r.uX)(),(0,r.CE)("i",jDe))])])])]),(0,r.Lk)("tbody",null,[0==i.user_services.length?((0,r.uX)(),(0,r.CE)("tr",zDe,a[32]||(a[32]=[(0,r.Lk)("td",{colspan:"10",class:"text-center"},"No records found",-1)]))):(0,r.Q3)("",!0),((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(i.user_services,((e,a)=>((0,r.uX)(),(0,r.CE)("tr",{key:a},[(0,r.Lk)("td",WDe,(0,n.v_)(i.meta.from+a),1),(0,r.Lk)("td",null,(0,n.v_)(e?.asset_name),1),(0,r.Lk)("td",null,(0,n.v_)(e?.asset_type_name),1),(0,r.Lk)("td",null,(0,n.v_)(e?.spare?.spare_name),1),(0,r.Lk)("td",null,(0,n.v_)(e?.spare?.spare_type?.spare_type_name),1),(0,r.Lk)("td",null,(0,n.v_)(e?.total_quantity),1),(0,r.Lk)("td",null,(0,n.v_)(e?.heta_size_sum),1),(0,r.Lk)("td",null,(0,n.v_)(e?.specific_consumption),1)])))),128))]),(0,r.Lk)("tfoot",null,[(0,r.Lk)("tr",RDe,[a[33]||(a[33]=(0,r.Lk)("td",{style:{"text-align":"center"}},"Summary",-1)),(0,r.Lk)("td",qDe,(0,n.v_)(i.total_counts?.unique_asset_id_count),1),(0,r.Lk)("td",IDe,(0,n.v_)(i.total_counts?.unique_asset_type_ids),1),(0,r.Lk)("td",NDe,(0,n.v_)(i.total_counts?.unique_spare_ids),1),(0,r.Lk)("td",MDe,(0,n.v_)(i.total_counts?.unique_spare_type_ids),1),(0,r.Lk)("td",KDe,(0,n.v_)(i.total_counts?.total_quantity_sum),1),(0,r.Lk)("td",JDe,(0,n.v_)(i.total_counts?.total_hetaSize_Sum),1),(0,r.Lk)("td",BDe,(0,n.v_)(i.total_counts?.total_specific_consumption),1)])])])])]),(0,r.Lk)("div",ODe,[(0,r.Lk)("div",HDe,[(0,r.bo)((0,r.Lk)("select",{class:"form-select from-select-sm width-75","onUpdate:modelValue":a[11]||(a[11]=e=>i.meta.per_page=e),onChange:a[12]||(a[12]=(...e)=>o.onPerPageChange&&o.onPerPageChange(...e))},a[34]||(a[34]=[(0,r.Lk)("option",null,"10",-1),(0,r.Lk)("option",null,"15",-1),(0,r.Lk)("option",null,"20",-1),(0,r.Lk)("option",null,"25",-1),(0,r.Lk)("option",null,"30",-1),(0,r.Lk)("option",null,"50",-1),(0,r.Lk)("option",null,"100",-1)]),544),[[s.u1,i.meta.per_page]]),(0,r.Lk)("span",null,"Showing "+(0,n.v_)(i.meta.from)+" to "+(0,n.v_)(i.meta.to)+" of "+(0,n.v_)(i.meta.totalRows)+" entries",1),(0,r.bF)(_,{maxPage:i.meta.maxPage,totalPages:i.meta.lastPage,currentPage:i.meta.page,onPagechanged:o.onPageChange},null,8,["maxPage","totalPages","currentPage","onPagechanged"])])])])])])])}var ZDe={components:{Pagination:md,MultiSelect:Ru.A,Search:It.A},data(){return{meta:{search:"",order_by:"desc",keyword:"user_spare_id",per_page:25,totalRows:0,page:1,lastPage:1,from:1,to:1,maxPage:1,trashed:!1,department_id:"",asset_type_id:"",asset_id:"",from_date:"",to_date:"",download:"excel",spare_id:"",spare_type_id:"",asset_zone_id:""},total_counts:{unique_asset_id_count:0,unique_asset_type_ids:0,unique_spare_ids:0,unique_spare_type_ids:0,total_quantity_sum:0,total_hetaSize_Sum:0,total_specific_consumption:0},user_services:[],errors:[],asset_types:[],assets:[],spares:[],spare_types:[],zones:[],downloaded_excel:[],status:!0}},mounted(){this.index(),this.getAssetTypes(),this.getSpareTypes()},methods:{index(){let e=this,a=this.$loading.show();this.$store.dispatch("post",{uri:"getTotalQuantitySpares",data:e.meta}).then((t=>{a.hide(),e.user_services=t.data.data,e.meta.totalRows=t.data.meta.total,e.meta.from=t.data.meta.from,e.meta.to=t.data.meta.to,e.meta.lastPage=t.data.meta.last_page,e.meta.maxPage=e.meta.lastPage>=3?3:e.meta.lastPage,e.total_counts=t.data.total_counts})).catch((function(t){a.hide(),e.errors=t.response.data.errors,e.$store.dispatch("error",t.response.data.message)}))},getAssetTypes(){let e=this,a=e.$loading.show();e.$store.dispatch("post",{uri:"getAssetTypes"}).then((t=>{a.hide(),e.asset_types=t.data.data})).catch((function(t){a.hide(),e.errors=t.response.data.errors,e.$store.dispatch("error",t.response.data.message)}))},getAsset(){let e=this,a=e.$loading.show();e.$store.dispatch("post",{uri:"getAssetTypeAssets",data:e.meta}).then((t=>{a.hide(),console.log("dd--",t.data),e.assets=t.data,console.log(" vm.assets--",e.assets)})).catch((function(t){a.hide(),e.errors=t.response.data.errors,e.$store.dispatch("error",t.response.data.message)}))},getSpareTypes(){let e=this,a=e.$loading.show();e.$store.dispatch("post",{uri:"getSpareTypes"}).then((t=>{a.hide(),e.spare_types=t.data.data})).catch((function(t){a.hide(),e.errors=t.response.data.errors,e.$store.dispatch("error",t.response.data.message)}))},getSpares(){let e=this,a=e.$loading.show();e.$store.dispatch("post",{uri:"getTypesSpares",data:e.meta}).then((t=>{a.hide(),e.spares=t.data.data})).catch((function(t){a.hide(),e.errors=t.response.data.errors,e.$store.dispatch("error",t.response.data.message)}))},getAssetZones(){let e=this,a=e.$loading.show();e.$store.dispatch("post",{uri:"getAssetZones",data:e.meta}).then((t=>{a.hide(),e.zones=t.data.data})).catch((function(t){a.hide(),e.errors=t.response.data.errors,e.$store.dispatch("error",t.response.data.message)}))},downloadExcel(){let e=this,a=e.$loading.show();e.$store.dispatch("post",{uri:"downloadRefractoryConsumptions",data:e.meta}).then((t=>{a.hide(),e.$store.dispatch("success",t.data.message),e.downloaded_excel=t.data})).catch((function(t){a.hide(),e.errors=t.response.data.errors,e.$store.dispatch("error",t.response.data.message)}))},reset(){let e=this;e.meta.asset_type_id="",e.meta.asset_id="",e.meta.department_id="",e.meta.from_date="",e.meta.to_date="",e.errors=[],e.index()},search(){let e=this;e.meta.page=1,e.index()},onPageChange(e){this.meta.page=e,this.index()},onPerPageChange(){let e=this;e.meta.page=1,e.index()},sort(e){this.meta.keyword=e,this.meta.order_by="asc"==this.meta.order_by?"desc":"asc",this.index()}}};const GDe=(0,Ze.A)(ZDe,[["render",YDe]]);var eTe=GDe;const aTe={class:"d-sm-flex align-items-center justify-content-between mb-2"},tTe={class:"breadcrumb fs-sm mb-1"},sTe={class:"breadcrumb-item","aria-current":"page"},rTe={class:"d-flex"},lTe={class:"form-group me-2"},iTe={key:0},oTe={class:"text-center mb-3"},dTe={class:"card card-one mb-3"},nTe={class:"card-body"},cTe={class:"table-responsive table-responsive-sm"},uTe={class:"table table-sm text-nowrap table-striped table-bordered mb-0"},_Te={class:"",style:{"background-color":"#506fd9",color:"white"}},pTe={class:"text-center",style:{width:"40%"}},mTe={key:0},bTe={class:"text-center"},kTe={class:"text-center"},vTe={class:"text-center"},hTe={class:"card card-one mb-3"},yTe={class:"card-header py-2 d-flex align-items-center justify-content-between"},gTe={class:"text-muted"},fTe={class:"card-body"},LTe={class:"table-responsive table-responsive-sm"},CTe={class:"table table-sm text-nowrap table-striped table-bordered mb-0"},wTe={class:"",style:{"background-color":"#506fd9",color:"white"}},ETe=["colspan"],xTe={key:0},XTe=["colspan"],PTe={class:"text-center"},$Te={key:0,class:"text-center"},STe={class:"card card-one mb-3"},ATe={class:"card-header py-2 d-flex align-items-center justify-content-between"},DTe={class:"text-muted"},TTe={class:"card-body"},QTe={class:"table-responsive table-responsive-sm"},VTe={class:"table table-sm text-nowrap table-striped table-bordered mb-0"},FTe={class:"",style:{"background-color":"#506fd9",color:"white"}},UTe=["colspan"],jTe={key:0},zTe=["colspan"],WTe={class:"text-center"},RTe={key:0,class:"text-center"},qTe={key:1,class:"text-center text-muted"};function ITe(e,a,t,l,i,o){const d=(0,r.g2)("router-link");return(0,r.uX)(),(0,r.CE)("div",null,[(0,r.Lk)("div",aTe,[(0,r.Lk)("div",null,[(0,r.Lk)("ol",tTe,[(0,r.Lk)("li",sTe,[(0,r.bF)(d,{to:"/dashboard"},{default:(0,r.k6)((()=>a[3]||(a[3]=[(0,r.eW)("Dashboard")]))),_:1})]),a[4]||(a[4]=(0,r.Lk)("li",{class:"breadcrumb-item","aria-current":"page"},[(0,r.Lk)("a",{href:"javascript:void(0)"},"Asset Reports")],-1))]),a[5]||(a[5]=(0,r.Lk)("h4",{class:"main-title mb-0"},"STL Ladle Daily Report",-1))]),(0,r.Lk)("div",rTe,[(0,r.Lk)("div",lTe,[(0,r.bo)((0,r.Lk)("input",{type:"date",class:"form-control","onUpdate:modelValue":a[0]||(a[0]=e=>i.meta.date=e)},null,512),[[s.Jo,i.meta.date]])]),(0,r.Lk)("button",{class:"btn btn-primary me-2",onClick:a[1]||(a[1]=(...e)=>o.submit&&o.submit(...e))},a[6]||(a[6]=[(0,r.Lk)("i",{class:"ri-send-plane-line"},null,-1),(0,r.eW)(" Submit ")])),(0,r.Lk)("button",{class:"btn btn-primary",onClick:a[2]||(a[2]=(...e)=>o.download&&o.download(...e))},a[7]||(a[7]=[(0,r.Lk)("i",{class:"ri-file-excel-line"},null,-1),(0,r.eW)(" Download ")]))])]),i.loaded?((0,r.uX)(),(0,r.CE)("div",iTe,[(0,r.Lk)("h6",oTe," Daily Report â "+(0,n.v_)(o.formatDateTime(i.report.start_date_time))+" to "+(0,n.v_)(o.formatDateTime(i.report.end_date_time)),1),(0,r.Lk)("div",dTe,[a[12]||(a[12]=(0,r.Lk)("div",{class:"card-header py-2"},[(0,r.Lk)("strong",null,"STL Details")],-1)),(0,r.Lk)("div",nTe,[(0,r.Lk)("div",cTe,[(0,r.Lk)("table",uTe,[(0,r.Lk)("thead",null,[(0,r.Lk)("tr",_Te,[a[8]||(a[8]=(0,r.Lk)("th",{style:{width:"36%"}},"Label",-1)),a[9]||(a[9]=(0,r.Lk)("th",{class:"text-center",style:{width:"12%"}},"Norm/SOP",-1)),a[10]||(a[10]=(0,r.Lk)("th",{class:"text-center",style:{width:"12%"}},"UOM",-1)),(0,r.Lk)("th",pTe,(0,n.v_)(o.formatDate(i.report.date)),1)])]),(0,r.Lk)("tbody",null,[0===i.report_details.length?((0,r.uX)(),(0,r.CE)("tr",mTe,a[11]||(a[11]=[(0,r.Lk)("td",{colspan:"4",class:"text-center text-muted"},"No main report data available.",-1)]))):(0,r.Q3)("",!0),((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(i.report_details,((e,a)=>((0,r.uX)(),(0,r.CE)("tr",{key:"main-"+a},[(0,r.Lk)("th",null,(0,n.v_)(e.label),1),(0,r.Lk)("td",bTe,(0,n.v_)(e.norm??""),1),(0,r.Lk)("td",kTe,(0,n.v_)(e.uom??""),1),(0,r.Lk)("td",vTe,(0,n.v_)(o.showValue(e.value)),1)])))),128))])])])])]),(0,r.Lk)("div",hTe,[(0,r.Lk)("div",yTe,[a[13]||(a[13]=(0,r.Lk)("strong",null,"Down STL Details",-1)),(0,r.Lk)("small",gTe," ("+(0,n.v_)(o.downColumns.length)+" STL"+(0,n.v_)(1===o.downColumns.length?"":"s")+") ",1)]),(0,r.Lk)("div",fTe,[(0,r.Lk)("div",LTe,[(0,r.Lk)("table",CTe,[(0,r.Lk)("thead",null,[(0,r.Lk)("tr",wTe,[a[14]||(a[14]=(0,r.Lk)("th",null,"Label",-1)),a[15]||(a[15]=(0,r.Lk)("th",{class:"text-center"},"UOM",-1)),(0,r.Lk)("th",{class:"text-center",colspan:Math.max(1,o.downColumns.length)},(0,n.v_)(o.formatDate(i.report.date)),9,ETe)])]),(0,r.Lk)("tbody",null,[0===o.downRowLabels.length?((0,r.uX)(),(0,r.CE)("tr",xTe,[(0,r.Lk)("td",{colspan:2+Math.max(1,o.downColumns.length),class:"text-center text-muted"}," No down STL data available. ",8,XTe)])):(0,r.Q3)("",!0),((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(o.downRowLabels,((e,a)=>((0,r.uX)(),(0,r.CE)("tr",{key:"down-r-"+a},[(0,r.Lk)("th",null,(0,n.v_)(e),1),(0,r.Lk)("td",PTe,(0,n.v_)(o.firstUomFor(e)),1),((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(o.downParsedUnique,((t,s)=>((0,r.uX)(),(0,r.CE)("td",{key:"down-c-"+a+"-"+s,class:"text-center"},(0,n.v_)(o.valueFrom(t.byLabel,e)),1)))),128)),0===o.downColumns.length?((0,r.uX)(),(0,r.CE)("td",$Te,"â")):(0,r.Q3)("",!0)])))),128))])])])])]),(0,r.Lk)("div",STe,[(0,r.Lk)("div",ATe,[a[16]||(a[16]=(0,r.Lk)("strong",null,"Circulation STL Details",-1)),(0,r.Lk)("small",DTe," ("+(0,n.v_)(o.liveColumns.length)+" STL"+(0,n.v_)(1===o.liveColumns.length?"":"s")+") ",1)]),(0,r.Lk)("div",TTe,[(0,r.Lk)("div",QTe,[(0,r.Lk)("table",VTe,[(0,r.Lk)("thead",null,[(0,r.Lk)("tr",FTe,[a[17]||(a[17]=(0,r.Lk)("th",null,"Label",-1)),a[18]||(a[18]=(0,r.Lk)("th",{class:"text-center"},"UOM",-1)),(0,r.Lk)("th",{class:"text-center",colspan:Math.max(1,o.liveColumns.length)},(0,n.v_)(o.formatDate(i.report.date)),9,UTe)])]),(0,r.Lk)("tbody",null,[0===o.liveRowLabels.length?((0,r.uX)(),(0,r.CE)("tr",jTe,[(0,r.Lk)("td",{colspan:2+Math.max(1,o.liveColumns.length),class:"text-center text-muted"}," No live STL data available. ",8,zTe)])):(0,r.Q3)("",!0),((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(o.liveRowLabels,((e,a)=>((0,r.uX)(),(0,r.CE)("tr",{key:"live-r-"+a},[(0,r.Lk)("th",null,(0,n.v_)(e),1),(0,r.Lk)("td",WTe,(0,n.v_)(o.firstLiveUomFor(e)),1),((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(o.liveParsedUnique,((t,s)=>((0,r.uX)(),(0,r.CE)("td",{key:"live-c-"+a+"-"+s,class:"text-center"},[(0,r.Lk)("span",{class:(0,n.C4)(o.getValueColor(o.valueFrom(t.byLabel,e),e))},(0,n.v_)(o.valueFrom(t.byLabel,e)),3)])))),128)),0===o.liveColumns.length?((0,r.uX)(),(0,r.CE)("td",RTe,"â")):(0,r.Q3)("",!0)])))),128))])])])])])])):((0,r.uX)(),(0,r.CE)("div",qTe,"Select a date and click Submit to load the report."))])}t(7642),t(8004),t(3853),t(5876),t(2475),t(5024),t(1698),t(4603),t(7566),t(8721);var NTe={data(){return{meta:{date:sG()().subtract(1,"day").format("YYYY-MM-DD")},report:{},report_details:[],down_stl_details:[],live_stl_details:[],loaded:!1}},methods:{formatDateTime(e){return e?sG()(e).format("DD-MMM-YY HH:mm"):""},formatDate(e){return e?sG()(e).format("DD-MMM-YY"):""},showValue(e){return null===e||void 0===e?"":String(e)},submit(){const e=this.$loading.show();this.$store.dispatch("post",{uri:"getSTLDailyReport",data:this.meta}).then((a=>{e.hide();const t=a.data||{};this.report=t,this.report_details=t?.stl_details?JSON.parse(t.stl_details):[],this.down_stl_details=Array.isArray(t?.down_stl_daily_asset_reports)?t.down_stl_daily_asset_reports:[],this.live_stl_details=Array.isArray(t?.live_stl_daily_asset_reports)?t.live_stl_daily_asset_reports:[],this.loaded=!0})).catch((a=>{e.hide(),this.$store.dispatch("error",a?.response?.data?.message||"Failed to load")}))},download(){if(this.loaded)try{const e=this.generateExcelData();this.downloadExcelFile(e),this.$store.dispatch("success","Excel file downloaded successfully.")}catch(e){console.error("Excel download error:",e),this.$store.dispatch("error","Failed to generate Excel file.")}else this.$store.dispatch("error","Please load the report data first.")},generateExcelData(){const e={SheetNames:["STL Daily Report"],Sheets:{"STL Daily Report":{}}};let a=1;const t=e.Sheets["STL Daily Report"];return t["A"+a]={v:"STL Ladle Daily Report",t:"s",s:{font:{bold:!0,sz:16}}},a+=2,t["A"+a]={v:`Report Period: ${this.formatDateTime(this.report.start_date_time)} to ${this.formatDateTime(this.report.end_date_time)}`,t:"s",s:{font:{bold:!0}}},a+=2,t["A"+a]={v:"STL Details",t:"s",s:{font:{bold:!0,sz:14}}},a+=1,t["A"+a]={v:"Label",t:"s"},t["B"+a]={v:"Norm/SOP",t:"s"},t["C"+a]={v:"UOM",t:"s"},t["D"+a]={v:this.formatDate(this.report.date),t:"s"},a+=1,this.report_details.forEach((e=>{t["A"+a]={v:e.label||"",t:"s"},t["B"+a]={v:e.norm||"",t:"s"},t["C"+a]={v:e.uom||"",t:"s"},t["D"+a]={v:this.showValue(e.value),t:"s"},a+=1})),a+=2,this.downParsedUnique.length>0&&(t["A"+a]={v:`Down STL Details (${this.downColumns.length} STL${1===this.downColumns.length?"":"s"})`,t:"s",s:{font:{bold:!0,sz:14}}},a+=1,t["A"+a]={v:"Label",t:"s"},t["B"+a]={v:"UOM",t:"s"},t["C"+a]={v:this.formatDate(this.report.date),t:"s"},a+=1,this.downRowLabels.forEach((e=>{t["A"+a]={v:e,t:"s"},t["B"+a]={v:this.firstUomFor(e),t:"s"},this.downParsedUnique.forEach(((s,r)=>{const l=this.valueFrom(s.byLabel,e);t[String.fromCharCode(67+r)+a]={v:l,t:"s"}})),a+=1})),a+=2),this.liveParsedUnique.length>0&&(t["A"+a]={v:`Circulation STL Details (${this.liveColumns.length} STL${1===this.liveColumns.length?"":"s"})`,t:"s",s:{font:{bold:!0,sz:14}}},a+=1,t["A"+a]={v:"Label",t:"s"},t["B"+a]={v:"UOM",t:"s"},t["C"+a]={v:this.formatDate(this.report.date),t:"s"},a+=1,this.liveRowLabels.forEach((e=>{t["A"+a]={v:e,t:"s"},t["B"+a]={v:this.firstLiveUomFor(e),t:"s"},this.liveParsedUnique.forEach(((s,r)=>{const l=this.valueFrom(s.byLabel,e),i=String.fromCharCode(67+r)+a,o={v:l,t:"s"},d=["SZ PP1","SZ PP2","MZ PP1","MZ PP2"];if(d.includes(e)){const e=parseFloat(l);isNaN(e)||(o.s=e<35?{font:{color:{rgb:"D32F2F"}}}:e<40?{font:{color:{rgb:"F57C00"}}}:{font:{color:{rgb:"388E3C"}}})}t[i]=o})),a+=1}))),t["!cols"]=[{wch:30},{wch:15},{wch:20},{wch:15}],e},downloadExcelFile(e){const a=this.createExcelHTML(e),t=new Blob([a],{type:"application/vnd.ms-excel"}),s=window.URL.createObjectURL(t),r=document.createElement("a");r.href=s;const l=this.formatDate(this.report.date).replace(/-/g,"");r.download=`STL_Daily_Report_${l}.xls`,document.body.appendChild(r),r.click(),document.body.removeChild(r),window.URL.revokeObjectURL(s)},createExcelHTML(e){const a=e.Sheets[e.SheetNames[0]],t=this.getRange(a);let s="<!DOCTYPE html>\n  <html>\n  <head>\n  <meta charset=\"UTF-8\">\n  <title>STL Daily Report</title>\n  <style>\n  * { margin: 0; padding: 0; box-sizing: border-box; }\n  body {\n\tfont-family: 'Calibri', 'Arial', sans-serif;\n\tmargin: 0;\n\tpadding: 16px;\n\tbackground-color: #ffffff;\n\tline-height: 1.5;\n\tcolor: #1f2937 !important; /* dark gray */\n  }\n  table, tr, td, th { color: #1f2937 !important; }\n\n  /* Container + header blocks */\n  .container {\n\tmax-width: 100%;\n\tmargin: 0 auto;\n\tbackground: white;\n\tpadding: 16px;\n  }\n\n  .header {\n\ttext-align: center;\n\tmargin-bottom: 16px;\n\tpadding: 16px 12px;\n\tbackground: #f3f4f6; /* light gray */\n\tcolor: #1f2937 !important; /* dark text */\n\tborder: 1px solid #e5e7eb;\n\tborder-radius: 6px;\n  }\n  .header h1 {\n\tfont-size: 22px;\n\tfont-weight: 700;\n\tmargin-bottom: 4px;\n  }\n  .header .subtitle {\n\tfont-size: 13px;\n\topacity: 0.9;\n\tfont-weight: 500;\n\tcolor: #374151 !important;\n  }\n\n  .date-range {\n\ttext-align: center;\n\tmargin-bottom: 18px;\n\tpadding: 10px;\n\tbackground: #ffffff;\n\tborder: 1px solid #c7d2fe; /* indigo-200 */\n\tborder-radius: 6px;\n\tfont-weight: 600;\n\tcolor: #1f2937 !important;\n\tfont-size: 13px;\n  }\n\n  /* Sections + tables */\n  .section { margin-bottom: 24px; }\n\n  .section-header {\n\tfont-size: 15px;\n\tfont-weight: 700;\n\tmargin-bottom: 10px;\n\tpadding: 10px 12px;\n\tbackground: #eef2ff;            /* soft indigo */\n\tborder-left: 4px solid #6366f1;  /* indigo-500 */\n\tborder: 1px solid #e5e7eb;\n\tborder-radius: 4px;\n\tcolor: #1f2937 !important;\n  }\n\n  table {\n\tborder-collapse: collapse;\n\twidth: 100%;\n\tmargin-bottom: 14px;\n\tbackground: white;\n\tborder-radius: 6px;\n\toverflow: hidden;\n\tborder: 1px solid #e5e7eb;\n  }\n\n  /* Make headers always dark text on light bg (Excel safe) */\n  th {\n\tbackground: #eef2ff !important;   /* light indigo */\n\tcolor: #1f2937 !important;         /* dark text */\n\tfont-weight: 700;\n\ttext-align: center;\n\tpadding: 10px 8px;\n\tborder: 1px solid #e5e7eb;\n\tfont-size: 13px;\n\ttext-transform: uppercase;\n\tletter-spacing: 0.5px;\n  }\n\n  td {\n\tpadding: 9px 8px;\n\tborder: 1px solid #e5e7eb;\n\ttext-align: center;\n\tvertical-align: middle;\n\tfont-size: 12px;\n\tcolor: #1f2937 !important;\n\tfont-weight: 500;\n  }\n\n  td.label {\n\ttext-align: left;\n\tfont-weight: 700;\n\tbackground: #f9fafb; /* light gray */\n\tcolor: #1f2937 !important;\n\tpadding-left: 14px;\n\tborder-right: 2px solid #e5e7eb;\n  }\n\n  /* Zebra rows (subtle, Excel safe) */\n  tr:nth-child(even) td:not(.red):not(.yellow):not(.green) {\n\tbackground: #fbfdff; /* very light */\n  }\n\n  /* Conditional color cells (value-only) */\n  .red    { color: #d32f2f !important; font-weight: 700; }\n  .yellow { color: #f57c00 !important; font-weight: 700; }\n  .green  { color: #388e3c !important; font-weight: 700; }\n\n  .footer {\n\tmargin-top: 18px;\n\ttext-align: center;\n\tpadding: 12px;\n\tbackground: #f9fafb;\n\tborder: 1px solid #e5e7eb;\n\tborder-radius: 6px;\n\tcolor: #6b7280;\n\tfont-size: 12px;\n\tfont-weight: 500;\n  }\n\n  /* Print */\n  @media print {\n\tbody { background: white; padding: 10px; }\n\t.container { box-shadow: none; }\n  }\n  </style>\n  </head>\n  <body>";s+=`<div class="container">\n\t<div class="header">\n\t  <h1>STL Ladle Daily Report</h1>\n\t  <div class="subtitle">Refractory Management System - JSW Steel</div>\n\t</div>\n\t<div class="date-range">\n\t  ð Report Period: ${this.escapeHTML(this.formatDateTime(this.report.start_date_time))} to ${this.escapeHTML(this.formatDateTime(this.report.end_date_time))}\n\t</div>`,s+='<div class="section">';for(let r=t.s.r;r<=t.e.r;r++){const e=String.fromCharCode(65)+(r+1),l=a[e];if(l&&l.s&&l.s.font&&l.s.font.bold&&14===l.s.font.sz)r>t.s.r&&(s+='</table></div><div class="section">'),s+=`<div class="section-header">${this.escapeHTML(l.v)}</div>`,s+="<table>";else if(!(l&&l.s&&l.s.font&&l.s.font.bold&&16===l.s.font.sz)){s+="<tr>";for(let e=t.s.c;e<=t.e.c;e++){const t=String.fromCharCode(65+e)+(r+1),l=a[t];if(l){const t=l.v??"";let i="",o="td";if(l.s&&l.s.font&&l.s.font.color){const e=(l.s.font.color.rgb||"").toUpperCase();"D32F2F"===e||"FF0000"===e?i="red":"F57C00"===e||"FFA500"===e?i="yellow":"388E3C"!==e&&"008000"!==e||(i="green")}const d=a["A"+(r+1)],n=a["B"+(r+1)],c=d&&"string"===typeof d.v&&"label"===d.v.toLowerCase()&&n&&"string"===typeof n.v&&"uom"===n.v.toLowerCase();c?o="th":0===e&&(i=(i?i+" ":"")+"label"),s+=`<${o} class="${i}">${this.escapeHTML(t)}</${o}>`}else s+="<td></td>"}s+="</tr>"}}return s+="</table></div>",s+=`<div class="footer">\n\t  Generated on ${(new Date).toLocaleString()} | RMS - Refractory Management System | JSW Steel\n\t</div>\n  </div>\n  </body>\n  </html>`,s},escapeHTML(e){return"string"!==typeof e?e:e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")},getRange(e){const a={s:{c:0,r:0},e:{c:0,r:0}};return Object.keys(e).forEach((e=>{if("!"===e[0])return;const t=e.charCodeAt(0)-65,s=parseInt(e.slice(1))-1;a.s.c>t&&(a.s.c=t),a.s.r>s&&(a.s.r=s),a.e.c<t&&(a.e.c=t),a.e.r<s&&(a.e.r=s)})),a},parseItem(e){const a=e?.stl_details?JSON.parse(e.stl_details):[],t={};return a.forEach((e=>{e?.label&&(t[e.label]=e)})),{raw:a,byLabel:t}},firstFrom(e,a,t){for(const s of e){const e=s.byLabel[a];if(e&&void 0!==e[t]&&null!==e[t]&&""!==e[t])return"value"===t?this.showValue(e[t]):e[t]}return""},valueFrom(e,a){const t=e[a];return t?this.showValue(t.value):""},getValueColor(e,a){const t=["SZ PP1","SZ PP2","MZ PP1","MZ PP2"];if(!t.includes(a))return"";const s=parseFloat(e);return isNaN(s)?"":s<35?"text-danger":s<40?"text-warning":"text-success"}},computed:{downParsed(){return this.down_stl_details.map(this.parseItem)},downParsedUnique(){const e=new Set,a=[];return this.downParsed.forEach(((t,s)=>{const r=(t.byLabel["STL No"]?.value||`STL ${s+1}`).toString();e.has(r)||(e.add(r),a.push(t))})),a},downColumns(){return this.downParsedUnique.map(((e,a)=>{const t=e.byLabel["STL No"]?.value;return t?String(t):`STL ${a+1}`}))},downRowLabels(){if(0===this.downParsedUnique.length)return[];const e=new Set,a=[],t=t=>t.forEach((t=>{t?.label&&!e.has(t.label)&&(e.add(t.label),a.push(t.label))}));t(this.downParsedUnique[0].raw);for(let s=1;s<this.downParsedUnique.length;s++)t(this.downParsedUnique[s].raw);return a},firstUomFor(){return e=>this.firstFrom(this.downParsedUnique,e,"uom")},liveParsed(){return this.live_stl_details.map(this.parseItem)},liveParsedUnique(){const e=new Set,a=[];return this.liveParsed.forEach(((t,s)=>{const r=(t.byLabel["STL No"]?.value||`STL ${s+1}`).toString();e.has(r)||(e.add(r),a.push(t))})),a},liveColumns(){return this.liveParsedUnique.map(((e,a)=>{const t=e.byLabel["STL No"]?.value;return t?String(t):`STL ${a+1}`}))},liveRowLabels(){if(0===this.liveParsedUnique.length)return[];const e=new Set,a=[],t=t=>t.forEach((t=>{t?.label&&!e.has(t.label)&&(e.add(t.label),a.push(t.label))}));t(this.liveParsedUnique[0].raw);for(let s=1;s<this.liveParsedUnique.length;s++)t(this.liveParsedUnique[s].raw);return a},firstLiveUomFor(){return e=>this.firstFrom(this.liveParsedUnique,e,"uom")}}};const MTe=(0,Ze.A)(NTe,[["render",ITe],["__scopeId","data-v-3edb185a"]]);var KTe=MTe;const JTe={class:"d-sm-flex align-items-center justify-content-between mb-2"},BTe={class:"breadcrumb fs-sm mb-1"},OTe={class:"breadcrumb-item","aria-current":"page"},HTe={class:"d-flex"},YTe={class:"form-group me-2"},ZTe={key:0},GTe={class:"text-center mb-3"},eQe={class:"card card-one mb-3"},aQe={class:"card-body"},tQe={class:"table-responsive table-responsive-sm"},sQe={class:"table table-sm text-nowrap table-striped table-bordered mb-0"},rQe={class:"",style:{"background-color":"#506fd9",color:"white"}},lQe={class:"text-center",style:{width:"40%"}},iQe={key:0},oQe={class:"text-center"},dQe={class:"text-center"},nQe={class:"text-center"},cQe={class:"card card-one mb-3"},uQe={class:"card-header py-2 d-flex align-items-center justify-content-between"},_Qe={class:"text-muted"},pQe={class:"card-body"},mQe={class:"table-responsive table-responsive-sm"},bQe={class:"table table-sm text-nowrap table-striped table-bordered mb-0"},kQe={class:"",style:{"background-color":"#506fd9",color:"white"}},vQe=["colspan"],hQe={key:0},yQe=["colspan"],gQe={class:"text-center"},fQe={key:0,class:"text-center"},LQe={class:"card card-one mb-3"},CQe={class:"card-header py-2 d-flex align-items-center justify-content-between"},wQe={class:"text-muted"},EQe={class:"card-body"},xQe={class:"table-responsive table-responsive-sm"},XQe={class:"table table-sm text-nowrap table-striped table-bordered mb-0"},PQe={class:"",style:{"background-color":"#506fd9",color:"white"}},$Qe=["colspan"],SQe={key:0},AQe=["colspan"],DQe={class:"text-center"},TQe={key:0,class:"text-center"},QQe={key:1,class:"text-center text-muted"};function VQe(e,a,t,l,i,o){const d=(0,r.g2)("router-link");return(0,r.uX)(),(0,r.CE)("div",null,[(0,r.Lk)("div",JTe,[(0,r.Lk)("div",null,[(0,r.Lk)("ol",BTe,[(0,r.Lk)("li",OTe,[(0,r.bF)(d,{to:"/dashboard"},{default:(0,r.k6)((()=>a[3]||(a[3]=[(0,r.eW)("Dashboard")]))),_:1})]),a[4]||(a[4]=(0,r.Lk)("li",{class:"breadcrumb-item","aria-current":"page"},[(0,r.Lk)("a",{href:"javascript:void(0)"},"Asset Reports")],-1))]),a[5]||(a[5]=(0,r.Lk)("h4",{class:"main-title mb-0"},"TLC Ladle Daily Report",-1))]),(0,r.Lk)("div",HTe,[(0,r.Lk)("div",YTe,[(0,r.bo)((0,r.Lk)("input",{type:"date",class:"form-control","onUpdate:modelValue":a[0]||(a[0]=e=>i.meta.date=e)},null,512),[[s.Jo,i.meta.date]])]),(0,r.Lk)("button",{class:"btn btn-primary me-2",onClick:a[1]||(a[1]=(...e)=>o.submit&&o.submit(...e))},a[6]||(a[6]=[(0,r.Lk)("i",{class:"ri-send-plane-line"},null,-1),(0,r.eW)(" Submit ")])),(0,r.Lk)("button",{class:"btn btn-primary",onClick:a[2]||(a[2]=(...e)=>o.download&&o.download(...e))},a[7]||(a[7]=[(0,r.Lk)("i",{class:"ri-file-excel-line"},null,-1),(0,r.eW)(" Download ")]))])]),i.loaded?((0,r.uX)(),(0,r.CE)("div",ZTe,[(0,r.Lk)("h6",GTe," Daily Report â "+(0,n.v_)(o.formatDateTime(i.report.start_date_time))+" to "+(0,n.v_)(o.formatDateTime(i.report.end_date_time)),1),(0,r.Lk)("div",eQe,[a[12]||(a[12]=(0,r.Lk)("div",{class:"card-header py-2"},[(0,r.Lk)("strong",null,"TLC Details")],-1)),(0,r.Lk)("div",aQe,[(0,r.Lk)("div",tQe,[(0,r.Lk)("table",sQe,[(0,r.Lk)("thead",null,[(0,r.Lk)("tr",rQe,[a[8]||(a[8]=(0,r.Lk)("th",{style:{width:"36%"}},"Label",-1)),a[9]||(a[9]=(0,r.Lk)("th",{class:"text-center",style:{width:"12%"}},"Norm/SOP",-1)),a[10]||(a[10]=(0,r.Lk)("th",{class:"text-center",style:{width:"12%"}},"UOM",-1)),(0,r.Lk)("th",lQe,(0,n.v_)(o.formatDate(i.report.date)),1)])]),(0,r.Lk)("tbody",null,[0===i.report_details.length?((0,r.uX)(),(0,r.CE)("tr",iQe,a[11]||(a[11]=[(0,r.Lk)("td",{colspan:"4",class:"text-center text-muted"},"No main report data available.",-1)]))):(0,r.Q3)("",!0),((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(i.report_details,((e,a)=>((0,r.uX)(),(0,r.CE)("tr",{key:"main-"+a},[(0,r.Lk)("th",null,(0,n.v_)(e.label),1),(0,r.Lk)("td",oQe,(0,n.v_)(e.norm??""),1),(0,r.Lk)("td",dQe,(0,n.v_)(e.uom??""),1),(0,r.Lk)("td",nQe,(0,n.v_)(o.showValue(e.value)),1)])))),128))])])])])]),(0,r.Lk)("div",cQe,[(0,r.Lk)("div",uQe,[a[13]||(a[13]=(0,r.Lk)("strong",null,"Down TLC Details",-1)),(0,r.Lk)("small",_Qe," ("+(0,n.v_)(o.downColumns.length)+" TLC"+(0,n.v_)(1===o.downColumns.length?"":"s")+") ",1)]),(0,r.Lk)("div",pQe,[(0,r.Lk)("div",mQe,[(0,r.Lk)("table",bQe,[(0,r.Lk)("thead",null,[(0,r.Lk)("tr",kQe,[a[14]||(a[14]=(0,r.Lk)("th",null,"Label",-1)),a[15]||(a[15]=(0,r.Lk)("th",{class:"text-center"},"UOM",-1)),(0,r.Lk)("th",{class:"text-center",colspan:Math.max(1,o.downColumns.length)},(0,n.v_)(o.formatDate(i.report.date)),9,vQe)])]),(0,r.Lk)("tbody",null,[0===o.downRowLabels.length?((0,r.uX)(),(0,r.CE)("tr",hQe,[(0,r.Lk)("td",{colspan:2+Math.max(1,o.downColumns.length),class:"text-center text-muted"}," No down TLC data available. ",8,yQe)])):(0,r.Q3)("",!0),((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(o.downRowLabels,((e,a)=>((0,r.uX)(),(0,r.CE)("tr",{key:"down-r-"+a},[(0,r.Lk)("th",null,(0,n.v_)(e),1),(0,r.Lk)("td",gQe,(0,n.v_)(o.firstUomFor(e)),1),((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(o.downParsedUnique,((t,s)=>((0,r.uX)(),(0,r.CE)("td",{key:"down-c-"+a+"-"+s,class:"text-center"},(0,n.v_)(o.valueFrom(t.byLabel,e)),1)))),128)),0===o.downColumns.length?((0,r.uX)(),(0,r.CE)("td",fQe,"â")):(0,r.Q3)("",!0)])))),128))])])])])]),(0,r.Lk)("div",LQe,[(0,r.Lk)("div",CQe,[a[16]||(a[16]=(0,r.Lk)("strong",null,"Circulation TLC Details",-1)),(0,r.Lk)("small",wQe," ("+(0,n.v_)(o.liveColumns.length)+" TLC"+(0,n.v_)(1===o.liveColumns.length?"":"s")+") ",1)]),(0,r.Lk)("div",EQe,[(0,r.Lk)("div",xQe,[(0,r.Lk)("table",XQe,[(0,r.Lk)("thead",null,[(0,r.Lk)("tr",PQe,[a[17]||(a[17]=(0,r.Lk)("th",null,"Label",-1)),a[18]||(a[18]=(0,r.Lk)("th",{class:"text-center"},"UOM",-1)),(0,r.Lk)("th",{class:"text-center",colspan:Math.max(1,o.liveColumns.length)},(0,n.v_)(o.formatDate(i.report.date)),9,$Qe)])]),(0,r.Lk)("tbody",null,[0===o.liveRowLabels.length?((0,r.uX)(),(0,r.CE)("tr",SQe,[(0,r.Lk)("td",{colspan:2+Math.max(1,o.liveColumns.length),class:"text-center text-muted"}," No live TLC data available. ",8,AQe)])):(0,r.Q3)("",!0),((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(o.liveRowLabels,((e,a)=>((0,r.uX)(),(0,r.CE)("tr",{key:"live-r-"+a},[(0,r.Lk)("th",null,(0,n.v_)(e),1),(0,r.Lk)("td",DQe,(0,n.v_)(o.firstLiveUomFor(e)),1),((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(o.liveParsedUnique,((t,s)=>((0,r.uX)(),(0,r.CE)("td",{key:"live-c-"+a+"-"+s,class:"text-center"},[(0,r.Lk)("span",{class:(0,n.C4)(o.getValueColor(o.valueFrom(t.byLabel,e),e))},(0,n.v_)(o.valueFrom(t.byLabel,e)),3)])))),128)),0===o.liveColumns.length?((0,r.uX)(),(0,r.CE)("td",TQe,"â")):(0,r.Q3)("",!0)])))),128))])])])])])])):((0,r.uX)(),(0,r.CE)("div",QQe,"Select a date and click Submit to load the report."))])}var FQe={data(){return{meta:{date:sG()().subtract(1,"day").format("YYYY-MM-DD")},report:{},report_details:[],down_stl_details:[],live_stl_details:[],loaded:!1}},methods:{formatDateTime(e){return e?sG()(e).format("DD-MMM-YY HH:mm"):""},formatDate(e){return e?sG()(e).format("DD-MMM-YY"):""},showValue(e){return null===e||void 0===e?"":String(e)},submit(){const e=this.$loading.show();this.$store.dispatch("post",{uri:"getTLCDailyReport",data:this.meta}).then((a=>{e.hide();const t=a.data||{};this.report=t,this.report_details=t?.tlc_details?JSON.parse(t.tlc_details):[],this.down_stl_details=Array.isArray(t?.down_tlc_daily_asset_reports)?t.down_tlc_daily_asset_reports:[],this.live_stl_details=Array.isArray(t?.live_tlc_daily_asset_reports)?t.live_tlc_daily_asset_reports:[],this.loaded=!0})).catch((a=>{e.hide(),this.$store.dispatch("error",a?.response?.data?.message||"Failed to load")}))},download(){if(this.loaded)try{const e=this.generateExcelData();this.downloadExcelFile(e),this.$store.dispatch("success","Excel file downloaded successfully.")}catch(e){console.error("Excel download error:",e),this.$store.dispatch("error","Failed to generate Excel file.")}else this.$store.dispatch("error","Please load the report data first.")},generateExcelData(){const e={SheetNames:["TLC Daily Report"],Sheets:{"TLC Daily Report":{}}};let a=1;const t=e.Sheets["TLC Daily Report"];return t["A"+a]={v:"TLC Ladle Daily Report",t:"s",s:{font:{bold:!0,sz:16}}},a+=2,t["A"+a]={v:`Report Period: ${this.formatDateTime(this.report.start_date_time)} to ${this.formatDateTime(this.report.end_date_time)}`,t:"s",s:{font:{bold:!0}}},a+=2,t["A"+a]={v:"TLC Details",t:"s",s:{font:{bold:!0,sz:14}}},a+=1,t["A"+a]={v:"Label",t:"s"},t["B"+a]={v:"Norm/SOP",t:"s"},t["C"+a]={v:"UOM",t:"s"},t["D"+a]={v:this.formatDate(this.report.date),t:"s"},a+=1,this.report_details.forEach((e=>{t["A"+a]={v:e.label||"",t:"s"},t["B"+a]={v:e.norm||"",t:"s"},t["C"+a]={v:e.uom||"",t:"s"},t["D"+a]={v:this.showValue(e.value),t:"s"},a+=1})),a+=2,this.downParsedUnique.length>0&&(t["A"+a]={v:`Down TLC Details (${this.downColumns.length} TLC${1===this.downColumns.length?"":"s"})`,t:"s",s:{font:{bold:!0,sz:14}}},a+=1,t["A"+a]={v:"Label",t:"s"},t["B"+a]={v:"UOM",t:"s"},t["C"+a]={v:this.formatDate(this.report.date),t:"s"},a+=1,this.downRowLabels.forEach((e=>{t["A"+a]={v:e,t:"s"},t["B"+a]={v:this.firstUomFor(e),t:"s"},this.downParsedUnique.forEach(((s,r)=>{const l=this.valueFrom(s.byLabel,e);t[String.fromCharCode(67+r)+a]={v:l,t:"s"}})),a+=1})),a+=2),this.liveParsedUnique.length>0&&(t["A"+a]={v:`Circulation TLC Details (${this.liveColumns.length} TLC${1===this.liveColumns.length?"":"s"})`,t:"s",s:{font:{bold:!0,sz:14}}},a+=1,t["A"+a]={v:"Label",t:"s"},t["B"+a]={v:"UOM",t:"s"},t["C"+a]={v:this.formatDate(this.report.date),t:"s"},a+=1,this.liveRowLabels.forEach((e=>{t["A"+a]={v:e,t:"s"},t["B"+a]={v:this.firstLiveUomFor(e),t:"s"},this.liveParsedUnique.forEach(((s,r)=>{const l=this.valueFrom(s.byLabel,e),i=String.fromCharCode(67+r)+a,o={v:l,t:"s"},d=["SZ PP1","SZ PP2","MZ PP1","MZ PP2"];if(d.includes(e)){const e=parseFloat(l);isNaN(e)||(o.s=e<35?{font:{color:{rgb:"D32F2F"}}}:e<40?{font:{color:{rgb:"F57C00"}}}:{font:{color:{rgb:"388E3C"}}})}t[i]=o})),a+=1}))),t["!cols"]=[{wch:30},{wch:15},{wch:20},{wch:15}],e},downloadExcelFile(e){const a=this.createExcelHTML(e),t=new Blob([a],{type:"application/vnd.ms-excel"}),s=window.URL.createObjectURL(t),r=document.createElement("a");r.href=s;const l=this.formatDate(this.report.date).replace(/-/g,"");r.download=`TLC_Daily_Report_${l}.xls`,document.body.appendChild(r),r.click(),document.body.removeChild(r),window.URL.revokeObjectURL(s)},createExcelHTML(e){const a=e.Sheets[e.SheetNames[0]],t=this.getRange(a);let s="<!DOCTYPE html>\n  <html>\n  <head>\n  <meta charset=\"UTF-8\">\n  <title>TLC Daily Report</title>\n  <style>\n  * { margin: 0; padding: 0; box-sizing: border-box; }\n  body {\n\tfont-family: 'Calibri', 'Arial', sans-serif;\n\tmargin: 0;\n\tpadding: 16px;\n\tbackground-color: #ffffff;\n\tline-height: 1.5;\n\tcolor: #1f2937 !important; /* dark gray */\n  }\n  table, tr, td, th { color: #1f2937 !important; }\n\n  /* Container + header blocks */\n  .container {\n\tmax-width: 100%;\n\tmargin: 0 auto;\n\tbackground: white;\n\tpadding: 16px;\n  }\n\n  .header {\n\ttext-align: center;\n\tmargin-bottom: 16px;\n\tpadding: 16px 12px;\n\tbackground: #f3f4f6; /* light gray */\n\tcolor: #1f2937 !important; /* dark text */\n\tborder: 1px solid #e5e7eb;\n\tborder-radius: 6px;\n  }\n  .header h1 {\n\tfont-size: 22px;\n\tfont-weight: 700;\n\tmargin-bottom: 4px;\n  }\n  .header .subtitle {\n\tfont-size: 13px;\n\topacity: 0.9;\n\tfont-weight: 500;\n\tcolor: #374151 !important;\n  }\n\n  .date-range {\n\ttext-align: center;\n\tmargin-bottom: 18px;\n\tpadding: 10px;\n\tbackground: #ffffff;\n\tborder: 1px solid #c7d2fe; /* indigo-200 */\n\tborder-radius: 6px;\n\tfont-weight: 600;\n\tcolor: #1f2937 !important;\n\tfont-size: 13px;\n  }\n\n  /* Sections + tables */\n  .section { margin-bottom: 24px; }\n\n  .section-header {\n\tfont-size: 15px;\n\tfont-weight: 700;\n\tmargin-bottom: 10px;\n\tpadding: 10px 12px;\n\tbackground: #eef2ff;            /* soft indigo */\n\tborder-left: 4px solid #6366f1;  /* indigo-500 */\n\tborder: 1px solid #e5e7eb;\n\tborder-radius: 4px;\n\tcolor: #1f2937 !important;\n  }\n\n  table {\n\tborder-collapse: collapse;\n\twidth: 100%;\n\tmargin-bottom: 14px;\n\tbackground: white;\n\tborder-radius: 6px;\n\toverflow: hidden;\n\tborder: 1px solid #e5e7eb;\n  }\n\n  /* Make headers always dark text on light bg (Excel safe) */\n  th {\n\tbackground: #eef2ff !important;   /* light indigo */\n\tcolor: #1f2937 !important;         /* dark text */\n\tfont-weight: 700;\n\ttext-align: center;\n\tpadding: 10px 8px;\n\tborder: 1px solid #e5e7eb;\n\tfont-size: 13px;\n\ttext-transform: uppercase;\n\tletter-spacing: 0.5px;\n  }\n\n  td {\n\tpadding: 9px 8px;\n\tborder: 1px solid #e5e7eb;\n\ttext-align: center;\n\tvertical-align: middle;\n\tfont-size: 12px;\n\tcolor: #1f2937 !important;\n\tfont-weight: 500;\n  }\n\n  td.label {\n\ttext-align: left;\n\tfont-weight: 700;\n\tbackground: #f9fafb; /* light gray */\n\tcolor: #1f2937 !important;\n\tpadding-left: 14px;\n\tborder-right: 2px solid #e5e7eb;\n  }\n\n  /* Zebra rows (subtle, Excel safe) */\n  tr:nth-child(even) td:not(.red):not(.yellow):not(.green) {\n\tbackground: #fbfdff; /* very light */\n  }\n\n  /* Conditional color cells (value-only) */\n  .red    { color: #d32f2f !important; font-weight: 700; }\n  .yellow { color: #f57c00 !important; font-weight: 700; }\n  .green  { color: #388e3c !important; font-weight: 700; }\n\n  .footer {\n\tmargin-top: 18px;\n\ttext-align: center;\n\tpadding: 12px;\n\tbackground: #f9fafb;\n\tborder: 1px solid #e5e7eb;\n\tborder-radius: 6px;\n\tcolor: #6b7280;\n\tfont-size: 12px;\n\tfont-weight: 500;\n  }\n\n  /* Print */\n  @media print {\n\tbody { background: white; padding: 10px; }\n\t.container { box-shadow: none; }\n  }\n  </style>\n  </head>\n  <body>";s+=`<div class="container">\n\t<div class="header">\n\t  <h1>TLC Ladle Daily Report</h1>\n\t  <div class="subtitle">Refractory Management System - JSW Steel</div>\n\t</div>\n\t<div class="date-range">\n\t  ð Report Period: ${this.escapeHTML(this.formatDateTime(this.report.start_date_time))} to ${this.escapeHTML(this.formatDateTime(this.report.end_date_time))}\n\t</div>`,s+='<div class="section">';for(let r=t.s.r;r<=t.e.r;r++){const e=String.fromCharCode(65)+(r+1),l=a[e];if(l&&l.s&&l.s.font&&l.s.font.bold&&14===l.s.font.sz)r>t.s.r&&(s+='</table></div><div class="section">'),s+=`<div class="section-header">${this.escapeHTML(l.v)}</div>`,s+="<table>";else if(!(l&&l.s&&l.s.font&&l.s.font.bold&&16===l.s.font.sz)){s+="<tr>";for(let e=t.s.c;e<=t.e.c;e++){const t=String.fromCharCode(65+e)+(r+1),l=a[t];if(l){const t=l.v??"";let i="",o="td";if(l.s&&l.s.font&&l.s.font.color){const e=(l.s.font.color.rgb||"").toUpperCase();"D32F2F"===e||"FF0000"===e?i="red":"F57C00"===e||"FFA500"===e?i="yellow":"388E3C"!==e&&"008000"!==e||(i="green")}const d=a["A"+(r+1)],n=a["B"+(r+1)],c=d&&"string"===typeof d.v&&"label"===d.v.toLowerCase()&&n&&"string"===typeof n.v&&"uom"===n.v.toLowerCase();c?o="th":0===e&&(i=(i?i+" ":"")+"label"),s+=`<${o} class="${i}">${this.escapeHTML(t)}</${o}>`}else s+="<td></td>"}s+="</tr>"}}return s+="</table></div>",s+=`<div class="footer">\n\t  Generated on ${(new Date).toLocaleString()} | RMS - Refractory Management System | JSW Steel\n\t</div>\n  </div>\n  </body>\n  </html>`,s},escapeHTML(e){return"string"!==typeof e?e:e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")},getRange(e){const a={s:{c:0,r:0},e:{c:0,r:0}};return Object.keys(e).forEach((e=>{if("!"===e[0])return;const t=e.charCodeAt(0)-65,s=parseInt(e.slice(1))-1;a.s.c>t&&(a.s.c=t),a.s.r>s&&(a.s.r=s),a.e.c<t&&(a.e.c=t),a.e.r<s&&(a.e.r=s)})),a},parseItem(e){const a=e?.tlc_details?JSON.parse(e.tlc_details):[],t={};return a.forEach((e=>{e?.label&&(t[e.label]=e)})),{raw:a,byLabel:t}},firstFrom(e,a,t){for(const s of e){const e=s.byLabel[a];if(e&&void 0!==e[t]&&null!==e[t]&&""!==e[t])return"value"===t?this.showValue(e[t]):e[t]}return""},valueFrom(e,a){const t=e[a];return t?this.showValue(t.value):""},getValueColor(e,a){const t=["SZ PP1","SZ PP2","MZ PP1","MZ PP2"];if(!t.includes(a))return"";const s=parseFloat(e);return isNaN(s)?"":s<35?"text-danger":s<40?"text-warning":"text-success"}},computed:{downParsed(){return this.down_stl_details.map(this.parseItem)},downParsedUnique(){const e=new Set,a=[];return this.downParsed.forEach(((t,s)=>{const r=(t.byLabel["TLC No"]?.value||t.byLabel["TLC  No"]?.value||`TLC ${s+1}`).toString();e.has(r)||(e.add(r),a.push(t))})),a},downColumns(){return this.downParsedUnique.map(((e,a)=>{const t=e.byLabel["TLC No"]?.value||e.byLabel["TLC  No"]?.value;return t?String(t):`TLC ${a+1}`}))},downRowLabels(){if(0===this.downParsedUnique.length)return[];const e=new Set,a=[],t=t=>t.forEach((t=>{t?.label&&!e.has(t.label)&&(e.add(t.label),a.push(t.label))}));t(this.downParsedUnique[0].raw);for(let s=1;s<this.downParsedUnique.length;s++)t(this.downParsedUnique[s].raw);return a},firstUomFor(){return e=>this.firstFrom(this.downParsedUnique,e,"uom")},liveParsed(){return this.live_stl_details.map(this.parseItem)},liveParsedUnique(){const e=new Set,a=[];return this.liveParsed.forEach(((t,s)=>{const r=(t.byLabel["TLC  No"]?.value||t.byLabel["TLC No"]?.value||`TLC ${s+1}`).toString();e.has(r)||(e.add(r),a.push(t))})),a},liveColumns(){return this.liveParsedUnique.map(((e,a)=>{const t=e.byLabel["TLC  No"]?.value||e.byLabel["TLC No"]?.value;return t?String(t):`TLC ${a+1}`}))},liveRowLabels(){if(0===this.liveParsedUnique.length)return[];const e=new Set,a=[],t=t=>t.forEach((t=>{t?.label&&!e.has(t.label)&&(e.add(t.label),a.push(t.label))}));t(this.liveParsedUnique[0].raw);for(let s=1;s<this.liveParsedUnique.length;s++)t(this.liveParsedUnique[s].raw);return a},firstLiveUomFor(){return e=>this.firstFrom(this.liveParsedUnique,e,"uom")}}};const UQe=(0,Ze.A)(FQe,[["render",VQe],["__scopeId","data-v-3737dbd2"]]);var jQe=UQe;const zQe={class:""},WQe={class:"d-sm-flex align-items-center justify-content-between mb-2"},RQe={class:"row"},qQe={class:"col-12"},IQe={class:"card"},NQe={class:"card-body mb-3"},MQe={class:"table-responsive table-responsive-sm"},KQe={class:"table table-sm text-nowrap table-bordered mb-0"},JQe={class:"text-center"},BQe={href:"javascript:void(0)","data-bs-toggle":"modal","data-bs-target":"#qrModal"};function OQe(e,a,t,l,i,o){const d=(0,r.g2)("router-link");return(0,r.uX)(),(0,r.CE)("div",null,[(0,r.Lk)("div",zQe,[(0,r.Lk)("div",WQe,[a[4]||(a[4]=(0,r.Lk)("div",null,[(0,r.Lk)("h4",{class:"main-title mb-0"},"Assets")],-1)),(0,r.bF)(d,{to:"/components/create",type:"submit",class:"btn btn-sm btn-primary",style:{float:"right"}},{default:(0,r.k6)((()=>a[3]||(a[3]=[(0,r.Lk)("i",{class:"ri-list-check"},null,-1),(0,r.eW)(" ADD Asset")]))),_:1})]),(0,r.Lk)("div",RQe,[(0,r.Lk)("div",qQe,[(0,r.Lk)("div",IQe,[(0,r.Lk)("div",NQe,[a[21]||(a[21]=(0,r.Lk)("input",{class:"form-control form-control-sm mb-2",type:"text",placeholder:"Type keyword and press enter key"},null,-1)),(0,r.Lk)("div",MQe,[(0,r.Lk)("table",KQe,[a[20]||(a[20]=(0,r.Lk)("thead",null,[(0,r.Lk)("tr",{class:"text-center"},[(0,r.Lk)("th",{class:"text-center"},"#"),(0,r.Lk)("th",null,"Asset Code"),(0,r.Lk)("th",null,"Name"),(0,r.Lk)("th",null,"Serail Number"),(0,r.Lk)("th",null,"Make"),(0,r.Lk)("th",null,"Plant"),(0,r.Lk)("th",null,"Type"),(0,r.Lk)("th",null,"Voltage"),(0,r.Lk)("th",null,"Speed"),(0,r.Lk)("th",null,"Capacity"),(0,r.Lk)("th",null,"Frame"),(0,r.Lk)("th",null,"Section"),(0,r.Lk)("th",null,"View"),(0,r.Lk)("th",{class:"text-center"},"Actions")])],-1)),(0,r.Lk)("tbody",null,[(0,r.Lk)("tr",null,[a[8]||(a[8]=(0,r.Lk)("td",{class:"text-center"},"1",-1)),a[9]||(a[9]=(0,r.Lk)("td",null,"112M415111167890",-1)),a[10]||(a[10]=(0,r.Lk)("td",null,"Motor",-1)),a[11]||(a[11]=(0,r.Lk)("td",null,"SL-0001",-1)),a[12]||(a[12]=(0,r.Lk)("td",null,"Kirloskar",-1)),a[13]||(a[13]=(0,r.Lk)("td",null,"UTCL-NCJW",-1)),a[14]||(a[14]=(0,r.Lk)("td",null,"LT",-1)),a[15]||(a[15]=(0,r.Lk)("td",null,"230V",-1)),a[16]||(a[16]=(0,r.Lk)("td",null,"200",-1)),a[17]||(a[17]=(0,r.Lk)("td",null,"200kV",-1)),a[18]||(a[18]=(0,r.Lk)("td",null,"Regular",-1)),a[19]||(a[19]=(0,r.Lk)("td",null,"section",-1)),(0,r.Lk)("td",null,[(0,r.Lk)("div",null,[(0,r.bo)((0,r.Lk)("select",{class:"form-select form-select-sm","onUpdate:modelValue":a[0]||(a[0]=e=>i.url=e),onChange:a[1]||(a[1]=e=>o.getView())},a[5]||(a[5]=[(0,r.Lk)("option",{value:""},"Select",-1),(0,r.Lk)("option",{value:"/assets/activity"},"Activity Register",-1),(0,r.Lk)("option",{value:"/components/maintenance"},"Maintenance Register",-1),(0,r.Lk)("option",{value:"/assets/check_list"},"Check List",-1)]),544),[[s.u1,i.url]])])]),(0,r.Lk)("td",JQe,[a[6]||(a[6]=(0,r.Lk)("a",{href:"javascript:void(0)",class:"text-success me-2"},[(0,r.Lk)("i",{class:"ri-pencil-line icon_hgt"})],-1)),a[7]||(a[7]=(0,r.Lk)("a",{href:"javascript:void(0)",class:"text-danger me-2"},[(0,r.Lk)("i",{class:"ri-delete-bin-line icon_hgt"})],-1)),(0,r.Lk)("a",BQe,[(0,r.Lk)("i",{class:"ri-qr-code-line icon_hgt",onClick:a[2]||(a[2]=e=>o.generateBarCode("112M415111167890"))})])])])])])])]),a[22]||(a[22]=(0,r.Lk)("div",{class:"card-footer"},null,-1))])])])]),a[23]||(a[23]=(0,r.Fv)('<div class="modal" tabindex="-1" id="qrModal"><div class="modal-dialog"><div class="modal-content"><div class="modal-header"><h5 class="modal-title">Asset QR- Code</h5><button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button></div><div class="modal-body text-center"><img id="barcode" src="https://api.qrserver.com/v1/create-qr-code/?data=HelloWorld&amp;size=100x100" alt="" title="Equipment QR Code" width="200" height="200"><h1 class="mt-2 bg-danger">112M415111167890</h1></div><div class="modal-footer"><button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button></div></div></div></div>',1))])}var HQe={data(){return{url:""}},methods:{getView(){this.$router.push(this.url)},generateBarCode(e){var a="https://api.qrserver.com/v1/create-qr-code/?data="+e+"&amp;size=50x50";$("#barcode").attr("src",a)}}};const YQe=(0,Ze.A)(HQe,[["render",OQe]]);var ZQe=YQe;const GQe={class:""},eVe={class:"d-sm-flex align-items-center justify-content-between mb-2"},aVe={class:"breadcrumb fs-sm mb-1"},tVe={class:"breadcrumb-item"},sVe={class:"row"},rVe={class:"col-12"},lVe={class:"card"},iVe={class:"card-body mb-3"},oVe={class:"row g-2"},dVe={class:"col-md-3"},nVe={class:"form-control"},cVe=["value"],uVe={class:"col-md-3"},_Ve=["value"],pVe={class:"col-md-3"},mVe={class:"form-control"},bVe=["value"],kVe={class:"col-md-3"},vVe=["value"],hVe={class:"col-md-3"},yVe={class:"col-md-3"},gVe={class:"col-md-3"},fVe={class:"col-md-3"},LVe={class:"col-md-3"},CVe={class:"col-md-3"},wVe={class:"col-md-3"},EVe={class:"row"},xVe={class:"col-md-5 border border-primary m-1 rounded text-primary p-2"},XVe={class:"row"},PVe={class:"col-md-9"},$Ve=["value"],SVe={class:"col-md-3"},AVe={class:"col-md-5 border border-primary m-1 rounded text-primary p-2",style:{right:"12px",position:"absolute"}},DVe={class:"row"},TVe={class:"col-md-9"},QVe=["value"],VVe={class:"col-md-3"},FVe={class:"table-responsive mt-3"},UVe={class:"table table-bordered table-sm"},jVe={class:"text-center",style:{width:"5%"}},zVe=["onClick"],WVe={class:"table-responsive mt-3"},RVe={class:"table table-bordered table-sm"},qVe={class:"text-center",style:{width:"5%"}},IVe=["onClick"];function NVe(e,a,t,l,i,o){const d=(0,r.g2)("router-link");return(0,r.uX)(),(0,r.CE)("div",GQe,[(0,r.Lk)("div",eVe,[(0,r.Lk)("div",null,[(0,r.Lk)("ol",aVe,[(0,r.Lk)("li",tVe,[(0,r.bF)(d,{to:"/components"},{default:(0,r.k6)((()=>a[13]||(a[13]=[(0,r.eW)("Assets")]))),_:1})]),a[14]||(a[14]=(0,r.Lk)("li",{class:"breadcrumb-item"}," Create ",-1))])]),(0,r.bF)(d,{to:"/components",type:"submit",class:"btn btn-sm btn-primary",style:{float:"right"}},{default:(0,r.k6)((()=>a[15]||(a[15]=[(0,r.Lk)("i",{class:"ri-list-check"},null,-1),(0,r.eW)(" Assets")]))),_:1})]),(0,r.Lk)("div",sVe,[(0,r.Lk)("div",rVe,[(0,r.Lk)("form",null,[(0,r.Lk)("div",lVe,[a[62]||(a[62]=(0,r.Lk)("div",{class:"card-header d-flex justify-content-between"},[(0,r.Lk)("h5",{class:"my-auto"},"New Asset")],-1)),(0,r.Lk)("div",iVe,[(0,r.Lk)("div",oVe,[(0,r.Lk)("div",dVe,[a[17]||(a[17]=(0,r.Lk)("label",{class:"form-label"},"Plant",-1)),a[18]||(a[18]=(0,r.Lk)("span",{class:"text-danger"}," *",-1)),(0,r.Lk)("select",nVe,[a[16]||(a[16]=(0,r.Lk)("option",{value:""},"Select",-1)),((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(i.plants,((e,a)=>((0,r.uX)(),(0,r.CE)("option",{value:e.plant_id,key:a},(0,n.v_)(e.plant),9,cVe)))),128))])]),(0,r.Lk)("div",uVe,[a[19]||(a[19]=(0,r.Lk)("label",{class:"form-label"},"Asset Code",-1)),a[20]||(a[20]=(0,r.Lk)("span",{class:"text-danger"}," *",-1)),(0,r.Lk)("input",{type:"text",disabled:"true",class:"form-control",style:(0,n.Tr)("background-color: "+i.voltage.color+";"),value:o.getComponentCode},null,12,_Ve)]),a[61]||(a[61]=(0,r.Lk)("div",{class:"col-md-3"},[(0,r.Lk)("label",{class:"form-label"},"Asset Name"),(0,r.Lk)("span",{class:"text-danger"}," *"),(0,r.Lk)("input",{type:"text",placeholder:"Enter component name",class:"form-control"})],-1)),(0,r.Lk)("div",pVe,[a[22]||(a[22]=(0,r.Lk)("label",{class:"form-label"},"Asset Group",-1)),a[23]||(a[23]=(0,r.Lk)("span",{class:"text-danger"}," *",-1)),(0,r.Lk)("select",mVe,[a[21]||(a[21]=(0,r.Lk)("option",{value:""},"Select",-1)),((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(i.asset_groups,((e,a)=>((0,r.uX)(),(0,r.CE)("option",{key:a,value:e.asset_group_id},(0,n.v_)(e.asset_group),9,bVe)))),128))])]),(0,r.Lk)("div",kVe,[a[25]||(a[25]=(0,r.Lk)("label",{class:"form-label"},"Voltage Rating",-1)),a[26]||(a[26]=(0,r.Lk)("span",{class:"text-danger"}," *",-1)),(0,r.bo)((0,r.Lk)("select",{class:"form-control","onUpdate:modelValue":a[0]||(a[0]=e=>i.asset.voltage_code=e),onChange:a[1]||(a[1]=e=>o.setVoltage(i.asset.voltage_code))},[a[24]||(a[24]=(0,r.Lk)("option",{value:""},"Select Voltage",-1)),((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(i.voltages,((e,a)=>((0,r.uX)(),(0,r.CE)("option",{value:e.voltage_code,key:a},(0,n.v_)(e.voltage),9,vVe)))),128))],544),[[s.u1,i.asset.voltage_code]])]),(0,r.Lk)("div",hVe,[a[28]||(a[28]=(0,r.Lk)("label",{class:"form-label"},"Watt Rating",-1)),a[29]||(a[29]=(0,r.Lk)("span",{class:"text-danger"}," *",-1)),(0,r.bo)((0,r.Lk)("select",{class:"form-control","onUpdate:modelValue":a[2]||(a[2]=e=>i.kw=e)},a[27]||(a[27]=[(0,r.Lk)("option",{value:""},"Select Watt",-1),(0,r.Lk)("option",null,"1. Up to 5.5 KW",-1),(0,r.Lk)("option",null,"2. 7.5 - 22 KW",-1),(0,r.Lk)("option",null,"3. 30 - 110 KW",-1),(0,r.Lk)("option",null,"4. 132 - 250 KW",-1),(0,r.Lk)("option",null,"5. 250 - 500 KW",-1),(0,r.Lk)("option",null,"6. 500 - 1200 KW",-1),(0,r.Lk)("option",null,"7. 1200 - 5500 KW",-1)]),512),[[s.u1,i.kw]])]),(0,r.Lk)("div",yVe,[a[31]||(a[31]=(0,r.Lk)("label",{class:"form-label"},"Frame Type",-1)),a[32]||(a[32]=(0,r.Lk)("span",{class:"text-danger"}," *",-1)),(0,r.bo)((0,r.Lk)("select",{class:"form-control","onUpdate:modelValue":a[3]||(a[3]=e=>i.frame=e)},a[30]||(a[30]=[(0,r.Lk)("option",{value:""},"Select Frame",-1),(0,r.Lk)("option",{value:"2M415"},"xxxxx-63-400",-1),(0,r.Lk)("option",{value:"2M415"},"M/S/L/X",-1)]),512),[[s.u1,i.frame]])]),(0,r.Lk)("div",gVe,[a[34]||(a[34]=(0,r.Lk)("label",{class:"form-label"},"Mounting Type",-1)),a[35]||(a[35]=(0,r.Lk)("span",{class:"text-danger"}," *",-1)),(0,r.bo)((0,r.Lk)("select",{class:"form-control","onUpdate:modelValue":a[4]||(a[4]=e=>i.mounting=e)},a[33]||(a[33]=[(0,r.Lk)("option",{value:""},"Select Mounting",-1),(0,r.Lk)("option",null,"1. B3",-1),(0,r.Lk)("option",null,"2. B5",-1),(0,r.Lk)("option",null,"3. B35",-1),(0,r.Lk)("option",null,"4. V1",-1),(0,r.Lk)("option",null,"5. V3",-1)]),512),[[s.u1,i.mounting]])]),(0,r.Lk)("div",fVe,[a[37]||(a[37]=(0,r.Lk)("label",{class:"form-label"},"Section",-1)),a[38]||(a[38]=(0,r.Lk)("span",{class:"text-danger"}," *",-1)),(0,r.bo)((0,r.Lk)("select",{class:"form-control","onUpdate:modelValue":a[5]||(a[5]=e=>i.section=e)},a[36]||(a[36]=[(0,r.Fv)('<option value="" data-v-301df063>Select Section</option><option data-v-301df063>1. Packing Plant</option><option data-v-301df063>2. Cement Mill</option><option data-v-301df063>3. Kiln/PH/ESP</option><option data-v-301df063>4. Coal Mill</option><option data-v-301df063>5. Rawmill</option><option data-v-301df063>6. RMHS</option><option data-v-301df063>7. Crusher</option><option data-v-301df063>8. Mines</option><option data-v-301df063>9. Utility</option><option data-v-301df063>A. Misc</option>',11)]),512),[[s.u1,i.section]])]),(0,r.Lk)("div",LVe,[a[40]||(a[40]=(0,r.Lk)("label",{class:"form-label"},"Make",-1)),a[41]||(a[41]=(0,r.Lk)("span",{class:"text-danger"}," *",-1)),(0,r.bo)((0,r.Lk)("select",{class:"form-control","onUpdate:modelValue":a[6]||(a[6]=e=>i.make=e)},a[39]||(a[39]=[(0,r.Lk)("option",{value:""},"Select Make",-1),(0,r.Lk)("option",null,"1. ABB",-1),(0,r.Lk)("option",null,"2. BHEL",-1),(0,r.Lk)("option",null,"3. Seimens",-1),(0,r.Lk)("option",null,"4. SEW",-1),(0,r.Lk)("option",null,"5. EURO Drive",-1),(0,r.Lk)("option",null,"6. BBL",-1),(0,r.Lk)("option",null,"7. CGL",-1),(0,r.Lk)("option",null,"8. Others",-1)]),512),[[s.u1,i.make]])]),(0,r.Lk)("div",CVe,[a[43]||(a[43]=(0,r.Lk)("label",{class:"form-label"},"Speed",-1)),a[44]||(a[44]=(0,r.Lk)("span",{class:"text-danger"}," *",-1)),(0,r.bo)((0,r.Lk)("select",{class:"form-control","onUpdate:modelValue":a[7]||(a[7]=e=>i.speed=e)},a[42]||(a[42]=[(0,r.Lk)("option",{value:""},"Select RPM",-1),(0,r.Lk)("option",null,"1. 2P",-1),(0,r.Lk)("option",null,"2. 4P",-1),(0,r.Lk)("option",null,"3. 6P",-1),(0,r.Lk)("option",null,"4. 8P",-1)]),512),[[s.u1,i.speed]])]),(0,r.Lk)("div",wVe,[a[45]||(a[45]=(0,r.Lk)("label",{class:"form-label"},"Serial Number",-1)),a[46]||(a[46]=(0,r.Lk)("span",{class:"text-danger"}," *",-1)),(0,r.bo)((0,r.Lk)("input",{type:"text",placeholder:"Enter asset serial number",class:"form-control","onUpdate:modelValue":a[8]||(a[8]=e=>i.serial_number=e)},null,512),[[s.Jo,i.serial_number]])]),(0,r.Lk)("div",EVe,[(0,r.Lk)("div",xVe,[(0,r.Lk)("div",XVe,[(0,r.Lk)("div",PVe,[a[48]||(a[48]=(0,r.Lk)("label",{class:"form-label"},"Add Spare Parts",-1)),(0,r.bo)((0,r.Lk)("select",{class:"form-control form-control-sm","onUpdate:modelValue":a[9]||(a[9]=e=>i.spare=e)},[a[47]||(a[47]=(0,r.Lk)("option",{value:{}},"Select",-1)),((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(i.spares_available,((e,a)=>((0,r.uX)(),(0,r.CE)("option",{value:e,key:a},(0,n.v_)(e.spare_name),9,$Ve)))),128))],512),[[s.u1,i.spare]])]),(0,r.Lk)("div",SVe,[a[49]||(a[49]=(0,r.Lk)("label",{class:"form-label"},".",-1)),(0,r.Lk)("button",{class:"btn btn-sm btn-outline-primary form-control",onClick:a[10]||(a[10]=e=>o.addSpares())},"ADD")])])]),(0,r.Lk)("div",AVe,[(0,r.Lk)("div",DVe,[(0,r.Lk)("div",TVe,[a[51]||(a[51]=(0,r.Lk)("label",{class:"form-label"},"Add Check List Questions",-1)),(0,r.bo)((0,r.Lk)("select",{class:"form-control form-control-sm","onUpdate:modelValue":a[11]||(a[11]=e=>i.check_list_question=e)},[a[50]||(a[50]=(0,r.Lk)("option",{value:{}},"Select",-1)),((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(i.check_list_questions,((e,a)=>((0,r.uX)(),(0,r.CE)("option",{value:e,key:a},(0,n.v_)(e.parameter_name),9,QVe)))),128))],512),[[s.u1,i.check_list_question]])]),(0,r.Lk)("div",VVe,[a[52]||(a[52]=(0,r.Lk)("label",{class:"form-label"},".",-1)),(0,r.Lk)("button",{class:"btn btn-sm btn-outline-primary form-control",onClick:a[12]||(a[12]=e=>o.addCheckListQuestion())},"ADD")])])])]),(0,r.Lk)("div",FVe,[(0,r.Lk)("table",UVe,[a[57]||(a[57]=(0,r.Lk)("thead",null,[(0,r.Lk)("tr",null,[(0,r.Lk)("th",{colspan:"5"},[(0,r.Lk)("span",{class:"text-primary"},"Spare Parts List")])]),(0,r.Lk)("tr",{class:"text-center"},[(0,r.Lk)("th",null,"#"),(0,r.Lk)("th",null,"Spare Code"),(0,r.Lk)("th",null,"Name"),(0,r.Lk)("th",null,"Make"),(0,r.Lk)("th",null,"Quantity"),(0,r.Lk)("th",null,"UOM"),(0,r.Lk)("th",{style:{width:"5%"}},"Action")])],-1)),(0,r.Lk)("tbody",null,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(i.spares_list,((e,t)=>((0,r.uX)(),(0,r.CE)("tr",{key:t},[(0,r.Lk)("td",null,(0,n.v_)(t+1),1),(0,r.Lk)("td",null,(0,n.v_)(e.spare_code),1),(0,r.Lk)("td",null,(0,n.v_)(e.spare_name),1),(0,r.Lk)("td",null,(0,n.v_)(e.make),1),a[54]||(a[54]=(0,r.Lk)("td",{style:{width:"10%"}},[(0,r.Lk)("input",{type:"text",value:"1",class:"text form-control form-control-sm"})],-1)),a[55]||(a[55]=(0,r.Lk)("td",{style:{width:"10%"}},[(0,r.Lk)("select",{name:"",id:"",class:"form-control form-control-sm"},[(0,r.Lk)("option",{value:"Units"},"Units"),(0,r.Lk)("option",{value:"Units"},"Kg"),(0,r.Lk)("option",{value:"Units"},"Ltr")])],-1)),(0,r.Lk)("td",jVe,[(0,r.Lk)("a",{href:"javascript:void(0)",onClick:a=>o.removeSpares(e),class:"text-danger"},a[53]||(a[53]=[(0,r.Lk)("i",{class:"ri-delete-bin-line icon_hgt"},null,-1)]),8,zVe)])])))),128)),a[56]||(a[56]=(0,r.Lk)("tr",null,[(0,r.Lk)("td",{colspan:"8",class:"text-center"},[(0,r.Lk)("span",{class:"text-warning"},"No spares added yet...")])],-1))])])]),(0,r.Lk)("div",WVe,[(0,r.Lk)("table",RVe,[a[60]||(a[60]=(0,r.Lk)("thead",null,[(0,r.Lk)("tr",null,[(0,r.Lk)("th",{colspan:"5"},[(0,r.Lk)("span",{class:"text-primary"},"Check List Questions")])]),(0,r.Lk)("tr",{class:"text-center"},[(0,r.Lk)("th",null,"#"),(0,r.Lk)("th",null,"Parameter Name"),(0,r.Lk)("th",{style:{width:"5%"}},"Action")])],-1)),(0,r.Lk)("tbody",null,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(i.check_list_added,((e,t)=>((0,r.uX)(),(0,r.CE)("tr",{key:t},[(0,r.Lk)("td",null,(0,n.v_)(t+1),1),(0,r.Lk)("td",null,(0,n.v_)(e.parameter_name),1),(0,r.Lk)("td",qVe,[(0,r.Lk)("a",{href:"javascript:void(0)",onClick:a=>o.removeCheckListQuestion(e),class:"text-danger"},a[58]||(a[58]=[(0,r.Lk)("i",{class:"ri-delete-bin-line icon_hgt"},null,-1)]),8,IVe)])])))),128)),a[59]||(a[59]=(0,r.Lk)("tr",null,[(0,r.Lk)("td",{colspan:"6",class:"text-center"},[(0,r.Lk)("span",{class:"text-warning"},"No questions added yet...")])],-1))])])])])]),a[63]||(a[63]=(0,r.Fv)('<div class="card-footer text-end" data-v-301df063><button type="reset" class="btn btn-sm btn-danger me-2" data-v-301df063><i class="ri-close-line icon_hgt" data-v-301df063></i> DISCARD</button><button type="submit" class="btn btn-sm btn-primary" data-v-301df063><i class="ri-save-line icon_hgt" data-v-301df063></i>SUBMIT</button></div>',1))])])])])])}let MVe=t(5751).A;var KVe={components:{Search:MVe},data(){return{plants:[],asset_groups:[],voltages:[],voltage:{color:"#ffffff"},asset:{asset_id:1,plant_id:"",asset_code:"",asset_name:"",asset_group_id:"",voltage_code:"",watt_rating_id:"",frame_type_id:"",mounting_type_id:"",section_id:"",make_id:"",speed_id:"",serial_number:""},kw:"",frame:"",device_code:"",mounting:"",section:"",make:"",speed:"",serial_number:"",spares_available:[{spare_id:1,spare_code:"SC-0001",spare_name:"Bearing",make:"SKS"},{spare_id:2,spare_code:"SC-0002",spare_name:"Slip Ring",make:"Kirloskar"},{spare_id:3,spare_code:"SC-0003",spare_name:"Bulk Terminal",make:"Zentom"},{spare_id:3,spare_code:"SC-0004",spare_name:"Oil",make:"Castrol"}],spares_list:[],spare:{},check_list_questions:[{check_list_id:1,parameter_name:"Motor is in running condition",response:!1},{check_list_id:2,parameter_name:"Running temperature is in normal range",response:!1},{check_list_id:3,parameter_name:"All parts are well lubricated",response:!1},{check_list_id:4,parameter_name:"Oil viscosity is normal",response:!1},{check_list_id:5,parameter_name:"Overload sensor is working",response:!1},{check_list_id:6,parameter_name:"High voltage/current protection sensor is working",response:!1},{check_list_id:7,parameter_name:"Sound/vibration is normal",response:!1},{check_list_id:8,parameter_name:"Motor IR sensor is working",response:!1},{check_list_id:9,parameter_name:"Bulk terminal is clean and intact",response:!1},{check_list_id:10,parameter_name:"Serial number/QR code is clean and visible",response:!1}],check_list_question:{},check_list_added:[]}},computed:{getComponentCode(){let e=[this.asset.voltage_code,this.kw[0],this.frame,this.mounting[0],this.section[0],this.make[0],this.speed[0],this.serial_number.substring(0,5)];return e.join("-")}},mounted(){},methods:{getPlants(){let e=this,a=this.$loading.show();this.$store.dispatch("post",{uri:"getPlants"}).then((e=>{a.hide(),this.plants=e.data.data,this.getAssetGroups()})).catch((function(t){a.hide(),e.errors=t.response.data.errors,e.$store.dispatch("error",t.response.data.message)}))},getAssetGroups(){let e=this,a=this.$loading.show();this.$store.dispatch("post",{uri:"getAssetGroups"}).then((e=>{a.hide(),this.asset_groups=e.data.data,this.getVoltages()})).catch((function(t){a.hide(),e.errors=t.response.data.errors,e.$store.dispatch("error",t.response.data.message)}))},getVoltages(){let e=this,a=this.$loading.show();this.$store.dispatch("post",{uri:"getVoltages"}).then((e=>{a.hide(),this.voltages=e.data.data})).catch((function(t){a.hide(),e.errors=t.response.data.errors,e.$store.dispatch("error",t.response.data.message)}))},setVoltage(e){this.voltage=this.voltages.find((a=>a.voltage_code==e))},addSpares(){if(!this.spare.spare_id)return;let e=Object.assign({},this.spare);this.spares_list.push(e)},removeSpares(e){let a=this.spares_list.indexOf(e);this.spares_list.splice(a,1)},addCheckListQuestion(){if(!this.check_list_question.check_list_id)return;let e=Object.assign({},this.check_list_question);this.check_list_added.push(e)},removeCheckListQuestion(e){let a=this.check_list_added.indexOf(e);this.check_list_added.splice(a,1)},getColor(){let e="";switch(parseInt(this.voltage[0])){case 1:e="first";break;case 2:e="second";break;case 3:e="third";break;case 4:e="fourth";break;case 5:e="fifth";break;default:break}return e},sparesSelected(e){var a=this.spares_available.filter((e=>e.spare_id==this.spare.spare_id));let t=Object.assign({},a[0]);this.spares_list.push(t),console.log(a)}}};const JVe=(0,Ze.A)(KVe,[["render",NVe],["__scopeId","data-v-301df063"]]);var BVe=JVe;const OVe={class:""},HVe={class:""},YVe={class:""},ZVe={class:"col-sm-12"},GVe={class:"card p-2"},eFe={class:"form-actions-footer"},aFe={class:"text-end"},tFe={class:"col-sm-12"},sFe={class:"card mt-2"},rFe={class:"card-body"},lFe={class:"form-actions-footer"},iFe={class:"text-end row"},oFe={class:"col-sm-2"};function dFe(e,a){const t=(0,r.g2)("router-link");return(0,r.uX)(),(0,r.CE)("div",OVe,[(0,r.Lk)("div",HVe,[(0,r.Lk)("div",YVe,[(0,r.Lk)("div",ZVe,[(0,r.Lk)("div",GVe,[a[3]||(a[3]=(0,r.Fv)('<div class="card-header"><h5>Motor LT</h5></div><div class="card-body"><div class="row"><div class="col-sm-4 mb-2"> Activity Date <span class="text-danger">*</span><input class="form-control" type="date"></div><div class="col-sm-4 mb-2"> Activity Time <span class="text-danger">*</span><input class="form-control" type="time"></div><div class="col-sm-4 mb-2"> Status <span class="text-danger">*</span><select class="form-control"><option value="">Select One</option><option value="Added">Added</option><option value="Removed">Removed</option><option value="Scrapped">Scrapped</option></select></div><div class="col-sm-4 mb-2"> Reason for Removal <span class="text-danger">*</span><select class="form-control"><option value="">Select One</option><option value="Overhauling">Overhauling</option><option value="Damaged">Damaged</option><option value="Rewinding">Rewinding</option><option value="Scrapped">Scrapped</option><option value="Upgrade">Upgrade</option><option value="Not Applicable">Not Applicable</option><option value="Others">Others</option></select></div><div class="col-sm-4 mb-2"> Equipment <select class="form-control"><option value="">Select Equipment</option><option>Conveyor</option></select></div><div class="col-sm-4 mb-2"> Maintenance Cost <input class="form-control" placeholder="Maintenance Cost" type="number"></div><div class="col-sm-12 mb-2"> Note <textarea class="form-control"></textarea></div></div></div>',2)),(0,r.Lk)("div",eFe,[(0,r.Lk)("div",aFe,[(0,r.bF)(t,{to:"/components",class:"btn btn-danger"},{default:(0,r.k6)((()=>a[1]||(a[1]=[(0,r.eW)("Discard")]))),_:1}),a[2]||(a[2]=(0,r.Lk)("button",{type:"button",class:"btn btn-primary ms-1"},"Submit",-1))])])])])]),(0,r.Lk)("div",tFe,[(0,r.Lk)("div",sFe,[a[7]||(a[7]=(0,r.Lk)("div",{class:"card-header"},[(0,r.Lk)("h5",null,"Activities")],-1)),(0,r.Lk)("div",rFe,[a[6]||(a[6]=(0,r.Fv)('<div class="table-responsive"><table class="table table-bordered table-striped"><thead><tr><th>#</th><th>Date</th><th>Time</th><th>Status</th><th class="row">Equipment</th><th>Reason</th><th>Maintenance Cost</th><th class="text-center">Action</th></tr></thead><tbody><tr><td>1</td><td>23-Jul-2023</td><td>11:30 AM</td><td>Removed</td><td>Conveyor</td><td>Grinding sound</td><td>2000</td><td class="text-center"><a href="javascript:void(0)" class="text-danger"><i class="ri-delete-bin-line icon_hgt"></i></a></td></tr><tr><td>2</td><td>24-Jul-2023</td><td>11:30 AM</td><td>Added</td><td>Conveyor</td><td></td><td>2000</td><td class="text-center"><a href="javascript:void(0)" class="text-danger"><i class="ri-delete-bin-line icon_hgt"></i></a></td></tr></tbody></table></div>',1)),(0,r.Lk)("div",lFe,[(0,r.Lk)("div",iFe,[(0,r.Lk)("div",oFe,[(0,r.Lk)("select",{class:"form-control",onChange:a[0]||(a[0]=()=>{})},a[4]||(a[4]=[(0,r.Lk)("option",null,"10",-1),(0,r.Lk)("option",null,"15",-1),(0,r.Lk)("option",null,"20",-1),(0,r.Lk)("option",null,"25",-1),(0,r.Lk)("option",null,"30",-1)]),32)]),a[5]||(a[5]=(0,r.Lk)("div",{class:"col-sm-10"},null,-1))])])])])])])])}const nFe={},cFe=(0,Ze.A)(nFe,[["render",dFe]]);var uFe=cFe;const _Fe={class:""};function pFe(e,a){return(0,r.uX)(),(0,r.CE)("div",_Fe,a[0]||(a[0]=[(0,r.Fv)('<div class="d-sm-flex align-items-center justify-content-between mb-2"><div><h4 class="main-title mb-0">Service Management</h4></div></div><div class="row"><div class="col-12"><div class="card"><div class="card-header"><div class="card-title" style="display:flex;justify-content:space-between;"><div>Asset Name: <span class="text-primary">Motor LT</span></div><div>Asset Code: <span class="text-primary">112M415111167890</span></div><div>Plant: <span class="text-primary">Main Plant</span></div></div></div><div class="card-body"><div class="row"><div class="col-sm-9 mb-3"> Failure Type <span class="text-danger">*</span><input type="text" class="form-control form-control-sm" placeholder="Failure description..."></div><div class="col-sm-3 mb-3"> Problem Date <span class="text-danger">*</span><input type="date" class="form-control form-control-sm"></div><div class="col-sm-6 mb-3"> Reason/Symptom <span class="text-danger">*</span><input type="text" class="form-control form-control-sm" placeholder="Symptom description..."></div><div class="col-sm-6 mb-3"> Action Taken <span class="text-danger">*</span><input type="text" class="form-control form-control-sm" placeholder="Service description"></div><div class="col-sm-3 mb-3"> Vendor Name <span class="text-danger">*</span><input type="text" class="form-control form-control-sm" placeholder="Enter vendor name"></div><div class="col-sm-3 mb-3"> Service Date <span class="text-danger">*</span><input type="date" class="form-control form-control-sm"></div><div class="col-sm-3 mb-3"> Service Cost <span class="text-danger">*</span><input type="text" class="form-control form-control-sm"></div><div class="col-sm-3 mb-3"> Upload Invoice <input type="file" class="form-control form-control-sm"></div><div class="col-sm-12 mb-3"><button class="btn btn-sm btn-primary" style="float:right;">Submit</button><button class="btn btn-sm btn-danger me-2" style="float:right;">Discard</button></div></div></div><div class="card-header"><div class="card-title"> Hired Service History </div></div><div class="card-body"><div class="table-responsive table-responsive-sm"><table class="table table-sm text-nowrap table-bordered mb-0"><thead><tr class="text-center"><th>#</th><th>Problem Date</th><th>Failure Type</th><th>Reason/Symptom</th><th>Action Taken</th><th>Service Date</th><th>Service Cost</th><th>Service Invoice</th><th>Actions</th></tr></thead><tbody><tr><td class="text-center">1</td><td>23-Mar-2023</td><td>Dead, Winding coil burned</td><td>Overload</td><td>Replaced winding</td><td>30-Mar-2024</td><td>10,000</td><td style="text-align:center;"><a href="#" target="_blank" rel="noopener noreferrer">download</a></td><td class="text-center"><a href="javascript:void(0)" class="text-success me-2"><i class="ri-pencil-line icon_hgt"></i></a><a href="javascript:void(0)" class="text-danger"><i class="ri-delete-bin-line icon_hgt"></i></a></td></tr><tr><td class="text-center">2</td><td>20-Dec-2023</td><td>Bearing failure</td><td>Vibration, Grinding Sound</td><td>Replaced Bearings</td><td>30-Dec-2024</td><td>5000</td><td style="text-align:center;"><a href="#" target="_blank" rel="noopener noreferrer">download</a></td><td class="text-center"><a href="javascript:void(0)" class="text-success me-2"><i class="ri-pencil-line icon_hgt"></i></a><a href="javascript:void(0)" class="text-danger"><i class="ri-delete-bin-line icon_hgt"></i></a></td></tr></tbody></table></div></div><div class="card-footer"></div></div></div></div>',2)]))}const mFe={},bFe=(0,Ze.A)(mFe,[["render",pFe]]);var kFe=bFe;const vFe={class:""},hFe={class:"d-sm-flex align-items-center justify-content-between mb-2"},yFe={class:"breadcrumb fs-sm mb-1"},gFe={class:"breadcrumb-item"},fFe={class:"row"},LFe={class:"col-12"},CFe={class:"card"},wFe={class:"card-body mb-3"},EFe={class:"row g-2",style:{"pointer-events":"none"}},xFe={class:"col-md-3"},XFe=["value"],PFe={class:"col-md-3"},$Fe={class:"col-md-3"},SFe={class:"col-md-3"},AFe={class:"col-md-3"},DFe={class:"col-md-3"},TFe={class:"col-md-3"},QFe={class:"col-md-3"},VFe={class:"col-md-3"},FFe={class:"col-md-12 border border-primary rounded text-primary p-2"},UFe={class:"row",style:{"pointer-events":"auto"}},jFe={class:"col-md-5"},zFe={class:"col-md-2"},WFe=["value"],RFe={class:"col-md-2"},qFe={class:"col-md-2"},IFe={class:"col-md-1"},NFe={class:"table-responsive mt-3"},MFe={class:"table table-bordered table-sm"},KFe={class:"text-center",style:{"pointer-events":"auto"}},JFe=["onClick"],BFe={key:1};function OFe(e,a,t,l,i,o){const d=(0,r.g2)("router-link");return(0,r.uX)(),(0,r.CE)("div",vFe,[(0,r.Lk)("div",hFe,[(0,r.Lk)("div",null,[(0,r.Lk)("ol",yFe,[(0,r.Lk)("li",gFe,[(0,r.bF)(d,{to:"/components"},{default:(0,r.k6)((()=>a[13]||(a[13]=[(0,r.eW)("Assets")]))),_:1})]),a[14]||(a[14]=(0,r.Lk)("li",{class:"breadcrumb-item"}," Service History ",-1))])]),(0,r.bF)(d,{to:"/components",type:"submit",class:"btn btn-sm btn-primary",style:{float:"right"}},{default:(0,r.k6)((()=>a[15]||(a[15]=[(0,r.Lk)("i",{class:"ri-list-check"},null,-1),(0,r.eW)(" Assets")]))),_:1})]),(0,r.Lk)("div",fFe,[(0,r.Lk)("div",LFe,[(0,r.Lk)("form",null,[(0,r.Lk)("div",CFe,[a[53]||(a[53]=(0,r.Lk)("div",{class:"card-header d-flex justify-content-between"},[(0,r.Lk)("h5",{class:"my-auto"},"Service Management")],-1)),(0,r.Lk)("div",wFe,[(0,r.Lk)("div",EFe,[a[51]||(a[51]=(0,r.Fv)('<div class="col-md-3" data-v-9ddc6a9a><label class="form-label" data-v-9ddc6a9a>Plant</label><span class="text-danger" data-v-9ddc6a9a> *</span><select class="form-control" data-v-9ddc6a9a><option value="" data-v-9ddc6a9a>Select</option><option selected data-v-9ddc6a9a>Plant</option></select></div>',1)),(0,r.Lk)("div",xFe,[a[16]||(a[16]=(0,r.Lk)("label",{class:"form-label"},"Asset Code",-1)),a[17]||(a[17]=(0,r.Lk)("span",{class:"text-danger"}," *",-1)),(0,r.Lk)("input",{type:"text",disabled:"true",class:(0,n.C4)(["form-control",o.getColor()]),value:o.getComponentCode},null,10,XFe)]),a[52]||(a[52]=(0,r.Fv)('<div class="col-md-3" data-v-9ddc6a9a><label class="form-label" data-v-9ddc6a9a>Asset Name</label><span class="text-danger" data-v-9ddc6a9a> *</span><input type="text" placeholder="Enter component name" class="form-control" value="Motor" data-v-9ddc6a9a></div><div class="col-md-3" data-v-9ddc6a9a><label class="form-label" data-v-9ddc6a9a>Asset Type</label><span class="text-danger" data-v-9ddc6a9a> *</span><select class="form-control" data-v-9ddc6a9a><option value="" data-v-9ddc6a9a>Select Type</option><option selected data-v-9ddc6a9a>LT</option><option data-v-9ddc6a9a>HT</option></select></div><div class="col-md-3" data-v-9ddc6a9a><label class="form-label" data-v-9ddc6a9a>Asset Group</label><span class="text-danger" data-v-9ddc6a9a> *</span><select class="form-control" data-v-9ddc6a9a><option value="" data-v-9ddc6a9a>Select Group</option><option selected data-v-9ddc6a9a>Motor</option><option data-v-9ddc6a9a>Motor</option></select></div>',3)),(0,r.Lk)("div",PFe,[a[19]||(a[19]=(0,r.Lk)("label",{class:"form-label"},"Voltage Rating",-1)),a[20]||(a[20]=(0,r.Lk)("span",{class:"text-danger"}," *",-1)),(0,r.bo)((0,r.Lk)("select",{class:"form-control","onUpdate:modelValue":a[0]||(a[0]=e=>i.voltage=e)},a[18]||(a[18]=[(0,r.Lk)("option",{value:""},"Select Voltage",-1),(0,r.Lk)("option",null,"1. 11000 volts",-1),(0,r.Lk)("option",null,"2. 6600 volts",-1),(0,r.Lk)("option",null,"3. 690 volts",-1),(0,r.Lk)("option",null,"4. 415 volts",-1),(0,r.Lk)("option",null,"5. 230 volts",-1)]),512),[[s.u1,i.voltage]])]),(0,r.Lk)("div",$Fe,[a[22]||(a[22]=(0,r.Lk)("label",{class:"form-label"},"Watt Rating",-1)),a[23]||(a[23]=(0,r.Lk)("span",{class:"text-danger"}," *",-1)),(0,r.bo)((0,r.Lk)("select",{class:"form-control","onUpdate:modelValue":a[1]||(a[1]=e=>i.kw=e)},a[21]||(a[21]=[(0,r.Lk)("option",{value:""},"Select Watt",-1),(0,r.Lk)("option",null,"1. Up to 5.5 KW",-1),(0,r.Lk)("option",null,"2. 7.5 - 22 KW",-1),(0,r.Lk)("option",null,"3. 30 - 110 KW",-1),(0,r.Lk)("option",null,"4. 132 - 250 KW",-1),(0,r.Lk)("option",null,"5. 250 - 500 KW",-1),(0,r.Lk)("option",null,"6. 500 - 1200 KW",-1),(0,r.Lk)("option",null,"7. 1200 - 5500 KW",-1)]),512),[[s.u1,i.kw]])]),(0,r.Lk)("div",SFe,[a[25]||(a[25]=(0,r.Lk)("label",{class:"form-label"},"Frame Type",-1)),a[26]||(a[26]=(0,r.Lk)("span",{class:"text-danger"}," *",-1)),(0,r.bo)((0,r.Lk)("select",{class:"form-control","onUpdate:modelValue":a[2]||(a[2]=e=>i.frame=e)},a[24]||(a[24]=[(0,r.Lk)("option",{value:""},"Select Frame",-1),(0,r.Lk)("option",{value:"2M415"},"xxxxx-63-400",-1),(0,r.Lk)("option",{value:"2M415"},"M/S/L/X",-1)]),512),[[s.u1,i.frame]])]),(0,r.Lk)("div",AFe,[a[28]||(a[28]=(0,r.Lk)("label",{class:"form-label"},"Mounting Type",-1)),a[29]||(a[29]=(0,r.Lk)("span",{class:"text-danger"}," *",-1)),(0,r.bo)((0,r.Lk)("select",{class:"form-control","onUpdate:modelValue":a[3]||(a[3]=e=>i.mounting=e)},a[27]||(a[27]=[(0,r.Lk)("option",{value:""},"Select Mounting",-1),(0,r.Lk)("option",null,"1. B3",-1),(0,r.Lk)("option",null,"2. B5",-1),(0,r.Lk)("option",null,"3. B35",-1),(0,r.Lk)("option",null,"4. V1",-1),(0,r.Lk)("option",null,"5. V3",-1)]),512),[[s.u1,i.mounting]])]),(0,r.Lk)("div",DFe,[a[31]||(a[31]=(0,r.Lk)("label",{class:"form-label"},"Section",-1)),a[32]||(a[32]=(0,r.Lk)("span",{class:"text-danger"}," *",-1)),(0,r.bo)((0,r.Lk)("select",{class:"form-control","onUpdate:modelValue":a[4]||(a[4]=e=>i.section=e)},a[30]||(a[30]=[(0,r.Fv)('<option value="" data-v-9ddc6a9a>Select Section</option><option data-v-9ddc6a9a>1. Packing Plant</option><option data-v-9ddc6a9a>2. Cement Mill</option><option data-v-9ddc6a9a>3. Kiln/PH/ESP</option><option data-v-9ddc6a9a>4. Coal Mill</option><option data-v-9ddc6a9a>5. Rawmill</option><option data-v-9ddc6a9a>6. RMHS</option><option data-v-9ddc6a9a>7. Crusher</option><option data-v-9ddc6a9a>8. Mines</option><option data-v-9ddc6a9a>9. Utility</option><option data-v-9ddc6a9a>A. Misc</option>',11)]),512),[[s.u1,i.section]])]),(0,r.Lk)("div",TFe,[a[34]||(a[34]=(0,r.Lk)("label",{class:"form-label"},"Make",-1)),a[35]||(a[35]=(0,r.Lk)("span",{class:"text-danger"}," *",-1)),(0,r.bo)((0,r.Lk)("select",{class:"form-control","onUpdate:modelValue":a[5]||(a[5]=e=>i.make=e)},a[33]||(a[33]=[(0,r.Lk)("option",{value:""},"Select Make",-1),(0,r.Lk)("option",null,"1. ABB",-1),(0,r.Lk)("option",null,"2. BHEL",-1),(0,r.Lk)("option",null,"3. Seimens",-1),(0,r.Lk)("option",null,"4. SEW",-1),(0,r.Lk)("option",null,"5. EURO Drive",-1),(0,r.Lk)("option",null,"6. BBL",-1),(0,r.Lk)("option",null,"7. CGL",-1),(0,r.Lk)("option",null,"8. Others",-1)]),512),[[s.u1,i.make]])]),(0,r.Lk)("div",QFe,[a[37]||(a[37]=(0,r.Lk)("label",{class:"form-label"},"Speed",-1)),a[38]||(a[38]=(0,r.Lk)("span",{class:"text-danger"}," *",-1)),(0,r.bo)((0,r.Lk)("select",{class:"form-control","onUpdate:modelValue":a[6]||(a[6]=e=>i.speed=e)},a[36]||(a[36]=[(0,r.Lk)("option",{value:""},"Select RPM",-1),(0,r.Lk)("option",null,"1. 2P",-1),(0,r.Lk)("option",null,"2. 4P",-1),(0,r.Lk)("option",null,"3. 6P",-1),(0,r.Lk)("option",null,"4. 8P",-1)]),512),[[s.u1,i.speed]])]),(0,r.Lk)("div",VFe,[a[39]||(a[39]=(0,r.Lk)("label",{class:"form-label"},"Serial Number",-1)),a[40]||(a[40]=(0,r.Lk)("span",{class:"text-danger"}," *",-1)),(0,r.bo)((0,r.Lk)("input",{type:"text",placeholder:"Enter asset serial number",class:"form-control","onUpdate:modelValue":a[7]||(a[7]=e=>i.serial_number=e)},null,512),[[s.Jo,i.serial_number]])]),(0,r.Lk)("div",FFe,[(0,r.Lk)("div",UFe,[(0,r.Lk)("div",jFe,[a[41]||(a[41]=(0,r.Lk)("label",{class:"form-label"},"Symptom/Problem",-1)),(0,r.bo)((0,r.Lk)("input",{class:"form-control form-control-sm","onUpdate:modelValue":a[8]||(a[8]=e=>i.service.symptoms=e),placeholder:"Specify problem...",type:"text"},null,512),[[s.Jo,i.service.symptoms]])]),(0,r.Lk)("div",zFe,[a[43]||(a[43]=(0,r.Lk)("label",{class:"form-label"},"Select Spare Parts",-1)),(0,r.bo)((0,r.Lk)("select",{class:"form-control form-control-sm","onUpdate:modelValue":a[9]||(a[9]=e=>i.spare.spare_id=e)},[a[42]||(a[42]=(0,r.Lk)("option",{value:""},"Select",-1)),((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(i.spares_available,((e,a)=>((0,r.uX)(),(0,r.CE)("option",{value:e.spare_id},(0,n.v_)(e.spare_name),9,WFe)))),256))],512),[[s.u1,i.spare.spare_id]])]),(0,r.Lk)("div",RFe,[a[45]||(a[45]=(0,r.Lk)("label",{class:"form-label"},"Action Taken",-1)),(0,r.bo)((0,r.Lk)("select",{class:"form-control form-control-sm","onUpdate:modelValue":a[10]||(a[10]=e=>i.service.action_taken=e)},a[44]||(a[44]=[(0,r.Lk)("option",{value:""},"Select",-1),(0,r.Lk)("option",{value:"Replaced"},"Replaced",-1),(0,r.Lk)("option",{value:"Repaired"},"Repaired",-1)]),512),[[s.u1,i.service.action_taken]])]),(0,r.Lk)("div",qFe,[a[46]||(a[46]=(0,r.Lk)("label",{class:"form-label"},"Service Date",-1)),(0,r.bo)((0,r.Lk)("input",{type:"date",class:"form-control form-control-sm","onUpdate:modelValue":a[11]||(a[11]=e=>i.service.service_date=e)},null,512),[[s.Jo,i.service.service_date]])]),(0,r.Lk)("div",IFe,[a[47]||(a[47]=(0,r.Lk)("label",{class:"form-label"},"Â ",-1)),(0,r.Lk)("button",{class:"btn btn-sm btn-outline-primary form-control",onClick:a[12]||(a[12]=e=>o.addService())},"ADD")])])]),(0,r.Lk)("div",NFe,[(0,r.Lk)("table",MFe,[a[50]||(a[50]=(0,r.Lk)("thead",null,[(0,r.Lk)("tr",null,[(0,r.Lk)("th",{colspan:"5"},[(0,r.Lk)("span",{class:"text-primary"},"Service History")])]),(0,r.Lk)("tr",{class:"text-center"},[(0,r.Lk)("th",null,"#"),(0,r.Lk)("th",null,"Symptoms/Problems"),(0,r.Lk)("th",null,"Spare Part"),(0,r.Lk)("th",null,"Make"),(0,r.Lk)("th",null,"Action Taken"),(0,r.Lk)("th",null,"Service Date"),(0,r.Lk)("th",null,"Action")])],-1)),(0,r.Lk)("tbody",null,[i.service_history.length?((0,r.uX)(!0),(0,r.CE)(r.FK,{key:0},(0,r.pI)(i.service_history,((e,t)=>((0,r.uX)(),(0,r.CE)("tr",{key:t},[(0,r.Lk)("td",null,(0,n.v_)(t+1),1),(0,r.Lk)("td",null,(0,n.v_)(e.symptoms),1),(0,r.Lk)("td",null,(0,n.v_)(e.spare_part),1),(0,r.Lk)("td",null,(0,n.v_)(e.make),1),(0,r.Lk)("td",null,(0,n.v_)(e.action_taken),1),(0,r.Lk)("td",null,(0,n.v_)(e.service_date),1),(0,r.Lk)("td",KFe,[(0,r.Lk)("a",{href:"javascript:void(0)",onClick:a=>o.removeService(e),class:"text-danger"},a[48]||(a[48]=[(0,r.Lk)("i",{class:"ri-delete-bin-line icon_hgt"},null,-1)]),8,JFe)])])))),128)):((0,r.uX)(),(0,r.CE)("tr",BFe,a[49]||(a[49]=[(0,r.Lk)("td",{colspan:"6",class:"text-center"},[(0,r.Lk)("span",{class:"text-warning"},"No records found ")],-1)])))])])])])]),a[54]||(a[54]=(0,r.Fv)('<div class="card-footer text-end" data-v-9ddc6a9a><button type="reset" class="btn btn-sm btn-danger me-2" data-v-9ddc6a9a><i class="ri-close-line icon_hgt" data-v-9ddc6a9a></i> DISCARD</button><button type="submit" class="btn btn-sm btn-primary" data-v-9ddc6a9a><i class="ri-save-line icon_hgt" data-v-9ddc6a9a></i>SUBMIT</button></div>',1))])])])])])}let HFe=t(5751).A;var YFe={components:{Search:HFe},data(){return{voltage:"1. 11000 volts",kw:"1. Up to 5.5 KW",frame:"2M415",device_code:"",mounting:"1. B3",section:"1. Packing Plant",make:"1. ABB",speed:"1. 2P",serial_number:"67890",service_history:[{service_id:1,symptoms:"Grinding sound with vibration",spare_part:"Bearing",make:"SKS",action_taken:"Replaced",service_date:"2023-02-21"}],spares_available:[{spare_id:1,spare_code:"SC-0001",spare_name:"Bearing",make:"SKS",availability:"Yes"},{spare_id:2,spare_code:"SC-0002",spare_name:"Slip Ring",make:"Kirloskar",availability:"Yes"},{spare_id:3,spare_code:"SC-0003",spare_name:"Bulk Terminal",make:"Zentom",availability:"No"}],spares_list:[],spare:{spare_id:""},service:{service_id:"",symptoms:"",spare_part:"",make:"",action_taken:"",service_date:""}}},computed:{getComponentCode(){let e=[this.voltage[0],this.kw[0],this.frame,this.mounting[0],this.section[0],this.make[0],this.speed[0],this.serial_number.substring(0,5)];return e.join("-")}},methods:{addService(){let e=this.spares_available.find((e=>e.spare_id==this.spare.spare_id)),a=Object.assign({},this.service);a.spare_part=e.spare_name,a.make=e.make,this.service_history.push(a)},removeService(e){let a=this.service_history.indexOf(e);this.service_history.splice(a,1)},getColor(){let e="";switch(parseInt(this.voltage[0])){case 1:e="first";break;case 2:e="second";break;case 3:e="third";break;case 4:e="fourth";break;case 5:e="fifth";break;default:break}return e},sparesSelected(e){var a=this.service_history.filter((e=>e.service_id==this.spare.service_id));let t=Object.assign({},a[0]);this.spares_list.push(t),console.log(a)}}};const ZFe=(0,Ze.A)(YFe,[["render",OFe],["__scopeId","data-v-9ddc6a9a"]]);var GFe=ZFe;const eUe={class:""},aUe={class:"breadcrumb fs-sm mb-1"},tUe={class:"breadcrumb-item"},sUe={class:"row g-2"},rUe={class:"col-4"},lUe={class:"card card-one"},iUe={class:"card-header d-flex justify-content-between"},oUe={key:0,class:"card-title"},dUe={key:1,class:"card-title"},nUe={class:"card-body"},cUe={class:"row g-2"},uUe={class:"col-md-12"},_Ue={key:0,class:"invalid-feedback"},pUe={class:"col-md-12"},mUe={key:0,class:"invalid-feedback"},bUe={class:"card-footer text-end"},kUe={type:"submit",class:"btn btn-primary"},vUe={key:0},hUe={key:1},yUe={class:"card card-one"},gUe={class:"card-body"},fUe={class:"table-responsive table-responsive-sm"},LUe={class:"table table-sm text-nowrap table-striped table-bordered mb-0"},CUe={class:"",style:{"background-color":"#9b9b9b",color:"white"}},wUe={key:0,class:"ri-arrow-up-line"},EUe={key:1,class:"ri-arrow-down-line"},xUe={key:2,class:"fas fa-sort"},XUe={key:0,class:"ri-arrow-up-line"},PUe={key:1,class:"ri-arrow-down-line"},$Ue={key:2,class:"fas fa-sort"},SUe={class:"text-center"},AUe={class:"text-center"},DUe={key:0},TUe={class:"text-center"},QUe={class:"text-center"},VUe={class:"form-switch"},FUe=["id","checked","value","onChange"],UUe=["for"],jUe={class:"text-center"},zUe=["onClick"],WUe={class:"card-footer"},RUe={class:"d-flex justify-content-between align-items-center"};function qUe(e,a,t,l,i,o){const d=(0,r.g2)("router-link"),c=(0,r.g2)("Pagination"),u=(0,r.gN)("can");return(0,r.uX)(),(0,r.CE)("div",eUe,[(0,r.Lk)("div",null,[(0,r.Lk)("ol",aUe,[(0,r.Lk)("li",tUe,[(0,r.bF)(d,{to:"/dashboard"},{default:(0,r.k6)((()=>a[10]||(a[10]=[(0,r.eW)("Dashboard")]))),_:1})]),a[11]||(a[11]=(0,r.Lk)("li",{class:"breadcrumb-item"},[(0,r.Lk)("a",{href:"javascript:void(0)"},"Type Parameters")],-1)),a[12]||(a[12]=(0,r.Lk)("li",{class:"breadcrumb-item active","aria-current":"page"},"Equipment Types",-1))]),a[13]||(a[13]=(0,r.Lk)("h4",{class:"main-title mb-2"},"Equipment Types",-1))]),(0,r.Lk)("div",sUe,[(0,r.bo)(((0,r.uX)(),(0,r.CE)("div",rUe,[(0,r.Lk)("form",{onSubmit:a[3]||(a[3]=(0,s.D$)((e=>o.submitForm()),["prevent"]))},[(0,r.Lk)("div",lUe,[(0,r.Lk)("div",iUe,[i.status?((0,r.uX)(),(0,r.CE)("h6",oUe,"Add Equipment Type")):((0,r.uX)(),(0,r.CE)("h6",dUe,"Update Equipment Type"))]),(0,r.Lk)("div",nUe,[(0,r.Lk)("div",cUe,[(0,r.Lk)("div",uUe,[a[14]||(a[14]=(0,r.Lk)("label",{class:"form-label"},"Equipment Type Code",-1)),a[15]||(a[15]=(0,r.Lk)("span",{class:"text-danger"}," *",-1)),(0,r.bo)((0,r.Lk)("input",{type:"text",placeholder:"Enter Equipment Type Code",class:(0,n.C4)(["form-control",{"is-invalid":i.errors.equipment_type_code}]),"onUpdate:modelValue":a[0]||(a[0]=e=>i.equipment_type.equipment_type_code=e),ref:"equipment_type_code"},null,2),[[s.Jo,i.equipment_type.equipment_type_code]]),i.errors.equipment_type_code?((0,r.uX)(),(0,r.CE)("span",_Ue,(0,n.v_)(i.errors.equipment_type_code[0]),1)):(0,r.Q3)("",!0)]),(0,r.Lk)("div",pUe,[a[16]||(a[16]=(0,r.Lk)("label",{class:"form-label"},"Equipment Type Name",-1)),a[17]||(a[17]=(0,r.Lk)("span",{class:"text-danger"}," *",-1)),(0,r.bo)((0,r.Lk)("input",{type:"text",placeholder:"Enter Equipment Type name",class:(0,n.C4)(["form-control",{"is-invalid":i.errors.equipment_type_name}]),"onUpdate:modelValue":a[1]||(a[1]=e=>i.equipment_type.equipment_type_name=e)},null,2),[[s.Jo,i.equipment_type.equipment_type_name]]),i.errors.equipment_type_name?((0,r.uX)(),(0,r.CE)("span",mUe,(0,n.v_)(i.errors.equipment_type_name[0]),1)):(0,r.Q3)("",!0)])])]),(0,r.Lk)("div",bUe,[(0,r.Lk)("button",{type:"button",class:"btn btn-danger me-2",onClick:a[2]||(a[2]=e=>o.discard())},a[18]||(a[18]=[(0,r.Lk)("i",{class:"ri-close-line fs-18 lh-1"},null,-1),(0,r.eW)(" Discard")])),(0,r.Lk)("button",kUe,[i.status?((0,r.uX)(),(0,r.CE)("span",vUe,a[19]||(a[19]=[(0,r.Lk)("i",{class:"ri-save-line fs-18 lh-1"},null,-1),(0,r.eW)(" Submit")]))):((0,r.uX)(),(0,r.CE)("span",hUe,a[20]||(a[20]=[(0,r.Lk)("i",{class:"ri-save-line fs-18 lh-1"},null,-1),(0,r.eW)(" Update")])))])])])],32)])),[[u,"equipment_types.create"]]),(0,r.Lk)("div",{class:(0,n.C4)(i.column)},[(0,r.Lk)("div",yUe,[a[29]||(a[29]=(0,r.Lk)("div",{class:"card-header d-flex justify-content-between"},[(0,r.Lk)("h6",{class:"card-title"},"Equipment Types")],-1)),(0,r.Lk)("div",gUe,[(0,r.bo)((0,r.Lk)("input",{class:"form-control mb-2",type:"text",placeholder:"Type keyword and press enter key","onUpdate:modelValue":a[4]||(a[4]=e=>i.meta.search=e),onKeypress:a[5]||(a[5]=(0,s.jR)((e=>o.search()),["enter"]))},null,544),[[s.Jo,i.meta.search]]),(0,r.Lk)("div",fUe,[(0,r.Lk)("table",LUe,[(0,r.Lk)("thead",null,[(0,r.Lk)("tr",CUe,[a[25]||(a[25]=(0,r.Lk)("th",{class:"text-center"},"#",-1)),(0,r.Lk)("th",{onClick:a[6]||(a[6]=e=>o.sort("equipment_type_code"))},[a[21]||(a[21]=(0,r.eW)("Equipment Type Code ")),(0,r.Lk)("span",null,["equipment_type_code"==i.meta.keyword&&"asc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",wUe)):"equipment_type_code"==i.meta.keyword&&"desc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",EUe)):((0,r.uX)(),(0,r.CE)("i",xUe))])]),(0,r.Lk)("th",{onClick:a[7]||(a[7]=e=>o.sort("equipment_type_name"))},[a[22]||(a[22]=(0,r.eW)("Equipment Type Name ")),(0,r.Lk)("span",null,["equipment_type_name"==i.meta.keyword&&"asc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",XUe)):"equipment_type_name"==i.meta.keyword&&"desc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",PUe)):((0,r.uX)(),(0,r.CE)("i",$Ue))])]),(0,r.bo)(((0,r.uX)(),(0,r.CE)("th",SUe,a[23]||(a[23]=[(0,r.eW)("Status")]))),[[u,"equipment_types.delete"]]),(0,r.bo)(((0,r.uX)(),(0,r.CE)("th",AUe,a[24]||(a[24]=[(0,r.eW)("Actions")]))),[[u,"equipment_types.update"]])])]),(0,r.Lk)("tbody",null,[0==i.equpment_types.length?((0,r.uX)(),(0,r.CE)("tr",DUe,a[26]||(a[26]=[(0,r.Lk)("td",{colspan:"6",class:"text-center"},"No records found",-1)]))):(0,r.Q3)("",!0),((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(i.equpment_types,((e,t)=>((0,r.uX)(),(0,r.CE)("tr",{key:t},[(0,r.Lk)("td",TUe,(0,n.v_)(i.meta.from+t),1),(0,r.Lk)("td",null,(0,n.v_)(e.equipment_type_code),1),(0,r.Lk)("td",null,(0,n.v_)(e.equipment_type_name),1),(0,r.bo)(((0,r.uX)(),(0,r.CE)("td",QUe,[(0,r.Lk)("div",VUe,[(0,r.Lk)("input",{class:"form-check-input",type:"checkbox",role:"switch",id:"equipment_type"+e.equipment_type_id,checked:e.status,value:e.status,onChange:a=>o.deleteEquipmentType(e)},null,40,FUe),(0,r.Lk)("label",{class:"custom-control-label",for:"equipment_type"+e.equipment_type_id},null,8,UUe)])])),[[u,"equipment_types.delete"]]),(0,r.bo)(((0,r.uX)(),(0,r.CE)("td",jUe,[e.status?((0,r.uX)(),(0,r.CE)("a",{key:0,href:"javascript:void(0)",class:"text-success me-2",onClick:a=>o.editEquipmentType(e)},a[27]||(a[27]=[(0,r.Lk)("i",{class:"ri-pencil-line fs-18 lh-1"},null,-1)]),8,zUe)):(0,r.Q3)("",!0)])),[[u,"equipment_types.update"]])])))),128))])])])]),(0,r.Lk)("div",WUe,[(0,r.Lk)("div",RUe,[(0,r.bo)((0,r.Lk)("select",{class:"form-select from-select-sm width-75","onUpdate:modelValue":a[8]||(a[8]=e=>i.meta.per_page=e),onChange:a[9]||(a[9]=(...e)=>o.onPerPageChange&&o.onPerPageChange(...e))},a[28]||(a[28]=[(0,r.Lk)("option",null,"10",-1),(0,r.Lk)("option",null,"15",-1),(0,r.Lk)("option",null,"20",-1),(0,r.Lk)("option",null,"25",-1),(0,r.Lk)("option",null,"30",-1)]),544),[[s.u1,i.meta.per_page]]),(0,r.Lk)("span",null,"Showing "+(0,n.v_)(i.meta.from)+" to "+(0,n.v_)(i.meta.to)+" of "+(0,n.v_)(i.meta.totalRows)+" entries",1),(0,r.bF)(c,{maxPage:i.meta.maxPage,totalPages:i.meta.lastPage,currentPage:i.meta.page,onPagechanged:o.onPageChange},null,8,["maxPage","totalPages","currentPage","onPagechanged"])])])])],2)])])}var IUe={components:{Pagination:md},data(){return{meta:{search:"",order_by:"desc",keyword:"equipment_type_id",per_page:10,totalRows:0,page:1,lastPage:1,from:1,to:1,maxPage:1,trashed:!1},equpment_types:[],equipment_type:{equipment_type_id:"",equipment_type_code:"",equipment_type_name:"",status:""},status:!0,errors:[],column:"col-8",update:!1}},mounted(){this.create_equipment_types=this.$store.getters.permissions.filter((function(e){return e.ability.ability.includes("equipment_types.create")})),this.create_equipment_types.length?this.column="col-8":this.column="col-12",this.index()},methods:{submitForm(){let e=this;e.status?e.addEquipmentType():e.updateEquipmentType()},index(){let e=this,a=this.$loading.show();this.$store.dispatch("post",{uri:"paginateEquipmentTypes",data:e.meta}).then((t=>{a.hide(),e.equpment_types=t.data.data,e.meta.totalRows=t.data.meta.total,e.meta.from=t.data.meta.from,e.meta.to=t.data.meta.to,e.meta.lastPage=t.data.meta.last_page,e.meta.maxPage=e.meta.lastPage>=3?3:e.meta.lastPage})).catch((function(t){a.hide(),e.errors=t.response.data.errors,e.$store.dispatch("error",t.response.data.message)}))},addEquipmentType(){let e=this,a=this.$loading.show();this.$store.dispatch("post",{uri:"addEquipmentType",data:e.equipment_type}).then((e=>{a.hide(),this.$store.dispatch("success",e.data.message),this.discard(),this.index()})).catch((function(t){a.hide(),e.errors=t.response.data.errors,e.$store.dispatch("error",t.response.data.message)}))},deleteEquipmentType(e){let a=this;e.status=1==e.status?0:1,a.$store.dispatch("post",{uri:"deleteEquipmentType",data:e}).then((function(e){a.$store.dispatch("success",e.data.message),a.index()})).catch((function(e){a.errors=e.response.data.errors,a.$store.dispatch("error",e.response.data.message)}))},editEquipmentType(e){this.equipment_type=e,this.update=!0,this.status=!1},updateEquipmentType(){let e=this,a=this.$loading.show();this.$store.dispatch("post",{uri:"updateEquipmentType",data:this.equipment_type}).then((e=>{a.hide(),this.$store.dispatch("success",e.data.message),this.discard(),this.index()})).catch((function(t){a.hide(),e.errors=t.response.data.errors,e.$store.dispatch("error",t.response.data.message)}))},onPageChange(e){this.meta.page=e,this.index()},sort(e){this.meta.keyword=e,this.meta.order_by="asc"==this.meta.order_by?"desc":"asc",this.index()},discard(){let e=this;e.equipment_type.equipment_type_code="",e.equipment_type.equipment_type_name="",e.$refs.equipment_type_code.focus(),e.errors=[],e.status=!0,e.index()},search(){let e=this;e.meta.page=1,e.index()},onPerPageChange(){let e=this;e.meta.page=1,e.index()}}};const NUe=(0,Ze.A)(IUe,[["render",qUe]]);var MUe=NUe;const KUe={class:""},JUe={class:"breadcrumb fs-sm mb-1"},BUe={class:"breadcrumb-item"},OUe={class:"row g-2"},HUe={class:"col-4"},YUe={class:"card card-one"},ZUe={class:"card-header d-flex justify-content-between"},GUe={key:0,class:"card-title"},eje={key:1,class:"card-title"},aje={class:"card-body"},tje={class:"row g-2"},sje={class:"col-md-12"},rje=["disabled"],lje={key:0,class:"invalid-feedback"},ije={class:"col-md-12"},oje={key:0,class:"invalid-feedback"},dje={class:"card-footer text-end"},nje={type:"submit",class:"btn btn-primary"},cje={key:0},uje={key:1},_je={class:"card card-one"},pje={class:"card-body"},mje={class:"table-responsive table-responsive-sm"},bje={class:"table table-sm text-nowrap table-striped table-bordered mb-0"},kje={class:"",style:{"background-color":"#9b9b9b",color:"white"}},vje={key:0,class:"ri-arrow-up-line"},hje={key:1,class:"ri-arrow-down-line"},yje={key:2,class:"fas fa-sort"},gje={key:0,class:"ri-arrow-up-line"},fje={key:1,class:"ri-arrow-down-line"},Lje={key:2,class:"fas fa-sort"},Cje={class:"text-center"},wje={class:"text-center"},Eje={key:0},xje={class:"text-center"},Xje={class:"text-center"},Pje={class:"form-switch"},$je=["id","checked","value","onChange"],Sje=["for"],Aje={class:"text-center"},Dje=["onClick"],Tje={class:"card-footer"},Qje={class:"d-flex justify-content-between align-items-center"};function Vje(e,a,t,l,i,o){const d=(0,r.g2)("router-link"),c=(0,r.g2)("Pagination"),u=(0,r.gN)("can");return(0,r.uX)(),(0,r.CE)("div",KUe,[(0,r.Lk)("div",null,[(0,r.Lk)("ol",JUe,[(0,r.Lk)("li",BUe,[(0,r.bF)(d,{to:"/dashboard"},{default:(0,r.k6)((()=>a[10]||(a[10]=[(0,r.eW)("Dashboard")]))),_:1})]),a[11]||(a[11]=(0,r.Lk)("li",{class:"breadcrumb-item"},[(0,r.Lk)("a",{href:"javascript:void(0)"},"Type Parameters")],-1)),a[12]||(a[12]=(0,r.Lk)("li",{class:"breadcrumb-item active","aria-current":"page"},"Asset Types",-1))]),a[13]||(a[13]=(0,r.Lk)("h4",{class:"main-title mb-2"},"Asset Types",-1))]),(0,r.Lk)("div",OUe,[(0,r.bo)(((0,r.uX)(),(0,r.CE)("div",HUe,[(0,r.Lk)("form",{onSubmit:a[3]||(a[3]=(0,s.D$)((e=>o.submitForm()),["prevent"]))},[(0,r.Lk)("div",YUe,[(0,r.Lk)("div",ZUe,[i.status?((0,r.uX)(),(0,r.CE)("h6",GUe,"Add Asset Type")):((0,r.uX)(),(0,r.CE)("h6",eje,"Update Asset Type"))]),(0,r.Lk)("div",aje,[(0,r.Lk)("div",tje,[(0,r.Lk)("div",sje,[a[14]||(a[14]=(0,r.Lk)("label",{class:"form-label"},"Asset Type Code",-1)),a[15]||(a[15]=(0,r.Lk)("span",{class:"text-danger"}," *",-1)),(0,r.bo)((0,r.Lk)("input",{type:"text",placeholder:"Enter Asset Type Code",class:(0,n.C4)(["form-control",{"is-invalid":i.errors.asset_type_code}]),"onUpdate:modelValue":a[0]||(a[0]=e=>i.asset_type.asset_type_code=e),ref:"asset_type_code",disabled:!i.status},null,10,rje),[[s.Jo,i.asset_type.asset_type_code]]),i.errors.asset_type_code?((0,r.uX)(),(0,r.CE)("span",lje,(0,n.v_)(i.errors.asset_type_code[0]),1)):(0,r.Q3)("",!0)]),(0,r.Lk)("div",ije,[a[16]||(a[16]=(0,r.Lk)("label",{class:"form-label"},"Asset Type Name",-1)),a[17]||(a[17]=(0,r.Lk)("span",{class:"text-danger"}," *",-1)),(0,r.bo)((0,r.Lk)("input",{type:"text",placeholder:"Enter Asset Type name",class:(0,n.C4)(["form-control",{"is-invalid":i.errors.asset_type_name}]),"onUpdate:modelValue":a[1]||(a[1]=e=>i.asset_type.asset_type_name=e)},null,2),[[s.Jo,i.asset_type.asset_type_name]]),i.errors.asset_type_name?((0,r.uX)(),(0,r.CE)("span",oje,(0,n.v_)(i.errors.asset_type_name[0]),1)):(0,r.Q3)("",!0)])])]),(0,r.Lk)("div",dje,[(0,r.Lk)("button",{type:"button",class:"btn btn-danger me-2",onClick:a[2]||(a[2]=e=>o.discard())},a[18]||(a[18]=[(0,r.Lk)("i",{class:"ri-close-line fs-18 lh-1"},null,-1),(0,r.eW)(" Discard")])),(0,r.Lk)("button",nje,[i.status?((0,r.uX)(),(0,r.CE)("span",cje,a[19]||(a[19]=[(0,r.Lk)("i",{class:"ri-save-line fs-18 lh-1"},null,-1),(0,r.eW)(" Submit")]))):((0,r.uX)(),(0,r.CE)("span",uje,a[20]||(a[20]=[(0,r.Lk)("i",{class:"ri-save-line fs-18 lh-1"},null,-1),(0,r.eW)(" Update")])))])])])],32)])),[[u,"asset_types.create"]]),(0,r.Lk)("div",{class:(0,n.C4)(i.column)},[(0,r.Lk)("div",_je,[a[29]||(a[29]=(0,r.Lk)("div",{class:"card-header d-flex justify-content-between"},[(0,r.Lk)("h6",{class:"card-title"},"Asset Types")],-1)),(0,r.Lk)("div",pje,[(0,r.bo)((0,r.Lk)("input",{class:"form-control mb-2",type:"text",placeholder:"Type keyword and press enter key","onUpdate:modelValue":a[4]||(a[4]=e=>i.meta.search=e),onKeypress:a[5]||(a[5]=(0,s.jR)((e=>o.search()),["enter"]))},null,544),[[s.Jo,i.meta.search]]),(0,r.Lk)("div",mje,[(0,r.Lk)("table",bje,[(0,r.Lk)("thead",null,[(0,r.Lk)("tr",kje,[a[25]||(a[25]=(0,r.Lk)("th",{class:"text-center"},"#",-1)),(0,r.Lk)("th",{onClick:a[6]||(a[6]=e=>o.sort("asset_type_code"))},[a[21]||(a[21]=(0,r.eW)("Asset Type Code ")),(0,r.Lk)("span",null,["asset_type_code"==i.meta.keyword&&"asc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",vje)):"asset_type_code"==i.meta.keyword&&"desc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",hje)):((0,r.uX)(),(0,r.CE)("i",yje))])]),(0,r.Lk)("th",{onClick:a[7]||(a[7]=e=>o.sort("asset_type_name"))},[a[22]||(a[22]=(0,r.eW)("Asset Type Name ")),(0,r.Lk)("span",null,["asset_type_name"==i.meta.keyword&&"asc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",gje)):"asset_type_name"==i.meta.keyword&&"desc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",fje)):((0,r.uX)(),(0,r.CE)("i",Lje))])]),(0,r.bo)(((0,r.uX)(),(0,r.CE)("th",Cje,a[23]||(a[23]=[(0,r.eW)("Status")]))),[[u,"asset_types.delete"]]),(0,r.bo)(((0,r.uX)(),(0,r.CE)("th",wje,a[24]||(a[24]=[(0,r.eW)("Actions")]))),[[u,"asset_types.update"]])])]),(0,r.Lk)("tbody",null,[0==i.asset_types.length?((0,r.uX)(),(0,r.CE)("tr",Eje,a[26]||(a[26]=[(0,r.Lk)("td",{colspan:"6",class:"text-center"},"No records found",-1)]))):(0,r.Q3)("",!0),((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(i.asset_types,((e,t)=>((0,r.uX)(),(0,r.CE)("tr",{key:t},[(0,r.Lk)("td",xje,(0,n.v_)(i.meta.from+t),1),(0,r.Lk)("td",null,(0,n.v_)(e.asset_type_code),1),(0,r.Lk)("td",null,(0,n.v_)(e.asset_type_name),1),(0,r.bo)(((0,r.uX)(),(0,r.CE)("td",Xje,[(0,r.Lk)("div",Pje,[(0,r.Lk)("input",{class:"form-check-input",type:"checkbox",role:"switch",id:"asset_type"+e.asset_type_id,checked:e.status,value:e.status,onChange:a=>o.deleteAssetType(e)},null,40,$je),(0,r.Lk)("label",{class:"custom-control-label",for:"asset_type"+e.asset_type_id},null,8,Sje)])])),[[u,"asset_types.delete"]]),(0,r.bo)(((0,r.uX)(),(0,r.CE)("td",Aje,[e.status?((0,r.uX)(),(0,r.CE)("a",{key:0,href:"javascript:void(0)",class:"text-success me-2",onClick:a=>o.editAssetType(e)},a[27]||(a[27]=[(0,r.Lk)("i",{class:"ri-pencil-line fs-18 lh-1"},null,-1)]),8,Dje)):(0,r.Q3)("",!0)])),[[u,"asset_types.update"]])])))),128))])])])]),(0,r.Lk)("div",Tje,[(0,r.Lk)("div",Qje,[(0,r.bo)((0,r.Lk)("select",{class:"form-select from-select-sm width-75","onUpdate:modelValue":a[8]||(a[8]=e=>i.meta.per_page=e),onChange:a[9]||(a[9]=(...e)=>o.onPerPageChange&&o.onPerPageChange(...e))},a[28]||(a[28]=[(0,r.Lk)("option",null,"10",-1),(0,r.Lk)("option",null,"15",-1),(0,r.Lk)("option",null,"20",-1),(0,r.Lk)("option",null,"25",-1),(0,r.Lk)("option",null,"30",-1)]),544),[[s.u1,i.meta.per_page]]),(0,r.Lk)("span",null,"Showing "+(0,n.v_)(i.meta.from)+" to "+(0,n.v_)(i.meta.to)+" of "+(0,n.v_)(i.meta.totalRows)+" entries",1),(0,r.bF)(c,{maxPage:i.meta.maxPage,totalPages:i.meta.lastPage,currentPage:i.meta.page,onPagechanged:o.onPageChange},null,8,["maxPage","totalPages","currentPage","onPagechanged"])])])])],2)])])}var Fje={components:{Pagination:md},data(){return{meta:{search:"",order_by:"desc",keyword:"asset_type_id",per_page:10,totalRows:0,page:1,lastPage:1,from:1,to:1,maxPage:1,trashed:!1},asset_types:[],asset_type:{asset_type_id:"",asset_type_code:"",asset_type_name:"",status:""},status:!0,column:"col-8",errors:[]}},mounted(){this.create_asset_type=this.$store.getters.permissions.filter((function(e){return e.ability.ability.includes("asset_types.create")})),this.create_asset_type.length?this.column="col-8":this.column="col-12",this.index(),this.$refs.asset_type_code.focus()},methods:{submitForm(){let e=this;e.status?e.addAssetType():e.updateAssetType()},index(){let e=this,a=e.$loading.show();e.$store.dispatch("post",{uri:"paginateAssetTypes",data:e.meta}).then((t=>{a.hide(),e.asset_types=t.data.data,e.meta.totalRows=t.data.meta.total,e.meta.from=t.data.meta.from,e.meta.to=t.data.meta.to,e.meta.lastPage=t.data.meta.last_page,e.meta.maxPage=e.meta.lastPage>=3?3:e.meta.lastPage})).catch((function(t){a.hide(),e.errors=t.response.data.errors,e.$store.dispatch("error",t.response.data.message)}))},addAssetType(){let e=this,a=e.$loading.show();e.$store.dispatch("post",{uri:"addAssetType",data:e.asset_type}).then((t=>{a.hide(),e.$store.dispatch("success",t.data.message),e.discard(),e.index()})).catch((function(t){a.hide(),e.errors=t.response.data.errors,e.$store.dispatch("error",t.response.data.message)}))},deleteAssetType(e){let a=this;e.status=1==e.status?0:1,a.$store.dispatch("post",{uri:"deleteAssetType",data:e}).then((function(e){a.$store.dispatch("success",e.data.message),a.index()})).catch((function(e){a.errors=e.response.data.errors,a.$store.dispatch("error",e.response.data.message)}))},editAssetType(e){this.asset_type=e,this.update=!0,this.status=!1,this.$refs.asset_type_code.focus()},updateAssetType(){let e=this,a=e.$loading.show();e.$store.dispatch("post",{uri:"updateAssetType",data:e.asset_type}).then((t=>{a.hide(),e.$store.dispatch("success",t.data.message),e.discard(),e.index()})).catch((function(t){a.hide(),e.errors=t.response.data.errors,e.$store.dispatch("error",t.response.data.message)}))},onPageChange(e){this.meta.page=e,this.index()},sort(e){this.meta.keyword=e,this.meta.order_by="asc"==this.meta.order_by?"desc":"asc",this.index()},discard(){let e=this;e.asset_type.asset_type_code="",e.asset_type.asset_type_name="",e.$refs.asset_type_code.focus(),e.errors=[],e.status=!0,e.index()},search(){let e=this;e.meta.page=1,e.index()},onPerPageChange(){let e=this;e.meta.page=1,e.index()}}};const Uje=(0,Ze.A)(Fje,[["render",Vje]]);var jje=Uje;const zje={class:""},Wje={class:"breadcrumb fs-sm mb-1"},Rje={class:"breadcrumb-item"},qje={class:"row g-2"},Ije={class:"col-4"},Nje={class:"card card-one"},Mje={class:"card-header d-flex justify-content-between"},Kje={key:0,class:"card-title"},Jje={key:1,class:"card-title"},Bje={class:"card-body"},Oje={class:"row g-2"},Hje={class:"col-md-12"},Yje=["disabled"],Zje={key:0,class:"invalid-feedback"},Gje={class:"col-md-12"},eze={key:0,class:"invalid-feedback"},aze={class:"card-footer text-end"},tze={type:"submit",class:"btn btn-primary"},sze={key:0},rze={key:1},lze={class:"card card-one"},ize={class:"card-body"},oze={class:"table-responsive table-responsive-sm"},dze={class:"table table-sm text-nowrap table-striped table-bordered mb-0"},nze={class:"",style:{"background-color":"#9b9b9b",color:"white"}},cze={key:0,class:"ri-arrow-up-line"},uze={key:1,class:"ri-arrow-down-line"},_ze={key:2,class:"fas fa-sort"},pze={key:0,class:"ri-arrow-up-line"},mze={key:1,class:"ri-arrow-down-line"},bze={key:2,class:"fas fa-sort"},kze={class:"text-center"},vze={class:"text-center"},hze={key:0},yze={class:"text-center"},gze={class:"text-center"},fze={class:"form-switch"},Lze=["id","checked","value","onChange"],Cze=["for"],wze={class:"text-center"},Eze=["onClick"],xze={class:"card-footer"},Xze={class:"d-flex justify-content-between align-items-center"};function Pze(e,a,t,l,i,o){const d=(0,r.g2)("router-link"),c=(0,r.g2)("Pagination"),u=(0,r.gN)("can");return(0,r.uX)(),(0,r.CE)("div",zje,[(0,r.Lk)("div",null,[(0,r.Lk)("ol",Wje,[(0,r.Lk)("li",Rje,[(0,r.bF)(d,{to:"/dashboard"},{default:(0,r.k6)((()=>a[10]||(a[10]=[(0,r.eW)("Dashboard")]))),_:1})]),a[11]||(a[11]=(0,r.Lk)("li",{class:"breadcrumb-item"},[(0,r.Lk)("a",{href:"javascript:void(0)"},"Type Parameters")],-1)),a[12]||(a[12]=(0,r.Lk)("li",{class:"breadcrumb-item active","aria-current":"page"},"Service Types",-1))]),a[13]||(a[13]=(0,r.Lk)("h4",{class:"main-title mb-2"},"Service Types",-1))]),(0,r.Lk)("div",qje,[(0,r.bo)(((0,r.uX)(),(0,r.CE)("div",Ije,[(0,r.Lk)("form",{onSubmit:a[3]||(a[3]=(0,s.D$)((e=>o.submitForm()),["prevent"]))},[(0,r.Lk)("div",Nje,[(0,r.Lk)("div",Mje,[i.status?((0,r.uX)(),(0,r.CE)("h6",Kje,"Add Service Type")):((0,r.uX)(),(0,r.CE)("h6",Jje,"Update Service Type"))]),(0,r.Lk)("div",Bje,[(0,r.Lk)("div",Oje,[(0,r.Lk)("div",Hje,[a[14]||(a[14]=(0,r.Lk)("label",{class:"form-label"},"Service Type Code",-1)),a[15]||(a[15]=(0,r.Lk)("span",{class:"text-danger"}," *",-1)),(0,r.bo)((0,r.Lk)("input",{type:"text",placeholder:"Enter Service Type Code",class:(0,n.C4)(["form-control",{"is-invalid":i.errors.service_type_code}]),"onUpdate:modelValue":a[0]||(a[0]=e=>i.service_type.service_type_code=e),ref:"service_type_code",disabled:!i.status},null,10,Yje),[[s.Jo,i.service_type.service_type_code]]),i.errors.service_type_code?((0,r.uX)(),(0,r.CE)("span",Zje,(0,n.v_)(i.errors.service_type_code[0]),1)):(0,r.Q3)("",!0)]),(0,r.Lk)("div",Gje,[a[16]||(a[16]=(0,r.Lk)("label",{class:"form-label"},"Service Type Name",-1)),a[17]||(a[17]=(0,r.Lk)("span",{class:"text-danger"}," *",-1)),(0,r.bo)((0,r.Lk)("input",{type:"text",placeholder:"Enter Service Type name",class:(0,n.C4)(["form-control",{"is-invalid":i.errors.service_type_name}]),"onUpdate:modelValue":a[1]||(a[1]=e=>i.service_type.service_type_name=e)},null,2),[[s.Jo,i.service_type.service_type_name]]),i.errors.service_type_name?((0,r.uX)(),(0,r.CE)("span",eze,(0,n.v_)(i.errors.service_type_name[0]),1)):(0,r.Q3)("",!0)])])]),(0,r.Lk)("div",aze,[(0,r.Lk)("button",{type:"button",class:"btn btn-danger me-2",onClick:a[2]||(a[2]=e=>o.discard())},a[18]||(a[18]=[(0,r.Lk)("i",{class:"ri-close-line fs-18 lh-1"},null,-1),(0,r.eW)(" Discard")])),(0,r.Lk)("button",tze,[i.status?((0,r.uX)(),(0,r.CE)("span",sze,a[19]||(a[19]=[(0,r.Lk)("i",{class:"ri-save-line fs-18 lh-1"},null,-1),(0,r.eW)(" Submit")]))):((0,r.uX)(),(0,r.CE)("span",rze,a[20]||(a[20]=[(0,r.Lk)("i",{class:"ri-save-line fs-18 lh-1"},null,-1),(0,r.eW)(" Update")])))])])])],32)])),[[u,"service_types.create"]]),(0,r.Lk)("div",{class:(0,n.C4)(i.column)},[(0,r.Lk)("div",lze,[a[29]||(a[29]=(0,r.Lk)("div",{class:"card-header d-flex justify-content-between"},[(0,r.Lk)("h6",{class:"card-title"},"Service Types")],-1)),(0,r.Lk)("div",ize,[(0,r.bo)((0,r.Lk)("input",{class:"form-control mb-2",type:"text",placeholder:"Type keyword and press enter key","onUpdate:modelValue":a[4]||(a[4]=e=>i.meta.search=e),onKeypress:a[5]||(a[5]=(0,s.jR)((e=>o.search()),["enter"]))},null,544),[[s.Jo,i.meta.search]]),(0,r.Lk)("div",oze,[(0,r.Lk)("table",dze,[(0,r.Lk)("thead",null,[(0,r.Lk)("tr",nze,[a[25]||(a[25]=(0,r.Lk)("th",{class:"text-center"},"#",-1)),(0,r.Lk)("th",{onClick:a[6]||(a[6]=e=>o.sort("service_type_code"))},[a[21]||(a[21]=(0,r.eW)("Service Type Code ")),(0,r.Lk)("span",null,["service_type_code"==i.meta.keyword&&"asc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",cze)):"service_type_code"==i.meta.keyword&&"desc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",uze)):((0,r.uX)(),(0,r.CE)("i",_ze))])]),(0,r.Lk)("th",{onClick:a[7]||(a[7]=e=>o.sort("service_type_name"))},[a[22]||(a[22]=(0,r.eW)("Service Type Name ")),(0,r.Lk)("span",null,["service_type_name"==i.meta.keyword&&"asc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",pze)):"service_type_name"==i.meta.keyword&&"desc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",mze)):((0,r.uX)(),(0,r.CE)("i",bze))])]),(0,r.bo)(((0,r.uX)(),(0,r.CE)("th",kze,a[23]||(a[23]=[(0,r.eW)("Status")]))),[[u,"service_types.delete"]]),(0,r.bo)(((0,r.uX)(),(0,r.CE)("th",vze,a[24]||(a[24]=[(0,r.eW)("Actions")]))),[[u,"service_types.update"]])])]),(0,r.Lk)("tbody",null,[0==i.service_types.length?((0,r.uX)(),(0,r.CE)("tr",hze,a[26]||(a[26]=[(0,r.Lk)("td",{colspan:"6",class:"text-center"},"No records found",-1)]))):(0,r.Q3)("",!0),((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(i.service_types,((e,t)=>((0,r.uX)(),(0,r.CE)("tr",{key:t},[(0,r.Lk)("td",yze,(0,n.v_)(i.meta.from+t),1),(0,r.Lk)("td",null,(0,n.v_)(e.service_type_code),1),(0,r.Lk)("td",null,(0,n.v_)(e.service_type_name),1),(0,r.bo)(((0,r.uX)(),(0,r.CE)("td",gze,[(0,r.Lk)("div",fze,[(0,r.Lk)("input",{class:"form-check-input",type:"checkbox",role:"switch",id:"service_type"+e.service_type_id,checked:e.status,value:e.status,onChange:a=>o.deleteServiceType(e)},null,40,Lze),(0,r.Lk)("label",{class:"custom-control-label",for:"service_type"+e.service_type_id},null,8,Cze)])])),[[u,"service_types.delete"]]),(0,r.bo)(((0,r.uX)(),(0,r.CE)("td",wze,[e.status?((0,r.uX)(),(0,r.CE)("a",{key:0,href:"javascript:void(0)",class:"text-success me-2",onClick:a=>o.editServiceType(e)},a[27]||(a[27]=[(0,r.Lk)("i",{class:"ri-pencil-line fs-18 lh-1"},null,-1)]),8,Eze)):(0,r.Q3)("",!0)])),[[u,"service_types.update"]])])))),128))])])])]),(0,r.Lk)("div",xze,[(0,r.Lk)("div",Xze,[(0,r.bo)((0,r.Lk)("select",{class:"form-select from-select-sm width-75","onUpdate:modelValue":a[8]||(a[8]=e=>i.meta.per_page=e),onChange:a[9]||(a[9]=(...e)=>o.onPerPageChange&&o.onPerPageChange(...e))},a[28]||(a[28]=[(0,r.Lk)("option",null,"10",-1),(0,r.Lk)("option",null,"15",-1),(0,r.Lk)("option",null,"20",-1),(0,r.Lk)("option",null,"25",-1),(0,r.Lk)("option",null,"30",-1)]),544),[[s.u1,i.meta.per_page]]),(0,r.Lk)("span",null,"Showing "+(0,n.v_)(i.meta.from)+" to "+(0,n.v_)(i.meta.to)+" of "+(0,n.v_)(i.meta.totalRows)+" entries",1),(0,r.bF)(c,{maxPage:i.meta.maxPage,totalPages:i.meta.lastPage,currentPage:i.meta.page,onPagechanged:o.onPageChange},null,8,["maxPage","totalPages","currentPage","onPagechanged"])])])])],2)])])}var $ze={components:{Pagination:md},data(){return{column:"col-8",meta:{search:"",order_by:"desc",keyword:"service_type_id",per_page:10,totalRows:0,page:1,lastPage:1,from:1,to:1,maxPage:1,trashed:!1},service_types:[],service_type:{service_type_id:"",service_type_code:"",service_type_name:"",status:""},status:!0,errors:[]}},mounted(){this.create_service_type=this.$store.getters.permissions.filter((function(e){return e.ability.ability.includes("service_types.create")})),this.create_service_type.length?this.column="col-8":this.column="col-12",this.index(),this.$refs.service_type_code.focus()},methods:{submitForm(){let e=this;e.status?e.addServiceType():e.updateServiceType()},index(){let e=this,a=e.$loading.show();e.$store.dispatch("post",{uri:"paginateServiceTypes",data:e.meta}).then((t=>{a.hide(),e.service_types=t.data.data,e.meta.totalRows=t.data.meta.total,e.meta.from=t.data.meta.from,e.meta.to=t.data.meta.to,e.meta.lastPage=t.data.meta.last_page,e.meta.maxPage=e.meta.lastPage>=3?3:e.meta.lastPage})).catch((function(t){a.hide(),e.errors=t.response.data.errors,e.$store.dispatch("error",t.response.data.message)}))},addServiceType(){let e=this,a=e.$loading.show();e.$store.dispatch("post",{uri:"addServiceType",data:e.service_type}).then((t=>{a.hide(),e.$store.dispatch("success",t.data.message),e.discard(),e.index()})).catch((function(t){a.hide(),e.errors=t.response.data.errors,e.$store.dispatch("error",t.response.data.message)}))},deleteServiceType(e){let a=this;e.status=1==e.status?0:1,a.$store.dispatch("post",{uri:"deleteServiceType",data:e}).then((function(e){a.$store.dispatch("success",e.data.message),a.index()})).catch((function(e){a.errors=e.response.data.errors,a.$store.dispatch("error",e.response.data.message)}))},editServiceType(e){this.service_type=e,this.status=!1,this.$refs.service_type_code.focus()},updateServiceType(){let e=this,a=e.$loading.show();e.$store.dispatch("post",{uri:"updateServiceType",data:e.service_type}).then((t=>{a.hide(),e.$store.dispatch("success",t.data.message),e.discard(),e.index()})).catch((function(t){a.hide(),e.errors=t.response.data.errors,e.$store.dispatch("error",t.response.data.message)}))},onPageChange(e){this.meta.page=e,this.index()},sort(e){this.meta.keyword=e,this.meta.order_by="asc"==this.meta.order_by?"desc":"asc",this.index()},discard(){let e=this;e.service_type.service_type_code="",e.service_type.service_type_name="",e.$refs.service_type_code.focus(),e.errors=[],e.status=!0,e.index()},search(){let e=this;e.meta.page=1,e.index()},onPerPageChange(){let e=this;e.meta.page=1,e.index()}}};const Sze=(0,Ze.A)($ze,[["render",Pze]]);var Aze=Sze;const Dze={class:""},Tze={class:"breadcrumb fs-sm mb-1"},Qze={class:"breadcrumb-item"},Vze={class:"row g-2"},Fze={class:"col-4"},Uze={class:"card card-one"},jze={class:"card-header d-flex justify-content-between"},zze={key:0,class:"card-title"},Wze={key:1,class:"card-title"},Rze={class:"card-body"},qze={class:"row g-2"},Ize={class:"col-md-12"},Nze=["disabled"],Mze={key:0},Kze={class:"text-danger"},Jze={class:"col-md-12"},Bze={key:0},Oze={class:"text-danger"},Hze={class:"card-footer text-end"},Yze={type:"submit",class:"btn btn-primary"},Zze={key:0},Gze={key:1},eWe={class:"card card-one"},aWe={class:"card-body"},tWe={class:"table-responsive table-responsive-sm"},sWe={class:"table table-sm text-nowrap table-striped table-bordered mb-0"},rWe={style:{"background-color":"#9b9b9b",color:"white"}},lWe={key:0,class:"ri-arrow-up-line"},iWe={key:1,class:"ri-arrow-down-line"},oWe={key:2,class:"fas fa-sort"},dWe={key:0,class:"ri-arrow-up-line"},nWe={key:1,class:"ri-arrow-down-line"},cWe={key:2,class:"fas fa-sort"},uWe={class:"text-center"},_We={class:"text-center"},pWe={key:0},mWe={class:"text-center"},bWe={class:"text-center"},kWe={class:"form-switch"},vWe=["id","checked","value","onChange"],hWe=["for"],yWe={class:"text-center"},gWe=["onClick"],fWe={class:"card-footer"},LWe={class:"d-flex justify-content-between align-items-center"};function CWe(e,a,t,l,i,o){const d=(0,r.g2)("router-link"),c=(0,r.g2)("Pagination"),u=(0,r.gN)("can");return(0,r.uX)(),(0,r.CE)("div",Dze,[(0,r.Lk)("div",null,[(0,r.Lk)("ol",Tze,[(0,r.Lk)("li",Qze,[(0,r.bF)(d,{to:"/dashboard"},{default:(0,r.k6)((()=>a[10]||(a[10]=[(0,r.eW)("Dashboard")]))),_:1})]),a[11]||(a[11]=(0,r.Lk)("li",{class:"breadcrumb-item"},[(0,r.Lk)("a",{href:"javascript:void(0)"},"Type Parameters")],-1)),a[12]||(a[12]=(0,r.Lk)("li",{class:"breadcrumb-item active","aria-current":"page"},"Spare Types",-1))]),a[13]||(a[13]=(0,r.Lk)("h4",{class:"main-title mb-2"},"Spare Types",-1))]),(0,r.Lk)("div",Vze,[(0,r.bo)(((0,r.uX)(),(0,r.CE)("div",Fze,[(0,r.Lk)("form",{onSubmit:a[3]||(a[3]=(0,s.D$)((e=>o.submitForm()),["prevent"]))},[(0,r.Lk)("div",Uze,[(0,r.Lk)("div",jze,[i.status?((0,r.uX)(),(0,r.CE)("h6",zze,"Add Spare Type ")):((0,r.uX)(),(0,r.CE)("h6",Wze,"Update Spare Type "))]),(0,r.Lk)("div",Rze,[(0,r.Lk)("div",qze,[(0,r.Lk)("div",Ize,[a[14]||(a[14]=(0,r.Lk)("label",{class:"form-label"},"Spare Type Code ",-1)),a[15]||(a[15]=(0,r.Lk)("span",{class:"text-danger"}," *",-1)),(0,r.bo)((0,r.Lk)("input",{type:"text",placeholder:"Spare Type Code",class:(0,n.C4)([{"is-invalid":i.errors.spare_type_code},"form-control"]),"onUpdate:modelValue":a[0]||(a[0]=e=>i.spare_type.spare_type_code=e),ref:"spare_type_code",disabled:!i.status},null,10,Nze),[[s.Jo,i.spare_type.spare_type_code]]),i.errors.spare_type_code?((0,r.uX)(),(0,r.CE)("span",Mze,[(0,r.Lk)("small",Kze,(0,n.v_)(i.errors.spare_type_code[0]),1)])):(0,r.Q3)("",!0)]),(0,r.Lk)("div",Jze,[a[16]||(a[16]=(0,r.Lk)("label",{class:"form-label"},"Spare Type Name ",-1)),a[17]||(a[17]=(0,r.Lk)("span",{class:"text-danger"}," *",-1)),(0,r.bo)((0,r.Lk)("input",{type:"text",placeholder:"Spare Type Name ",class:(0,n.C4)([{"is-invalid":i.errors.spare_type_name},"form-control"]),"onUpdate:modelValue":a[1]||(a[1]=e=>i.spare_type.spare_type_name=e),ref:"spare_type_name"},null,2),[[s.Jo,i.spare_type.spare_type_name]]),i.errors.spare_type_name?((0,r.uX)(),(0,r.CE)("span",Bze,[(0,r.Lk)("small",Oze,(0,n.v_)(i.errors.spare_type_name[0]),1)])):(0,r.Q3)("",!0)])])]),(0,r.Lk)("div",Hze,[(0,r.Lk)("button",{type:"button",class:"btn btn-danger me-2",onClick:a[2]||(a[2]=e=>o.discard())},a[18]||(a[18]=[(0,r.Lk)("i",{class:"ri-close-line fs-18 lh-1"},null,-1),(0,r.eW)(" Discard")])),(0,r.Lk)("button",Yze,[i.status?((0,r.uX)(),(0,r.CE)("span",Zze,a[19]||(a[19]=[(0,r.Lk)("i",{class:"ri-save-line fs-18 lh-1"},null,-1),(0,r.eW)(" Submit")]))):((0,r.uX)(),(0,r.CE)("span",Gze,a[20]||(a[20]=[(0,r.Lk)("i",{class:"ri-save-line fs-18 lh-1"},null,-1),(0,r.eW)(" Update")])))])])])],32)])),[[u,"spare_types.create"]]),(0,r.Lk)("div",{class:(0,n.C4)(i.column)},[(0,r.Lk)("div",eWe,[a[29]||(a[29]=(0,r.Lk)("div",{class:"card-header d-flex justify-content-between"},[(0,r.Lk)("h6",{class:"card-title"},"Spare Types")],-1)),(0,r.Lk)("div",aWe,[(0,r.bo)((0,r.Lk)("input",{class:"form-control form-control-sm mb-2",type:"text",placeholder:"Type keyword and press enter key","onUpdate:modelValue":a[4]||(a[4]=e=>i.meta.search=e),onKeypress:a[5]||(a[5]=(0,s.jR)((e=>o.search()),["enter"]))},null,544),[[s.Jo,i.meta.search]]),(0,r.Lk)("div",tWe,[(0,r.Lk)("table",sWe,[(0,r.Lk)("thead",null,[(0,r.Lk)("tr",rWe,[a[25]||(a[25]=(0,r.Lk)("th",{class:"text-center"},"#",-1)),(0,r.Lk)("th",{onClick:a[6]||(a[6]=e=>o.sort("spare_type_code"))},[a[21]||(a[21]=(0,r.eW)("Spare Type Code ")),(0,r.Lk)("span",null,["spare_type_code"==i.meta.keyword&&"asc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",lWe)):"spare_type_code"==i.meta.keyword&&"desc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",iWe)):((0,r.uX)(),(0,r.CE)("i",oWe))])]),(0,r.Lk)("th",{onClick:a[7]||(a[7]=e=>o.sort("spare_type_name"))},[a[22]||(a[22]=(0,r.eW)("Spare Type Name ")),(0,r.Lk)("span",null,["spare_type_name"==i.meta.keyword&&"asc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",dWe)):"spare_type_name"==i.meta.keyword&&"desc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",nWe)):((0,r.uX)(),(0,r.CE)("i",cWe))])]),(0,r.bo)(((0,r.uX)(),(0,r.CE)("th",uWe,a[23]||(a[23]=[(0,r.eW)("Status")]))),[[u,"spare_types.delete"]]),(0,r.bo)(((0,r.uX)(),(0,r.CE)("th",_We,a[24]||(a[24]=[(0,r.eW)("Actions")]))),[[u,"spare_types.update"]])])]),(0,r.Lk)("tbody",null,[0==i.spare_types.length?((0,r.uX)(),(0,r.CE)("tr",pWe,a[26]||(a[26]=[(0,r.Lk)("td",{colspan:"5",class:"text-center"},"No records found",-1)]))):(0,r.Q3)("",!0),((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(i.spare_types,((e,t)=>((0,r.uX)(),(0,r.CE)("tr",{key:t},[(0,r.Lk)("td",mWe,(0,n.v_)(i.meta.from+t),1),(0,r.Lk)("td",null,(0,n.v_)(e.spare_type_code),1),(0,r.Lk)("td",null,(0,n.v_)(e.spare_type_name),1),(0,r.bo)(((0,r.uX)(),(0,r.CE)("td",bWe,[(0,r.Lk)("div",kWe,[(0,r.Lk)("input",{class:"form-check-input",type:"checkbox",role:"switch",id:"spare_type"+e.spare_type_id,checked:e.status,value:e.status,onChange:a=>o.deleteSpareType(e)},null,40,vWe),(0,r.Lk)("label",{class:"custom-control-label",for:"spare_type"+e.spare_type_id},null,8,hWe)])])),[[u,"spare_types.delete"]]),(0,r.bo)(((0,r.uX)(),(0,r.CE)("td",yWe,[e.status?((0,r.uX)(),(0,r.CE)("a",{key:0,href:"javascript:void(0)",class:"text-success",onClick:a=>o.editSpareType(e)},a[27]||(a[27]=[(0,r.Lk)("i",{class:"ri-pencil-line fs-18 lh-1"},null,-1)]),8,gWe)):(0,r.Q3)("",!0)])),[[u,"spare_types.update"]])])))),128))])])])]),(0,r.Lk)("div",fWe,[(0,r.Lk)("div",LWe,[(0,r.bo)((0,r.Lk)("select",{class:"form-select from-select-sm width-75","onUpdate:modelValue":a[8]||(a[8]=e=>i.meta.per_page=e),onChange:a[9]||(a[9]=(...e)=>o.onPerPageChange&&o.onPerPageChange(...e))},a[28]||(a[28]=[(0,r.Lk)("option",null,"10",-1),(0,r.Lk)("option",null,"15",-1),(0,r.Lk)("option",null,"20",-1),(0,r.Lk)("option",null,"25",-1),(0,r.Lk)("option",null,"30",-1)]),544),[[s.u1,i.meta.per_page]]),(0,r.Lk)("span",null,"Showing "+(0,n.v_)(i.meta.from)+" to "+(0,n.v_)(i.meta.to)+" of "+(0,n.v_)(i.meta.totalRows)+" entries",1),(0,r.bF)(c,{maxPage:i.meta.maxPage,totalPages:i.meta.lastPage,currentPage:i.meta.page,onPagechanged:o.onPageChange},null,8,["maxPage","totalPages","currentPage","onPagechanged"])])])])],2)])])}var wWe={components:{Pagination:md},data(){return{column:"col-8",meta:{search:"",order_by:"desc",keyword:"spare_type_id",per_page:10,totalRows:0,page:1,lastPage:1,from:1,to:1,maxPage:1,trashed:!1},spare_types:[],spare_type:{spare_type_id:"",spare_type_code:"",spare_type_name:"",status:""},status:!0,errors:[],update:!1}},mounted(){this.create_spare_type=this.$store.getters.permissions.filter((function(e){return e.ability.ability.includes("spare_types.create")})),this.create_spare_type.length?this.column="col-8":this.column="col-12",this.index(),this.$refs.spare_type_code.focus()},methods:{submitForm(){let e=this;e.status?e.addSpareType():e.updateSpareType()},index(){let e=this,a=e.$loading.show();e.$store.dispatch("post",{uri:"paginateSpareTypes",data:e.meta}).then((t=>{a.hide(),e.spare_types=t.data.data,e.meta.totalRows=t.data.meta.total,e.meta.from=t.data.meta.from,e.meta.to=t.data.meta.to,e.meta.lastPage=t.data.meta.last_page,e.meta.maxPage=e.meta.lastPage>=3?3:e.meta.lastPage})).catch((function(t){a.hide(),e.errors=t.response.data.errors,e.$store.dispatch("error",t.response.data.message)}))},addSpareType(){let e=this,a=e.$loading.show();e.$store.dispatch("post",{uri:"addSpareType",data:e.spare_type}).then((t=>{a.hide(),e.$store.dispatch("success",t.data.message),e.discard()})).catch((function(t){a.hide(),e.errors=t.response.data.errors,e.$store.dispatch("error",t.response.data.message)}))},deleteSpareType(e){let a=this,t=a.$loading.show();e.status=1==e.status?0:1,a.$store.dispatch("post",{uri:"deleteSpareType",data:e}).then((function(e){t.hide(),a.$store.dispatch("success",e.data.message),a.discard()})).catch((function(e){t.hide(),a.errors=e.response.data.errors,a.$store.dispatch("error",e.response.data.message)}))},editSpareType(e){let a=this;a.spare_type=e,a.update=!0,a.status=!1,a.$refs.spare_type_code.focus()},updateSpareType(){let e=this,a=e.$loading.show();e.$store.dispatch("post",{uri:"updateSpareType",data:e.spare_type}).then((t=>{a.hide(),e.$store.dispatch("success",t.data.message),e.discard()})).catch((function(t){a.hide(),e.errors=t.response.data.errors,e.$store.dispatch("error",t.response.data.message)}))},onPageChange(e){this.meta.page=e,this.index()},sort(e){this.meta.keyword=e,this.meta.order_by="asc"==this.meta.order_by?"desc":"asc",this.index()},discard(){let e=this;e.spare_type.spare_type_code="",e.spare_type.spare_type_name="",e.$refs.spare_type_code.focus(),e.errors=[],e.status=!0,e.index()},search(){let e=this;e.meta.page=1,e.index()},onPerPageChange(){let e=this;e.meta.page=1,e.index()}}};const EWe=(0,Ze.A)(wWe,[["render",CWe]]);var xWe=EWe;const XWe={class:""},PWe={class:"breadcrumb fs-sm mb-1"},$We={class:"breadcrumb-item"},SWe={class:"row g-2"},AWe={class:"col-4"},DWe={class:"card card-one"},TWe={class:"card-header d-flex justify-content-between"},QWe={key:0,class:"card-title"},VWe={key:1,class:"card-title"},FWe={class:"card-body"},UWe={class:"row g-2"},jWe={class:"col-md-12"},zWe=["disabled"],WWe={key:0,class:"invalid-feedback"},RWe={class:"col-md-12"},qWe={key:0,class:"invalid-feedback"},IWe={class:"card-footer text-end"},NWe={type:"submit",class:"btn btn-primary"},MWe={key:0},KWe={key:1},JWe={class:"card card-one"},BWe={class:"card-body"},OWe={class:"table-responsive table-responsive-sm"},HWe={class:"table table-sm text-nowrap table-striped table-bordered mb-0"},YWe={class:"",style:{"background-color":"#9b9b9b",color:"white"}},ZWe={key:0,class:"ri-arrow-up-line"},GWe={key:1,class:"ri-arrow-down-line"},eRe={key:2,class:"fas fa-sort"},aRe={key:0,class:"ri-arrow-up-line"},tRe={key:1,class:"ri-arrow-down-line"},sRe={key:2,class:"fas fa-sort"},rRe={class:"text-center"},lRe={class:"text-center"},iRe={key:0},oRe={class:"text-center"},dRe={class:"text-center"},nRe={class:"form-switch"},cRe=["id","checked","value","onChange"],uRe=["for"],_Re={class:"text-center"},pRe=["onClick"],mRe={class:"card-footer"},bRe={class:"d-flex justify-content-between align-items-center"};function kRe(e,a,t,l,i,o){const d=(0,r.g2)("router-link"),c=(0,r.g2)("Pagination"),u=(0,r.gN)("can");return(0,r.uX)(),(0,r.CE)("div",XWe,[(0,r.Lk)("div",null,[(0,r.Lk)("ol",PWe,[(0,r.Lk)("li",$We,[(0,r.bF)(d,{to:"/dashboard"},{default:(0,r.k6)((()=>a[10]||(a[10]=[(0,r.eW)("Dashboard")]))),_:1})]),a[11]||(a[11]=(0,r.Lk)("li",{class:"breadcrumb-item"},[(0,r.Lk)("a",{href:"javascript:void(0)"},"Type Parameters")],-1)),a[12]||(a[12]=(0,r.Lk)("li",{class:"breadcrumb-item active","aria-current":"page"},"Activity Types",-1))]),a[13]||(a[13]=(0,r.Lk)("h4",{class:"main-title mb-2"},"Activity Types",-1))]),(0,r.Lk)("div",SWe,[(0,r.bo)(((0,r.uX)(),(0,r.CE)("div",AWe,[(0,r.Lk)("form",{onSubmit:a[3]||(a[3]=(0,s.D$)((e=>o.submitForm()),["prevent"]))},[(0,r.Lk)("div",DWe,[(0,r.Lk)("div",TWe,[i.status?((0,r.uX)(),(0,r.CE)("h6",QWe,"Add Activity Type")):((0,r.uX)(),(0,r.CE)("h6",VWe,"Update Activity Type"))]),(0,r.Lk)("div",FWe,[(0,r.Lk)("div",UWe,[(0,r.Lk)("div",jWe,[a[14]||(a[14]=(0,r.Lk)("label",{class:"form-label"},"Activity Type Code",-1)),a[15]||(a[15]=(0,r.Lk)("span",{class:"text-danger"}," *",-1)),(0,r.bo)((0,r.Lk)("input",{type:"text",placeholder:"Enter Activity Type Code",class:(0,n.C4)(["form-control",{"is-invalid":i.errors.reason_code}]),"onUpdate:modelValue":a[0]||(a[0]=e=>i.reason.reason_code=e),ref:"reason_code",disabled:!i.status},null,10,zWe),[[s.Jo,i.reason.reason_code]]),i.errors.reason_code?((0,r.uX)(),(0,r.CE)("span",WWe,(0,n.v_)(i.errors.reason_code[0]),1)):(0,r.Q3)("",!0)]),(0,r.Lk)("div",RWe,[a[16]||(a[16]=(0,r.Lk)("label",{class:"form-label"},"Activity Type Name",-1)),a[17]||(a[17]=(0,r.Lk)("span",{class:"text-danger"}," *",-1)),(0,r.bo)((0,r.Lk)("input",{type:"text",placeholder:"Enter Activity Type Name",class:(0,n.C4)(["form-control",{"is-invalid":i.errors.reason_name}]),"onUpdate:modelValue":a[1]||(a[1]=e=>i.reason.reason_name=e)},null,2),[[s.Jo,i.reason.reason_name]]),i.errors.reason_name?((0,r.uX)(),(0,r.CE)("span",qWe,(0,n.v_)(i.errors.reason_name[0]),1)):(0,r.Q3)("",!0)])])]),(0,r.Lk)("div",IWe,[(0,r.Lk)("button",{type:"button",class:"btn btn-danger me-2",onClick:a[2]||(a[2]=e=>o.discard())},a[18]||(a[18]=[(0,r.Lk)("i",{class:"ri-close-line fs-18 lh-1"},null,-1),(0,r.eW)(" Discard")])),(0,r.Lk)("button",NWe,[i.status?((0,r.uX)(),(0,r.CE)("span",MWe,a[19]||(a[19]=[(0,r.Lk)("i",{class:"ri-save-line fs-18 lh-1"},null,-1),(0,r.eW)(" Submit")]))):((0,r.uX)(),(0,r.CE)("span",KWe,a[20]||(a[20]=[(0,r.Lk)("i",{class:"ri-save-line fs-18 lh-1"},null,-1),(0,r.eW)(" Update")])))])])])],32)])),[[u,"activity_types.create"]]),(0,r.Lk)("div",{class:(0,n.C4)(i.column)},[(0,r.Lk)("div",JWe,[a[29]||(a[29]=(0,r.Lk)("div",{class:"card-header d-flex justify-content-between"},[(0,r.Lk)("h6",{class:"card-title"},"Activity types")],-1)),(0,r.Lk)("div",BWe,[(0,r.bo)((0,r.Lk)("input",{class:"form-control mb-2",type:"text",placeholder:"Type keyword and press enter key","onUpdate:modelValue":a[4]||(a[4]=e=>i.meta.search=e),onKeypress:a[5]||(a[5]=(0,s.jR)((e=>o.search()),["enter"]))},null,544),[[s.Jo,i.meta.search]]),(0,r.Lk)("div",OWe,[(0,r.Lk)("table",HWe,[(0,r.Lk)("thead",null,[(0,r.Lk)("tr",YWe,[a[25]||(a[25]=(0,r.Lk)("th",{class:"text-center"},"#",-1)),(0,r.Lk)("th",{onClick:a[6]||(a[6]=e=>o.sort("reason_code"))},[a[21]||(a[21]=(0,r.eW)("Activity Type Code ")),(0,r.Lk)("span",null,["reason_code"==i.meta.keyword&&"asc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",ZWe)):"reason_code"==i.meta.keyword&&"desc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",GWe)):((0,r.uX)(),(0,r.CE)("i",eRe))])]),(0,r.Lk)("th",{onClick:a[7]||(a[7]=e=>o.sort("reason_name"))},[a[22]||(a[22]=(0,r.eW)("Activity Type Name ")),(0,r.Lk)("span",null,["reason_name"==i.meta.keyword&&"asc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",aRe)):"reason_name"==i.meta.keyword&&"desc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",tRe)):((0,r.uX)(),(0,r.CE)("i",sRe))])]),(0,r.bo)(((0,r.uX)(),(0,r.CE)("th",rRe,a[23]||(a[23]=[(0,r.eW)("Status")]))),[[u,"activity_types.delete"]]),(0,r.bo)(((0,r.uX)(),(0,r.CE)("th",lRe,a[24]||(a[24]=[(0,r.eW)("Actions")]))),[[u,"activity_types.update"]])])]),(0,r.Lk)("tbody",null,[0==i.reasons.length?((0,r.uX)(),(0,r.CE)("tr",iRe,a[26]||(a[26]=[(0,r.Lk)("td",{colspan:"6",class:"text-center"},"No records found",-1)]))):(0,r.Q3)("",!0),((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(i.reasons,((e,t)=>((0,r.uX)(),(0,r.CE)("tr",{key:t},[(0,r.Lk)("td",oRe,(0,n.v_)(i.meta.from+t),1),(0,r.Lk)("td",null,(0,n.v_)(e.reason_code),1),(0,r.Lk)("td",null,(0,n.v_)(e.reason_name),1),(0,r.bo)(((0,r.uX)(),(0,r.CE)("td",dRe,[(0,r.Lk)("div",nRe,[(0,r.Lk)("input",{class:"form-check-input",type:"checkbox",role:"switch",id:"reason"+e.reason_id,checked:e.status,value:e.status,onChange:a=>o.deleteReason(e)},null,40,cRe),(0,r.Lk)("label",{class:"custom-control-label",for:"reason"+e.reason_id},null,8,uRe)])])),[[u,"activity_types.delete"]]),(0,r.bo)(((0,r.uX)(),(0,r.CE)("td",_Re,[e.status?((0,r.uX)(),(0,r.CE)("a",{key:0,href:"javascript:void(0)",class:"text-success me-2",onClick:a=>o.editReason(e)},a[27]||(a[27]=[(0,r.Lk)("i",{class:"ri-pencil-line fs-18 lh-1"},null,-1)]),8,pRe)):(0,r.Q3)("",!0)])),[[u,"activity_types.update"]])])))),128))])])])]),(0,r.Lk)("div",mRe,[(0,r.Lk)("div",bRe,[(0,r.bo)((0,r.Lk)("select",{class:"form-select from-select-sm width-75","onUpdate:modelValue":a[8]||(a[8]=e=>i.meta.per_page=e),onChange:a[9]||(a[9]=(...e)=>o.onPerPageChange&&o.onPerPageChange(...e))},a[28]||(a[28]=[(0,r.Lk)("option",null,"10",-1),(0,r.Lk)("option",null,"15",-1),(0,r.Lk)("option",null,"20",-1),(0,r.Lk)("option",null,"25",-1),(0,r.Lk)("option",null,"30",-1)]),544),[[s.u1,i.meta.per_page]]),(0,r.Lk)("span",null,"Showing "+(0,n.v_)(i.meta.from)+" to "+(0,n.v_)(i.meta.to)+" of "+(0,n.v_)(i.meta.totalRows)+" entries",1),(0,r.bF)(c,{maxPage:i.meta.maxPage,totalPages:i.meta.lastPage,currentPage:i.meta.page,onPagechanged:o.onPageChange},null,8,["maxPage","totalPages","currentPage","onPagechanged"])])])])],2)])])}var vRe={components:{Pagination:md},data(){return{column:"col-8",meta:{search:"",order_by:"desc",keyword:"reason_id",per_page:10,totalRows:0,page:1,lastPage:1,from:1,to:1,maxPage:1,trashed:!1},reasons:[],reason:{reason_id:"",reason_code:"",reason_name:"",status:""},status:!0,errors:[],column:"col-8"}},mounted(){this.create_reason=this.$store.getters.permissions.filter((function(e){return e.ability.ability.includes("activity_types.create")})),this.create_reason.length?this.column="col-8":this.column="col-12",this.index(),this.$refs.reason_code.focus()},methods:{submitForm(){let e=this;e.status?e.addReason():e.updateReason()},index(){let e=this,a=e.$loading.show();e.$store.dispatch("post",{uri:"paginateReasons",data:e.meta}).then((t=>{a.hide(),e.reasons=t.data.data,e.meta.totalRows=t.data.meta.total,e.meta.from=t.data.meta.from,e.meta.to=t.data.meta.to,e.meta.lastPage=t.data.meta.last_page,e.meta.maxPage=e.meta.lastPage>=3?3:e.meta.lastPage})).catch((function(t){a.hide(),e.errors=t.response.data.errors,e.$store.dispatch("error",t.response.data.message)}))},addReason(){let e=this,a=e.$loading.show();e.$store.dispatch("post",{uri:"addReason",data:e.reason}).then((t=>{a.hide(),e.$store.dispatch("success",t.data.message),e.discard(),e.index()})).catch((function(t){a.hide(),e.errors=t.response.data.errors,e.$store.dispatch("error",t.response.data.message)}))},deleteReason(e){let a=this;e.status=1==e.status?0:1,a.$store.dispatch("post",{uri:"deleteReason",data:e}).then((function(e){a.$store.dispatch("success",e.data.message),a.index()})).catch((function(e){a.errors=e.response.data.errors,a.$store.dispatch("error",e.response.data.message)}))},editReason(e){this.reason=e,this.status=!1,this.$refs.reason_code.focus()},updateReason(){let e=this,a=e.$loading.show();e.$store.dispatch("post",{uri:"updateReason",data:e.reason}).then((t=>{a.hide(),e.$store.dispatch("success",t.data.message),e.discard()})).catch((function(t){a.hide(),e.errors=t.response.data.errors,e.$store.dispatch("error",t.response.data.message)}))},onPageChange(e){this.meta.page=e,this.index()},sort(e){this.meta.keyword=e,this.meta.order_by="asc"==this.meta.order_by?"desc":"asc",this.index()},discard(){let e=this;e.reason.reason_code="",e.reason.reason_name="",e.$refs.reason_code.focus(),e.errors=[],e.status=!0,e.index()},search(){let e=this;e.meta.page=1,e.index()},onPerPageChange(){let e=this;e.meta.page=1,e.index()}}};const hRe=(0,Ze.A)(vRe,[["render",kRe]]);var yRe=hRe;const gRe={class:""},fRe={class:"breadcrumb fs-sm mb-1"},LRe={class:"breadcrumb-item"},CRe={class:"row g-2"},wRe={class:"col-4"},ERe={class:"card card-one"},xRe={class:"card-header d-flex justify-content-between"},XRe={key:0,class:"card-title"},PRe={key:1,class:"card-title"},$Re={class:"card-body"},SRe={class:"row g-2"},ARe={class:"col-md-12"},DRe=["disabled"],TRe={key:0,class:"invalid-feedback"},QRe={class:"col-md-12"},VRe={key:0,class:"invalid-feedback"},FRe={class:"card-footer text-end"},URe={type:"submit",class:"btn btn-primary"},jRe={key:0},zRe={key:1},WRe={class:"card card-one"},RRe={class:"card-body"},qRe={class:"table-responsive table-responsive-sm"},IRe={class:"table table-sm text-nowrap table-striped table-bordered mb-0"},NRe={class:"",style:{"background-color":"#9b9b9b",color:"white"}},MRe={key:0,class:"ri-arrow-up-line"},KRe={key:1,class:"ri-arrow-down-line"},JRe={key:2,class:"fas fa-sort"},BRe={key:0,class:"ri-arrow-up-line"},ORe={key:1,class:"ri-arrow-down-line"},HRe={key:2,class:"fas fa-sort"},YRe={class:"text-center"},ZRe={class:"text-center"},GRe={key:0},eqe={class:"text-center"},aqe={class:"text-center"},tqe={class:"form-switch"},sqe=["id","checked","value","onChange"],rqe=["for"],lqe={class:"text-center"},iqe=["onClick"],oqe={class:"card-footer"},dqe={class:"d-flex justify-content-between align-items-center"};function nqe(e,a,t,l,i,o){const d=(0,r.g2)("router-link"),c=(0,r.g2)("Pagination"),u=(0,r.gN)("can");return(0,r.uX)(),(0,r.CE)("div",gRe,[(0,r.Lk)("div",null,[(0,r.Lk)("ol",fRe,[(0,r.Lk)("li",LRe,[(0,r.bF)(d,{to:"/dashboard"},{default:(0,r.k6)((()=>a[10]||(a[10]=[(0,r.eW)("Dashboard")]))),_:1})]),a[11]||(a[11]=(0,r.Lk)("li",{class:"breadcrumb-item"},[(0,r.Lk)("a",{href:"javascript:void(0)"},"Type Parameters")],-1)),a[12]||(a[12]=(0,r.Lk)("li",{class:"breadcrumb-item active","aria-current":"page"},"Data Source Types",-1))]),a[13]||(a[13]=(0,r.Lk)("h4",{class:"main-title mb-2"},"Data Source Types",-1))]),(0,r.Lk)("div",CRe,[(0,r.bo)(((0,r.uX)(),(0,r.CE)("div",wRe,[(0,r.Lk)("form",{onSubmit:a[3]||(a[3]=(0,s.D$)((e=>o.submitForm()),["prevent"]))},[(0,r.Lk)("div",ERe,[(0,r.Lk)("div",xRe,[i.status?((0,r.uX)(),(0,r.CE)("h6",XRe,"Add Data Source Type")):((0,r.uX)(),(0,r.CE)("h6",PRe,"Update Data Source Type"))]),(0,r.Lk)("div",$Re,[(0,r.Lk)("div",SRe,[(0,r.Lk)("div",ARe,[a[14]||(a[14]=(0,r.Lk)("label",{class:"form-label"},"Data Source Type Code",-1)),a[15]||(a[15]=(0,r.Lk)("span",{class:"text-danger"}," *",-1)),(0,r.bo)((0,r.Lk)("input",{type:"text",placeholder:"Enter Data Source Type Code",class:(0,n.C4)(["form-control",{"is-invalid":i.errors.data_source_type_code}]),"onUpdate:modelValue":a[0]||(a[0]=e=>i.data_source_type.data_source_type_code=e),ref:"data_source_type_code",disabled:!i.status},null,10,DRe),[[s.Jo,i.data_source_type.data_source_type_code]]),i.errors.data_source_type_code?((0,r.uX)(),(0,r.CE)("span",TRe,(0,n.v_)(i.errors.data_source_type_code[0]),1)):(0,r.Q3)("",!0)]),(0,r.Lk)("div",QRe,[a[16]||(a[16]=(0,r.Lk)("label",{class:"form-label"},"Data Source Type Name",-1)),a[17]||(a[17]=(0,r.Lk)("span",{class:"text-danger"}," *",-1)),(0,r.bo)((0,r.Lk)("input",{type:"text",placeholder:"Enter Data Source Type name",class:(0,n.C4)(["form-control",{"is-invalid":i.errors.data_source_type_name}]),"onUpdate:modelValue":a[1]||(a[1]=e=>i.data_source_type.data_source_type_name=e)},null,2),[[s.Jo,i.data_source_type.data_source_type_name]]),i.errors.data_source_type_name?((0,r.uX)(),(0,r.CE)("span",VRe,(0,n.v_)(i.errors.data_source_type_name[0]),1)):(0,r.Q3)("",!0)])])]),(0,r.Lk)("div",FRe,[(0,r.Lk)("button",{type:"button",class:"btn btn-danger me-2",onClick:a[2]||(a[2]=e=>o.discard())},a[18]||(a[18]=[(0,r.Lk)("i",{class:"ri-close-line fs-18 lh-1"},null,-1),(0,r.eW)(" Discard")])),(0,r.Lk)("button",URe,[i.status?((0,r.uX)(),(0,r.CE)("span",jRe,a[19]||(a[19]=[(0,r.Lk)("i",{class:"ri-save-line fs-18 lh-1"},null,-1),(0,r.eW)(" Submit")]))):((0,r.uX)(),(0,r.CE)("span",zRe,a[20]||(a[20]=[(0,r.Lk)("i",{class:"ri-save-line fs-18 lh-1"},null,-1),(0,r.eW)(" Update")])))])])])],32)])),[[u,"data_source_types.create"]]),(0,r.Lk)("div",{class:(0,n.C4)(i.column)},[(0,r.Lk)("div",WRe,[a[29]||(a[29]=(0,r.Lk)("div",{class:"card-header d-flex justify-content-between"},[(0,r.Lk)("h6",{class:"card-title"},"Data Source Types")],-1)),(0,r.Lk)("div",RRe,[(0,r.bo)((0,r.Lk)("input",{class:"form-control mb-2",type:"text",placeholder:"Type keyword and press enter key","onUpdate:modelValue":a[4]||(a[4]=e=>i.meta.search=e),onKeypress:a[5]||(a[5]=(0,s.jR)((e=>o.search()),["enter"]))},null,544),[[s.Jo,i.meta.search]]),(0,r.Lk)("div",qRe,[(0,r.Lk)("table",IRe,[(0,r.Lk)("thead",null,[(0,r.Lk)("tr",NRe,[a[25]||(a[25]=(0,r.Lk)("th",{class:"text-center"},"#",-1)),(0,r.Lk)("th",{onClick:a[6]||(a[6]=e=>o.sort("data_source_type_code"))},[a[21]||(a[21]=(0,r.eW)("Data Source Type Code ")),(0,r.Lk)("span",null,["data_source_type_code"==i.meta.keyword&&"asc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",MRe)):"data_source_type_code"==i.meta.keyword&&"desc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",KRe)):((0,r.uX)(),(0,r.CE)("i",JRe))])]),(0,r.Lk)("th",{onClick:a[7]||(a[7]=e=>o.sort("data_source_type_name"))},[a[22]||(a[22]=(0,r.eW)("Data Source Type Name ")),(0,r.Lk)("span",null,["data_source_type_name"==i.meta.keyword&&"asc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",BRe)):"data_source_type_name"==i.meta.keyword&&"desc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",ORe)):((0,r.uX)(),(0,r.CE)("i",HRe))])]),(0,r.bo)(((0,r.uX)(),(0,r.CE)("th",YRe,a[23]||(a[23]=[(0,r.eW)("Status")]))),[[u,"data_source_types.delete"]]),(0,r.bo)(((0,r.uX)(),(0,r.CE)("th",ZRe,a[24]||(a[24]=[(0,r.eW)("Actions")]))),[[u,"data_source_types.update"]])])]),(0,r.Lk)("tbody",null,[0==i.data_source_types.length?((0,r.uX)(),(0,r.CE)("tr",GRe,a[26]||(a[26]=[(0,r.Lk)("td",{colspan:"6",class:"text-center"},"No records found",-1)]))):(0,r.Q3)("",!0),((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(i.data_source_types,((e,t)=>((0,r.uX)(),(0,r.CE)("tr",{key:t},[(0,r.Lk)("td",eqe,(0,n.v_)(i.meta.from+t),1),(0,r.Lk)("td",null,(0,n.v_)(e.data_source_type_code),1),(0,r.Lk)("td",null,(0,n.v_)(e.data_source_type_name),1),(0,r.bo)(((0,r.uX)(),(0,r.CE)("td",aqe,[(0,r.Lk)("div",tqe,[(0,r.Lk)("input",{class:"form-check-input",type:"checkbox",role:"switch",id:"data_source_type"+e.data_source_type_id,checked:e.status,value:e.status,onChange:a=>o.deleteDataSourceType(e)},null,40,sqe),(0,r.Lk)("label",{class:"custom-control-label",for:"data_source_type"+e.data_source_type_id},null,8,rqe)])])),[[u,"data_source_types.delete"]]),(0,r.bo)(((0,r.uX)(),(0,r.CE)("td",lqe,[e.status?((0,r.uX)(),(0,r.CE)("a",{key:0,href:"javascript:void(0)",class:"text-success me-2",onClick:a=>o.editDataSourceType(e)},a[27]||(a[27]=[(0,r.Lk)("i",{class:"ri-pencil-line fs-18 lh-1"},null,-1)]),8,iqe)):(0,r.Q3)("",!0)])),[[u,"data_source_types.update"]])])))),128))])])])]),(0,r.Lk)("div",oqe,[(0,r.Lk)("div",dqe,[(0,r.bo)((0,r.Lk)("select",{class:"form-select from-select-sm width-75","onUpdate:modelValue":a[8]||(a[8]=e=>i.meta.per_page=e),onChange:a[9]||(a[9]=(...e)=>o.onPerPageChange&&o.onPerPageChange(...e))},a[28]||(a[28]=[(0,r.Lk)("option",null,"10",-1),(0,r.Lk)("option",null,"15",-1),(0,r.Lk)("option",null,"20",-1),(0,r.Lk)("option",null,"25",-1),(0,r.Lk)("option",null,"30",-1)]),544),[[s.u1,i.meta.per_page]]),(0,r.Lk)("span",null,"Showing "+(0,n.v_)(i.meta.from)+" to "+(0,n.v_)(i.meta.to)+" of "+(0,n.v_)(i.meta.totalRows)+" entries",1),(0,r.bF)(c,{maxPage:i.meta.maxPage,totalPages:i.meta.lastPage,currentPage:i.meta.page,onPagechanged:o.onPageChange},null,8,["maxPage","totalPages","currentPage","onPagechanged"])])])])],2)])])}var cqe={components:{Pagination:md},data(){return{column:"col-8",meta:{search:"",order_by:"desc",keyword:"data_source_type_id",per_page:10,totalRows:0,page:1,lastPage:1,from:1,to:1,maxPage:1,trashed:!1},data_source_types:[],data_source_type:{data_source_type_id:"",data_source_type_code:"",data_source_type_name:"",status:""},status:!0,errors:[]}},mounted(){this.create_data_source_type=this.$store.getters.permissions.filter((function(e){return e.ability.ability.includes("data_source_types.create")})),this.create_data_source_type.length?this.column="col-8":this.column="col-12",this.index(),this.$refs.data_source_type_code.focus()},methods:{submitForm(){let e=this;e.status?e.addDataSourceType():e.updateDataSourceType()},index(){let e=this,a=e.$loading.show();e.$store.dispatch("post",{uri:"paginateDataSourceTypes",data:e.meta}).then((t=>{a.hide(),e.data_source_types=t.data.data,e.meta.totalRows=t.data.meta.total,e.meta.from=t.data.meta.from,e.meta.to=t.data.meta.to,e.meta.lastPage=t.data.meta.last_page,e.meta.maxPage=e.meta.lastPage>=3?3:e.meta.lastPage})).catch((function(t){a.hide(),e.errors=t.response.data.errors,e.$store.dispatch("error",t.response.data.message)}))},addDataSourceType(){let e=this,a=e.$loading.show();e.$store.dispatch("post",{uri:"addDataSourceType",data:e.data_source_type}).then((t=>{a.hide(),e.$store.dispatch("success",t.data.message),e.discard(),e.index()})).catch((function(t){a.hide(),e.errors=t.response.data.errors,e.$store.dispatch("error",t.response.data.message)}))},deleteDataSourceType(e){let a=this;e.status=1==e.status?0:1,a.$store.dispatch("post",{uri:"deleteDataSourceType",data:e}).then((function(e){a.$store.dispatch("success",e.data.message),a.index()})).catch((function(e){a.errors=e.response.data.errors,a.$store.dispatch("error",e.response.data.message)}))},editDataSourceType(e){this.data_source_type=e,this.status=!1,this.$refs.data_source_type_code.focus()},updateDataSourceType(){let e=this,a=e.$loading.show();e.$store.dispatch("post",{uri:"updateDataSourceType",data:e.data_source_type}).then((t=>{a.hide(),e.$store.dispatch("success",t.data.message),e.discard(),e.index()})).catch((function(t){a.hide(),e.errors=t.response.data.errors,e.$store.dispatch("error",t.response.data.message)}))},onPageChange(e){this.meta.page=e,this.index()},sort(e){this.meta.keyword=e,this.meta.order_by="asc"==this.meta.order_by?"desc":"asc",this.index()},discard(){let e=this;e.data_source_type.data_source_type_code="",e.data_source_type.data_source_type_name="",e.$refs.data_source_type_code.focus(),e.errors=[],e.status=!0,e.index()},search(){let e=this;e.meta.page=1,e.index()},onPerPageChange(){let e=this;e.meta.page=1,e.index()}}};const uqe=(0,Ze.A)(cqe,[["render",nqe]]);var _qe=uqe;const pqe={class:""},mqe={class:"breadcrumb fs-sm mb-1"},bqe={class:"breadcrumb-item"},kqe={class:"row g-2"},vqe={class:"col-4"},hqe={class:"card card-one"},yqe={class:"card-header d-flex justify-content-between"},gqe={key:0,class:"card-title"},fqe={key:1,class:"card-title"},Lqe={class:"card-body"},Cqe={class:"row g-2"},wqe={class:"col-md-12"},Eqe=["disabled"],xqe={key:0,class:"invalid-feedback"},Xqe={class:"col-md-12"},Pqe={key:0,class:"invalid-feedback"},$qe={class:"card-footer text-end"},Sqe={type:"submit",class:"btn btn-primary"},Aqe={key:0},Dqe={key:1},Tqe={class:"card card-one"},Qqe={class:"card-body"},Vqe={class:"table-responsive table-responsive-sm"},Fqe={class:"table table-sm text-nowrap table-striped table-bordered mb-0"},Uqe={class:"",style:{"background-color":"#9b9b9b",color:"white"}},jqe={key:0,class:"ri-arrow-up-line"},zqe={key:1,class:"ri-arrow-down-line"},Wqe={key:2,class:"fas fa-sort"},Rqe={key:0,class:"ri-arrow-up-line"},qqe={key:1,class:"ri-arrow-down-line"},Iqe={key:2,class:"fas fa-sort"},Nqe={key:0},Mqe={class:"text-center"},Kqe={class:"text-center"},Jqe={class:"form-switch"},Bqe=["id","checked","value","onChange"],Oqe=["for"],Hqe={class:"text-center"},Yqe=["onClick"],Zqe={class:"card-footer"},Gqe={class:"d-flex justify-content-between align-items-center"};function eIe(e,a,t,l,i,o){const d=(0,r.g2)("router-link"),c=(0,r.g2)("Pagination");return(0,r.uX)(),(0,r.CE)("div",pqe,[(0,r.Lk)("div",null,[(0,r.Lk)("ol",mqe,[(0,r.Lk)("li",bqe,[(0,r.bF)(d,{to:"/dashboard"},{default:(0,r.k6)((()=>a[10]||(a[10]=[(0,r.eW)("Dashboard")]))),_:1})]),a[11]||(a[11]=(0,r.Lk)("li",{class:"breadcrumb-item"},[(0,r.Lk)("a",{href:"javascript:void(0)"},"Type Parameters")],-1)),a[12]||(a[12]=(0,r.Lk)("li",{class:"breadcrumb-item active","aria-current":"page"},"Break Down Types",-1))]),a[13]||(a[13]=(0,r.Lk)("h4",{class:"main-title mb-2"},"Break Down Types",-1))]),(0,r.Lk)("div",kqe,[(0,r.Lk)("div",vqe,[(0,r.Lk)("form",{onSubmit:a[3]||(a[3]=(0,s.D$)((e=>o.submitForm()),["prevent"]))},[(0,r.Lk)("div",hqe,[(0,r.Lk)("div",yqe,[i.status?((0,r.uX)(),(0,r.CE)("h6",gqe,"Add Break Down Type")):((0,r.uX)(),(0,r.CE)("h6",fqe,"Update Break Down Type"))]),(0,r.Lk)("div",Lqe,[(0,r.Lk)("div",Cqe,[(0,r.Lk)("div",wqe,[a[14]||(a[14]=(0,r.Lk)("label",{class:"form-label"},"Break Down Type Code",-1)),a[15]||(a[15]=(0,r.Lk)("span",{class:"text-danger"}," *",-1)),(0,r.bo)((0,r.Lk)("input",{type:"text",placeholder:"Enter Break Down Type Code",class:(0,n.C4)(["form-control",{"is-invalid":i.errors.break_down_type_code}]),"onUpdate:modelValue":a[0]||(a[0]=e=>i.break_down_type.break_down_type_code=e),ref:"break_down_type_code",disabled:!i.status},null,10,Eqe),[[s.Jo,i.break_down_type.break_down_type_code]]),i.errors.break_down_type_code?((0,r.uX)(),(0,r.CE)("span",xqe,(0,n.v_)(i.errors.break_down_type_code[0]),1)):(0,r.Q3)("",!0)]),(0,r.Lk)("div",Xqe,[a[16]||(a[16]=(0,r.Lk)("label",{class:"form-label"},"Break Down Type Name",-1)),a[17]||(a[17]=(0,r.Lk)("span",{class:"text-danger"}," *",-1)),(0,r.bo)((0,r.Lk)("input",{type:"text",placeholder:"Enter Break Down Type name",class:(0,n.C4)(["form-control",{"is-invalid":i.errors.break_down_type_name}]),"onUpdate:modelValue":a[1]||(a[1]=e=>i.break_down_type.break_down_type_name=e)},null,2),[[s.Jo,i.break_down_type.break_down_type_name]]),i.errors.break_down_type_name?((0,r.uX)(),(0,r.CE)("span",Pqe,(0,n.v_)(i.errors.break_down_type_name[0]),1)):(0,r.Q3)("",!0)])])]),(0,r.Lk)("div",$qe,[(0,r.Lk)("button",{type:"button",class:"btn btn-danger me-2",onClick:a[2]||(a[2]=e=>o.discard())},a[18]||(a[18]=[(0,r.Lk)("i",{class:"ri-close-line fs-18 lh-1"},null,-1),(0,r.eW)(" Discard")])),(0,r.Lk)("button",Sqe,[i.status?((0,r.uX)(),(0,r.CE)("span",Aqe,a[19]||(a[19]=[(0,r.Lk)("i",{class:"ri-save-line fs-18 lh-1"},null,-1),(0,r.eW)(" Submit")]))):((0,r.uX)(),(0,r.CE)("span",Dqe,a[20]||(a[20]=[(0,r.Lk)("i",{class:"ri-save-line fs-18 lh-1"},null,-1),(0,r.eW)(" Update")])))])])])],32)]),(0,r.Lk)("div",{class:(0,n.C4)(i.column)},[(0,r.Lk)("div",Tqe,[a[29]||(a[29]=(0,r.Lk)("div",{class:"card-header d-flex justify-content-between"},[(0,r.Lk)("h6",{class:"card-title"},"Break Down Types")],-1)),(0,r.Lk)("div",Qqe,[(0,r.bo)((0,r.Lk)("input",{class:"form-control mb-2",type:"text",placeholder:"Type keyword and press enter key","onUpdate:modelValue":a[4]||(a[4]=e=>i.meta.search=e),onKeypress:a[5]||(a[5]=(0,s.jR)((e=>o.search()),["enter"]))},null,544),[[s.Jo,i.meta.search]]),(0,r.Lk)("div",Vqe,[(0,r.Lk)("table",Fqe,[(0,r.Lk)("thead",null,[(0,r.Lk)("tr",Uqe,[a[23]||(a[23]=(0,r.Lk)("th",{class:"text-center"},"#",-1)),(0,r.Lk)("th",{onClick:a[6]||(a[6]=e=>o.sort("break_down_type_code"))},[a[21]||(a[21]=(0,r.eW)("Break Down Type Code ")),(0,r.Lk)("span",null,["break_down_type_code"==i.meta.keyword&&"asc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",jqe)):"break_down_type_code"==i.meta.keyword&&"desc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",zqe)):((0,r.uX)(),(0,r.CE)("i",Wqe))])]),(0,r.Lk)("th",{onClick:a[7]||(a[7]=e=>o.sort("break_down_type_name"))},[a[22]||(a[22]=(0,r.eW)("Break Down Type Name ")),(0,r.Lk)("span",null,["break_down_type_name"==i.meta.keyword&&"asc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",Rqe)):"break_down_type_name"==i.meta.keyword&&"desc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",qqe)):((0,r.uX)(),(0,r.CE)("i",Iqe))])]),a[24]||(a[24]=(0,r.Lk)("th",{class:"text-center"},"Status",-1)),a[25]||(a[25]=(0,r.Lk)("th",{class:"text-center"},"Actions",-1))])]),(0,r.Lk)("tbody",null,[0==i.break_down_types.length?((0,r.uX)(),(0,r.CE)("tr",Nqe,a[26]||(a[26]=[(0,r.Lk)("td",{colspan:"6",class:"text-center"},"No records found",-1)]))):(0,r.Q3)("",!0),((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(i.break_down_types,((e,t)=>((0,r.uX)(),(0,r.CE)("tr",{key:t},[(0,r.Lk)("td",Mqe,(0,n.v_)(i.meta.from+t),1),(0,r.Lk)("td",null,(0,n.v_)(e.break_down_type_code),1),(0,r.Lk)("td",null,(0,n.v_)(e.break_down_type_name),1),(0,r.Lk)("td",Kqe,[(0,r.Lk)("div",Jqe,[(0,r.Lk)("input",{class:"form-check-input",type:"checkbox",role:"switch",id:"break_down_type"+e.break_down_type_id,checked:e.status,value:e.status,onChange:a=>o.deleteBreakDownType(e)},null,40,Bqe),(0,r.Lk)("label",{class:"custom-control-label",for:"break_down_type"+e.break_down_type_id},null,8,Oqe)])]),(0,r.Lk)("td",Hqe,[e.status?((0,r.uX)(),(0,r.CE)("a",{key:0,href:"javascript:void(0)",class:"text-success me-2",onClick:a=>o.editBreakDownType(e)},a[27]||(a[27]=[(0,r.Lk)("i",{class:"ri-pencil-line fs-18 lh-1"},null,-1)]),8,Yqe)):(0,r.Q3)("",!0)])])))),128))])])])]),(0,r.Lk)("div",Zqe,[(0,r.Lk)("div",Gqe,[(0,r.bo)((0,r.Lk)("select",{class:"form-select from-select-sm width-75","onUpdate:modelValue":a[8]||(a[8]=e=>i.meta.per_page=e),onChange:a[9]||(a[9]=(...e)=>o.onPerPageChange&&o.onPerPageChange(...e))},a[28]||(a[28]=[(0,r.Lk)("option",null,"10",-1),(0,r.Lk)("option",null,"15",-1),(0,r.Lk)("option",null,"20",-1),(0,r.Lk)("option",null,"25",-1),(0,r.Lk)("option",null,"30",-1)]),544),[[s.u1,i.meta.per_page]]),(0,r.Lk)("span",null,"Showing "+(0,n.v_)(i.meta.from)+" to "+(0,n.v_)(i.meta.to)+" of "+(0,n.v_)(i.meta.totalRows)+" entries",1),(0,r.bF)(c,{maxPage:i.meta.maxPage,totalPages:i.meta.lastPage,currentPage:i.meta.page,onPagechanged:o.onPageChange},null,8,["maxPage","totalPages","currentPage","onPagechanged"])])])])],2)])])}var aIe={components:{Pagination:md},data(){return{column:"col-8",meta:{search:"",order_by:"desc",keyword:"break_down_type_id",per_page:10,totalRows:0,page:1,lastPage:1,from:1,to:1,maxPage:1,trashed:!1},break_down_types:[],break_down_type:{break_down_type_id:"",break_down_type_code:"",break_down_type_name:"",status:""},status:!0,errors:[]}},mounted(){this.index(),this.$refs.break_down_type_code.focus()},methods:{submitForm(){let e=this;e.status?e.addBreakDownType():e.updateBreakDownType()},index(){let e=this,a=e.$loading.show();e.$store.dispatch("post",{uri:"paginateBreakDownTypes",data:e.meta}).then((t=>{a.hide(),e.break_down_types=t.data.data,e.meta.totalRows=t.data.meta.total,e.meta.from=t.data.meta.from,e.meta.to=t.data.meta.to,e.meta.lastPage=t.data.meta.last_page,e.meta.maxPage=e.meta.lastPage>=3?3:e.meta.lastPage})).catch((function(t){a.hide(),e.errors=t.response.data.errors,e.$store.dispatch("error",t.response.data.message)}))},addBreakDownType(){let e=this,a=e.$loading.show();e.$store.dispatch("post",{uri:"addBreakDownType",data:e.break_down_type}).then((t=>{a.hide(),e.$store.dispatch("success",t.data.message),e.discard(),e.index()})).catch((function(t){a.hide(),e.errors=t.response.data.errors,e.$store.dispatch("error",t.response.data.message)}))},deleteBreakDownType(e){let a=this;e.status=1==e.status?0:1,a.$store.dispatch("post",{uri:"deleteBreakDownType",data:e}).then((function(e){a.$store.dispatch("success",e.data.message),a.index()})).catch((function(e){a.errors=e.response.data.errors,a.$store.dispatch("error",e.response.data.message)}))},editBreakDownType(e){this.break_down_type=e,this.status=!1,this.$refs.break_down_type_code.focus()},updateBreakDownType(){let e=this,a=e.$loading.show();e.$store.dispatch("post",{uri:"updateBreakDownType",data:e.break_down_type}).then((t=>{a.hide(),e.$store.dispatch("success",t.data.message),e.discard(),e.index()})).catch((function(t){a.hide(),e.errors=t.response.data.errors,e.$store.dispatch("error",t.response.data.message)}))},onPageChange(e){this.meta.page=e,this.index()},sort(e){this.meta.keyword=e,this.meta.order_by="asc"==this.meta.order_by?"desc":"asc",this.index()},discard(){let e=this;e.break_down_type.break_down_type_code="",e.break_down_type.break_down_type_name="",e.$refs.break_down_type_code.focus(),e.errors=[],e.status=!0,e.index()},search(){let e=this;e.meta.page=1,e.index()},onPerPageChange(){let e=this;e.meta.page=1,e.index()}}};const tIe=(0,Ze.A)(aIe,[["render",eIe]]);var sIe=tIe;const rIe={class:""},lIe={class:"breadcrumb fs-sm mb-1"},iIe={class:"breadcrumb-item"},oIe={class:"row g-2"},dIe={class:"col-4"},nIe={class:"card card-one"},cIe={class:"card-header d-flex justify-content-between"},uIe={key:0,class:"card-title"},_Ie={key:1,class:"card-title"},pIe={class:"card-body"},mIe={class:"row g-2"},bIe={class:"col-md-12"},kIe=["disabled"],vIe={key:0,class:"invalid-feedback"},hIe={class:"col-md-12"},yIe={key:0,class:"invalid-feedback"},gIe={class:"card-footer text-end"},fIe={type:"submit",class:"btn btn-primary"},LIe={key:0},CIe={key:1},wIe={class:"card card-one"},EIe={class:"card-body"},xIe={class:"table-responsive table-responsive-sm"},XIe={class:"table table-sm text-nowrap table-striped table-bordered mb-0"},PIe={class:"",style:{"background-color":"#9b9b9b",color:"white"}},$Ie={key:0,class:"ri-arrow-up-line"},SIe={key:1,class:"ri-arrow-down-line"},AIe={key:2,class:"fas fa-sort"},DIe={key:0,class:"ri-arrow-up-line"},TIe={key:1,class:"ri-arrow-down-line"},QIe={key:2,class:"fas fa-sort"},VIe={class:"text-center"},FIe={class:"text-center"},UIe={key:0},jIe={class:"text-center"},zIe={class:"text-center"},WIe={class:"form-switch"},RIe=["id","checked","value","onChange"],qIe=["for"],IIe={class:"text-center"},NIe=["onClick"],MIe={class:"card-footer"},KIe={class:"d-flex justify-content-between align-items-center"};function JIe(e,a,t,l,i,o){const d=(0,r.g2)("router-link"),c=(0,r.g2)("Pagination"),u=(0,r.gN)("can");return(0,r.uX)(),(0,r.CE)("div",rIe,[(0,r.Lk)("div",null,[(0,r.Lk)("ol",lIe,[(0,r.Lk)("li",iIe,[(0,r.bF)(d,{to:"/dashboard"},{default:(0,r.k6)((()=>a[10]||(a[10]=[(0,r.eW)("Dashboard")]))),_:1})]),a[11]||(a[11]=(0,r.Lk)("li",{class:"breadcrumb-item"},[(0,r.Lk)("a",{href:"javascript:void(0)"},"Type Parameters")],-1)),a[12]||(a[12]=(0,r.Lk)("li",{class:"breadcrumb-item active","aria-current":"page"},"Accessory Types",-1))]),a[13]||(a[13]=(0,r.Lk)("h4",{class:"main-title mb-2"},"Accessory Types",-1))]),(0,r.Lk)("div",oIe,[(0,r.bo)(((0,r.uX)(),(0,r.CE)("div",dIe,[(0,r.Lk)("form",{onSubmit:a[3]||(a[3]=(0,s.D$)((e=>o.submitForm()),["prevent"]))},[(0,r.Lk)("div",nIe,[(0,r.Lk)("div",cIe,[i.status?((0,r.uX)(),(0,r.CE)("h6",uIe,"Add Accessory Type")):((0,r.uX)(),(0,r.CE)("h6",_Ie,"Update Accessory Type"))]),(0,r.Lk)("div",pIe,[(0,r.Lk)("div",mIe,[(0,r.Lk)("div",bIe,[a[14]||(a[14]=(0,r.Lk)("label",{class:"form-label"},"Accessory Type Code",-1)),a[15]||(a[15]=(0,r.Lk)("span",{class:"text-danger"}," *",-1)),(0,r.bo)((0,r.Lk)("input",{type:"text",placeholder:"Enter Accessory Type Code",class:(0,n.C4)(["form-control",{"is-invalid":i.errors.accessory_type_code}]),"onUpdate:modelValue":a[0]||(a[0]=e=>i.accessory_type.accessory_type_code=e),ref:"accessory_type_code",disabled:!i.status},null,10,kIe),[[s.Jo,i.accessory_type.accessory_type_code]]),i.errors.accessory_type_code?((0,r.uX)(),(0,r.CE)("span",vIe,(0,n.v_)(i.errors.accessory_type_code[0]),1)):(0,r.Q3)("",!0)]),(0,r.Lk)("div",hIe,[a[16]||(a[16]=(0,r.Lk)("label",{class:"form-label"},"Accessory Type Name",-1)),a[17]||(a[17]=(0,r.Lk)("span",{class:"text-danger"}," *",-1)),(0,r.bo)((0,r.Lk)("input",{type:"text",placeholder:"Enter Accessory Type name",class:(0,n.C4)(["form-control",{"is-invalid":i.errors.accessory_type_name}]),"onUpdate:modelValue":a[1]||(a[1]=e=>i.accessory_type.accessory_type_name=e)},null,2),[[s.Jo,i.accessory_type.accessory_type_name]]),i.errors.accessory_type_name?((0,r.uX)(),(0,r.CE)("span",yIe,(0,n.v_)(i.errors.accessory_type_name[0]),1)):(0,r.Q3)("",!0)])])]),(0,r.Lk)("div",gIe,[(0,r.Lk)("button",{type:"button",class:"btn btn-danger me-2",onClick:a[2]||(a[2]=e=>o.discard())},a[18]||(a[18]=[(0,r.Lk)("i",{class:"ri-close-line fs-18 lh-1"},null,-1),(0,r.eW)(" Discard")])),(0,r.Lk)("button",fIe,[i.status?((0,r.uX)(),(0,r.CE)("span",LIe,a[19]||(a[19]=[(0,r.Lk)("i",{class:"ri-save-line fs-18 lh-1"},null,-1),(0,r.eW)(" Submit")]))):((0,r.uX)(),(0,r.CE)("span",CIe,a[20]||(a[20]=[(0,r.Lk)("i",{class:"ri-save-line fs-18 lh-1"},null,-1),(0,r.eW)(" Update")])))])])])],32)])),[[u,"accessory_types.create"]]),(0,r.Lk)("div",{class:(0,n.C4)(i.column)},[(0,r.Lk)("div",wIe,[a[29]||(a[29]=(0,r.Lk)("div",{class:"card-header d-flex justify-content-between"},[(0,r.Lk)("h6",{class:"card-title"},"Accessory Types")],-1)),(0,r.Lk)("div",EIe,[(0,r.bo)((0,r.Lk)("input",{class:"form-control mb-2",type:"text",placeholder:"Type keyword and press enter key","onUpdate:modelValue":a[4]||(a[4]=e=>i.meta.search=e),onKeypress:a[5]||(a[5]=(0,s.jR)((e=>o.search()),["enter"]))},null,544),[[s.Jo,i.meta.search]]),(0,r.Lk)("div",xIe,[(0,r.Lk)("table",XIe,[(0,r.Lk)("thead",null,[(0,r.Lk)("tr",PIe,[a[25]||(a[25]=(0,r.Lk)("th",{class:"text-center"},"#",-1)),(0,r.Lk)("th",{onClick:a[6]||(a[6]=e=>o.sort("accessory_type_code"))},[a[21]||(a[21]=(0,r.eW)("Accessory Type Code ")),(0,r.Lk)("span",null,["accessory_type_code"==i.meta.keyword&&"asc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",$Ie)):"accessory_type_code"==i.meta.keyword&&"desc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",SIe)):((0,r.uX)(),(0,r.CE)("i",AIe))])]),(0,r.Lk)("th",{onClick:a[7]||(a[7]=e=>o.sort("accessory_type_name"))},[a[22]||(a[22]=(0,r.eW)("Accessory Type Name ")),(0,r.Lk)("span",null,["accessory_type_name"==i.meta.keyword&&"asc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",DIe)):"accessory_type_name"==i.meta.keyword&&"desc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",TIe)):((0,r.uX)(),(0,r.CE)("i",QIe))])]),(0,r.bo)(((0,r.uX)(),(0,r.CE)("th",VIe,a[23]||(a[23]=[(0,r.eW)("Status")]))),[[u,"accessory_types.delete"]]),(0,r.bo)(((0,r.uX)(),(0,r.CE)("th",FIe,a[24]||(a[24]=[(0,r.eW)("Actions")]))),[[u,"accessory_types.update"]])])]),(0,r.Lk)("tbody",null,[0==i.accessory_types.length?((0,r.uX)(),(0,r.CE)("tr",UIe,a[26]||(a[26]=[(0,r.Lk)("td",{colspan:"6",class:"text-center"},"No records found",-1)]))):(0,r.Q3)("",!0),((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(i.accessory_types,((e,t)=>((0,r.uX)(),(0,r.CE)("tr",{key:t},[(0,r.Lk)("td",jIe,(0,n.v_)(i.meta.from+t),1),(0,r.Lk)("td",null,(0,n.v_)(e.accessory_type_code),1),(0,r.Lk)("td",null,(0,n.v_)(e.accessory_type_name),1),(0,r.bo)(((0,r.uX)(),(0,r.CE)("td",zIe,[(0,r.Lk)("div",WIe,[(0,r.Lk)("input",{class:"form-check-input",type:"checkbox",role:"switch",id:"accessory_type"+e.accessory_type_id,checked:e.status,value:e.status,onChange:a=>o.deleteAccessoryType(e)},null,40,RIe),(0,r.Lk)("label",{class:"custom-control-label",for:"accessory_type"+e.accessory_type_id},null,8,qIe)])])),[[u,"accessory_types.delete"]]),(0,r.bo)(((0,r.uX)(),(0,r.CE)("td",IIe,[e.status?((0,r.uX)(),(0,r.CE)("a",{key:0,href:"javascript:void(0)",class:"text-success me-2",onClick:a=>o.editAccessoryType(e)},a[27]||(a[27]=[(0,r.Lk)("i",{class:"ri-pencil-line fs-18 lh-1"},null,-1)]),8,NIe)):(0,r.Q3)("",!0)])),[[u,"accessory_types.update"]])])))),128))])])])]),(0,r.Lk)("div",MIe,[(0,r.Lk)("div",KIe,[(0,r.bo)((0,r.Lk)("select",{class:"form-select from-select-sm width-75","onUpdate:modelValue":a[8]||(a[8]=e=>i.meta.per_page=e),onChange:a[9]||(a[9]=(...e)=>o.onPerPageChange&&o.onPerPageChange(...e))},a[28]||(a[28]=[(0,r.Lk)("option",null,"10",-1),(0,r.Lk)("option",null,"15",-1),(0,r.Lk)("option",null,"20",-1),(0,r.Lk)("option",null,"25",-1),(0,r.Lk)("option",null,"30",-1)]),544),[[s.u1,i.meta.per_page]]),(0,r.Lk)("span",null,"Showing "+(0,n.v_)(i.meta.from)+" to "+(0,n.v_)(i.meta.to)+" of "+(0,n.v_)(i.meta.totalRows)+" entries",1),(0,r.bF)(c,{maxPage:i.meta.maxPage,totalPages:i.meta.lastPage,currentPage:i.meta.page,onPagechanged:o.onPageChange},null,8,["maxPage","totalPages","currentPage","onPagechanged"])])])])],2)])])}var BIe={components:{Pagination:md},data(){return{column:"col-8",meta:{search:"",order_by:"desc",keyword:"accessory_type_id",per_page:10,totalRows:0,page:1,lastPage:1,from:1,to:1,maxPage:1,trashed:!1},accessory_types:[],accessory_type:{accessory_type_id:"",accessory_type_code:"",accessory_type_name:"",status:""},status:!0,errors:[]}},mounted(){this.create_accessory_type=this.$store.getters.permissions.filter((function(e){return e.ability.ability.includes("accessory_types.create")})),this.create_accessory_type.length?this.column="col-8":this.column="col-12",this.index(),this.$refs.accessory_type_code.focus()},methods:{submitForm(){let e=this;e.status?e.addAccessoryType():e.updateAccessoryType()},index(){let e=this,a=e.$loading.show();e.$store.dispatch("post",{uri:"paginateAccessoryTypes",data:e.meta}).then((t=>{a.hide(),e.accessory_types=t.data.data,e.meta.totalRows=t.data.meta.total,e.meta.from=t.data.meta.from,e.meta.to=t.data.meta.to,e.meta.lastPage=t.data.meta.last_page,e.meta.maxPage=e.meta.lastPage>=3?3:e.meta.lastPage})).catch((function(t){a.hide(),e.errors=t.response.data.errors,e.$store.dispatch("error",t.response.data.message)}))},addAccessoryType(){let e=this,a=e.$loading.show();e.$store.dispatch("post",{uri:"addAccessoryType",data:e.accessory_type}).then((t=>{a.hide(),e.$store.dispatch("success",t.data.message),e.discard(),e.index()})).catch((function(t){a.hide(),e.errors=t.response.data.errors,e.$store.dispatch("error",t.response.data.message)}))},deleteAccessoryType(e){let a=this;e.status=1==e.status?0:1,a.$store.dispatch("post",{uri:"deleteAccessoryType",data:e}).then((function(e){a.$store.dispatch("success",e.data.message),a.index()})).catch((function(e){a.errors=e.response.data.errors,a.$store.dispatch("error",e.response.data.message)}))},editAccessoryType(e){this.accessory_type=e,this.status=!1,this.$refs.accessory_type_code.focus()},updateAccessoryType(){let e=this,a=e.$loading.show();e.$store.dispatch("post",{uri:"updateAccessoryType",data:e.accessory_type}).then((t=>{a.hide(),e.$store.dispatch("success",t.data.message),e.discard(),e.index()})).catch((function(t){a.hide(),e.errors=t.response.data.errors,e.$store.dispatch("error",t.response.data.message)}))},onPageChange(e){this.meta.page=e,this.index()},sort(e){this.meta.keyword=e,this.meta.order_by="asc"==this.meta.order_by?"desc":"asc",this.index()},discard(){let e=this;e.accessory_type.accessory_type_code="",e.accessory_type.accessory_type_name="",e.$refs.accessory_type_code.focus(),e.errors=[],e.status=!0,e.index()},search(){let e=this;e.meta.page=1,e.index()},onPerPageChange(){let e=this;e.meta.page=1,e.index()}}};const OIe=(0,Ze.A)(BIe,[["render",JIe]]);var HIe=OIe;const YIe={class:""},ZIe={class:"breadcrumb fs-sm mb-1"},GIe={class:"breadcrumb-item"},eNe={class:"row g-2"},aNe={class:"col-4"},tNe={class:"card card-one"},sNe={class:"card-header d-flex justify-content-between"},rNe={key:0,class:"card-title"},lNe={key:1,class:"card-title"},iNe={class:"card-body"},oNe={class:"row g-2"},dNe={class:"col-md-12"},nNe=["disabled"],cNe={key:0,class:"invalid-feedback"},uNe={class:"col-md-12"},_Ne={key:0,class:"invalid-feedback"},pNe={class:"card-footer text-end"},mNe={type:"submit",class:"btn btn-primary"},bNe={key:0},kNe={key:1},vNe={class:"card card-one"},hNe={class:"card-body"},yNe={class:"table-responsive table-responsive-sm"},gNe={class:"table table-sm text-nowrap table-striped table-bordered mb-0"},fNe={class:"",style:{"background-color":"#9b9b9b",color:"white"}},LNe={key:0,class:"ri-arrow-up-line"},CNe={key:1,class:"ri-arrow-down-line"},wNe={key:2,class:"fas fa-sort"},ENe={key:0,class:"ri-arrow-up-line"},xNe={key:1,class:"ri-arrow-down-line"},XNe={key:2,class:"fas fa-sort"},PNe={class:"text-center"},$Ne={class:"text-center"},SNe={key:0},ANe={class:"text-center"},DNe={class:"text-center"},TNe={class:"form-switch"},QNe=["id","checked","value","onChange"],VNe=["for"],FNe={class:"text-center"},UNe=["onClick"],jNe={class:"card-footer"},zNe={class:"d-flex justify-content-between align-items-center"};function WNe(e,a,t,l,i,o){const d=(0,r.g2)("router-link"),c=(0,r.g2)("Pagination"),u=(0,r.gN)("can");return(0,r.uX)(),(0,r.CE)("div",YIe,[(0,r.Lk)("div",null,[(0,r.Lk)("ol",ZIe,[(0,r.Lk)("li",GIe,[(0,r.bF)(d,{to:"/dashboard"},{default:(0,r.k6)((()=>a[10]||(a[10]=[(0,r.eW)("Dashboard")]))),_:1})]),a[11]||(a[11]=(0,r.Lk)("li",{class:"breadcrumb-item"},[(0,r.Lk)("a",{href:"javascript:void(0)"},"Type Parameters")],-1)),a[12]||(a[12]=(0,r.Lk)("li",{class:"breadcrumb-item active","aria-current":"page"},"Variable Types",-1))]),a[13]||(a[13]=(0,r.Lk)("h4",{class:"main-title mb-2"},"Variable Types",-1))]),(0,r.Lk)("div",eNe,[(0,r.bo)(((0,r.uX)(),(0,r.CE)("div",aNe,[(0,r.Lk)("form",{onSubmit:a[3]||(a[3]=(0,s.D$)((e=>o.submitForm()),["prevent"]))},[(0,r.Lk)("div",tNe,[(0,r.Lk)("div",sNe,[i.status?((0,r.uX)(),(0,r.CE)("h6",rNe,"Add Variable Type")):((0,r.uX)(),(0,r.CE)("h6",lNe,"Update Variable Type"))]),(0,r.Lk)("div",iNe,[(0,r.Lk)("div",oNe,[(0,r.Lk)("div",dNe,[a[14]||(a[14]=(0,r.Lk)("label",{class:"form-label"},"Variable Type Code",-1)),a[15]||(a[15]=(0,r.Lk)("span",{class:"text-danger"}," *",-1)),(0,r.bo)((0,r.Lk)("input",{type:"text",placeholder:"Enter Variable Type Code",class:(0,n.C4)(["form-control",{"is-invalid":i.errors.variable_type_code}]),"onUpdate:modelValue":a[0]||(a[0]=e=>i.variable_type.variable_type_code=e),ref:"variable_type_code",disabled:!i.status},null,10,nNe),[[s.Jo,i.variable_type.variable_type_code]]),i.errors.variable_type_code?((0,r.uX)(),(0,r.CE)("span",cNe,(0,n.v_)(i.errors.variable_type_code[0]),1)):(0,r.Q3)("",!0)]),(0,r.Lk)("div",uNe,[a[16]||(a[16]=(0,r.Lk)("label",{class:"form-label"},"Variable Type Name",-1)),a[17]||(a[17]=(0,r.Lk)("span",{class:"text-danger"}," *",-1)),(0,r.bo)((0,r.Lk)("input",{type:"text",placeholder:"Enter Variable Type name",class:(0,n.C4)(["form-control",{"is-invalid":i.errors.variable_type_name}]),"onUpdate:modelValue":a[1]||(a[1]=e=>i.variable_type.variable_type_name=e)},null,2),[[s.Jo,i.variable_type.variable_type_name]]),i.errors.variable_type_name?((0,r.uX)(),(0,r.CE)("span",_Ne,(0,n.v_)(i.errors.variable_type_name[0]),1)):(0,r.Q3)("",!0)])])]),(0,r.Lk)("div",pNe,[(0,r.Lk)("button",{type:"button",class:"btn btn-danger me-2",onClick:a[2]||(a[2]=e=>o.discard())},a[18]||(a[18]=[(0,r.Lk)("i",{class:"ri-close-line fs-18 lh-1"},null,-1),(0,r.eW)(" Discard")])),(0,r.Lk)("button",mNe,[i.status?((0,r.uX)(),(0,r.CE)("span",bNe,a[19]||(a[19]=[(0,r.Lk)("i",{class:"ri-save-line fs-18 lh-1"},null,-1),(0,r.eW)(" Submit")]))):((0,r.uX)(),(0,r.CE)("span",kNe,a[20]||(a[20]=[(0,r.Lk)("i",{class:"ri-save-line fs-18 lh-1"},null,-1),(0,r.eW)(" Update")])))])])])],32)])),[[u,"variable_types.create"]]),(0,r.Lk)("div",{class:(0,n.C4)(i.column)},[(0,r.Lk)("div",vNe,[a[29]||(a[29]=(0,r.Lk)("div",{class:"card-header d-flex justify-content-between"},[(0,r.Lk)("h6",{class:"card-title"},"Variable Types")],-1)),(0,r.Lk)("div",hNe,[(0,r.bo)((0,r.Lk)("input",{class:"form-control mb-2",type:"text",placeholder:"Type keyword and press enter key","onUpdate:modelValue":a[4]||(a[4]=e=>i.meta.search=e),onKeypress:a[5]||(a[5]=(0,s.jR)((e=>o.search()),["enter"]))},null,544),[[s.Jo,i.meta.search]]),(0,r.Lk)("div",yNe,[(0,r.Lk)("table",gNe,[(0,r.Lk)("thead",null,[(0,r.Lk)("tr",fNe,[a[25]||(a[25]=(0,r.Lk)("th",{class:"text-center"},"#",-1)),(0,r.Lk)("th",{onClick:a[6]||(a[6]=e=>o.sort("variable_type_code"))},[a[21]||(a[21]=(0,r.eW)("Variable Type Code ")),(0,r.Lk)("span",null,["variable_type_code"==i.meta.keyword&&"asc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",LNe)):"variable_type_code"==i.meta.keyword&&"desc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",CNe)):((0,r.uX)(),(0,r.CE)("i",wNe))])]),(0,r.Lk)("th",{onClick:a[7]||(a[7]=e=>o.sort("variable_type_name"))},[a[22]||(a[22]=(0,r.eW)("Variable Type Name ")),(0,r.Lk)("span",null,["variable_type_name"==i.meta.keyword&&"asc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",ENe)):"variable_type_name"==i.meta.keyword&&"desc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",xNe)):((0,r.uX)(),(0,r.CE)("i",XNe))])]),(0,r.bo)(((0,r.uX)(),(0,r.CE)("th",PNe,a[23]||(a[23]=[(0,r.eW)("Status")]))),[[u,"variable_types.delete"]]),(0,r.bo)(((0,r.uX)(),(0,r.CE)("th",$Ne,a[24]||(a[24]=[(0,r.eW)("Actions")]))),[[u,"variable_types.update"]])])]),(0,r.Lk)("tbody",null,[0==i.variable_types.length?((0,r.uX)(),(0,r.CE)("tr",SNe,a[26]||(a[26]=[(0,r.Lk)("td",{colspan:"6",class:"text-center"},"No records found",-1)]))):(0,r.Q3)("",!0),((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(i.variable_types,((e,t)=>((0,r.uX)(),(0,r.CE)("tr",{key:t},[(0,r.Lk)("td",ANe,(0,n.v_)(i.meta.from+t),1),(0,r.Lk)("td",null,(0,n.v_)(e.variable_type_code),1),(0,r.Lk)("td",null,(0,n.v_)(e.variable_type_name),1),(0,r.bo)(((0,r.uX)(),(0,r.CE)("td",DNe,[(0,r.Lk)("div",TNe,[(0,r.Lk)("input",{class:"form-check-input",type:"checkbox",role:"switch",id:"variable_type"+e.variable_type_id,checked:e.status,value:e.status,onChange:a=>o.deleteVariableType(e)},null,40,QNe),(0,r.Lk)("label",{class:"custom-control-label",for:"variable_type"+e.variable_type_id},null,8,VNe)])])),[[u,"variable_types.delete"]]),(0,r.bo)(((0,r.uX)(),(0,r.CE)("td",FNe,[e.status?((0,r.uX)(),(0,r.CE)("a",{key:0,href:"javascript:void(0)",class:"text-success me-2",onClick:a=>o.editVariableType(e)},a[27]||(a[27]=[(0,r.Lk)("i",{class:"ri-pencil-line fs-18 lh-1"},null,-1)]),8,UNe)):(0,r.Q3)("",!0)])),[[u,"variable_types.update"]])])))),128))])])])]),(0,r.Lk)("div",jNe,[(0,r.Lk)("div",zNe,[(0,r.bo)((0,r.Lk)("select",{class:"form-select from-select-sm width-75","onUpdate:modelValue":a[8]||(a[8]=e=>i.meta.per_page=e),onChange:a[9]||(a[9]=(...e)=>o.onPerPageChange&&o.onPerPageChange(...e))},a[28]||(a[28]=[(0,r.Lk)("option",null,"10",-1),(0,r.Lk)("option",null,"15",-1),(0,r.Lk)("option",null,"20",-1),(0,r.Lk)("option",null,"25",-1),(0,r.Lk)("option",null,"30",-1)]),544),[[s.u1,i.meta.per_page]]),(0,r.Lk)("span",null,"Showing "+(0,n.v_)(i.meta.from)+" to "+(0,n.v_)(i.meta.to)+" of "+(0,n.v_)(i.meta.totalRows)+" entries",1),(0,r.bF)(c,{maxPage:i.meta.maxPage,totalPages:i.meta.lastPage,currentPage:i.meta.page,onPagechanged:o.onPageChange},null,8,["maxPage","totalPages","currentPage","onPagechanged"])])])])],2)])])}var RNe={components:{Pagination:md},data(){return{column:"col-8",meta:{search:"",order_by:"desc",keyword:"variable_type_id",per_page:10,totalRows:0,page:1,lastPage:1,from:1,to:1,maxPage:1,trashed:!1},variable_types:[],variable_type:{variable_type_id:"",variable_type_code:"",variable_type_name:"",status:""},status:!0,errors:[]}},mounted(){this.create_variable_type=this.$store.getters.permissions.filter((function(e){return e.ability.ability.includes("variable_types.create")})),this.create_variable_type.length?this.column="col-8":this.column="col-12",this.index(),this.$refs.variable_type_code.focus()},methods:{submitForm(){let e=this;e.status?e.addVariableType():e.updateVariableType()},index(){let e=this,a=e.$loading.show();e.$store.dispatch("post",{uri:"paginateVariableTypes",data:e.meta}).then((t=>{a.hide(),e.variable_types=t.data.data,e.meta.totalRows=t.data.meta.total,e.meta.from=t.data.meta.from,e.meta.to=t.data.meta.to,e.meta.lastPage=t.data.meta.last_page,e.meta.maxPage=e.meta.lastPage>=3?3:e.meta.lastPage})).catch((function(t){a.hide(),e.errors=t.response.data.errors,e.$store.dispatch("error",t.response.data.message)}))},addVariableType(){let e=this,a=e.$loading.show();e.$store.dispatch("post",{uri:"addVariableType",data:e.variable_type}).then((t=>{a.hide(),e.$store.dispatch("success",t.data.message),e.discard(),e.index()})).catch((function(t){a.hide(),e.errors=t.response.data.errors,e.$store.dispatch("error",t.response.data.message)}))},deleteVariableType(e){let a=this;e.status=1==e.status?0:1,a.$store.dispatch("post",{uri:"deleteVariableType",data:e}).then((function(e){a.$store.dispatch("success",e.data.message),a.index()})).catch((function(e){a.errors=e.response.data.errors,a.$store.dispatch("error",e.response.data.message)}))},editVariableType(e){this.variable_type=e,this.status=!1,this.$refs.variable_type_code.focus()},updateVariableType(){let e=this,a=e.$loading.show();e.$store.dispatch("post",{uri:"updateVariableType",data:e.variable_type}).then((t=>{a.hide(),e.$store.dispatch("success",t.data.message),e.discard(),e.index()})).catch((function(t){a.hide(),e.errors=t.response.data.errors,e.$store.dispatch("error",t.response.data.message)}))},onPageChange(e){this.meta.page=e,this.index()},sort(e){this.meta.keyword=e,this.meta.order_by="asc"==this.meta.order_by?"desc":"asc",this.index()},discard(){let e=this;e.variable_type.variable_type_code="",e.variable_type.variable_type_name="",e.$refs.variable_type_code.focus(),e.errors=[],e.status=!0,e.index()},search(){let e=this;e.meta.page=1,e.index()},onPerPageChange(){let e=this;e.meta.page=1,e.index()}}};const qNe=(0,Ze.A)(RNe,[["render",WNe]]);var INe=qNe;const NNe={class:""},MNe={class:"row"},KNe={class:"col-12"},JNe={class:"card"},BNe={class:"card-body"},ONe={class:"table-responsive-sm"},HNe={class:"table text-wrap table-bordered",style:{"vertical-align":"middle"}};function YNe(e,a){const t=(0,r.g2)("router-link");return(0,r.uX)(),(0,r.CE)("div",NNe,[a[21]||(a[21]=(0,r.Lk)("div",{class:"d-sm-flex align-items-center justify-content-between mb-2"},[(0,r.Lk)("div",null,[(0,r.Lk)("h4",{class:"main-title mb-0"},"Scheduled Maintenance")])],-1)),(0,r.Lk)("div",MNe,[(0,r.Lk)("div",KNe,[(0,r.Lk)("div",JNe,[a[19]||(a[19]=(0,r.Fv)('<div class="card-header"><div class="card-title" style="display:flex;justify-content:space-between;"><div>Asset Name: <span class="text-primary">Motor LT</span></div><div>Asset Code: <span class="text-primary">1234MST8905</span></div><div>Plant: <span class="text-primary">Main Plant</span></div></div></div><div class="card-body"><div class="row"><div class="col-sm-3 mb-3"> Service Date <span class="text-danger">*</span><input type="date" class="form-control form-control-sm"></div><div class="col-sm-3 mb-3"> Spares Required <span class="text-danger">*</span><select name="" id="" class="form-control form-control-sm"><option value="">Select</option><option value="">Bearing</option></select></div><div class="col-sm-3 mb-3"> Service Cost <span class="text-danger">*</span><input type="text" class="form-control form-control-sm"></div><div class="col-sm-3 mb-3"> Next Service Date <span class="text-danger">*</span><input type="date" class="form-control form-control-sm"></div><div class="col-sm-12 mb-3"> Description <span class="text-danger">*</span><input type="text" class="form-control form-control-sm"></div><div class="col-sm-12 mb-3"><button class="btn btn-sm btn-primary" style="float:right;">Submit</button><button class="btn btn-sm btn-danger me-2" style="float:right;">Discard</button></div></div></div><div class="card-header"><div class="card-title"> Scheduled Maintenance </div></div>',3)),(0,r.Lk)("div",BNe,[(0,r.Lk)("div",ONe,[(0,r.Lk)("table",HNe,[a[18]||(a[18]=(0,r.Lk)("thead",null,[(0,r.Lk)("tr",{class:"text-center",style:{"vertical-align":"middle"}},[(0,r.Lk)("th",null,"#"),(0,r.Lk)("th",null,"Service Date"),(0,r.Lk)("th",null,"Description"),(0,r.Lk)("th",null,"Spares Required"),(0,r.Lk)("th",null,"Spares Availibility"),(0,r.Lk)("th",null,"Service Cost"),(0,r.Lk)("th",null,"Next Service Date"),(0,r.Lk)("th",null,"Service Status"),(0,r.Lk)("th",null,"Actions")])],-1)),(0,r.Lk)("tbody",null,[(0,r.Lk)("tr",null,[a[1]||(a[1]=(0,r.Lk)("td",{class:"text-center"},"1",-1)),a[2]||(a[2]=(0,r.Lk)("td",{class:"text-nowrap"},"23-Mar-2023",-1)),a[3]||(a[3]=(0,r.Lk)("td",null,"Replace oil",-1)),a[4]||(a[4]=(0,r.Lk)("td",null,"10 No. Oil",-1)),(0,r.Lk)("td",null,[(0,r.bF)(t,{to:"/spares"},{default:(0,r.k6)((()=>a[0]||(a[0]=[(0,r.eW)("View")]))),_:1})]),a[5]||(a[5]=(0,r.Lk)("td",null,"1000",-1)),a[6]||(a[6]=(0,r.Lk)("td",{class:"text-nowrap"},"30-Mar-2024",-1)),a[7]||(a[7]=(0,r.Lk)("td",{style:{"text-align":"center"}},"Pending",-1)),a[8]||(a[8]=(0,r.Lk)("td",{class:"text-center"},[(0,r.Lk)("a",{href:"javascript:void(0)",class:"text-success me-2"},[(0,r.Lk)("i",{class:"ri-pencil-line icon_hgt"})]),(0,r.Lk)("a",{href:"javascript:void(0)",class:"text-danger"},[(0,r.Lk)("i",{class:"ri-delete-bin-line icon_hgt"})])],-1))]),(0,r.Lk)("tr",null,[a[10]||(a[10]=(0,r.Lk)("td",{class:"text-center"},"2",-1)),a[11]||(a[11]=(0,r.Lk)("td",{class:"text-nowrap"},"20-Dec-2023",-1)),a[12]||(a[12]=(0,r.Lk)("td",null,"Replace Bearing",-1)),a[13]||(a[13]=(0,r.Lk)("td",null,"Bearings",-1)),(0,r.Lk)("td",null,[(0,r.bF)(t,{to:"/spares"},{default:(0,r.k6)((()=>a[9]||(a[9]=[(0,r.eW)("View")]))),_:1})]),a[14]||(a[14]=(0,r.Lk)("td",null,"4000",-1)),a[15]||(a[15]=(0,r.Lk)("td",{class:"text-nowrap"},"30-Dec-2024",-1)),a[16]||(a[16]=(0,r.Lk)("td",{style:{"text-align":"center"}},"Progress",-1)),a[17]||(a[17]=(0,r.Lk)("td",{class:"text-center"},[(0,r.Lk)("a",{href:"javascript:void(0)",class:"text-success me-2"},[(0,r.Lk)("i",{class:"ri-pencil-line icon_hgt"})]),(0,r.Lk)("a",{href:"javascript:void(0)",class:"text-danger"},[(0,r.Lk)("i",{class:"ri-delete-bin-line icon_hgt"})])],-1))])])])])]),a[20]||(a[20]=(0,r.Lk)("div",{class:"card-footer"},null,-1))])])])])}const ZNe={},GNe=(0,Ze.A)(ZNe,[["render",YNe]]);var eMe=GNe;const aMe={class:""},tMe={class:"d-sm-flex align-items-center justify-content-between mb-2"},sMe={class:"breadcrumb fs-sm mb-1"},rMe={class:"breadcrumb-item","aria-current":"page"},lMe={class:"breadcrumb-item","aria-current":"page"},iMe={key:0,class:"breadcrumb-item","aria-current":"page"},oMe={key:1,class:"breadcrumb-item active","aria-current":"page"},dMe={class:"row"},nMe={class:"col-12"},cMe={class:"card card-one"},uMe={class:"card-header d-flex justify-content-between"},_Me={key:0,class:"card-title"},pMe={key:1,class:"card-title"},mMe={class:"card-body"},bMe={class:"row g-2"},kMe={class:"col-md-3"},vMe={class:"form-label"},hMe={key:0},yMe={class:"text-danger"},gMe={class:"col-md-3"},fMe=["disabled"],LMe={key:0,class:"invalid-feedback"},CMe={class:"col-md-3"},wMe={key:0,class:"invalid-feedback"},EMe={class:"col-md-3"},xMe={key:0,class:"invalid-feedback"},XMe={key:0,class:"col-md-4"},PMe=["value"],$Me={key:0,class:"invalid-feedback"},SMe={key:1,class:"col-md-4"},AMe={key:0,class:"invalid-feedback"},DMe={class:"col-md-4"},TMe={key:0,class:"invalid-feedback"},QMe={class:"col-md-4"},VMe={key:0,class:"invalid-feedback"},FMe={class:"card-footer text-end"},UMe={type:"submit",class:"btn btn-primary"},jMe={key:0},zMe={key:1};function WMe(e,a,t,l,i,o){const d=(0,r.g2)("router-link"),c=(0,r.g2)("MultiSelect");return(0,r.uX)(),(0,r.CE)("div",aMe,[(0,r.Lk)("div",tMe,[(0,r.Lk)("div",null,[(0,r.Lk)("ol",sMe,[(0,r.Lk)("li",rMe,[(0,r.bF)(d,{to:"/dashboard"},{default:(0,r.k6)((()=>a[9]||(a[9]=[(0,r.eW)("Dashboard")]))),_:1})]),a[11]||(a[11]=(0,r.Lk)("li",{class:"breadcrumb-item","aria-current":"page"},[(0,r.Lk)("a",{href:"javascript:void(0)"},"Attributes")],-1)),(0,r.Lk)("li",lMe,[(0,r.bF)(d,{to:"/asset_attributes"},{default:(0,r.k6)((()=>a[10]||(a[10]=[(0,r.eW)("Asset Attributes")]))),_:1})]),i.status?((0,r.uX)(),(0,r.CE)("li",iMe,"New Asset Attribute")):((0,r.uX)(),(0,r.CE)("li",oMe,"Update Asset Attribute"))]),a[12]||(a[12]=(0,r.Lk)("h4",{class:"main-title mb-0"},"Asset Attribute",-1))]),(0,r.bF)(d,{to:"/asset_attributes",type:"submit",class:"btn btn-primary",style:{float:"right"}},{default:(0,r.k6)((()=>a[13]||(a[13]=[(0,r.Lk)("i",{class:"ri-list-check"},null,-1),(0,r.eW)(" ASSET ATTRIBUTES")]))),_:1})]),(0,r.Lk)("div",dMe,[(0,r.Lk)("div",nMe,[(0,r.Lk)("form",{onSubmit:a[8]||(a[8]=(0,s.D$)(((...e)=>o.submitForm&&o.submitForm(...e)),["prevent"]))},[(0,r.Lk)("div",cMe,[(0,r.Lk)("div",uMe,[i.status?((0,r.uX)(),(0,r.CE)("h6",_Me,"New Asset Attribute")):((0,r.uX)(),(0,r.CE)("h6",pMe,"Update Asset Attribute"))]),(0,r.Lk)("div",mMe,[(0,r.Lk)("div",bMe,[(0,r.Lk)("div",kMe,[(0,r.Lk)("div",vMe,[a[14]||(a[14]=(0,r.Lk)("label",{class:"form-label"},"Asset Type",-1)),a[15]||(a[15]=(0,r.Lk)("span",{class:"text-danger"}," *",-1)),(0,r.bF)(c,{modelValue:i.asset_attribute.asset_types_obj,"onUpdate:modelValue":a[0]||(a[0]=e=>i.asset_attribute.asset_types_obj=e),filter:"",optionLabel:"asset_type_name",options:i.asset_types,placeholder:"Select  Asset Type",maxSelectedLabels:3,style:(0,n.Tr)([{width:"100%",height:"37px"},i.errors?.asset_types?i.error_style:""])},null,8,["modelValue","options","style"]),i.errors?.asset_types?((0,r.uX)(),(0,r.CE)("span",hMe,[(0,r.Lk)("small",yMe,(0,n.v_)(i.errors?.asset_types[0]),1)])):(0,r.Q3)("",!0)])]),(0,r.Lk)("div",gMe,[a[16]||(a[16]=(0,r.Lk)("label",{class:"form-label"},"Field Name",-1)),a[17]||(a[17]=(0,r.Lk)("span",{class:"text-danger"}," *",-1)),(0,r.bo)((0,r.Lk)("input",{type:"text",placeholder:"Field Name ",class:(0,n.C4)(["form-control",{"is-invalid":i.errors.field_name}]),"onUpdate:modelValue":a[1]||(a[1]=e=>i.asset_attribute.field_name=e),disabled:!i.status},null,10,fMe),[[s.Jo,i.asset_attribute.field_name]]),i.errors.field_name?((0,r.uX)(),(0,r.CE)("span",LMe,(0,n.v_)(i.errors.field_name[0]),1)):(0,r.Q3)("",!0)]),(0,r.Lk)("div",CMe,[a[18]||(a[18]=(0,r.Lk)("label",{class:"form-label"},"Display Name",-1)),a[19]||(a[19]=(0,r.Lk)("span",{class:"text-danger"}," *",-1)),(0,r.bo)((0,r.Lk)("input",{type:"text",placeholder:"Display Name ",class:(0,n.C4)(["form-control",{"is-invalid":i.errors.display_name}]),"onUpdate:modelValue":a[2]||(a[2]=e=>i.asset_attribute.display_name=e)},null,2),[[s.Jo,i.asset_attribute.display_name]]),i.errors.display_name?((0,r.uX)(),(0,r.CE)("span",wMe,(0,n.v_)(i.errors.display_name[0]),1)):(0,r.Q3)("",!0)]),(0,r.Lk)("div",EMe,[a[21]||(a[21]=(0,r.Lk)("label",{class:"form-label"},"Field Type",-1)),a[22]||(a[22]=(0,r.Lk)("span",{class:"text-danger"}," *",-1)),(0,r.bo)((0,r.Lk)("select",{class:(0,n.C4)(["form-control",{"is-invalid":i.errors.field_type}]),"onUpdate:modelValue":a[3]||(a[3]=e=>i.asset_attribute.field_type=e)},a[20]||(a[20]=[(0,r.Fv)('<option value="" data-v-79c255e0>Select Field Type</option><option value="Text" data-v-79c255e0>Text </option><option value="Dropdown" data-v-79c255e0>Dropdown </option><option value="Number" data-v-79c255e0>Number </option><option value="Date" data-v-79c255e0>Date </option><option value="Date&amp;Time" data-v-79c255e0>Date&amp;Time </option><option value="Color" data-v-79c255e0>Color</option><option value="List" data-v-79c255e0>List</option>',8)]),2),[[s.u1,i.asset_attribute.field_type]]),i.errors.field_type?((0,r.uX)(),(0,r.CE)("span",xMe,(0,n.v_)(i.errors.field_type[0]),1)):(0,r.Q3)("",!0)]),i.list_parameters.length?((0,r.uX)(),(0,r.CE)("div",XMe,[a[24]||(a[24]=(0,r.Lk)("label",{class:"form-label"},"List",-1)),a[25]||(a[25]=(0,r.Lk)("span",{class:"text-danger"}," *",-1)),(0,r.bo)((0,r.Lk)("select",{class:(0,n.C4)(["form-control",{"is-invalid":i.errors.list_parameter_id}]),"onUpdate:modelValue":a[4]||(a[4]=e=>i.asset_attribute.list_parameter_id=e)},[a[23]||(a[23]=(0,r.Lk)("option",{value:""},"Select List",-1)),((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(i.list_parameters,((e,a)=>((0,r.uX)(),(0,r.CE)("option",{key:a,value:e.list_parameter_id},(0,n.v_)(e.list_parameter_name),9,PMe)))),128))],2),[[s.u1,i.asset_attribute.list_parameter_id]]),i.errors.list_parameter_id?((0,r.uX)(),(0,r.CE)("span",$Me,(0,n.v_)(i.errors.list_parameter_id[0]),1)):(0,r.Q3)("",!0)])):(0,r.Q3)("",!0),"Dropdown"===i.asset_attribute.field_type?((0,r.uX)(),(0,r.CE)("div",SMe,[a[26]||(a[26]=(0,r.Lk)("label",{class:"form-label"},"Field Value",-1)),a[27]||(a[27]=(0,r.Lk)("span",{class:"text-danger"}," *",-1)),(0,r.bo)((0,r.Lk)("input",{type:"text",placeholder:"Field Value",class:(0,n.C4)(["form-control",{"is-invalid":i.errors.field_values}]),"onUpdate:modelValue":a[5]||(a[5]=e=>i.asset_attribute.field_values=e)},null,2),[[s.Jo,i.asset_attribute.field_values]]),i.errors.field_values?((0,r.uX)(),(0,r.CE)("span",AMe,(0,n.v_)(i.errors.field_values[0]),1)):(0,r.Q3)("",!0)])):(0,r.Q3)("",!0),(0,r.Lk)("div",DMe,[a[28]||(a[28]=(0,r.Lk)("label",{class:"form-label"},"Field Length",-1)),a[29]||(a[29]=(0,r.Lk)("span",{class:"text-danger"}," *",-1)),(0,r.bo)((0,r.Lk)("input",{type:"number",placeholder:"Maximum Length",class:(0,n.C4)(["form-control",{"is-invalid":i.errors.field_length}]),"onUpdate:modelValue":a[6]||(a[6]=e=>i.asset_attribute.field_length=e)},null,2),[[s.Jo,i.asset_attribute.field_length]]),i.errors.field_length?((0,r.uX)(),(0,r.CE)("span",TMe,(0,n.v_)(i.errors.field_length[0]),1)):(0,r.Q3)("",!0)]),(0,r.Lk)("div",QMe,[a[31]||(a[31]=(0,r.Lk)("label",{class:"form-label"},"Is Required",-1)),a[32]||(a[32]=(0,r.Lk)("span",{class:"text-danger"}," *",-1)),(0,r.bo)((0,r.Lk)("select",{class:(0,n.C4)(["form-control",{"is-invalid":i.errors.is_required}]),"onUpdate:modelValue":a[7]||(a[7]=e=>i.asset_attribute.is_required=e)},a[30]||(a[30]=[(0,r.Lk)("option",{value:""},"Select Is Required",-1),(0,r.Lk)("option",{value:"1"},"Yes ",-1),(0,r.Lk)("option",{value:"0"},"No ",-1)]),2),[[s.u1,i.asset_attribute.is_required]]),i.errors.is_required?((0,r.uX)(),(0,r.CE)("span",VMe,(0,n.v_)(i.errors.is_required[0]),1)):(0,r.Q3)("",!0)])])]),(0,r.Lk)("div",FMe,[(0,r.bF)(d,{type:"button",class:"btn btn-danger me-2",to:"/asset_attributes"},{default:(0,r.k6)((()=>a[33]||(a[33]=[(0,r.Lk)("i",{class:"ri-close-line fs-18 lh-1"},null,-1),(0,r.eW)(" Discard")]))),_:1}),(0,r.Lk)("button",UMe,[i.status?((0,r.uX)(),(0,r.CE)("span",jMe,a[34]||(a[34]=[(0,r.Lk)("i",{class:"ri-save-line fs-18 lh-1"},null,-1),(0,r.eW)(" Submit")]))):((0,r.uX)(),(0,r.CE)("span",zMe,a[35]||(a[35]=[(0,r.Lk)("i",{class:"ri-save-line fs-18 lh-1"},null,-1),(0,r.eW)(" Update")])))])])])],32)])])])}var RMe={components:{MultiSelect:Ru.A},name:"AssetAttributes.Create",data(){return{asset_attribute:{field_name:"",display_name:"",field_type:"",field_values:"",field_length:"",is_required:"",asset_type_id:"",asset_types_obj:[],asset_types:[],list_parameter_id:"",deleted_asset_attribute_types:[]},asset_types:[],asset_attributes:[],list_parameters:[],deleted_asset_attribute_types:[],errors:[],status:!0,asset_type_status:!1,error_style:{"border-color":"#dc3545","padding-right":"calc(1.5em + 0.812rem)","background-image":"url(\"data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 12 12' width='12' height='12' fill='none' stroke='%23dc3545'%3e%3ccircle cx='6' cy='6' r='4.5'/%3e%3cpath stroke-linejoin='round' d='M5.8 3.6h.4L6 6.5z'/%3e%3ccircle cx='6' cy='8.2' r='.6' fill='%23dc3545' stroke='none'/%3e%3c/svg%3e\")","background-repeat":"no-repeat","background-position":"right calc(0.375em + 0.203rem) center","background-size":"calc(0.75em + 0.406rem) calc(0.75em + 0.406rem)"}}},watch:{"asset_attribute.field_type":function(){"List"==this.asset_attribute.field_type?this.getListParameters():(this.list_parameters=[],this.asset_attribute.list_parameter_id="")}},beforeRouteEnter(e,a,t){t((a=>{if(a.getAssetTypes(),"AssetAttributes.Create"==e.name);else{a.status=!1;let t={uri:"getAssetAttribute",data:{asset_attribute_id:e.params.asset_attribute_id}};a.$store.dispatch("post",t).then((function(e){a.asset_attribute=e.data.data,a.asset_attribute.deleted_asset_attribute_types=[],a.asset_attribute.asset_types_obj=[],a.asset_attribute.asset_attribute_types.map((function(e){a.asset_attribute.asset_types_obj.push({asset_type_code:e.asset_type.asset_type_code,asset_type_id:e.asset_type.asset_type_id,status:e.asset_type.status,asset_type_name:e.asset_type.asset_type_name})}))})).catch((function(e){a.errors=e.response.data.errors,a.$store.dispatch("error",e.response.data.message)}))}}))},methods:{updateActivityType(e,a){let t=this;const s=e.target.checked;let r=a?.asset_attribute_types?.filter((function(a){return a.asset_type_id==e.target.value}));if(r?.length){let e=r[0].asset_attribute_type_id;if(s){if(t.asset_attribute.deleted_asset_attribute_types.includes(e)){let a=this.asset_attribute.deleted_asset_attribute_types.filter((function(a){return a!=e}));t.asset_attribute.deleted_asset_attribute_types=a}}else t.asset_attribute.deleted_asset_attribute_types.includes(e)||t.asset_attribute.deleted_asset_attribute_types.push(e)}},toggleAssetTypeStatus(){this.asset_type_status=!this.asset_type_status},submitForm(){let e=this;e.status?e.addAssetAttribute():e.updateAssetAttribute()},getAssetTypes(){let e=this,a=e.$loading.show();e.$store.dispatch("post",{uri:"getAssetTypes"}).then((t=>{a.hide(),e.asset_types=t.data.data})).catch((function(t){a.hide(),e.errors=t.response.data.errors,e.$store.dispatch("error",t.response.data.message)}))},addAssetAttribute(){let e=this,a=this.$loading.show();e.asset_attribute.asset_types_obj.map((function(a){e.asset_attribute.asset_types.push(a.asset_type_id)})),this.$store.dispatch("post",{uri:"addAssetAttribute",data:e.asset_attribute}).then((t=>{a.hide(),this.$store.dispatch("success","Asset Attribute Created Successfully"),e.$router.push("/asset_attributes")})).catch((function(t){a.hide(),e.errors=t.response.data.errors,e.$store.dispatch("error",t.response.data.message)}))},updateAssetAttribute(){let e=this,a=this.$loading.show();e.asset_attribute.deleted_asset_attribute_types=e.asset_attribute.asset_attribute_types.filter((a=>!e.asset_attribute.asset_types_obj.some((e=>a.asset_type_id===e.asset_type_id)))),e.asset_attribute.asset_types=e.asset_attribute.asset_types_obj.map((e=>e.asset_type_id)),e.asset_attribute.deleted_asset_attribute_types=e.asset_attribute.deleted_asset_attribute_types.map((e=>e.asset_attribute_type_id)),this.$store.dispatch("post",{uri:"updateAssetAttribute",data:e.asset_attribute}).then((e=>{a.hide(),this.$store.dispatch("success","Asset Attribute Updated Successfully"),this.$router.push("/asset_attributes")})).catch((function(t){a.hide(),e.errors=t.response.data.errors,e.$store.dispatch("error",t.response.data.message)}))},getAssetAttribute(){let e=this,a=this.$loading.show();this.$store.dispatch("post",{uri:"getAssetAttribute",data:this.asset_attribute}).then((e=>{a.hide(),this.asset_attributes=e.data.data})).catch((function(t){a.hide(),e.errors=t.response.data.errors,e.$store.dispatch("error",t.response.data.message)}))},getListParameters(){let e=this,a=this.$loading.show();this.$store.dispatch("post",{uri:"getListParameters"}).then((e=>{a.hide(),this.list_parameters=e.data.data})).catch((function(t){a.hide(),e.errors=t.response.data.errors,e.$store.dispatch("error",t.response.data.message)}))},discard(){let e=this;e.asset_attribute.field_name="",e.asset_attribute.field_type="",e.asset_attribute.display_name="",e.asset_attribute.field_values="",e.asset_attribute.field_length="",e.asset_attribute.is_required="",e.asset_attribute.asset_type_id="",e.asset_attribute.list_parameter_id="",e.asset_attribute.asset_types=[],e.errors=[],e.status=!0}}};const qMe=(0,Ze.A)(RMe,[["render",WMe],["__scopeId","data-v-79c255e0"]]);var IMe=qMe;const NMe={class:""},MMe={class:"d-sm-flex align-items-center justify-content-between mb-2"},KMe={class:"breadcrumb fs-sm mb-1"},JMe={class:"breadcrumb-item","aria-current":"page"},BMe={class:"row"},OMe={class:"col-12"},HMe={class:"card card-one"},YMe={class:"card-body"},ZMe={class:"table-responsive table-responsive-sm"},GMe={class:"table table-sm text-nowrap table-striped table-bordered mb-0"},eKe={style:{"background-color":"#9b9b9b",color:"white"}},aKe={key:0,class:"ri-arrow-up-line"},tKe={key:1,class:"ri-arrow-down-line"},sKe={key:2,class:"fas fa-sort"},rKe={key:0,class:"ri-arrow-up-line"},lKe={key:1,class:"ri-arrow-down-line"},iKe={key:2,class:"fas fa-sort"},oKe={key:0,class:"ri-arrow-up-line"},dKe={key:1,class:"ri-arrow-down-line"},nKe={key:2,class:"fas fa-sort"},cKe={key:0,class:"ri-arrow-up-line"},uKe={key:1,class:"ri-arrow-down-line"},_Ke={key:2,class:"fas fa-sort"},pKe={key:0,class:"ri-arrow-up-line"},mKe={key:1,class:"ri-arrow-down-line"},bKe={key:2,class:"fas fa-sort"},kKe={key:0,class:"ri-arrow-up-line"},vKe={key:1,class:"ri-arrow-down-line"},hKe={key:2,class:"fas fa-sort"},yKe={class:"text-center"},gKe={class:"text-center"},fKe={key:0},LKe={class:"text-center"},CKe={class:"text-center"},wKe={class:"form-switch"},EKe=["id","checked","value","onChange"],xKe=["for"],XKe={class:"text-center"},PKe=["onClick"],$Ke={class:"card-footer"},SKe={class:"d-flex justify-content-between align-items-center"};function AKe(e,a,t,l,i,o){const d=(0,r.g2)("router-link"),c=(0,r.g2)("Pagination"),u=(0,r.gN)("can");return(0,r.uX)(),(0,r.CE)("div",NMe,[(0,r.Lk)("div",MMe,[(0,r.Lk)("div",null,[(0,r.Lk)("ol",KMe,[(0,r.Lk)("li",JMe,[(0,r.bF)(d,{to:"/dashboard"},{default:(0,r.k6)((()=>a[10]||(a[10]=[(0,r.eW)("Dashboard")]))),_:1})]),a[11]||(a[11]=(0,r.Lk)("li",{class:"breadcrumb-item","aria-current":"page"},[(0,r.Lk)("a",{href:"javascript:void(0)"},"Attributes")],-1)),a[12]||(a[12]=(0,r.Lk)("li",{class:"breadcrumb-item active","aria-current":"page"},[(0,r.Lk)("a",{href:"javascript:void(0)"},"Asset Attributes")],-1))]),a[13]||(a[13]=(0,r.Lk)("h4",{class:"main-title mb-0"},"Asset Attributes",-1))]),(0,r.bo)(((0,r.uX)(),(0,r.Wv)(d,{to:"/asset_attributes/create",class:"btn btn-primary",style:{float:"right"}},{default:(0,r.k6)((()=>a[14]||(a[14]=[(0,r.Lk)("i",{class:"ri-list-check"},null,-1),(0,r.eW)(" ADD ASSET ATTRIBUTE")]))),_:1})),[[u,"asset_attributes.create"]])]),(0,r.Lk)("div",BMe,[(0,r.Lk)("div",OMe,[(0,r.Lk)("div",HMe,[a[28]||(a[28]=(0,r.Lk)("div",{class:"card-header d-flex justify-content-between"},[(0,r.Lk)("h6",{class:"card-title"},"Asset Attributes")],-1)),(0,r.Lk)("div",YMe,[(0,r.bo)((0,r.Lk)("input",{class:"form-control form-control-sm mb-2",type:"text",placeholder:"Type keyword and press enter key","onUpdate:modelValue":a[0]||(a[0]=e=>i.meta.search=e),onKeypress:a[1]||(a[1]=(0,s.jR)((e=>o.search()),["enter"]))},null,544),[[s.Jo,i.meta.search]]),(0,r.Lk)("div",ZMe,[(0,r.Lk)("table",GMe,[(0,r.Lk)("thead",null,[(0,r.Lk)("tr",eKe,[a[23]||(a[23]=(0,r.Lk)("th",{class:"text-center"},"#",-1)),(0,r.Lk)("th",{onClick:a[2]||(a[2]=e=>o.sort("field_name"))},[a[15]||(a[15]=(0,r.eW)(" Field Name ")),(0,r.Lk)("span",null,["field_name"==i.meta.keyword&&"asc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",aKe)):"field_name"==i.meta.keyword&&"desc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",tKe)):((0,r.uX)(),(0,r.CE)("i",sKe))])]),(0,r.Lk)("th",{onClick:a[3]||(a[3]=e=>o.sort("display_name"))},[a[16]||(a[16]=(0,r.eW)(" Display Name ")),(0,r.Lk)("span",null,["display_name"==i.meta.keyword&&"asc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",rKe)):"display_name"==i.meta.keyword&&"desc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",lKe)):((0,r.uX)(),(0,r.CE)("i",iKe))])]),(0,r.Lk)("th",{onClick:a[4]||(a[4]=e=>o.sort("field_type"))},[a[17]||(a[17]=(0,r.eW)(" Field Type ")),(0,r.Lk)("span",null,["field_type"==i.meta.keyword&&"asc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",oKe)):"field_type"==i.meta.keyword&&"desc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",dKe)):((0,r.uX)(),(0,r.CE)("i",nKe))])]),(0,r.Lk)("th",{onClick:a[5]||(a[5]=e=>o.sort("field_values"))},[a[18]||(a[18]=(0,r.eW)(" Field Values ")),(0,r.Lk)("span",null,["field_values"==i.meta.keyword&&"asc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",cKe)):"field_values"==i.meta.keyword&&"desc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",uKe)):((0,r.uX)(),(0,r.CE)("i",_Ke))])]),(0,r.Lk)("th",{onClick:a[6]||(a[6]=e=>o.sort("field_length"))},[a[19]||(a[19]=(0,r.eW)(" Field Length ")),(0,r.Lk)("span",null,["field_length"==i.meta.keyword&&"asc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",pKe)):"field_length"==i.meta.keyword&&"desc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",mKe)):((0,r.uX)(),(0,r.CE)("i",bKe))])]),(0,r.Lk)("th",{onClick:a[7]||(a[7]=e=>o.sort("is_required"))},[a[20]||(a[20]=(0,r.eW)(" Is Required ")),(0,r.Lk)("span",null,["is_required"==i.meta.keyword&&"asc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",kKe)):"is_required"==i.meta.keyword&&"desc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",vKe)):((0,r.uX)(),(0,r.CE)("i",hKe))])]),a[24]||(a[24]=(0,r.Lk)("th",null," Asset Type ",-1)),(0,r.bo)(((0,r.uX)(),(0,r.CE)("th",yKe,a[21]||(a[21]=[(0,r.eW)("Status")]))),[[u,"asset_attributes.delete"]]),(0,r.bo)(((0,r.uX)(),(0,r.CE)("th",gKe,a[22]||(a[22]=[(0,r.eW)("Actions")]))),[[u,"asset_attributes.update"]])])]),(0,r.Lk)("tbody",null,[0==i.assetattributes.length?((0,r.uX)(),(0,r.CE)("tr",fKe,a[25]||(a[25]=[(0,r.Lk)("td",{colspan:"10",class:"text-center"},"No records found",-1)]))):(0,r.Q3)("",!0),((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(i.assetattributes,((e,t)=>((0,r.uX)(),(0,r.CE)("tr",{key:t},[(0,r.Lk)("td",LKe,(0,n.v_)(i.meta.from+t),1),(0,r.Lk)("td",null,(0,n.v_)(e.field_name),1),(0,r.Lk)("td",null,(0,n.v_)(e.display_name),1),(0,r.Lk)("td",null,(0,n.v_)(e.field_type),1),(0,r.Lk)("td",null,(0,n.v_)(e.field_values),1),(0,r.Lk)("td",null,(0,n.v_)(e.field_length),1),(0,r.Lk)("td",null,(0,n.v_)(1==e?.is_required?"Yes":"No"),1),(0,r.Lk)("td",null,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(e.asset_attribute_types,((e,a)=>((0,r.uX)(),(0,r.CE)("span",{key:a},(0,n.v_)(e?.asset_type?.asset_type_name)+", ",1)))),128))]),(0,r.bo)(((0,r.uX)(),(0,r.CE)("td",CKe,[(0,r.Lk)("div",wKe,[(0,r.Lk)("input",{class:"form-check-input",type:"checkbox",role:"switch",id:"assetattribute"+e.asset_attribute_id,checked:e.status,value:e.status,onChange:a=>o.deleteAssetAttribute(e)},null,40,EKe),(0,r.Lk)("label",{class:"custom-control-label",for:"user"+e.asset_attribute_id},null,8,xKe)])])),[[u,"asset_attributes.delete"]]),(0,r.bo)(((0,r.uX)(),(0,r.CE)("td",XKe,[e.status?((0,r.uX)(),(0,r.CE)("a",{key:0,href:"javascript:void(0)",class:"text-success",onClick:a=>o.editAssetAttribute(e)},a[26]||(a[26]=[(0,r.Lk)("i",{class:"ri-pencil-line fs-18 lh-1"},null,-1)]),8,PKe)):(0,r.Q3)("",!0)])),[[u,"asset_attributes.update"]])])))),128))])])])]),(0,r.Lk)("div",$Ke,[(0,r.Lk)("div",SKe,[(0,r.bo)((0,r.Lk)("select",{class:"form-select from-select-sm width-75","onUpdate:modelValue":a[8]||(a[8]=e=>i.meta.per_page=e),onChange:a[9]||(a[9]=(...e)=>o.onPerPageChange&&o.onPerPageChange(...e))},a[27]||(a[27]=[(0,r.Lk)("option",null,"10",-1),(0,r.Lk)("option",null,"15",-1),(0,r.Lk)("option",null,"20",-1),(0,r.Lk)("option",null,"25",-1),(0,r.Lk)("option",null,"30",-1)]),544),[[s.u1,i.meta.per_page]]),(0,r.Lk)("span",null,"Showing "+(0,n.v_)(i.meta.from)+" to "+(0,n.v_)(i.meta.to)+" of "+(0,n.v_)(i.meta.totalRows)+" entries",1),(0,r.bF)(c,{maxPage:i.meta.maxPage,totalPages:i.meta.lastPage,currentPage:parseInt(i.meta.page),onPagechanged:o.onPageChange},null,8,["maxPage","totalPages","currentPage","onPagechanged"])])])])])])])}var DKe={components:{Pagination:md},data(){return{meta:{search:"",order_by:"desc",keyword:"asset_attribute_id",per_page:10,totalRows:0,page:1,lastPage:1,from:1,to:1,maxPage:1,trashed:!1},assetattributes:[],errors:[],status:!0}},beforeRouteEnter(e,a,t){t((e=>{console.log("ass--",a.name),"AssetAttributes.Edit"==a.name?e.meta.page=e.$store.getters.current_page:e.meta.page=1}))},mounted(){this.index()},methods:{index(){let e=this,a=this.$loading.show();e.$store.dispatch("post",{uri:"paginateAssetAttributes",data:e.meta}).then((t=>{a.hide(),e.assetattributes=t.data.data,e.meta.totalRows=t.data.meta.total,e.meta.from=t.data.meta.from,e.meta.to=t.data.meta.to,e.meta.lastPage=t.data.meta.last_page,e.meta.maxPage=e.meta.lastPage>=3?3:e.meta.lastPage})).catch((function(t){a.hide(),e.errors=t.response.data.errors,e.$store.dispatch("error",t.response.data.message)}))},editAssetAttribute(e){this.$store.commit("setCurrentPage",parseInt(this.meta.page)),this.$router.push("/asset_attributes/"+e.asset_attribute_id+"/edit")},deleteAssetAttribute(e){let a=this,t=a.$loading.show();a.$store.dispatch("post",{uri:"deleteAssetAttribute",data:e}).then((e=>{t.hide(),a.$store.dispatch("success",e.data.message),a.index()})).catch((function(e){t.hide(),a.errors=e.response.data.errors,a.$store.dispatch("error",e.response.data.message)}))},search(){let e=this;e.meta.page=1,e.index()},onPageChange(e){this.meta.page=e,this.index()},sort(e){this.meta.keyword=e,this.meta.order_by="asc"==this.meta.order_by?"desc":"asc",this.index()},onPerPageChange(){let e=this;e.meta.page=1,e.index()}}};const TKe=(0,Ze.A)(DKe,[["render",AKe]]);var QKe=TKe;const VKe={class:""},FKe={class:"d-sm-flex align-items-center justify-content-between mb-2"},UKe={class:"breadcrumb fs-sm mb-1"},jKe={class:"breadcrumb-item","aria-current":"page"},zKe={class:"breadcrumb-item","aria-current":"page"},WKe={key:0,class:"breadcrumb-item","aria-current":"page"},RKe={key:1,class:"breadcrumb-item active","aria-current":"page"},qKe={class:"row"},IKe={class:"col-12"},NKe={class:"card card-one"},MKe={class:"card-header d-flex justify-content-between"},KKe={key:0,class:"card-title"},JKe={key:1,class:"card-title"},BKe={class:"card-body"},OKe={class:"row g-2"},HKe={class:"col-md-3"},YKe={class:"form-label"},ZKe={key:0},GKe={class:"text-danger"},eJe={class:"col-md-3"},aJe=["disabled"],tJe={key:0,class:"invalid-feedback"},sJe={class:"col-md-3"},rJe={key:0,class:"invalid-feedback"},lJe={class:"col-md-3"},iJe={key:0,class:"invalid-feedback"},oJe={key:0,class:"col-md-4"},dJe=["value"],nJe={key:0,class:"invalid-feedback"},cJe={key:1,class:"col-md-4"},uJe={key:0,class:"invalid-feedback"},_Je={class:"col-md-4"},pJe={key:0,class:"invalid-feedback"},mJe={class:"col-md-4"},bJe={key:0,class:"invalid-feedback"},kJe={class:"card-footer text-end"},vJe={type:"submit",class:"btn btn-primary"},hJe={key:0},yJe={key:1};function gJe(e,a,t,l,i,o){const d=(0,r.g2)("router-link"),c=(0,r.g2)("MultiSelect");return(0,r.uX)(),(0,r.CE)("div",VKe,[(0,r.Lk)("div",FKe,[(0,r.Lk)("div",null,[(0,r.Lk)("ol",UKe,[(0,r.Lk)("li",jKe,[(0,r.bF)(d,{to:"/dashboard"},{default:(0,r.k6)((()=>a[9]||(a[9]=[(0,r.eW)("Dashboard")]))),_:1})]),a[11]||(a[11]=(0,r.Lk)("li",{class:"breadcrumb-item","aria-current":"page"},[(0,r.Lk)("a",{href:"javascript:void(0)"},"Attributes")],-1)),(0,r.Lk)("li",zKe,[(0,r.bF)(d,{to:"/spare_attributes"},{default:(0,r.k6)((()=>a[10]||(a[10]=[(0,r.eW)("Spare Attributes")]))),_:1})]),i.status?((0,r.uX)(),(0,r.CE)("li",WKe,"New Spare Attribute")):((0,r.uX)(),(0,r.CE)("li",RKe,"Update Spare Attribute"))]),a[12]||(a[12]=(0,r.Lk)("h4",{class:"main-title mb-0"},"Spare Attribute",-1))]),(0,r.bF)(d,{to:"/spare_attributes",type:"submit",class:"btn btn-primary",style:{float:"right"}},{default:(0,r.k6)((()=>a[13]||(a[13]=[(0,r.Lk)("i",{class:"ri-list-check"},null,-1),(0,r.eW)(" SPARE ATTRIBUTES")]))),_:1})]),(0,r.Lk)("div",qKe,[(0,r.Lk)("div",IKe,[(0,r.Lk)("form",{onSubmit:a[8]||(a[8]=(0,s.D$)(((...e)=>o.submitForm&&o.submitForm(...e)),["prevent"]))},[(0,r.Lk)("div",NKe,[(0,r.Lk)("div",MKe,[i.status?((0,r.uX)(),(0,r.CE)("h6",KKe,"New Spare Attribute")):((0,r.uX)(),(0,r.CE)("h6",JKe,"Update Spare Attribute"))]),(0,r.Lk)("div",BKe,[(0,r.Lk)("div",OKe,[(0,r.Lk)("div",HKe,[(0,r.Lk)("div",YKe,[a[14]||(a[14]=(0,r.Lk)("label",{class:"form-label"},"Spare Type",-1)),a[15]||(a[15]=(0,r.Lk)("span",{class:"text-danger"}," *",-1)),(0,r.bF)(c,{modelValue:i.spare_attribute.spare_types_obj,"onUpdate:modelValue":a[0]||(a[0]=e=>i.spare_attribute.spare_types_obj=e),filter:"",optionLabel:"spare_type_name",options:i.spare_types,placeholder:"Select Spare Type",maxSelectedLabels:3,style:(0,n.Tr)([{width:"100%",height:"37px"},i.errors?.spare_types?i.error_style:""])},null,8,["modelValue","options","style"]),i.errors?.spare_types?((0,r.uX)(),(0,r.CE)("span",ZKe,[(0,r.Lk)("small",GKe,(0,n.v_)(i.errors?.spare_types[0]),1)])):(0,r.Q3)("",!0)])]),(0,r.Lk)("div",eJe,[a[16]||(a[16]=(0,r.Lk)("label",{class:"form-label"},"Field Name",-1)),a[17]||(a[17]=(0,r.Lk)("span",{class:"text-danger"}," *",-1)),(0,r.bo)((0,r.Lk)("input",{type:"text",placeholder:"Field Name ",class:(0,n.C4)(["form-control",{"is-invalid":i.errors?.field_name}]),"onUpdate:modelValue":a[1]||(a[1]=e=>i.spare_attribute.field_name=e),disabled:!i.status},null,10,aJe),[[s.Jo,i.spare_attribute.field_name]]),i.errors?.field_name?((0,r.uX)(),(0,r.CE)("span",tJe,(0,n.v_)(i.errors.field_name[0]),1)):(0,r.Q3)("",!0)]),(0,r.Lk)("div",sJe,[a[18]||(a[18]=(0,r.Lk)("label",{class:"form-label"},"Display Name",-1)),a[19]||(a[19]=(0,r.Lk)("span",{class:"text-danger"}," *",-1)),(0,r.bo)((0,r.Lk)("input",{type:"text",placeholder:"Display Name ",class:(0,n.C4)(["form-control",{"is-invalid":i.errors?.display_name}]),"onUpdate:modelValue":a[2]||(a[2]=e=>i.spare_attribute.display_name=e)},null,2),[[s.Jo,i.spare_attribute.display_name]]),i.errors?.display_name?((0,r.uX)(),(0,r.CE)("span",rJe,(0,n.v_)(i.errors.display_name[0]),1)):(0,r.Q3)("",!0)]),(0,r.Lk)("div",lJe,[a[21]||(a[21]=(0,r.Lk)("label",{class:"form-label"},"Field Type",-1)),a[22]||(a[22]=(0,r.Lk)("span",{class:"text-danger"}," *",-1)),(0,r.bo)((0,r.Lk)("select",{class:(0,n.C4)(["form-control",{"is-invalid":i.errors?.field_type}]),"onUpdate:modelValue":a[3]||(a[3]=e=>i.spare_attribute.field_type=e)},a[20]||(a[20]=[(0,r.Fv)('<option value="" data-v-6c370b04>Select Field Type</option><option value="Text" data-v-6c370b04>Text </option><option value="Dropdown" data-v-6c370b04>Dropdown </option><option value="Number" data-v-6c370b04>Number </option><option value="Date" data-v-6c370b04>Date </option><option value="Date&amp;Time" data-v-6c370b04>Date&amp;Time </option><option value="Color" data-v-6c370b04>Color</option><option value="List" data-v-6c370b04>List</option>',8)]),2),[[s.u1,i.spare_attribute.field_type]]),i.errors?.field_type?((0,r.uX)(),(0,r.CE)("span",iJe,(0,n.v_)(i.errors.field_type[0]),1)):(0,r.Q3)("",!0)]),i.list_parameters.length?((0,r.uX)(),(0,r.CE)("div",oJe,[a[24]||(a[24]=(0,r.Lk)("label",{class:"form-label"},"List",-1)),a[25]||(a[25]=(0,r.Lk)("span",{class:"text-danger"}," *",-1)),(0,r.bo)((0,r.Lk)("select",{class:(0,n.C4)(["form-control",{"is-invalid":i.errors?.list_parameter_id}]),"onUpdate:modelValue":a[4]||(a[4]=e=>i.spare_attribute.list_parameter_id=e)},[a[23]||(a[23]=(0,r.Lk)("option",{value:""},"Select List",-1)),((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(i.list_parameters,((e,a)=>((0,r.uX)(),(0,r.CE)("option",{key:a,value:e.list_parameter_id},(0,n.v_)(e.list_parameter_name),9,dJe)))),128))],2),[[s.u1,i.spare_attribute.list_parameter_id]]),i.errors?.list_parameter_id?((0,r.uX)(),(0,r.CE)("span",nJe,(0,n.v_)(i.errors.list_parameter_id[0]),1)):(0,r.Q3)("",!0)])):(0,r.Q3)("",!0),"Dropdown"===i.spare_attribute.field_type?((0,r.uX)(),(0,r.CE)("div",cJe,[a[26]||(a[26]=(0,r.Lk)("label",{class:"form-label"},"Field Value",-1)),a[27]||(a[27]=(0,r.Lk)("span",{class:"text-danger"}," *",-1)),(0,r.bo)((0,r.Lk)("input",{type:"text",placeholder:"Field Value",class:(0,n.C4)(["form-control",{"is-invalid":i.errors?.field_values}]),"onUpdate:modelValue":a[5]||(a[5]=e=>i.spare_attribute.field_values=e)},null,2),[[s.Jo,i.spare_attribute.field_values]]),i.errors?.field_values?((0,r.uX)(),(0,r.CE)("span",uJe,(0,n.v_)(i.errors.field_values[0]),1)):(0,r.Q3)("",!0)])):(0,r.Q3)("",!0),(0,r.Lk)("div",_Je,[a[28]||(a[28]=(0,r.Lk)("label",{class:"form-label"},"Field Length",-1)),a[29]||(a[29]=(0,r.Lk)("span",{class:"text-danger"}," *",-1)),(0,r.bo)((0,r.Lk)("input",{type:"number",placeholder:"Maximum Length",class:(0,n.C4)(["form-control",{"is-invalid":i.errors?.field_length}]),"onUpdate:modelValue":a[6]||(a[6]=e=>i.spare_attribute.field_length=e)},null,2),[[s.Jo,i.spare_attribute.field_length]]),i.errors?.field_length?((0,r.uX)(),(0,r.CE)("span",pJe,(0,n.v_)(i.errors.field_length[0]),1)):(0,r.Q3)("",!0)]),(0,r.Lk)("div",mJe,[a[31]||(a[31]=(0,r.Lk)("label",{class:"form-label"},"Is Required",-1)),a[32]||(a[32]=(0,r.Lk)("span",{class:"text-danger"}," *",-1)),(0,r.bo)((0,r.Lk)("select",{class:(0,n.C4)(["form-control",{"is-invalid":i.errors?.is_required}]),"onUpdate:modelValue":a[7]||(a[7]=e=>i.spare_attribute.is_required=e)},a[30]||(a[30]=[(0,r.Lk)("option",{value:""},"Select Is Required",-1),(0,r.Lk)("option",{value:"1"},"Yes ",-1),(0,r.Lk)("option",{value:"0"},"No ",-1)]),2),[[s.u1,i.spare_attribute.is_required]]),i.errors?.is_required?((0,r.uX)(),(0,r.CE)("span",bJe,(0,n.v_)(i.errors.is_required[0]),1)):(0,r.Q3)("",!0)])])]),(0,r.Lk)("div",kJe,[(0,r.bF)(d,{type:"button",class:"btn btn-danger me-2",to:"/spare_attributes"},{default:(0,r.k6)((()=>a[33]||(a[33]=[(0,r.Lk)("i",{class:"ri-close-line fs-18 lh-1"},null,-1),(0,r.eW)(" Discard")]))),_:1}),(0,r.Lk)("button",vJe,[i.status?((0,r.uX)(),(0,r.CE)("span",hJe,a[34]||(a[34]=[(0,r.Lk)("i",{class:"ri-save-line fs-18 lh-1"},null,-1),(0,r.eW)(" Submit")]))):((0,r.uX)(),(0,r.CE)("span",yJe,a[35]||(a[35]=[(0,r.Lk)("i",{class:"ri-save-line fs-18 lh-1"},null,-1),(0,r.eW)(" Update")])))])])])],32)])])])}var fJe={components:{MultiSelect:Ru.A},name:"SpareAttributes.Create",data(){return{spare_attribute:{field_name:"",display_name:"",field_type:"",field_values:"",field_length:"",is_required:"",spare_type_id:"",spare_types_obj:[],spare_types:[],list_parameter_id:"",deleted_spare_attribute_types:[]},deleted_spare_attribute_types:[],spare_types:[],spare_attributes:[],list_parameters:[],errors:[],status:!0,spare_type_status:!1,error_style:{"border-color":"#dc3545","padding-right":"calc(1.5em + 0.812rem)","background-image":"url(\"data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 12 12' width='12' height='12' fill='none' stroke='%23dc3545'%3e%3ccircle cx='6' cy='6' r='4.5'/%3e%3cpath stroke-linejoin='round' d='M5.8 3.6h.4L6 6.5z'/%3e%3ccircle cx='6' cy='8.2' r='.6' fill='%23dc3545' stroke='none'/%3e%3c/svg%3e\")","background-repeat":"no-repeat","background-position":"right calc(0.375em + 0.203rem) center","background-size":"calc(0.75em + 0.406rem) calc(0.75em + 0.406rem)"}}},beforeRouteEnter(e,a,t){t((a=>{if(a.getSpareTypes(),"SpareAttributes.Create"==e.name);else{a.status=!1;let t={uri:"getSpareAttribute",data:{spare_attribute_id:e.params.spare_attribute_id}};a.$store.dispatch("post",t).then((function(e){a.spare_attribute=e.data.data,a.spare_attribute.deleted_spare_attribute_types=[],a.spare_attribute.spare_types_obj=[],a.spare_attribute.spare_attribute_types.map((function(e){a.spare_attribute.spare_types_obj.push({spare_type_code:e.spare_type.spare_type_code,spare_type_id:e.spare_type.spare_type_id,status:e.spare_type.status,spare_type_name:e.spare_type.spare_type_name})}))})).catch((function(e){a.errors=e.response?.data?.errors,a.$store.dispatch("error",e.response?.data?.message)}))}}))},watch:{"spare_attribute.field_type":function(){"List"==this.spare_attribute.field_type?this.getListParameters():(this.list_parameters=[],this.spare_attribute.list_parameter_id="")}},methods:{updateActivityType(e,a){let t=this;const s=e.target.checked;let r=a?.spare_attribute_types?.filter((function(a){return a.spare_type_id==e.target.value}));if(r?.length){let e=r[0].spare_attribute_type_id;if(s){if(t.spare_attribute.deleted_spare_attribute_types.includes(e)){let a=this.spare_attribute.deleted_spare_attribute_types.filter((function(a){return a!=e}));t.spare_attribute.deleted_spare_attribute_types=a}}else t.spare_attribute.deleted_spare_attribute_types.includes(e)||t.spare_attribute.deleted_spare_attribute_types.push(e)}},toggleSpareTypeStatus(){this.spare_type_status=!this.spare_type_status},submitForm(){let e=this;e.status?e.addSpareAttribute():e.updateSpareAttribute()},getSpareTypes(){let e=this,a=e.$loading.show();e.$store.dispatch("post",{uri:"getSpareTypes"}).then((t=>{a.hide(),e.spare_types=t.data.data})).catch((function(t){a.hide(),e.errors=t.response?.data?.errors,e.$store.dispatch("error",t.response?.data?.message)}))},getListParameters(){let e=this,a=this.$loading.show();e.$store.dispatch("post",{uri:"getListParameters"}).then((t=>{a.hide(),e.list_parameters=t.data.data})).catch((function(t){a.hide(),e.errors=t.response?.data?.errors,e.$store.dispatch("error",t.response?.data?.message)}))},addSpareAttribute(){let e=this,a=this.$loading.show();e.spare_attribute.spare_types_obj.map((function(a){e.spare_attribute.spare_types.push(a.spare_type_id)})),e.$store.dispatch("post",{uri:"addSpareAttribute",data:e.spare_attribute}).then((t=>{a.hide(),e.$store.dispatch("success","Spare Attribute Created Successfully"),e.$router.push("/spare_attributes")})).catch((function(t){a.hide(),e.errors=t.response?.data?.errors,e.$store.dispatch("error",t.response?.data?.message)}))},updateSpareAttribute(){let e=this,a=this.$loading.show();e.spare_attribute.deleted_spare_attribute_types=e.spare_attribute.spare_attribute_types.filter((a=>!e.spare_attribute.spare_types_obj.some((e=>a.spare_type_id===e.spare_type_id)))),e.spare_attribute.spare_types=e.spare_attribute.spare_types_obj.map((e=>e.spare_type_id)),e.spare_attribute.deleted_spare_attribute_types=e.spare_attribute.deleted_spare_attribute_types.map((e=>e.spare_attribute_type_id)),e.$store.dispatch("post",{uri:"updateSpareAttribute",data:e.spare_attribute}).then((t=>{a.hide(),e.$store.dispatch("success","Spare Attribute Updated Successfully"),e.$router.push("/spare_attributes")})).catch((function(t){a.hide(),e.errors=t.response?.data?.errors,e.$store.dispatch("error",t.response?.data?.message)}))},getSpareAttribute(){let e=this,a=this.$loading.show();this.$store.dispatch("post",{uri:"getSpareAttribute",data:this.spare_attribute}).then((e=>{a.hide(),this.spare_attributes=e.data.data})).catch((function(t){a.hide(),e.errors=t.response?.data?.errors,e.$store.dispatch("error",t.response?.data?.message)}))},discard(){let e=this;e.spare_attribute.field_name="",e.spare_attribute.field_type="",e.spare_attribute.display_name="",e.spare_attribute.field_values="",e.spare_attribute.field_length="",e.spare_attribute.is_required="",e.spare_attribute.spare_type_id="",e.spare_attribute.list_parameter_id="",e.spare_attribute.spare_types=[],e.errors=[],e.status=!0}}};const LJe=(0,Ze.A)(fJe,[["render",gJe],["__scopeId","data-v-6c370b04"]]);var CJe=LJe;const wJe={class:""},EJe={class:"d-sm-flex align-items-center justify-content-between mb-2"},xJe={class:"breadcrumb fs-sm mb-1"},XJe={class:"breadcrumb-item","aria-current":"page"},PJe={class:"row"},$Je={class:"col-12"},SJe={class:"card card-one"},AJe={class:"card-body"},DJe={class:"table-responsive table-responsive-sm"},TJe={class:"table table-sm text-nowrap table-striped table-bordered mb-0"},QJe={style:{"background-color":"#9b9b9b",color:"white"}},VJe={key:0,class:"ri-arrow-up-line"},FJe={key:1,class:"ri-arrow-down-line"},UJe={key:2,class:"fas fa-sort"},jJe={key:0,class:"ri-arrow-up-line"},zJe={key:1,class:"ri-arrow-down-line"},WJe={key:2,class:"fas fa-sort"},RJe={key:0,class:"ri-arrow-up-line"},qJe={key:1,class:"ri-arrow-down-line"},IJe={key:2,class:"fas fa-sort"},NJe={key:0,class:"ri-arrow-up-line"},MJe={key:1,class:"ri-arrow-down-line"},KJe={key:2,class:"fas fa-sort"},JJe={key:0,class:"ri-arrow-up-line"},BJe={key:1,class:"ri-arrow-down-line"},OJe={key:2,class:"fas fa-sort"},HJe={key:0,class:"ri-arrow-up-line"},YJe={key:1,class:"ri-arrow-down-line"},ZJe={key:2,class:"fas fa-sort"},GJe={class:"text-center"},eBe={class:"text-center"},aBe={key:0},tBe={class:"text-center"},sBe={class:"text-center"},rBe={class:"form-switch"},lBe=["id","checked","value","onChange"],iBe=["for"],oBe={class:"text-center"},dBe=["onClick"],nBe={class:"card-footer"},cBe={class:"d-flex justify-content-between align-items-center"};function uBe(e,a,t,l,i,o){const d=(0,r.g2)("router-link"),c=(0,r.g2)("Pagination"),u=(0,r.gN)("can");return(0,r.uX)(),(0,r.CE)("div",wJe,[(0,r.Lk)("div",EJe,[(0,r.Lk)("div",null,[(0,r.Lk)("ol",xJe,[(0,r.Lk)("li",XJe,[(0,r.bF)(d,{to:"/dashboard"},{default:(0,r.k6)((()=>a[10]||(a[10]=[(0,r.eW)("Dashboard")]))),_:1})]),a[11]||(a[11]=(0,r.Lk)("li",{class:"breadcrumb-item","aria-current":"page"},[(0,r.Lk)("a",{href:"javascript:void(0)"},"Attributes")],-1)),a[12]||(a[12]=(0,r.Lk)("li",{class:"breadcrumb-item active","aria-current":"page"},[(0,r.Lk)("a",{href:"javascript:void(0)"},"Spare Attributes")],-1))]),a[13]||(a[13]=(0,r.Lk)("h4",{class:"main-title mb-0"},"Spare Attributes",-1))]),(0,r.bo)(((0,r.uX)(),(0,r.Wv)(d,{to:"/spare_attributes/create",class:"btn btn-primary",style:{float:"right"}},{default:(0,r.k6)((()=>a[14]||(a[14]=[(0,r.Lk)("i",{class:"ri-list-check"},null,-1),(0,r.eW)(" ADD SPARE ATTRIBUTE")]))),_:1})),[[u,"spare_attributes.create"]])]),(0,r.Lk)("div",PJe,[(0,r.Lk)("div",$Je,[(0,r.Lk)("div",SJe,[a[28]||(a[28]=(0,r.Lk)("div",{class:"card-header d-flex justify-content-between"},[(0,r.Lk)("h6",{class:"card-title"},"Spare Attributes")],-1)),(0,r.Lk)("div",AJe,[(0,r.bo)((0,r.Lk)("input",{class:"form-control form-control-sm mb-2",type:"text",placeholder:"Type keyword and press enter key","onUpdate:modelValue":a[0]||(a[0]=e=>i.meta.search=e),onKeypress:a[1]||(a[1]=(0,s.jR)((e=>o.search()),["enter"]))},null,544),[[s.Jo,i.meta.search]]),(0,r.Lk)("div",DJe,[(0,r.Lk)("table",TJe,[(0,r.Lk)("thead",null,[(0,r.Lk)("tr",QJe,[a[23]||(a[23]=(0,r.Lk)("th",{class:"text-center"},"#",-1)),(0,r.Lk)("th",{onClick:a[2]||(a[2]=e=>o.sort("field_name"))},[a[15]||(a[15]=(0,r.eW)(" Field Name ")),(0,r.Lk)("span",null,["field_name"==i.meta.keyword&&"asc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",VJe)):"field_name"==i.meta.keyword&&"desc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",FJe)):((0,r.uX)(),(0,r.CE)("i",UJe))])]),(0,r.Lk)("th",{onClick:a[3]||(a[3]=e=>o.sort("display_name"))},[a[16]||(a[16]=(0,r.eW)(" Display Name ")),(0,r.Lk)("span",null,["display_name"==i.meta.keyword&&"asc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",jJe)):"display_name"==i.meta.keyword&&"desc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",zJe)):((0,r.uX)(),(0,r.CE)("i",WJe))])]),(0,r.Lk)("th",{onClick:a[4]||(a[4]=e=>o.sort("field_type"))},[a[17]||(a[17]=(0,r.eW)(" Field Type ")),(0,r.Lk)("span",null,["field_type"==i.meta.keyword&&"asc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",RJe)):"field_type"==i.meta.keyword&&"desc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",qJe)):((0,r.uX)(),(0,r.CE)("i",IJe))])]),(0,r.Lk)("th",{onClick:a[5]||(a[5]=e=>o.sort("field_values"))},[a[18]||(a[18]=(0,r.eW)(" Field Values ")),(0,r.Lk)("span",null,["field_values"==i.meta.keyword&&"asc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",NJe)):"field_values"==i.meta.keyword&&"desc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",MJe)):((0,r.uX)(),(0,r.CE)("i",KJe))])]),(0,r.Lk)("th",{onClick:a[6]||(a[6]=e=>o.sort("field_length"))},[a[19]||(a[19]=(0,r.eW)(" Field Length ")),(0,r.Lk)("span",null,["field_length"==i.meta.keyword&&"asc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",JJe)):"field_length"==i.meta.keyword&&"desc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",BJe)):((0,r.uX)(),(0,r.CE)("i",OJe))])]),(0,r.Lk)("th",{onClick:a[7]||(a[7]=e=>o.sort("is_required"))},[a[20]||(a[20]=(0,r.eW)(" Is Required ")),(0,r.Lk)("span",null,["is_required"==i.meta.keyword&&"asc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",HJe)):"is_required"==i.meta.keyword&&"desc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",YJe)):((0,r.uX)(),(0,r.CE)("i",ZJe))])]),a[24]||(a[24]=(0,r.Lk)("th",null," Spare Type ",-1)),(0,r.bo)(((0,r.uX)(),(0,r.CE)("th",GJe,a[21]||(a[21]=[(0,r.eW)("Status")]))),[[u,"spare_attributes.delete"]]),(0,r.bo)(((0,r.uX)(),(0,r.CE)("th",eBe,a[22]||(a[22]=[(0,r.eW)("Actions")]))),[[u,"spare_attributes.update"]])])]),(0,r.Lk)("tbody",null,[0==i.spareattributes.length?((0,r.uX)(),(0,r.CE)("tr",aBe,a[25]||(a[25]=[(0,r.Lk)("td",{colspan:"10",class:"text-center"},"No records found",-1)]))):(0,r.Q3)("",!0),((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(i.spareattributes,((e,t)=>((0,r.uX)(),(0,r.CE)("tr",{key:t},[(0,r.Lk)("td",tBe,(0,n.v_)(i.meta.from+t),1),(0,r.Lk)("td",null,(0,n.v_)(e.field_name),1),(0,r.Lk)("td",null,(0,n.v_)(e.display_name),1),(0,r.Lk)("td",null,(0,n.v_)(e.field_type),1),(0,r.Lk)("td",null,(0,n.v_)(e.field_values),1),(0,r.Lk)("td",null,(0,n.v_)(e.field_length),1),(0,r.Lk)("td",null,(0,n.v_)(1==e?.is_required?"Yes":"No"),1),(0,r.Lk)("td",null,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(e.spare_attribute_types,((e,a)=>((0,r.uX)(),(0,r.CE)("span",{key:a},(0,n.v_)(e?.spare_type?.spare_type_name)+", ",1)))),128))]),(0,r.bo)(((0,r.uX)(),(0,r.CE)("td",sBe,[(0,r.Lk)("div",rBe,[(0,r.Lk)("input",{class:"form-check-input",type:"checkbox",role:"switch",id:"spareattribute"+e.spare_attribute_id,checked:e.status,value:e.status,onChange:a=>o.deleteSpareAttribute(e)},null,40,lBe),(0,r.Lk)("label",{class:"custom-control-label",for:"user"+e.spare_attribute_id},null,8,iBe)])])),[[u,"spare_attributes.delete"]]),(0,r.bo)(((0,r.uX)(),(0,r.CE)("td",oBe,[e.status?((0,r.uX)(),(0,r.CE)("a",{key:0,href:"javascript:void(0)",class:"text-success",onClick:a=>o.editSpareAttribute(e)},a[26]||(a[26]=[(0,r.Lk)("i",{class:"ri-pencil-line fs-18 lh-1"},null,-1)]),8,dBe)):(0,r.Q3)("",!0)])),[[u,"spare_attributes.update"]])])))),128))])])])]),(0,r.Lk)("div",nBe,[(0,r.Lk)("div",cBe,[(0,r.bo)((0,r.Lk)("select",{class:"form-select from-select-sm width-75","onUpdate:modelValue":a[8]||(a[8]=e=>i.meta.per_page=e),onChange:a[9]||(a[9]=(...e)=>o.onPerPageChange&&o.onPerPageChange(...e))},a[27]||(a[27]=[(0,r.Lk)("option",null,"10",-1),(0,r.Lk)("option",null,"15",-1),(0,r.Lk)("option",null,"20",-1),(0,r.Lk)("option",null,"25",-1),(0,r.Lk)("option",null,"30",-1)]),544),[[s.u1,i.meta.per_page]]),(0,r.Lk)("span",null,"Showing "+(0,n.v_)(i.meta.from)+" to "+(0,n.v_)(i.meta.to)+" of "+(0,n.v_)(i.meta.totalRows)+" entries",1),(0,r.bF)(c,{maxPage:i.meta.maxPage,totalPages:i.meta.lastPage,currentPage:parseInt(i.meta.page),onPagechanged:o.onPageChange},null,8,["maxPage","totalPages","currentPage","onPagechanged"])])])])])])])}var _Be={components:{Pagination:md},data(){return{meta:{search:"",order_by:"desc",keyword:"spare_attribute_id",per_page:10,totalRows:0,page:1,lastPage:1,from:1,to:1,maxPage:1,trashed:!1},spareattributes:[],errors:[],status:!0}},beforeRouteEnter(e,a,t){t((e=>{"SpareAttributes.Edit"==a.name?e.meta.page=e.$store.getters.current_page:e.meta.page=1}))},mounted(){this.index()},methods:{index(){let e=this,a=this.$loading.show();this.$store.dispatch("post",{uri:"paginateSpareAttributes",data:e.meta}).then((t=>{a.hide(),e.spareattributes=t.data.data,e.meta.totalRows=t.data.meta.total,e.meta.from=t.data.meta.from,e.meta.to=t.data.meta.to,e.meta.lastPage=t.data.meta.last_page,e.meta.maxPage=e.meta.lastPage>=3?3:e.meta.lastPage})).catch((function(t){a.hide(),e.errors=t.response.data.errors,e.$store.dispatch("error",t.response.data.message)}))},editSpareAttribute(e){this.$store.commit("setCurrentPage",parseInt(this.meta.page)),this.$router.push("/spare_attributes/"+e.spare_attribute_id+"/edit")},deleteSpareAttribute(e){let a=this,t=a.$loading.show();a.$store.dispatch("post",{uri:"deleteSpareAttribute",data:e}).then((e=>{t.hide(),a.$store.dispatch("success",e.data.message),a.index()})).catch((function(e){t.hide(),a.errors=e.response.data.errors,a.$store.dispatch("error",e.response.data.message)}))},search(){let e=this;e.meta.page=1,e.index()},onPageChange(e){this.meta.page=e,this.index()},sort(e){this.meta.keyword=e,this.meta.order_by="asc"==this.meta.order_by?"desc":"asc",this.index()},onPerPageChange(){let e=this;e.meta.page=1,e.index()}}};const pBe=(0,Ze.A)(_Be,[["render",uBe]]);var mBe=pBe;const bBe={class:""},kBe={class:"d-sm-flex align-items-center justify-content-between mb-2"},vBe={class:"breadcrumb fs-sm mb-1"},hBe={class:"breadcrumb-item","aria-current":"page"},yBe={class:"breadcrumb-item","aria-current":"page"},gBe={key:0,class:"breadcrumb-item","aria-current":"page"},fBe={key:1,class:"breadcrumb-item active","aria-current":"page"},LBe={class:"row"},CBe={class:"col-12"},wBe={class:"card card-one"},EBe={class:"card-header d-flex justify-content-between"},xBe={key:0,class:"card-title"},XBe={key:1,class:"card-title"},PBe={class:"card-body"},$Be={class:"row g-2"},SBe={class:"col-md-3"},ABe={class:"form-label"},DBe={key:0},TBe={class:"text-danger"},QBe={class:"col-md-3"},VBe=["disabled"],FBe={key:0,class:"invalid-feedback"},UBe={class:"col-md-3"},jBe={key:0,class:"invalid-feedback"},zBe={class:"col-md-3"},WBe={key:0,class:"invalid-feedback"},RBe={key:0,class:"col-md-4"},qBe=["value"],IBe={key:0,class:"invalid-feedback"},NBe={key:1,class:"col-md-4"},MBe={key:0,class:"invalid-feedback"},KBe={class:"col-md-4"},JBe={key:0,class:"invalid-feedback"},BBe={class:"col-md-4"},OBe={key:0,class:"invalid-feedback"},HBe={class:"card-footer text-end"},YBe={type:"submit",class:"btn btn-primary"},ZBe={key:0},GBe={key:1};function eOe(e,a,t,l,i,o){const d=(0,r.g2)("router-link"),c=(0,r.g2)("MultiSelect");return(0,r.uX)(),(0,r.CE)("div",bBe,[(0,r.Lk)("div",kBe,[(0,r.Lk)("div",null,[(0,r.Lk)("ol",vBe,[(0,r.Lk)("li",hBe,[(0,r.bF)(d,{to:"/dashboard"},{default:(0,r.k6)((()=>a[9]||(a[9]=[(0,r.eW)("Dashboard")]))),_:1})]),a[11]||(a[11]=(0,r.Lk)("li",{class:"breadcrumb-item","aria-current":"page"},[(0,r.Lk)("a",{href:"javascript:void(0)"},"Attributes")],-1)),(0,r.Lk)("li",yBe,[(0,r.bF)(d,{to:"/data_source_attributes"},{default:(0,r.k6)((()=>a[10]||(a[10]=[(0,r.eW)("Data Source Attributes")]))),_:1})]),i.status?((0,r.uX)(),(0,r.CE)("li",gBe,"New Data Source Attribute")):((0,r.uX)(),(0,r.CE)("li",fBe,"Update Data Source Attribute"))]),a[12]||(a[12]=(0,r.Lk)("h4",{class:"main-title mb-0"},"Data Source Attribute",-1))]),(0,r.bF)(d,{to:"/data_source_attributes",type:"submit",class:"btn btn-primary",style:{float:"right"}},{default:(0,r.k6)((()=>a[13]||(a[13]=[(0,r.Lk)("i",{class:"ri-list-check"},null,-1),(0,r.eW)(" DATA SOURCE ATTRIBUTES")]))),_:1})]),(0,r.Lk)("div",LBe,[(0,r.Lk)("div",CBe,[(0,r.Lk)("form",{onSubmit:a[8]||(a[8]=(0,s.D$)(((...e)=>o.submitForm&&o.submitForm(...e)),["prevent"]))},[(0,r.Lk)("div",wBe,[(0,r.Lk)("div",EBe,[i.status?((0,r.uX)(),(0,r.CE)("h6",xBe,"New Data Source Attribute")):((0,r.uX)(),(0,r.CE)("h6",XBe,"Update Data Source Attribute"))]),(0,r.Lk)("div",PBe,[(0,r.Lk)("div",$Be,[(0,r.Lk)("div",SBe,[(0,r.Lk)("div",ABe,[a[14]||(a[14]=(0,r.Lk)("label",{class:"form-label"},"Data Source Type",-1)),a[15]||(a[15]=(0,r.Lk)("span",{class:"text-danger"}," *",-1)),(0,r.bF)(c,{modelValue:i.data_source_attribute.data_source_types_obj,"onUpdate:modelValue":a[0]||(a[0]=e=>i.data_source_attribute.data_source_types_obj=e),filter:"",optionLabel:"data_source_type_name",options:i.data_source_types,placeholder:"Select Data Source Type",maxSelectedLabels:3,style:(0,n.Tr)([{width:"100%",height:"37px"},i.errors?.data_source_types?i.error_style:""])},null,8,["modelValue","options","style"]),i.errors?.data_source_types?((0,r.uX)(),(0,r.CE)("span",DBe,[(0,r.Lk)("small",TBe,(0,n.v_)(i.errors?.data_source_types[0]),1)])):(0,r.Q3)("",!0)])]),(0,r.Lk)("div",QBe,[a[16]||(a[16]=(0,r.Lk)("label",{class:"form-label"},"Field Name",-1)),a[17]||(a[17]=(0,r.Lk)("span",{class:"text-danger"}," *",-1)),(0,r.bo)((0,r.Lk)("input",{type:"text",placeholder:"Field Name ",class:(0,n.C4)(["form-control",{"is-invalid":i.errors.field_name}]),"onUpdate:modelValue":a[1]||(a[1]=e=>i.data_source_attribute.field_name=e),disabled:!i.status},null,10,VBe),[[s.Jo,i.data_source_attribute.field_name]]),i.errors.field_name?((0,r.uX)(),(0,r.CE)("span",FBe,(0,n.v_)(i.errors.field_name[0]),1)):(0,r.Q3)("",!0)]),(0,r.Lk)("div",UBe,[a[18]||(a[18]=(0,r.Lk)("label",{class:"form-label"},"Display Name",-1)),a[19]||(a[19]=(0,r.Lk)("span",{class:"text-danger"}," *",-1)),(0,r.bo)((0,r.Lk)("input",{type:"text",placeholder:"Display Name ",class:(0,n.C4)(["form-control",{"is-invalid":i.errors.display_name}]),"onUpdate:modelValue":a[2]||(a[2]=e=>i.data_source_attribute.display_name=e)},null,2),[[s.Jo,i.data_source_attribute.display_name]]),i.errors.display_name?((0,r.uX)(),(0,r.CE)("span",jBe,(0,n.v_)(i.errors.display_name[0]),1)):(0,r.Q3)("",!0)]),(0,r.Lk)("div",zBe,[a[21]||(a[21]=(0,r.Lk)("label",{class:"form-label"},"Field Type",-1)),a[22]||(a[22]=(0,r.Lk)("span",{class:"text-danger"}," *",-1)),(0,r.bo)((0,r.Lk)("select",{class:(0,n.C4)(["form-control",{"is-invalid":i.errors.field_type}]),"onUpdate:modelValue":a[3]||(a[3]=e=>i.data_source_attribute.field_type=e)},a[20]||(a[20]=[(0,r.Fv)('<option value="" data-v-217c1100>Select Field Type</option><option value="Text" data-v-217c1100>Text </option><option value="Dropdown" data-v-217c1100>Dropdown </option><option value="Number" data-v-217c1100>Number </option><option value="Date" data-v-217c1100>Date </option><option value="Date&amp;Time" data-v-217c1100>Date&amp;Time </option><option value="Color" data-v-217c1100>Color</option><option value="List" data-v-217c1100>List</option>',8)]),2),[[s.u1,i.data_source_attribute.field_type]]),i.errors.field_type?((0,r.uX)(),(0,r.CE)("span",WBe,(0,n.v_)(i.errors.field_type[0]),1)):(0,r.Q3)("",!0)]),i.list_parameters.length?((0,r.uX)(),(0,r.CE)("div",RBe,[a[24]||(a[24]=(0,r.Lk)("label",{class:"form-label"},"List",-1)),a[25]||(a[25]=(0,r.Lk)("span",{class:"text-danger"}," *",-1)),(0,r.bo)((0,r.Lk)("select",{class:(0,n.C4)(["form-control",{"is-invalid":i.errors.list_parameter_id}]),"onUpdate:modelValue":a[4]||(a[4]=e=>i.data_source_attribute.list_parameter_id=e)},[a[23]||(a[23]=(0,r.Lk)("option",{value:""},"Select List",-1)),((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(i.list_parameters,((e,a)=>((0,r.uX)(),(0,r.CE)("option",{key:a,value:e.list_parameter_id},(0,n.v_)(e.list_parameter_name),9,qBe)))),128))],2),[[s.u1,i.data_source_attribute.list_parameter_id]]),i.errors.list_parameter_id?((0,r.uX)(),(0,r.CE)("span",IBe,(0,n.v_)(i.errors.list_parameter_id[0]),1)):(0,r.Q3)("",!0)])):(0,r.Q3)("",!0),"Dropdown"===i.data_source_attribute.field_type?((0,r.uX)(),(0,r.CE)("div",NBe,[a[26]||(a[26]=(0,r.Lk)("label",{class:"form-label"},"Field Value",-1)),a[27]||(a[27]=(0,r.Lk)("span",{class:"text-danger"}," *",-1)),(0,r.bo)((0,r.Lk)("input",{type:"text",placeholder:"Field Value",class:(0,n.C4)(["form-control",{"is-invalid":i.errors.field_values}]),"onUpdate:modelValue":a[5]||(a[5]=e=>i.data_source_attribute.field_values=e)},null,2),[[s.Jo,i.data_source_attribute.field_values]]),i.errors.field_values?((0,r.uX)(),(0,r.CE)("span",MBe,(0,n.v_)(i.errors.field_values[0]),1)):(0,r.Q3)("",!0)])):(0,r.Q3)("",!0),(0,r.Lk)("div",KBe,[a[28]||(a[28]=(0,r.Lk)("label",{class:"form-label"},"Field Length",-1)),a[29]||(a[29]=(0,r.Lk)("span",{class:"text-danger"}," *",-1)),(0,r.bo)((0,r.Lk)("input",{type:"number",placeholder:"Maximum Length",class:(0,n.C4)(["form-control",{"is-invalid":i.errors.field_length}]),"onUpdate:modelValue":a[6]||(a[6]=e=>i.data_source_attribute.field_length=e)},null,2),[[s.Jo,i.data_source_attribute.field_length]]),i.errors.field_length?((0,r.uX)(),(0,r.CE)("span",JBe,(0,n.v_)(i.errors.field_length[0]),1)):(0,r.Q3)("",!0)]),(0,r.Lk)("div",BBe,[a[31]||(a[31]=(0,r.Lk)("label",{class:"form-label"},"Is Required",-1)),a[32]||(a[32]=(0,r.Lk)("span",{class:"text-danger"}," *",-1)),(0,r.bo)((0,r.Lk)("select",{class:(0,n.C4)(["form-control",{"is-invalid":i.errors.is_required}]),"onUpdate:modelValue":a[7]||(a[7]=e=>i.data_source_attribute.is_required=e)},a[30]||(a[30]=[(0,r.Lk)("option",{value:""},"Select Is Required",-1),(0,r.Lk)("option",{value:"1"},"Yes ",-1),(0,r.Lk)("option",{value:"0"},"No ",-1)]),2),[[s.u1,i.data_source_attribute.is_required]]),i.errors.is_required?((0,r.uX)(),(0,r.CE)("span",OBe,(0,n.v_)(i.errors.is_required[0]),1)):(0,r.Q3)("",!0)])])]),(0,r.Lk)("div",HBe,[(0,r.bF)(d,{type:"button",class:"btn btn-danger me-2",to:"/data_source_attributes"},{default:(0,r.k6)((()=>a[33]||(a[33]=[(0,r.Lk)("i",{class:"ri-close-line fs-18 lh-1"},null,-1),(0,r.eW)(" Discard")]))),_:1}),(0,r.Lk)("button",YBe,[i.status?((0,r.uX)(),(0,r.CE)("span",ZBe,a[34]||(a[34]=[(0,r.Lk)("i",{class:"ri-save-line fs-18 lh-1"},null,-1),(0,r.eW)(" Submit")]))):((0,r.uX)(),(0,r.CE)("span",GBe,a[35]||(a[35]=[(0,r.Lk)("i",{class:"ri-save-line fs-18 lh-1"},null,-1),(0,r.eW)(" Update")])))])])])],32)])])])}var aOe={components:{MultiSelect:Ru.A},name:"DataSourceAttributes.Create",data(){return{data_source_attribute:{field_name:"",display_name:"",field_type:"",field_values:"",field_length:"",is_required:"",data_source_type_id:"",data_source_types_obj:[],data_source_types:[],list_parameter_id:"",deleted_data_source_attribute_types:[]},deleted_data_source_attribute_types:[],data_source_types:[],data_source_attributes:[],list_parameters:[],errors:[],status:!0,data_source_type_status:!1,error_style:{"border-color":"#dc3545","padding-right":"calc(1.5em + 0.812rem)","background-image":"url(\"data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 12 12' width='12' height='12' fill='none' stroke='%23dc3545'%3e%3ccircle cx='6' cy='6' r='4.5'/%3e%3cpath stroke-linejoin='round' d='M5.8 3.6h.4L6 6.5z'/%3e%3ccircle cx='6' cy='8.2' r='.6' fill='%23dc3545' stroke='none'/%3e%3c/svg%3e\")","background-repeat":"no-repeat","background-position":"right calc(0.375em + 0.203rem) center","background-size":"calc(0.75em + 0.406rem) calc(0.75em + 0.406rem)"}}},beforeRouteEnter(e,a,t){t((a=>{if(a.getDataSourceTypes(),"DataSourceAttributes.Create"==e.name);else{a.status=!1;let t={uri:"getDataSourceAttribute",data:{data_source_attribute_id:e.params.data_source_attribute_id}};a.$store.dispatch("post",t).then((function(e){a.data_source_attribute=e.data.data,a.data_source_attribute.deleted_data_source_attribute_types=[],a.data_source_attribute.data_source_types_obj=[],a.data_source_attribute.data_source_attribute_types.map((function(e){a.data_source_attribute.data_source_types_obj.push({data_source_type_code:e.data_source_type.data_source_type_code,data_source_type_id:e.data_source_type.data_source_type_id,status:e.data_source_type.status,data_source_type_name:e.data_source_type.data_source_type_name})}))})).catch((function(e){a.errors=e.response.data.errors,a.$store.dispatch("error",e.response.data.message)}))}}))},watch:{"data_source_attribute.field_type":function(){"List"==this.data_source_attribute.field_type?this.getListParameters():(this.list_parameters=[],this.data_source_attribute.list_parameter_id="")}},methods:{updateActivityType(e,a){let t=this;const s=e.target.checked;let r=a?.data_source_attribute_types?.filter((function(a){return console.log("ele--",a),a.data_source_type_id==e.target.value}));if(r?.length){let e=r[0].data_source_attribute_type_id;if(s){if(t.data_source_attribute.deleted_data_source_attribute_types.includes(e)){let a=this.data_source_attribute.deleted_data_source_attribute_types.filter((function(a){return a!=e}));t.data_source_attribute.deleted_data_source_attribute_types=a}}else t.data_source_attribute.deleted_data_source_attribute_types.includes(e)||t.data_source_attribute.deleted_data_source_attribute_types.push(e)}},toggleDataSourceTypeStatus(){this.data_source_type_status=!this.data_source_type_status},submitForm(){let e=this;e.status?e.addDataSourceAttribute():e.updateDataSourceAttribute()},getDataSourceTypes(){let e=this,a=e.$loading.show();e.$store.dispatch("post",{uri:"getDataSourceTypes"}).then((t=>{a.hide(),e.data_source_types=t.data.data})).catch((function(t){a.hide(),e.errors=t.response.data.errors,e.$store.dispatch("error",t.response.data.message)}))},addDataSourceAttribute(){let e=this,a=this.$loading.show();e.data_source_attribute.data_source_types_obj.map((function(a){e.data_source_attribute.data_source_types.push(a.data_source_type_id)})),this.$store.dispatch("post",{uri:"addDataSourceAttribute",data:this.data_source_attribute}).then((t=>{a.hide(),this.$store.dispatch("success","Data Source Attribute Created Successfully"),e.$router.push("/data_source_attributes")})).catch((function(t){a.hide(),e.errors=t.response.data.errors,e.$store.dispatch("error",t.response.data.message)}))},updateDataSourceAttribute(){let e=this,a=this.$loading.show();e.data_source_attribute.deleted_data_source_attribute_types=e.data_source_attribute?.data_source_attribute_types.filter((a=>!e.data_source_attribute.data_source_types_obj.some((e=>a.data_source_type_id===e.data_source_type_id)))),e.data_source_attribute.data_source_types=e.data_source_attribute.data_source_types_obj.map((e=>e.data_source_type_id)),e.data_source_attribute.deleted_data_source_attribute_types=e.data_source_attribute.deleted_data_source_attribute_types.map((e=>e.data_source_attribute_type_id)),this.$store.dispatch("post",{uri:"updateDataSourceAttribute",data:e.data_source_attribute}).then((e=>{a.hide(),this.$store.dispatch("success","Data Source Attribute Updated Successfully"),this.$router.push("/data_source_attributes")})).catch((function(t){a.hide(),e.errors=t.response.data.errors,e.$store.dispatch("error",t.response.data.message)}))},getDataSourceAttribute(){let e=this,a=this.$loading.show();this.$store.dispatch("post",{uri:"getDataSourceAttribute",data:this.data_source_attribute}).then((e=>{a.hide(),this.data_source_attributes=e.data.data})).catch((function(t){a.hide(),e.errors=t.response.data.errors,e.$store.dispatch("error",t.response.data.message)}))},getListParameters(){let e=this,a=this.$loading.show();e.$store.dispatch("post",{uri:"getListParameters"}).then((t=>{a.hide(),e.list_parameters=t.data.data})).catch((function(t){a.hide(),e.errors=t.response.data.errors,e.$store.dispatch("error",t.response.data.message)}))},discard(){let e=this;e.data_source_attribute.field_name="",e.data_source_attribute.field_type="",e.data_source_attribute.display_name="",e.data_source_attribute.field_values="",e.data_source_attribute.field_length="",e.data_source_attribute.is_required="",e.data_source_attribute.data_source_type_id="",e.data_source_attribute.list_parameter_id="",e.data_source_attribute.data_source_types=[],e.errors=[],e.status=!0}}};const tOe=(0,Ze.A)(aOe,[["render",eOe],["__scopeId","data-v-217c1100"]]);var sOe=tOe;const rOe={class:""},lOe={class:"d-sm-flex align-items-center justify-content-between mb-2"},iOe={class:"breadcrumb fs-sm mb-1"},oOe={class:"breadcrumb-item","aria-current":"page"},dOe={class:"row"},nOe={class:"col-12"},cOe={class:"card card-one"},uOe={class:"card-body"},_Oe={class:"table-responsive table-responsive-sm"},pOe={class:"table table-sm text-nowrap table-striped table-bordered mb-0"},mOe={style:{"background-color":"#9b9b9b",color:"white"}},bOe={key:0,class:"ri-arrow-up-line"},kOe={key:1,class:"ri-arrow-down-line"},vOe={key:2,class:"fas fa-sort"},hOe={key:0,class:"ri-arrow-up-line"},yOe={key:1,class:"ri-arrow-down-line"},gOe={key:2,class:"fas fa-sort"},fOe={key:0,class:"ri-arrow-up-line"},LOe={key:1,class:"ri-arrow-down-line"},COe={key:2,class:"fas fa-sort"},wOe={key:0,class:"ri-arrow-up-line"},EOe={key:1,class:"ri-arrow-down-line"},xOe={key:2,class:"fas fa-sort"},XOe={key:0,class:"ri-arrow-up-line"},POe={key:1,class:"ri-arrow-down-line"},$Oe={key:2,class:"fas fa-sort"},SOe={key:0,class:"ri-arrow-up-line"},AOe={key:1,class:"ri-arrow-down-line"},DOe={key:2,class:"fas fa-sort"},TOe={class:"text-center"},QOe={class:"text-center"},VOe={key:0},FOe={class:"text-center"},UOe={class:"text-center"},jOe={class:"form-switch"},zOe=["id","checked","value","onChange"],WOe=["for"],ROe={class:"text-center"},qOe=["onClick"],IOe={class:"card-footer"},NOe={class:"d-flex justify-content-between align-items-center"};function MOe(e,a,t,l,i,o){const d=(0,r.g2)("router-link"),c=(0,r.g2)("Pagination"),u=(0,r.gN)("can");return(0,r.uX)(),(0,r.CE)("div",rOe,[(0,r.Lk)("div",lOe,[(0,r.Lk)("div",null,[(0,r.Lk)("ol",iOe,[(0,r.Lk)("li",oOe,[(0,r.bF)(d,{to:"/dashboard"},{default:(0,r.k6)((()=>a[10]||(a[10]=[(0,r.eW)("Dashboard")]))),_:1})]),a[11]||(a[11]=(0,r.Lk)("li",{class:"breadcrumb-item","aria-current":"page"},[(0,r.Lk)("a",{href:"javascript:void(0)"},"Attributes")],-1)),a[12]||(a[12]=(0,r.Lk)("li",{class:"breadcrumb-item active","aria-current":"page"},[(0,r.Lk)("a",{href:"javascript:void(0)"},"Data Source Attributes")],-1))]),a[13]||(a[13]=(0,r.Lk)("h4",{class:"main-title mb-0"},"Data Source Attributes",-1))]),(0,r.bo)(((0,r.uX)(),(0,r.Wv)(d,{to:"/data_source_attributes/create",class:"btn btn-primary",style:{float:"right"}},{default:(0,r.k6)((()=>a[14]||(a[14]=[(0,r.Lk)("i",{class:"ri-list-check"},null,-1),(0,r.eW)(" ADD DATA SOURCE ATTRIBUTE")]))),_:1})),[[u,"data_source_attributes.create"]])]),(0,r.Lk)("div",dOe,[(0,r.Lk)("div",nOe,[(0,r.Lk)("div",cOe,[a[28]||(a[28]=(0,r.Lk)("div",{class:"card-header d-flex justify-content-between"},[(0,r.Lk)("h6",{class:"card-title"},"Data Source Attributes")],-1)),(0,r.Lk)("div",uOe,[(0,r.bo)((0,r.Lk)("input",{class:"form-control form-control-sm mb-2",type:"text",placeholder:"Type keyword and press enter key","onUpdate:modelValue":a[0]||(a[0]=e=>i.meta.search=e),onKeypress:a[1]||(a[1]=(0,s.jR)((e=>o.search()),["enter"]))},null,544),[[s.Jo,i.meta.search]]),(0,r.Lk)("div",_Oe,[(0,r.Lk)("table",pOe,[(0,r.Lk)("thead",null,[(0,r.Lk)("tr",mOe,[a[23]||(a[23]=(0,r.Lk)("th",{class:"text-center"},"#",-1)),(0,r.Lk)("th",{onClick:a[2]||(a[2]=e=>o.sort("field_name"))},[a[15]||(a[15]=(0,r.eW)(" Field Name ")),(0,r.Lk)("span",null,["field_name"==i.meta.keyword&&"asc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",bOe)):"field_name"==i.meta.keyword&&"desc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",kOe)):((0,r.uX)(),(0,r.CE)("i",vOe))])]),(0,r.Lk)("th",{onClick:a[3]||(a[3]=e=>o.sort("display_name"))},[a[16]||(a[16]=(0,r.eW)(" Display Name ")),(0,r.Lk)("span",null,["display_name"==i.meta.keyword&&"asc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",hOe)):"display_name"==i.meta.keyword&&"desc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",yOe)):((0,r.uX)(),(0,r.CE)("i",gOe))])]),(0,r.Lk)("th",{onClick:a[4]||(a[4]=e=>o.sort("field_type"))},[a[17]||(a[17]=(0,r.eW)(" Field Type ")),(0,r.Lk)("span",null,["field_type"==i.meta.keyword&&"asc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",fOe)):"field_type"==i.meta.keyword&&"desc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",LOe)):((0,r.uX)(),(0,r.CE)("i",COe))])]),(0,r.Lk)("th",{onClick:a[5]||(a[5]=e=>o.sort("field_values"))},[a[18]||(a[18]=(0,r.eW)(" Field Values ")),(0,r.Lk)("span",null,["field_values"==i.meta.keyword&&"asc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",wOe)):"field_values"==i.meta.keyword&&"desc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",EOe)):((0,r.uX)(),(0,r.CE)("i",xOe))])]),(0,r.Lk)("th",{onClick:a[6]||(a[6]=e=>o.sort("field_length"))},[a[19]||(a[19]=(0,r.eW)(" Field Length ")),(0,r.Lk)("span",null,["field_length"==i.meta.keyword&&"asc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",XOe)):"field_length"==i.meta.keyword&&"desc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",POe)):((0,r.uX)(),(0,r.CE)("i",$Oe))])]),(0,r.Lk)("th",{onClick:a[7]||(a[7]=e=>o.sort("is_required"))},[a[20]||(a[20]=(0,r.eW)(" Is Required ")),(0,r.Lk)("span",null,["is_required"==i.meta.keyword&&"asc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",SOe)):"is_required"==i.meta.keyword&&"desc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",AOe)):((0,r.uX)(),(0,r.CE)("i",DOe))])]),a[24]||(a[24]=(0,r.Lk)("th",null," Data Source Type ",-1)),(0,r.bo)(((0,r.uX)(),(0,r.CE)("th",TOe,a[21]||(a[21]=[(0,r.eW)("Status")]))),[[u,"data_source_attributes.delete"]]),(0,r.bo)(((0,r.uX)(),(0,r.CE)("th",QOe,a[22]||(a[22]=[(0,r.eW)("Actions")]))),[[u,"data_source_attributes.update"]])])]),(0,r.Lk)("tbody",null,[0==i.datasourceattributes.length?((0,r.uX)(),(0,r.CE)("tr",VOe,a[25]||(a[25]=[(0,r.Lk)("td",{colspan:"10",class:"text-center"},"No records found",-1)]))):(0,r.Q3)("",!0),((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(i.datasourceattributes,((e,t)=>((0,r.uX)(),(0,r.CE)("tr",{key:t},[(0,r.Lk)("td",FOe,(0,n.v_)(i.meta.from+t),1),(0,r.Lk)("td",null,(0,n.v_)(e.field_name),1),(0,r.Lk)("td",null,(0,n.v_)(e.display_name),1),(0,r.Lk)("td",null,(0,n.v_)(e.field_type),1),(0,r.Lk)("td",null,(0,n.v_)(e.field_values),1),(0,r.Lk)("td",null,(0,n.v_)(e.field_length),1),(0,r.Lk)("td",null,(0,n.v_)(1==e?.is_required?"Yes":"No"),1),(0,r.Lk)("td",null,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(e.data_source_attribute_types,((e,a)=>((0,r.uX)(),(0,r.CE)("span",{key:a},(0,n.v_)(e?.data_source_type?.data_source_type_name)+", ",1)))),128))]),(0,r.bo)(((0,r.uX)(),(0,r.CE)("td",UOe,[(0,r.Lk)("div",jOe,[(0,r.Lk)("input",{class:"form-check-input",type:"checkbox",role:"switch",id:"datasourceattribute"+e.data_source_attribute_id,checked:e.status,value:e.status,onChange:a=>o.deleteDataSourceAttribute(e)},null,40,zOe),(0,r.Lk)("label",{class:"custom-control-label",for:"user"+e.data_source_attribute_id},null,8,WOe)])])),[[u,"data_source_attributes.delete"]]),(0,r.bo)(((0,r.uX)(),(0,r.CE)("td",ROe,[e.status?((0,r.uX)(),(0,r.CE)("a",{key:0,href:"javascript:void(0)",class:"text-success",onClick:a=>o.editDataSourceAttribute(e)},a[26]||(a[26]=[(0,r.Lk)("i",{class:"ri-pencil-line fs-18 lh-1"},null,-1)]),8,qOe)):(0,r.Q3)("",!0)])),[[u,"data_source_attributes.update"]])])))),128))])])])]),(0,r.Lk)("div",IOe,[(0,r.Lk)("div",NOe,[(0,r.bo)((0,r.Lk)("select",{class:"form-select from-select-sm width-75","onUpdate:modelValue":a[8]||(a[8]=e=>i.meta.per_page=e),onChange:a[9]||(a[9]=(...e)=>o.onPerPageChange&&o.onPerPageChange(...e))},a[27]||(a[27]=[(0,r.Lk)("option",null,"10",-1),(0,r.Lk)("option",null,"15",-1),(0,r.Lk)("option",null,"20",-1),(0,r.Lk)("option",null,"25",-1),(0,r.Lk)("option",null,"30",-1)]),544),[[s.u1,i.meta.per_page]]),(0,r.Lk)("span",null,"Showing "+(0,n.v_)(i.meta.from)+" to "+(0,n.v_)(i.meta.to)+" of "+(0,n.v_)(i.meta.totalRows)+" entries",1),(0,r.bF)(c,{maxPage:i.meta.maxPage,totalPages:i.meta.lastPage,currentPage:parseInt(i.meta.page),onPagechanged:o.onPageChange},null,8,["maxPage","totalPages","currentPage","onPagechanged"])])])])])])])}var KOe={components:{Pagination:md},data(){return{meta:{search:"",order_by:"desc",keyword:"data_source_attribute_id",per_page:10,totalRows:0,page:1,lastPage:1,from:1,to:1,maxPage:1,trashed:!1},datasourceattributes:[],errors:[],status:!0}},beforeRouteEnter(e,a,t){t((e=>{"DataSourceAttributes.Edit"==a.name?e.meta.page=e.$store.getters.current_page:e.meta.page=1}))},mounted(){this.index()},methods:{index(){let e=this,a=this.$loading.show();this.$store.dispatch("post",{uri:"paginateDataSourceAttributes",data:e.meta}).then((t=>{a.hide(),e.datasourceattributes=t.data.data,e.meta.totalRows=t.data.meta.total,e.meta.from=t.data.meta.from,e.meta.to=t.data.meta.to,e.meta.lastPage=t.data.meta.last_page,e.meta.maxPage=e.meta.lastPage>=3?3:e.meta.lastPage})).catch((function(t){a.hide(),e.errors=t.response.data.errors,e.$store.dispatch("error",t.response.data.message)}))},editDataSourceAttribute(e){this.$store.commit("setCurrentPage",parseInt(this.meta.page)),this.$router.push("/data_source_attributes/"+e.data_source_attribute_id+"/edit")},deleteDataSourceAttribute(e){let a=this,t=a.$loading.show();a.$store.dispatch("post",{uri:"deleteDataSourceAttribute",data:e}).then((e=>{t.hide(),a.$store.dispatch("success",e.data.message),a.index()})).catch((function(e){t.hide(),a.errors=e.response.data.errors,a.$store.dispatch("error",e.response.data.message)}))},search(){let e=this;e.meta.page=1,e.index()},onPageChange(e){this.meta.page=e,this.index()},sort(e){this.meta.keyword=e,this.meta.order_by="asc"==this.meta.order_by?"desc":"asc",this.index()},onPerPageChange(){let e=this;e.meta.page=1,e.index()}}};const JOe=(0,Ze.A)(KOe,[["render",MOe]]);var BOe=JOe;const OOe={class:""},HOe={class:"d-sm-flex align-items-center justify-content-between mb-2"},YOe={class:"breadcrumb fs-sm mb-1"},ZOe={class:"breadcrumb-item","aria-current":"page"},GOe={class:"breadcrumb-item","aria-current":"page"},eHe={key:0,class:"breadcrumb-item","aria-current":"page"},aHe={key:1,class:"breadcrumb-item active","aria-current":"page"},tHe={class:"row"},sHe={class:"col-12"},rHe={class:"card card-one"},lHe={class:"card-header d-flex justify-content-between"},iHe={key:0,class:"card-title"},oHe={key:1,class:"card-title"},dHe={class:"card-body"},nHe={class:"row g-2"},cHe={class:"col-md-3"},uHe={class:"form-label"},_He={key:0},pHe={class:"text-danger"},mHe={class:"col-md-3"},bHe=["disabled"],kHe={key:0,class:"invalid-feedback"},vHe={class:"col-md-3"},hHe={key:0,class:"invalid-feedback"},yHe={class:"col-md-3"},gHe=["disabled"],fHe={key:0,class:"invalid-feedback"},LHe={key:0,class:"col-md-4"},CHe=["value"],wHe={key:0,class:"invalid-feedback"},EHe={key:1,class:"col-md-4"},xHe={key:0,class:"invalid-feedback"},XHe={class:"col-md-4"},PHe={key:0,class:"invalid-feedback"},$He={class:"col-md-4"},SHe={key:0,class:"invalid-feedback"},AHe={class:"card-footer text-end"},DHe={type:"submit",class:"btn btn-primary"},THe={key:0},QHe={key:1};function VHe(e,a,t,l,i,o){const d=(0,r.g2)("router-link"),c=(0,r.g2)("MultiSelect");return(0,r.uX)(),(0,r.CE)("div",OOe,[(0,r.Lk)("div",HOe,[(0,r.Lk)("div",null,[(0,r.Lk)("ol",YOe,[(0,r.Lk)("li",ZOe,[(0,r.bF)(d,{to:"/dashboard"},{default:(0,r.k6)((()=>a[9]||(a[9]=[(0,r.eW)("Dashboard")]))),_:1})]),a[11]||(a[11]=(0,r.Lk)("li",{class:"breadcrumb-item","aria-current":"page"},[(0,r.Lk)("a",{href:"javascript:void(0)"},"Attributes")],-1)),(0,r.Lk)("li",GOe,[(0,r.bF)(d,{to:"/variable_attributes"},{default:(0,r.k6)((()=>a[10]||(a[10]=[(0,r.eW)("Variable Attributes")]))),_:1})]),i.status?((0,r.uX)(),(0,r.CE)("li",eHe,"New Variable Attribute")):((0,r.uX)(),(0,r.CE)("li",aHe,"Update Variable Attribute"))]),a[12]||(a[12]=(0,r.Lk)("h4",{class:"main-title mb-0"},"Variable Attribute",-1))]),(0,r.bF)(d,{to:"/variable_attributes",type:"submit",class:"btn btn-primary",style:{float:"right"}},{default:(0,r.k6)((()=>a[13]||(a[13]=[(0,r.Lk)("i",{class:"ri-list-check"},null,-1),(0,r.eW)(" VARIABLE ATTRIBUTES")]))),_:1})]),(0,r.Lk)("div",tHe,[(0,r.Lk)("div",sHe,[(0,r.Lk)("form",{onSubmit:a[8]||(a[8]=(0,s.D$)(((...e)=>o.submitForm&&o.submitForm(...e)),["prevent"]))},[(0,r.Lk)("div",rHe,[(0,r.Lk)("div",lHe,[i.status?((0,r.uX)(),(0,r.CE)("h6",iHe,"New Variable Attribute")):((0,r.uX)(),(0,r.CE)("h6",oHe,"Update Variable Attribute"))]),(0,r.Lk)("div",dHe,[(0,r.Lk)("div",nHe,[(0,r.Lk)("div",cHe,[(0,r.Lk)("div",uHe,[a[14]||(a[14]=(0,r.Lk)("label",{class:"form-label"},"Variable Type",-1)),a[15]||(a[15]=(0,r.Lk)("span",{class:"text-danger"}," *",-1)),(0,r.bF)(c,{modelValue:i.variable_attribute.variable_types_obj,"onUpdate:modelValue":a[0]||(a[0]=e=>i.variable_attribute.variable_types_obj=e),filter:"",optionLabel:"variable_type_name",options:i.variable_types,placeholder:"Select Data Source Type",maxSelectedLabels:3,style:(0,n.Tr)([{width:"100%",height:"37px"},i.errors?.variable_types?i.error_style:""])},null,8,["modelValue","options","style"]),i.errors?.variable_types?((0,r.uX)(),(0,r.CE)("span",_He,[(0,r.Lk)("small",pHe,(0,n.v_)(i.errors?.variable_types[0]),1)])):(0,r.Q3)("",!0)])]),(0,r.Lk)("div",mHe,[a[16]||(a[16]=(0,r.Lk)("label",{class:"form-label"},"Field Name",-1)),a[17]||(a[17]=(0,r.Lk)("span",{class:"text-danger"}," *",-1)),(0,r.bo)((0,r.Lk)("input",{type:"text",placeholder:"Field Name ",class:(0,n.C4)(["form-control",{"is-invalid":i.errors.field_name}]),"onUpdate:modelValue":a[1]||(a[1]=e=>i.variable_attribute.field_name=e),disabled:!i.status},null,10,bHe),[[s.Jo,i.variable_attribute.field_name]]),i.errors.field_name?((0,r.uX)(),(0,r.CE)("span",kHe,(0,n.v_)(i.errors.field_name[0]),1)):(0,r.Q3)("",!0)]),(0,r.Lk)("div",vHe,[a[18]||(a[18]=(0,r.Lk)("label",{class:"form-label"},"Display Name",-1)),a[19]||(a[19]=(0,r.Lk)("span",{class:"text-danger"}," *",-1)),(0,r.bo)((0,r.Lk)("input",{type:"text",placeholder:"Display Name ",class:(0,n.C4)(["form-control",{"is-invalid":i.errors.display_name}]),"onUpdate:modelValue":a[2]||(a[2]=e=>i.variable_attribute.display_name=e)},null,2),[[s.Jo,i.variable_attribute.display_name]]),i.errors.display_name?((0,r.uX)(),(0,r.CE)("span",hHe,(0,n.v_)(i.errors.display_name[0]),1)):(0,r.Q3)("",!0)]),(0,r.Lk)("div",yHe,[a[21]||(a[21]=(0,r.Lk)("label",{class:"form-label"},"Field Type",-1)),a[22]||(a[22]=(0,r.Lk)("span",{class:"text-danger"}," *",-1)),(0,r.bo)((0,r.Lk)("select",{class:(0,n.C4)(["form-control",{"is-invalid":i.errors.field_type}]),"onUpdate:modelValue":a[3]||(a[3]=e=>i.variable_attribute.field_type=e),disabled:!i.status},a[20]||(a[20]=[(0,r.Fv)('<option value="" data-v-a7355c52>Select Field Type</option><option value="Text" data-v-a7355c52>Text </option><option value="Dropdown" data-v-a7355c52>Dropdown </option><option value="Number" data-v-a7355c52>Number </option><option value="Date" data-v-a7355c52>Date </option><option value="Date&amp;Time" data-v-a7355c52>Date&amp;Time </option><option value="Color" data-v-a7355c52>Color</option><option value="List" data-v-a7355c52>List</option>',8)]),10,gHe),[[s.u1,i.variable_attribute.field_type]]),i.errors.field_type?((0,r.uX)(),(0,r.CE)("span",fHe,(0,n.v_)(i.errors.field_type[0]),1)):(0,r.Q3)("",!0)]),i.list_parameters.length?((0,r.uX)(),(0,r.CE)("div",LHe,[a[24]||(a[24]=(0,r.Lk)("label",{class:"form-label"},"List",-1)),a[25]||(a[25]=(0,r.Lk)("span",{class:"text-danger"}," *",-1)),(0,r.bo)((0,r.Lk)("select",{class:(0,n.C4)(["form-control",{"is-invalid":i.errors.list_parameter_id}]),"onUpdate:modelValue":a[4]||(a[4]=e=>i.variable_attribute.list_parameter_id=e)},[a[23]||(a[23]=(0,r.Lk)("option",{value:""},"Select List",-1)),((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(i.list_parameters,((e,a)=>((0,r.uX)(),(0,r.CE)("option",{key:a,value:e.list_parameter_id},(0,n.v_)(e.list_parameter_name),9,CHe)))),128))],2),[[s.u1,i.variable_attribute.list_parameter_id]]),i.errors.list_parameter_id?((0,r.uX)(),(0,r.CE)("span",wHe,(0,n.v_)(i.errors.list_parameter_id[0]),1)):(0,r.Q3)("",!0)])):(0,r.Q3)("",!0),"Dropdown"===i.variable_attribute.field_type?((0,r.uX)(),(0,r.CE)("div",EHe,[a[26]||(a[26]=(0,r.Lk)("label",{class:"form-label"},"Field Value",-1)),a[27]||(a[27]=(0,r.Lk)("span",{class:"text-danger"}," *",-1)),(0,r.bo)((0,r.Lk)("input",{type:"text",placeholder:"Field Value",class:(0,n.C4)(["form-control",{"is-invalid":i.errors.field_values}]),"onUpdate:modelValue":a[5]||(a[5]=e=>i.variable_attribute.field_values=e)},null,2),[[s.Jo,i.variable_attribute.field_values]]),i.errors.field_values?((0,r.uX)(),(0,r.CE)("span",xHe,(0,n.v_)(i.errors.field_values[0]),1)):(0,r.Q3)("",!0)])):(0,r.Q3)("",!0),(0,r.Lk)("div",XHe,[a[28]||(a[28]=(0,r.Lk)("label",{class:"form-label"},"Field Length",-1)),a[29]||(a[29]=(0,r.Lk)("span",{class:"text-danger"}," *",-1)),(0,r.bo)((0,r.Lk)("input",{type:"number",placeholder:"Maximum Length",class:(0,n.C4)(["form-control",{"is-invalid":i.errors.field_length}]),"onUpdate:modelValue":a[6]||(a[6]=e=>i.variable_attribute.field_length=e)},null,2),[[s.Jo,i.variable_attribute.field_length]]),i.errors.field_length?((0,r.uX)(),(0,r.CE)("span",PHe,(0,n.v_)(i.errors.field_length[0]),1)):(0,r.Q3)("",!0)]),(0,r.Lk)("div",$He,[a[31]||(a[31]=(0,r.Lk)("label",{class:"form-label"},"Is Required",-1)),a[32]||(a[32]=(0,r.Lk)("span",{class:"text-danger"}," *",-1)),(0,r.bo)((0,r.Lk)("select",{class:(0,n.C4)(["form-control",{"is-invalid":i.errors.is_required}]),"onUpdate:modelValue":a[7]||(a[7]=e=>i.variable_attribute.is_required=e)},a[30]||(a[30]=[(0,r.Lk)("option",{value:""},"Select Is Required",-1),(0,r.Lk)("option",{value:"1"},"Yes ",-1),(0,r.Lk)("option",{value:"0"},"No ",-1)]),2),[[s.u1,i.variable_attribute.is_required]]),i.errors.is_required?((0,r.uX)(),(0,r.CE)("span",SHe,(0,n.v_)(i.errors.is_required[0]),1)):(0,r.Q3)("",!0)])])]),(0,r.Lk)("div",AHe,[(0,r.bF)(d,{type:"button",class:"btn btn-danger me-2",to:"/variable_attributes"},{default:(0,r.k6)((()=>a[33]||(a[33]=[(0,r.Lk)("i",{class:"ri-close-line fs-18 lh-1"},null,-1),(0,r.eW)(" Discard")]))),_:1}),(0,r.Lk)("button",DHe,[i.status?((0,r.uX)(),(0,r.CE)("span",THe,a[34]||(a[34]=[(0,r.Lk)("i",{class:"ri-save-line fs-18 lh-1"},null,-1),(0,r.eW)(" Submit")]))):((0,r.uX)(),(0,r.CE)("span",QHe,a[35]||(a[35]=[(0,r.Lk)("i",{class:"ri-save-line fs-18 lh-1"},null,-1),(0,r.eW)(" Update")])))])])])],32)])])])}var FHe={components:{MultiSelect:Ru.A},name:"VariableAttributes.Create",data(){return{variable_attribute:{field_name:"",display_name:"",field_type:"",field_values:"",field_length:"",is_required:"",variable_type_id:"",variable_types_obj:[],variable_types:[],list_parameter_id:"",deleted_variable_attribute_types:[]},deleted_variable_attribute_types:[],variable_types:[],variable_attributes:[],list_parameters:[],errors:[],status:!0,variable_type_status:!1,error_style:{"border-color":"#dc3545","padding-right":"calc(1.5em + 0.812rem)","background-image":"url(\"data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 12 12' width='12' height='12' fill='none' stroke='%23dc3545'%3e%3ccircle cx='6' cy='6' r='4.5'/%3e%3cpath stroke-linejoin='round' d='M5.8 3.6h.4L6 6.5z'/%3e%3ccircle cx='6' cy='8.2' r='.6' fill='%23dc3545' stroke='none'/%3e%3c/svg%3e\")","background-repeat":"no-repeat","background-position":"right calc(0.375em + 0.203rem) center","background-size":"calc(0.75em + 0.406rem) calc(0.75em + 0.406rem)"}}},beforeRouteEnter(e,a,t){t((a=>{if(a.getVariableTypes(),"VariableAttributes.Create"==e.name);else{a.status=!1;let t={uri:"getVariableAttribute",data:{variable_attribute_id:e.params.variable_attribute_id}};a.$store.dispatch("post",t).then((function(e){a.variable_attribute=e.data.data,a.variable_attribute.deleted_variable_attribute_types=[],a.variable_attribute.variable_types_obj=[],a.variable_attribute.variable_attribute_types.map((function(e){a.variable_attribute.variable_types_obj.push({variable_type_code:e.variable_type.variable_type_code,variable_type_id:e.variable_type.variable_type_id,status:e.variable_type.status,variable_type_name:e.variable_type.variable_type_name})}))})).catch((function(e){a.errors=e.response.data.errors,a.$store.dispatch("error",e.response.data.message)}))}}))},watch:{"variable_attribute.field_type":function(){"List"==this.variable_attribute.field_type?this.getListParameters():(this.list_parameters=[],this.variable_attribute.list_parameter_id="")}},methods:{updateActivityType(e,a){let t=this;const s=e.target.checked;let r=a?.variable_attribute_types?.filter((function(a){return a.variable_type_id==e.target.value}));if(r?.length){let e=r[0].variable_attribute_type_id;if(s){if(t.variable_attribute.deleted_variable_attribute_types.includes(e)){let a=this.variable_attribute.deleted_variable_attribute_types.filter((function(a){return a!=e}));t.variable_attribute.deleted_variable_attribute_types=a}}else t.variable_attribute.deleted_variable_attribute_types.includes(e)||t.variable_attribute.deleted_variable_attribute_types.push(e)}},toggleVariableTypeStatus(){this.variable_type_status=!this.variable_type_status},submitForm(){let e=this;e.status?e.addVariableAttribute():e.updateVariableAttribute()},getVariableTypes(){let e=this,a=e.$loading.show();e.$store.dispatch("post",{uri:"getVariableTypes"}).then((t=>{a.hide(),e.variable_types=t.data.data})).catch((function(t){a.hide(),e.errors=t.response.data.errors,e.$store.dispatch("error",t.response.data.message)}))},addVariableAttribute(){let e=this,a=e.$loading.show();e.variable_attribute.variable_types_obj.map((function(a){e.variable_attribute.variable_types.push(a.variable_type_id)})),e.$store.dispatch("post",{uri:"addVariableAttribute",data:e.variable_attribute}).then((t=>{a.hide(),e.$store.dispatch("success","Variable Attribute Created Successfully"),e.$router.push("/variable_attributes")})).catch((function(t){a.hide(),e.errors=t.response.data.errors,e.$store.dispatch("error",t.response.data.message)}))},updateVariableAttribute(){let e=this,a=e.$loading.show();e.variable_attribute.deleted_variable_attribute_types=e.variable_attribute?.variable_attribute_types.filter((a=>!e.variable_attribute.variable_types_obj.some((e=>a.variable_type_id===e.variable_type_id)))),e.variable_attribute.variable_types=e.variable_attribute.variable_types_obj.map((e=>e.variable_type_id)),e.variable_attribute.deleted_variable_attribute_types=e.variable_attribute.deleted_variable_attribute_types.map((e=>e.variable_attribute_type_id)),e.$store.dispatch("post",{uri:"updateVariableAttribute",data:e.variable_attribute}).then((t=>{a.hide(),e.$store.dispatch("success","Variable Attribute Updated Successfully"),e.$router.push("/variable_attributes")})).catch((function(t){a.hide(),e.errors=t.response.data.errors,e.$store.dispatch("error",t.response.data.message)}))},getVariableAttribute(){let e=this,a=this.$loading.show();this.$store.dispatch("post",{uri:"getVariableAttribute",data:this.variable_attribute}).then((e=>{a.hide(),this.variable_attributes=e.data.data})).catch((function(t){a.hide(),e.errors=t.response.data.errors,e.$store.dispatch("error",t.response.data.message)}))},getListParameters(){let e=this,a=this.$loading.show();e.$store.dispatch("post",{uri:"getListParameters"}).then((t=>{a.hide(),e.list_parameters=t.data.data})).catch((function(t){a.hide(),e.errors=t.response.data.errors,e.$store.dispatch("error",t.response.data.message)}))},discard(){let e=this;e.variable_attribute.field_name="",e.variable_attribute.field_type="",e.variable_attribute.display_name="",e.variable_attribute.field_values="",e.variable_attribute.field_length="",e.variable_attribute.is_required="",e.variable_attribute.variable_type_id="",e.variable_attribute.list_parameter_id="",e.variable_attribute.variable_types=[],e.errors=[],e.status=!0}}};const UHe=(0,Ze.A)(FHe,[["render",VHe],["__scopeId","data-v-a7355c52"]]);var jHe=UHe;const zHe={class:""},WHe={class:"d-sm-flex align-items-center justify-content-between mb-2"},RHe={class:"breadcrumb fs-sm mb-1"},qHe={class:"breadcrumb-item","aria-current":"page"},IHe={class:"row"},NHe={class:"col-12"},MHe={class:"card card-one"},KHe={class:"card-body"},JHe={class:"table-responsive table-responsive-sm"},BHe={class:"table table-sm text-nowrap table-striped table-bordered mb-0"},OHe={style:{"background-color":"#9b9b9b",color:"white"}},HHe={key:0,class:"ri-arrow-up-line"},YHe={key:1,class:"ri-arrow-down-line"},ZHe={key:2,class:"fas fa-sort"},GHe={key:0,class:"ri-arrow-up-line"},eYe={key:1,class:"ri-arrow-down-line"},aYe={key:2,class:"fas fa-sort"},tYe={key:0,class:"ri-arrow-up-line"},sYe={key:1,class:"ri-arrow-down-line"},rYe={key:2,class:"fas fa-sort"},lYe={key:0,class:"ri-arrow-up-line"},iYe={key:1,class:"ri-arrow-down-line"},oYe={key:2,class:"fas fa-sort"},dYe={key:0,class:"ri-arrow-up-line"},nYe={key:1,class:"ri-arrow-down-line"},cYe={key:2,class:"fas fa-sort"},uYe={key:0,class:"ri-arrow-up-line"},_Ye={key:1,class:"ri-arrow-down-line"},pYe={key:2,class:"fas fa-sort"},mYe={class:"text-center"},bYe={class:"text-center"},kYe={key:0},vYe={class:"text-center"},hYe={class:"text-center"},yYe={class:"form-switch"},gYe=["id","checked","value","onChange","disabled"],fYe=["for"],LYe={class:"text-center"},CYe=["onClick"],wYe={class:"card-footer"},EYe={class:"d-flex justify-content-between align-items-center"};function xYe(e,a,t,l,i,o){const d=(0,r.g2)("router-link"),c=(0,r.g2)("Pagination"),u=(0,r.gN)("can");return(0,r.uX)(),(0,r.CE)("div",zHe,[(0,r.Lk)("div",WHe,[(0,r.Lk)("div",null,[(0,r.Lk)("ol",RHe,[(0,r.Lk)("li",qHe,[(0,r.bF)(d,{to:"/dashboard"},{default:(0,r.k6)((()=>a[10]||(a[10]=[(0,r.eW)("Dashboard")]))),_:1})]),a[11]||(a[11]=(0,r.Lk)("li",{class:"breadcrumb-item","aria-current":"page"},[(0,r.Lk)("a",{href:"javascript:void(0)"},"Attributes")],-1)),a[12]||(a[12]=(0,r.Lk)("li",{class:"breadcrumb-item active","aria-current":"page"},[(0,r.Lk)("a",{href:"javascript:void(0)"},"Variable Attributes")],-1))]),a[13]||(a[13]=(0,r.Lk)("h4",{class:"main-title mb-0"},"Variable Attributes",-1))]),(0,r.bo)(((0,r.uX)(),(0,r.Wv)(d,{to:"/variable_attributes/create",class:"btn btn-primary",style:{float:"right"}},{default:(0,r.k6)((()=>a[14]||(a[14]=[(0,r.Lk)("i",{class:"ri-list-check"},null,-1),(0,r.eW)(" ADD VARIABLE ATTRIBUTE")]))),_:1})),[[u,"variable_attributes.create"]])]),(0,r.Lk)("div",IHe,[(0,r.Lk)("div",NHe,[(0,r.Lk)("div",MHe,[a[28]||(a[28]=(0,r.Lk)("div",{class:"card-header d-flex justify-content-between"},[(0,r.Lk)("h6",{class:"card-title"},"Variable Attributes")],-1)),(0,r.Lk)("div",KHe,[(0,r.bo)((0,r.Lk)("input",{class:"form-control form-control-sm mb-2",type:"text",placeholder:"Type keyword and press enter key","onUpdate:modelValue":a[0]||(a[0]=e=>i.meta.search=e),onKeypress:a[1]||(a[1]=(0,s.jR)((e=>o.search()),["enter"]))},null,544),[[s.Jo,i.meta.search]]),(0,r.Lk)("div",JHe,[(0,r.Lk)("table",BHe,[(0,r.Lk)("thead",null,[(0,r.Lk)("tr",OHe,[a[23]||(a[23]=(0,r.Lk)("th",{class:"text-center"},"#",-1)),(0,r.Lk)("th",{onClick:a[2]||(a[2]=e=>o.sort("field_name"))},[a[15]||(a[15]=(0,r.eW)(" Field Name ")),(0,r.Lk)("span",null,["field_name"==i.meta.keyword&&"asc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",HHe)):"field_name"==i.meta.keyword&&"desc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",YHe)):((0,r.uX)(),(0,r.CE)("i",ZHe))])]),(0,r.Lk)("th",{onClick:a[3]||(a[3]=e=>o.sort("display_name"))},[a[16]||(a[16]=(0,r.eW)(" Display Name ")),(0,r.Lk)("span",null,["display_name"==i.meta.keyword&&"asc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",GHe)):"display_name"==i.meta.keyword&&"desc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",eYe)):((0,r.uX)(),(0,r.CE)("i",aYe))])]),(0,r.Lk)("th",{onClick:a[4]||(a[4]=e=>o.sort("field_type"))},[a[17]||(a[17]=(0,r.eW)(" Field Type ")),(0,r.Lk)("span",null,["field_type"==i.meta.keyword&&"asc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",tYe)):"field_type"==i.meta.keyword&&"desc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",sYe)):((0,r.uX)(),(0,r.CE)("i",rYe))])]),(0,r.Lk)("th",{onClick:a[5]||(a[5]=e=>o.sort("field_values"))},[a[18]||(a[18]=(0,r.eW)(" Field Values ")),(0,r.Lk)("span",null,["field_values"==i.meta.keyword&&"asc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",lYe)):"field_values"==i.meta.keyword&&"desc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",iYe)):((0,r.uX)(),(0,r.CE)("i",oYe))])]),(0,r.Lk)("th",{onClick:a[6]||(a[6]=e=>o.sort("field_length"))},[a[19]||(a[19]=(0,r.eW)(" Field Length ")),(0,r.Lk)("span",null,["field_length"==i.meta.keyword&&"asc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",dYe)):"field_length"==i.meta.keyword&&"desc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",nYe)):((0,r.uX)(),(0,r.CE)("i",cYe))])]),(0,r.Lk)("th",{onClick:a[7]||(a[7]=e=>o.sort("is_required"))},[a[20]||(a[20]=(0,r.eW)(" Is Required ")),(0,r.Lk)("span",null,["is_required"==i.meta.keyword&&"asc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",uYe)):"is_required"==i.meta.keyword&&"desc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",_Ye)):((0,r.uX)(),(0,r.CE)("i",pYe))])]),a[24]||(a[24]=(0,r.Lk)("th",null," Variable Type ",-1)),(0,r.bo)(((0,r.uX)(),(0,r.CE)("th",mYe,a[21]||(a[21]=[(0,r.eW)("Status")]))),[[u,"variable_attributes.delete"]]),(0,r.bo)(((0,r.uX)(),(0,r.CE)("th",bYe,a[22]||(a[22]=[(0,r.eW)("Actions")]))),[[u,"variable_attributes.update"]])])]),(0,r.Lk)("tbody",null,[0==i.variableattributes.length?((0,r.uX)(),(0,r.CE)("tr",kYe,a[25]||(a[25]=[(0,r.Lk)("td",{colspan:"10",class:"text-center"},"No records found",-1)]))):(0,r.Q3)("",!0),((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(i.variableattributes,((e,t)=>((0,r.uX)(),(0,r.CE)("tr",{key:t},[(0,r.Lk)("td",vYe,(0,n.v_)(i.meta.from+t),1),(0,r.Lk)("td",null,(0,n.v_)(e.field_name),1),(0,r.Lk)("td",null,(0,n.v_)(e.display_name),1),(0,r.Lk)("td",null,(0,n.v_)(e.field_type),1),(0,r.Lk)("td",null,(0,n.v_)(e.field_values),1),(0,r.Lk)("td",null,(0,n.v_)(e.field_length),1),(0,r.Lk)("td",null,(0,n.v_)(1==e?.is_required?"Yes":"No"),1),(0,r.Lk)("td",null,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(e.variable_attribute_types,((e,a)=>((0,r.uX)(),(0,r.CE)("span",{key:a},(0,n.v_)(e?.variable_type?.variable_type_name)+", ",1)))),128))]),(0,r.bo)(((0,r.uX)(),(0,r.CE)("td",hYe,[(0,r.Lk)("div",yYe,[(0,r.Lk)("input",{class:"form-check-input",type:"checkbox",role:"switch",id:"variableattribute"+e.variable_attribute_id,checked:e.status,value:e.status,onChange:a=>o.deleteVariableAttribute(e),disabled:["var_lcl","var_ucl"].includes(e.field_name.toLowerCase())},null,40,gYe),(0,r.Lk)("label",{class:"custom-control-label",for:"user"+e.variable_attribute_id},null,8,fYe)])])),[[u,"variable_attributes.delete"]]),(0,r.bo)(((0,r.uX)(),(0,r.CE)("td",LYe,[e.status?((0,r.uX)(),(0,r.CE)("a",{key:0,href:"javascript:void(0)",class:"text-success",onClick:a=>o.editVariableAttribute(e)},a[26]||(a[26]=[(0,r.Lk)("i",{class:"ri-pencil-line fs-18 lh-1"},null,-1)]),8,CYe)):(0,r.Q3)("",!0)])),[[u,"variable_attributes.update"]])])))),128))])])])]),(0,r.Lk)("div",wYe,[(0,r.Lk)("div",EYe,[(0,r.bo)((0,r.Lk)("select",{class:"form-select from-select-sm width-75","onUpdate:modelValue":a[8]||(a[8]=e=>i.meta.per_page=e),onChange:a[9]||(a[9]=(...e)=>o.onPerPageChange&&o.onPerPageChange(...e))},a[27]||(a[27]=[(0,r.Lk)("option",null,"10",-1),(0,r.Lk)("option",null,"15",-1),(0,r.Lk)("option",null,"20",-1),(0,r.Lk)("option",null,"25",-1),(0,r.Lk)("option",null,"30",-1)]),544),[[s.u1,i.meta.per_page]]),(0,r.Lk)("span",null,"Showing "+(0,n.v_)(i.meta.from)+" to "+(0,n.v_)(i.meta.to)+" of "+(0,n.v_)(i.meta.totalRows)+" entries",1),(0,r.bF)(c,{maxPage:i.meta.maxPage,totalPages:i.meta.lastPage,currentPage:parseInt(i.meta.page),onPagechanged:o.onPageChange},null,8,["maxPage","totalPages","currentPage","onPagechanged"])])])])])])])}var XYe={components:{Pagination:md},data(){return{meta:{search:"",order_by:"desc",keyword:"variable_attribute_id",per_page:10,totalRows:0,page:1,lastPage:1,from:1,to:1,maxPage:1,trashed:!1},variableattributes:[],errors:[],status:!0}},beforeRouteEnter(e,a,t){t((e=>{"VariableAttributes.Edit"==a.name?e.meta.page=e.$store.getters.current_page:e.meta.page=1}))},mounted(){this.index()},methods:{index(){let e=this,a=this.$loading.show();this.$store.dispatch("post",{uri:"paginateVariableAttributes",data:e.meta}).then((t=>{a.hide(),e.variableattributes=t.data.data,e.meta.totalRows=t.data.meta.total,e.meta.from=t.data.meta.from,e.meta.to=t.data.meta.to,e.meta.lastPage=t.data.meta.last_page,e.meta.maxPage=e.meta.lastPage>=3?3:e.meta.lastPage})).catch((function(t){a.hide(),e.errors=t.response.data.errors,e.$store.dispatch("error",t.response.data.message)}))},editVariableAttribute(e){this.$store.commit("setCurrentPage",parseInt(this.meta.page)),this.$router.push("/variable_attributes/"+e.variable_attribute_id+"/edit")},deleteVariableAttribute(e){let a=this,t=a.$loading.show();a.$store.dispatch("post",{uri:"deleteVariableAttribute",data:e}).then((e=>{t.hide(),a.$store.dispatch("success",e.data.message),a.index()})).catch((function(e){t.hide(),a.errors=e.response.data.errors,a.$store.dispatch("error",e.response.data.message)}))},search(){let e=this;e.meta.page=1,e.index()},onPageChange(e){this.meta.page=e,this.index()},sort(e){this.meta.keyword=e,this.meta.order_by="asc"==this.meta.order_by?"desc":"asc",this.index()},onPerPageChange(){let e=this;e.meta.page=1,e.index()}}};const PYe=(0,Ze.A)(XYe,[["render",xYe]]);var $Ye=PYe;const SYe={class:""},AYe={class:"d-sm-flex align-items-center justify-content-between mb-2"},DYe={class:"breadcrumb fs-sm mb-1"},TYe={class:"breadcrumb-item","aria-current":"page"},QYe={class:"breadcrumb-item","aria-current":"page"},VYe={key:0,class:"breadcrumb-item","aria-current":"page"},FYe={key:1,class:"breadcrumb-item active","aria-current":"page"},UYe={class:"row"},jYe={class:"col-12"},zYe={class:"card card-one"},WYe={class:"card-header d-flex justify-content-between"},RYe={key:0,class:"card-title"},qYe={key:1,class:"card-title"},IYe={class:"card-body"},NYe={class:"row g-2"},MYe={class:"col-md-3"},KYe={class:"form-label"},JYe={key:0},BYe={class:"text-danger"},OYe={class:"col-md-3"},HYe=["disabled"],YYe={key:0,class:"invalid-feedback"},ZYe={class:"col-md-3"},GYe={key:0,class:"invalid-feedback"},eZe={class:"col-md-3"},aZe={key:0,class:"invalid-feedback"},tZe={key:0,class:"col-md-4"},sZe=["value"],rZe={key:0,class:"invalid-feedback"},lZe={key:1,class:"col-md-4"},iZe={key:0,class:"invalid-feedback"},oZe={class:"col-md-4"},dZe={key:0,class:"invalid-feedback"},nZe={class:"col-md-4"},cZe={key:0,class:"invalid-feedback"},uZe={class:"card-footer text-end"},_Ze={type:"submit",class:"btn btn-primary"},pZe={key:0},mZe={key:1};function bZe(e,a,t,l,i,o){const d=(0,r.g2)("router-link"),c=(0,r.g2)("MultiSelect");return(0,r.uX)(),(0,r.CE)("div",SYe,[(0,r.Lk)("div",AYe,[(0,r.Lk)("div",null,[(0,r.Lk)("ol",DYe,[(0,r.Lk)("li",TYe,[(0,r.bF)(d,{to:"/dashboard"},{default:(0,r.k6)((()=>a[9]||(a[9]=[(0,r.eW)("Dashboard")]))),_:1})]),a[11]||(a[11]=(0,r.Lk)("li",{class:"breadcrumb-item","aria-current":"page"},[(0,r.Lk)("a",{href:"javascript:void(0)"},"Attributes")],-1)),(0,r.Lk)("li",QYe,[(0,r.bF)(d,{to:"/service_attributes"},{default:(0,r.k6)((()=>a[10]||(a[10]=[(0,r.eW)("Service Attributes")]))),_:1})]),i.status?((0,r.uX)(),(0,r.CE)("li",VYe,"New Service Attribute")):((0,r.uX)(),(0,r.CE)("li",FYe,"Update Service Attribute"))]),a[12]||(a[12]=(0,r.Lk)("h4",{class:"main-title mb-0"},"Service Attribute",-1))]),(0,r.bF)(d,{to:"/service_attributes",type:"submit",class:"btn btn-primary",style:{float:"right"}},{default:(0,r.k6)((()=>a[13]||(a[13]=[(0,r.Lk)("i",{class:"ri-list-check"},null,-1),(0,r.eW)(" SERVICE ATTRIBUTES")]))),_:1})]),(0,r.Lk)("div",UYe,[(0,r.Lk)("div",jYe,[(0,r.Lk)("form",{onSubmit:a[8]||(a[8]=(0,s.D$)(((...e)=>o.submitForm&&o.submitForm(...e)),["prevent"]))},[(0,r.Lk)("div",zYe,[(0,r.Lk)("div",WYe,[i.status?((0,r.uX)(),(0,r.CE)("h6",RYe,"New Service Attribute")):((0,r.uX)(),(0,r.CE)("h6",qYe,"Update Service Attribute"))]),(0,r.Lk)("div",IYe,[(0,r.Lk)("div",NYe,[(0,r.Lk)("div",MYe,[(0,r.Lk)("div",KYe,[a[14]||(a[14]=(0,r.Lk)("label",{class:"form-label"},"Service Type",-1)),a[15]||(a[15]=(0,r.Lk)("span",{class:"text-danger"}," *",-1)),(0,r.bF)(c,{modelValue:i.service_attribute.service_types_obj,"onUpdate:modelValue":a[0]||(a[0]=e=>i.service_attribute.service_types_obj=e),filter:"",optionLabel:"service_type_name",options:i.service_types,placeholder:"Select Service Type",maxSelectedLabels:3,style:(0,n.Tr)([{width:"100%",height:"37px"},i.errors?.service_types?i.error_style:""])},null,8,["modelValue","options","style"]),i.errors?.service_types?((0,r.uX)(),(0,r.CE)("span",JYe,[(0,r.Lk)("small",BYe,(0,n.v_)(i.errors?.service_types[0]),1)])):(0,r.Q3)("",!0)])]),(0,r.Lk)("div",OYe,[a[16]||(a[16]=(0,r.Lk)("label",{class:"form-label"},"Field Name",-1)),a[17]||(a[17]=(0,r.Lk)("span",{class:"text-danger"}," *",-1)),(0,r.bo)((0,r.Lk)("input",{type:"text",placeholder:"Field Name ",class:(0,n.C4)(["form-control",{"is-invalid":i.errors?.field_name}]),"onUpdate:modelValue":a[1]||(a[1]=e=>i.service_attribute.field_name=e),disabled:!i.status},null,10,HYe),[[s.Jo,i.service_attribute.field_name]]),i.errors?.field_name?((0,r.uX)(),(0,r.CE)("span",YYe,(0,n.v_)(i.errors?.field_name[0]),1)):(0,r.Q3)("",!0)]),(0,r.Lk)("div",ZYe,[a[18]||(a[18]=(0,r.Lk)("label",{class:"form-label"},"Display Name",-1)),a[19]||(a[19]=(0,r.Lk)("span",{class:"text-danger"}," *",-1)),(0,r.bo)((0,r.Lk)("input",{type:"text",placeholder:"Display Name ",class:(0,n.C4)(["form-control",{"is-invalid":i.errors?.display_name}]),"onUpdate:modelValue":a[2]||(a[2]=e=>i.service_attribute.display_name=e)},null,2),[[s.Jo,i.service_attribute.display_name]]),i.errors?.display_name?((0,r.uX)(),(0,r.CE)("span",GYe,(0,n.v_)(i.errors?.display_name[0]),1)):(0,r.Q3)("",!0)]),(0,r.Lk)("div",eZe,[a[21]||(a[21]=(0,r.Lk)("label",{class:"form-label"},"Field Type",-1)),a[22]||(a[22]=(0,r.Lk)("span",{class:"text-danger"}," *",-1)),(0,r.bo)((0,r.Lk)("select",{class:(0,n.C4)(["form-control",{"is-invalid":i.errors?.field_type}]),"onUpdate:modelValue":a[3]||(a[3]=e=>i.service_attribute.field_type=e)},a[20]||(a[20]=[(0,r.Fv)('<option value="" data-v-22362967>Select Field Type</option><option value="Text" data-v-22362967>Text </option><option value="Dropdown" data-v-22362967>Dropdown </option><option value="Number" data-v-22362967>Number </option><option value="Date" data-v-22362967>Date </option><option value="Date&amp;Time" data-v-22362967>Date&amp;Time </option><option value="Color" data-v-22362967>Color</option><option value="List" data-v-22362967>List</option>',8)]),2),[[s.u1,i.service_attribute.field_type]]),i.errors?.field_type?((0,r.uX)(),(0,r.CE)("span",aZe,(0,n.v_)(i.errors?.field_type[0]),1)):(0,r.Q3)("",!0)]),i.list_parameters.length?((0,r.uX)(),(0,r.CE)("div",tZe,[a[24]||(a[24]=(0,r.Lk)("label",{class:"form-label"},"List",-1)),a[25]||(a[25]=(0,r.Lk)("span",{class:"text-danger"}," *",-1)),(0,r.bo)((0,r.Lk)("select",{class:(0,n.C4)(["form-control",{"is-invalid":i.errors?.list_parameter_id}]),"onUpdate:modelValue":a[4]||(a[4]=e=>i.service_attribute.list_parameter_id=e)},[a[23]||(a[23]=(0,r.Lk)("option",{value:""},"Select List",-1)),((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(i.list_parameters,((e,a)=>((0,r.uX)(),(0,r.CE)("option",{key:a,value:e.list_parameter_id},(0,n.v_)(e.list_parameter_name),9,sZe)))),128))],2),[[s.u1,i.service_attribute.list_parameter_id]]),i.errors?.list_parameter_id?((0,r.uX)(),(0,r.CE)("span",rZe,(0,n.v_)(i.errors?.list_parameter_id[0]),1)):(0,r.Q3)("",!0)])):(0,r.Q3)("",!0),"Dropdown"===i.service_attribute.field_type?((0,r.uX)(),(0,r.CE)("div",lZe,[a[26]||(a[26]=(0,r.Lk)("label",{class:"form-label"},"Field Value",-1)),a[27]||(a[27]=(0,r.Lk)("span",{class:"text-danger"}," *",-1)),(0,r.bo)((0,r.Lk)("input",{type:"text",placeholder:"Field Value",class:(0,n.C4)(["form-control",{"is-invalid":i.errors?.field_values}]),"onUpdate:modelValue":a[5]||(a[5]=e=>i.service_attribute.field_values=e)},null,2),[[s.Jo,i.service_attribute.field_values]]),i.errors?.field_values?((0,r.uX)(),(0,r.CE)("span",iZe,(0,n.v_)(i.errors?.field_values[0]),1)):(0,r.Q3)("",!0)])):(0,r.Q3)("",!0),(0,r.Lk)("div",oZe,[a[28]||(a[28]=(0,r.Lk)("label",{class:"form-label"},"Field Length",-1)),a[29]||(a[29]=(0,r.Lk)("span",{class:"text-danger"}," *",-1)),(0,r.bo)((0,r.Lk)("input",{type:"text",placeholder:"Maximum Characters",class:(0,n.C4)(["form-control",{"is-invalid":i.errors?.field_length}]),"onUpdate:modelValue":a[6]||(a[6]=e=>i.service_attribute.field_length=e)},null,2),[[s.Jo,i.service_attribute.field_length]]),i.errors?.field_length?((0,r.uX)(),(0,r.CE)("span",dZe,(0,n.v_)(i.errors?.field_length[0]),1)):(0,r.Q3)("",!0)]),(0,r.Lk)("div",nZe,[a[31]||(a[31]=(0,r.Lk)("label",{class:"form-label"},"Is Required",-1)),a[32]||(a[32]=(0,r.Lk)("span",{class:"text-danger"}," *",-1)),(0,r.bo)((0,r.Lk)("select",{class:(0,n.C4)(["form-control",{"is-invalid":i.errors?.is_required}]),"onUpdate:modelValue":a[7]||(a[7]=e=>i.service_attribute.is_required=e)},a[30]||(a[30]=[(0,r.Lk)("option",{value:""},"Select Is Required",-1),(0,r.Lk)("option",{value:"1"},"Yes ",-1),(0,r.Lk)("option",{value:"0"},"No ",-1)]),2),[[s.u1,i.service_attribute.is_required]]),i.errors?.is_required?((0,r.uX)(),(0,r.CE)("span",cZe,(0,n.v_)(i.errors?.is_required[0]),1)):(0,r.Q3)("",!0)])])]),(0,r.Lk)("div",uZe,[(0,r.bF)(d,{type:"button",class:"btn btn-danger me-2",to:"/service_attributes"},{default:(0,r.k6)((()=>a[33]||(a[33]=[(0,r.Lk)("i",{class:"ri-close-line fs-18 lh-1"},null,-1),(0,r.eW)(" Discard")]))),_:1}),(0,r.Lk)("button",_Ze,[i.status?((0,r.uX)(),(0,r.CE)("span",pZe,a[34]||(a[34]=[(0,r.Lk)("i",{class:"ri-save-line fs-18 lh-1"},null,-1),(0,r.eW)(" Submit")]))):((0,r.uX)(),(0,r.CE)("span",mZe,a[35]||(a[35]=[(0,r.Lk)("i",{class:"ri-save-line fs-18 lh-1"},null,-1),(0,r.eW)(" Update")])))])])])],32)])])])}var kZe={components:{MultiSelect:Ru.A},name:"ServiceAttributes.Create",data(){return{service_attribute:{field_name:"",display_name:"",field_type:"",field_values:"",field_length:"",is_required:"",service_type_id:"",service_types_obj:[],service_types:[],list_parameter_id:"",deleted_service_attribute_types:[]},deleted_service_attribute_types:[],service_types:[],service_attributes:[],list_parameters:[],errors:[],status:!0,service_type_status:!1,error_style:{"border-color":"#dc3545","padding-right":"calc(1.5em + 0.812rem)","background-image":"url(\"data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 12 12' width='12' height='12' fill='none' stroke='%23dc3545'%3e%3ccircle cx='6' cy='6' r='4.5'/%3e%3cpath stroke-linejoin='round' d='M5.8 3.6h.4L6 6.5z'/%3e%3ccircle cx='6' cy='8.2' r='.6' fill='%23dc3545' stroke='none'/%3e%3c/svg%3e\")","background-repeat":"no-repeat","background-position":"right calc(0.375em + 0.203rem) center","background-size":"calc(0.75em + 0.406rem) calc(0.75em + 0.406rem)"}}},beforeRouteEnter(e,a,t){t((a=>{if(a.getServiceTypes(),"ServiceAttributes.Create"==e.name);else{a.status=!1;let t={uri:"getServiceAttribute",data:{service_attribute_id:e.params.service_attribute_id}};a.$store.dispatch("post",t).then((function(e){a.service_attribute=e.data.data,a.service_attribute.deleted_service_attribute_types=[],a.service_attribute.service_types_obj=[],a.service_attribute.service_attribute_types.map((function(e){a.service_attribute.service_types_obj.push({service_type_code:e.service_type.service_type_code,service_type_id:e.service_type.service_type_id,status:e.service_type.status,service_type_name:e.service_type.service_type_name})}))})).catch((function(e){a.errors=e.response?.data?.errors,a.$store.dispatch("error",e?.response?.data?.message)}))}}))},watch:{"service_attribute.field_type":function(){"List"==this.service_attribute.field_type?this.getListParameters():(this.list_parameters=[],this.service_attribute.list_parameter_id="")}},methods:{updateActivityType(e,a){let t=this;const s=e.target.checked;let r=a?.service_attribute_types?.filter((function(a){return a.service_type_id==e.target.value}));if(r?.length){let e=r[0].service_attribute_type_id;if(s){if(t.service_attribute.deleted_service_attribute_types.includes(e)){let a=this.service_attribute.deleted_service_attribute_types.filter((function(a){return a!=e}));t.service_attribute.deleted_service_attribute_types=a}}else t.service_attribute.deleted_service_attribute_types.includes(e)||t.service_attribute.deleted_service_attribute_types.push(e)}},toggleServiceTypeStatus(){this.service_type_status=!this.service_type_status},submitForm(){let e=this;e.status?e.addServiceAttribute():e.updateServiceAttribute()},getServiceTypes(){let e=this,a=e.$loading.show();e.$store.dispatch("post",{uri:"getServiceTypes"}).then((t=>{a.hide(),e.service_types=t.data.data,console.log(e.service_types)})).catch((function(t){a.hide(),e.errors=t.response?.data?.errors,e.$store.dispatch("error",t?.response?.data?.message)}))},addServiceAttribute(){let e=this,a=e.$loading.show();e.service_attribute.service_types_obj.map((function(a){e.service_attribute.service_types.push(a.service_type_id)})),e.$store.dispatch("post",{uri:"addServiceAttribute",data:e.service_attribute}).then((t=>{a.hide(),e.$store.dispatch("success","Service Attribute Created Successfully"),e.$router.push("/service_attributes")})).catch((function(t){a.hide(),e.errors=t.response?.data?.errors,e.$store.dispatch("error",t.response?.data?.message)}))},updateServiceAttribute(){let e=this,a=e.$loading.show();e.service_attribute.deleted_service_attribute_types=e.service_attribute?.service_attribute_types.filter((a=>!e.service_attribute.service_types_obj.some((e=>a.service_type_id===e.service_type_id)))),e.service_attribute.service_types=e.service_attribute.service_types_obj.map((e=>e.service_type_id)),e.service_attribute.deleted_service_attribute_types=e.service_attribute.deleted_service_attribute_types.map((e=>e.service_attribute_type_id)),e.$store.dispatch("post",{uri:"updateServiceAttribute",data:e.service_attribute}).then((t=>{a.hide(),e.$store.dispatch("success","Service Attribute Updated Successfully"),e.$router.push("/service_attributes")})).catch((function(t){a.hide(),e.errors=t.response?.data?.errors,e.$store.dispatch("error",t?.response?.data?.message)}))},getListParameters(){let e=this,a=this.$loading.show();e.$store.dispatch("post",{uri:"getListParameters"}).then((t=>{a.hide(),e.list_parameters=t.data.data})).catch((function(t){a.hide(),e.errors=t.response?.data?.errors,e.$store.dispatch("error",t?.response?.data?.message)}))},getServiceAttribute(){let e=this,a=this.$loading.show();this.$store.dispatch("post",{uri:"getServiceAttribute",data:this.service_attribute}).then((e=>{a.hide(),this.service_attributes=e.data.data})).catch((function(t){a.hide(),e.errors=t.response?.data?.errors,e.$store.dispatch("error",t?.response?.data?.message)}))},discard(){let e=this;e.service_attribute.field_name="",e.service_attribute.field_type="",e.service_attribute.display_name="",e.service_attribute.field_values="",e.service_attribute.field_length="",e.service_attribute.is_required="",e.service_attribute.service_type_id="",e.service_attribute.list_parameter_id="",e.service_attribute.service_types=[],e.errors=[],e.status=!0}}};const vZe=(0,Ze.A)(kZe,[["render",bZe],["__scopeId","data-v-22362967"]]);var hZe=vZe;const yZe={class:""},gZe={class:"d-sm-flex align-items-center justify-content-between mb-2"},fZe={class:"breadcrumb fs-sm mb-1"},LZe={class:"breadcrumb-item","aria-current":"page"},CZe={class:"row"},wZe={class:"col-12"},EZe={class:"card card-one"},xZe={class:"card-body"},XZe={class:"table-responsive table-responsive-sm"},PZe={class:"table table-sm text-nowrap table-striped table-bordered mb-0"},$Ze={style:{"background-color":"#9b9b9b",color:"white"}},SZe={key:0,class:"ri-arrow-up-line"},AZe={key:1,class:"ri-arrow-down-line"},DZe={key:2,class:"fas fa-sort"},TZe={key:0,class:"ri-arrow-up-line"},QZe={key:1,class:"ri-arrow-down-line"},VZe={key:2,class:"fas fa-sort"},FZe={key:0,class:"ri-arrow-up-line"},UZe={key:1,class:"ri-arrow-down-line"},jZe={key:2,class:"fas fa-sort"},zZe={key:0,class:"ri-arrow-up-line"},WZe={key:1,class:"ri-arrow-down-line"},RZe={key:2,class:"fas fa-sort"},qZe={key:0,class:"ri-arrow-up-line"},IZe={key:1,class:"ri-arrow-down-line"},NZe={key:2,class:"fas fa-sort"},MZe={key:0,class:"ri-arrow-up-line"},KZe={key:1,class:"ri-arrow-down-line"},JZe={key:2,class:"fas fa-sort"},BZe={class:"text-center"},OZe={class:"text-center"},HZe={key:0},YZe={class:"text-center"},ZZe={class:"text-center"},GZe={class:"form-switch"},eGe=["id","checked","value","onChange"],aGe=["for"],tGe={class:"text-center"},sGe=["onClick"],rGe={class:"card-footer"},lGe={class:"d-flex justify-content-between align-items-center"};function iGe(e,a,t,l,i,o){const d=(0,r.g2)("router-link"),c=(0,r.g2)("Pagination"),u=(0,r.gN)("can");return(0,r.uX)(),(0,r.CE)("div",yZe,[(0,r.Lk)("div",gZe,[(0,r.Lk)("div",null,[(0,r.Lk)("ol",fZe,[(0,r.Lk)("li",LZe,[(0,r.bF)(d,{to:"/dashboard"},{default:(0,r.k6)((()=>a[10]||(a[10]=[(0,r.eW)("Dashboard")]))),_:1})]),a[11]||(a[11]=(0,r.Lk)("li",{class:"breadcrumb-item","aria-current":"page"},[(0,r.Lk)("a",{href:"javascript:void(0)"},"Attributes")],-1)),a[12]||(a[12]=(0,r.Lk)("li",{class:"breadcrumb-item active","aria-current":"page"},[(0,r.Lk)("a",{href:"javascript:void(0)"},"Service Attributes")],-1))]),a[13]||(a[13]=(0,r.Lk)("h4",{class:"main-title mb-0"},"Service Attributes",-1))]),(0,r.bo)(((0,r.uX)(),(0,r.Wv)(d,{to:"/service_attributes/create",class:"btn btn-primary",style:{float:"right"}},{default:(0,r.k6)((()=>a[14]||(a[14]=[(0,r.Lk)("i",{class:"ri-list-check"},null,-1),(0,r.eW)(" ADD SERVICE ATTRIBUTE")]))),_:1})),[[u,"service_attributes.create"]])]),(0,r.Lk)("div",CZe,[(0,r.Lk)("div",wZe,[(0,r.Lk)("div",EZe,[a[28]||(a[28]=(0,r.Lk)("div",{class:"card-header d-flex justify-content-between"},[(0,r.Lk)("h6",{class:"card-title"},"Service Attributes")],-1)),(0,r.Lk)("div",xZe,[(0,r.bo)((0,r.Lk)("input",{class:"form-control form-control-sm mb-2",type:"text",placeholder:"Type keyword and press enter key","onUpdate:modelValue":a[0]||(a[0]=e=>i.meta.search=e),onKeypress:a[1]||(a[1]=(0,s.jR)((e=>o.search()),["enter"]))},null,544),[[s.Jo,i.meta.search]]),(0,r.Lk)("div",XZe,[(0,r.Lk)("table",PZe,[(0,r.Lk)("thead",null,[(0,r.Lk)("tr",$Ze,[a[23]||(a[23]=(0,r.Lk)("th",{class:"text-center"},"#",-1)),(0,r.Lk)("th",{onClick:a[2]||(a[2]=e=>o.sort("field_name"))},[a[15]||(a[15]=(0,r.eW)(" Field Name ")),(0,r.Lk)("span",null,["field_name"==i.meta.keyword&&"asc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",SZe)):"field_name"==i.meta.keyword&&"desc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",AZe)):((0,r.uX)(),(0,r.CE)("i",DZe))])]),(0,r.Lk)("th",{onClick:a[3]||(a[3]=e=>o.sort("display_name"))},[a[16]||(a[16]=(0,r.eW)(" Display Name ")),(0,r.Lk)("span",null,["display_name"==i.meta.keyword&&"asc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",TZe)):"display_name"==i.meta.keyword&&"desc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",QZe)):((0,r.uX)(),(0,r.CE)("i",VZe))])]),(0,r.Lk)("th",{onClick:a[4]||(a[4]=e=>o.sort("field_type"))},[a[17]||(a[17]=(0,r.eW)(" Field Type ")),(0,r.Lk)("span",null,["field_type"==i.meta.keyword&&"asc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",FZe)):"field_type"==i.meta.keyword&&"desc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",UZe)):((0,r.uX)(),(0,r.CE)("i",jZe))])]),(0,r.Lk)("th",{onClick:a[5]||(a[5]=e=>o.sort("field_values"))},[a[18]||(a[18]=(0,r.eW)(" Field Values ")),(0,r.Lk)("span",null,["field_values"==i.meta.keyword&&"asc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",zZe)):"field_values"==i.meta.keyword&&"desc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",WZe)):((0,r.uX)(),(0,r.CE)("i",RZe))])]),(0,r.Lk)("th",{onClick:a[6]||(a[6]=e=>o.sort("field_length"))},[a[19]||(a[19]=(0,r.eW)(" Field Length ")),(0,r.Lk)("span",null,["field_length"==i.meta.keyword&&"asc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",qZe)):"field_length"==i.meta.keyword&&"desc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",IZe)):((0,r.uX)(),(0,r.CE)("i",NZe))])]),(0,r.Lk)("th",{onClick:a[7]||(a[7]=e=>o.sort("is_required"))},[a[20]||(a[20]=(0,r.eW)(" Is Required ")),(0,r.Lk)("span",null,["is_required"==i.meta.keyword&&"asc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",MZe)):"is_required"==i.meta.keyword&&"desc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",KZe)):((0,r.uX)(),(0,r.CE)("i",JZe))])]),a[24]||(a[24]=(0,r.Lk)("th",null," Service Type ",-1)),(0,r.bo)(((0,r.uX)(),(0,r.CE)("th",BZe,a[21]||(a[21]=[(0,r.eW)("Status")]))),[[u,"service_attributes.delete"]]),(0,r.bo)(((0,r.uX)(),(0,r.CE)("th",OZe,a[22]||(a[22]=[(0,r.eW)("Actions")]))),[[u,"service_attributes.update"]])])]),(0,r.Lk)("tbody",null,[0==i.serviceattributes.length?((0,r.uX)(),(0,r.CE)("tr",HZe,a[25]||(a[25]=[(0,r.Lk)("td",{colspan:"10",class:"text-center"},"No records found",-1)]))):(0,r.Q3)("",!0),((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(i.serviceattributes,((e,t)=>((0,r.uX)(),(0,r.CE)("tr",{key:t},[(0,r.Lk)("td",YZe,(0,n.v_)(i.meta.from+t),1),(0,r.Lk)("td",null,(0,n.v_)(e.field_name),1),(0,r.Lk)("td",null,(0,n.v_)(e.display_name),1),(0,r.Lk)("td",null,(0,n.v_)(e.field_type),1),(0,r.Lk)("td",null,(0,n.v_)(e.field_values),1),(0,r.Lk)("td",null,(0,n.v_)(e.field_length),1),(0,r.Lk)("td",null,(0,n.v_)(1==e?.is_required?"Yes":"No"),1),(0,r.Lk)("td",null,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(e.service_attribute_types,((e,a)=>((0,r.uX)(),(0,r.CE)("span",{key:a},(0,n.v_)(e?.service_type?.service_type_name)+", ",1)))),128))]),(0,r.bo)(((0,r.uX)(),(0,r.CE)("td",ZZe,[(0,r.Lk)("div",GZe,[(0,r.Lk)("input",{class:"form-check-input",type:"checkbox",role:"switch",id:"serviceattribute"+e.service_attribute_id,checked:e.status,value:e.status,onChange:a=>o.deleteServiceAttribute(e)},null,40,eGe),(0,r.Lk)("label",{class:"custom-control-label",for:"user"+e.service_attribute_id},null,8,aGe)])])),[[u,"service_attributes.delete"]]),(0,r.bo)(((0,r.uX)(),(0,r.CE)("td",tGe,[e.status?((0,r.uX)(),(0,r.CE)("a",{key:0,href:"javascript:void(0)",class:"text-success",onClick:a=>o.editServiceAttribute(e)},a[26]||(a[26]=[(0,r.Lk)("i",{class:"ri-pencil-line fs-18 lh-1"},null,-1)]),8,sGe)):(0,r.Q3)("",!0)])),[[u,"service_attributes.update"]])])))),128))])])])]),(0,r.Lk)("div",rGe,[(0,r.Lk)("div",lGe,[(0,r.bo)((0,r.Lk)("select",{class:"form-select from-select-sm width-75","onUpdate:modelValue":a[8]||(a[8]=e=>i.meta.per_page=e),onChange:a[9]||(a[9]=(...e)=>o.onPerPageChange&&o.onPerPageChange(...e))},a[27]||(a[27]=[(0,r.Lk)("option",null,"10",-1),(0,r.Lk)("option",null,"15",-1),(0,r.Lk)("option",null,"20",-1),(0,r.Lk)("option",null,"25",-1),(0,r.Lk)("option",null,"30",-1)]),544),[[s.u1,i.meta.per_page]]),(0,r.Lk)("span",null,"Showing "+(0,n.v_)(i.meta.from)+" to "+(0,n.v_)(i.meta.to)+" of "+(0,n.v_)(i.meta.totalRows)+" entries",1),(0,r.bF)(c,{maxPage:i.meta.maxPage,totalPages:i.meta.lastPage,currentPage:parseInt(i.meta.page),onPagechanged:o.onPageChange},null,8,["maxPage","totalPages","currentPage","onPagechanged"])])])])])])])}var oGe={components:{Pagination:md},data(){return{meta:{search:"",order_by:"desc",keyword:"service_attribute_id",per_page:10,totalRows:0,page:1,lastPage:1,from:1,to:1,maxPage:1,trashed:!1},serviceattributes:[],errors:[],status:!0}},beforeRouteEnter(e,a,t){t((e=>{"ServiceAttributes.Edit"==a.name?e.meta.page=e.$store.getters.current_page:e.meta.page=1}))},mounted(){this.index()},methods:{index(){let e=this,a=this.$loading.show();this.$store.dispatch("post",{uri:"paginateServiceAttributes",data:e.meta}).then((t=>{a.hide(),this.serviceattributes=t.data.data,this.meta.totalRows=t.data.meta.total,this.meta.from=t.data.meta.from,this.meta.to=t.data.meta.to,this.meta.lastPage=t.data.meta.last_page,this.meta.maxPage=e.meta.lastPage>=3?3:e.meta.lastPage})).catch((function(t){a.hide(),e.errors=t.response.data.errors,e.$store.dispatch("error",t.response.data.message)}))},editServiceAttribute(e){this.$store.commit("setCurrentPage",parseInt(this.meta.page)),this.$router.push("/service_attributes/"+e.service_attribute_id+"/edit")},deleteServiceAttribute(e){let a=this,t=a.$loading.show();a.$store.dispatch("post",{uri:"deleteServiceAttribute",data:e}).then((e=>{t.hide(),a.$store.dispatch("success",e.data.message),a.index()})).catch((function(e){t.hide(),a.errors=e.response.data.errors,a.$store.dispatch("error",e.response.data.message)}))},search(){let e=this;e.meta.page=1,e.index()},onPageChange(e){this.meta.page=e,this.index()},sort(e){this.meta.keyword=e,this.meta.order_by="asc"==this.meta.order_by?"desc":"asc",this.index()},onPerPageChange(){let e=this;e.meta.page=1,e.index()}}};const dGe=(0,Ze.A)(oGe,[["render",iGe]]);var nGe=dGe;const cGe={class:""},uGe={class:"d-sm-flex align-items-center justify-content-between mb-2"},_Ge={class:"breadcrumb fs-sm mb-1"},pGe={class:"breadcrumb-item","aria-current":"page"},mGe={class:"breadcrumb-item","aria-current":"page"},bGe={key:0,class:"breadcrumb-item","aria-current":"page"},kGe={key:1,class:"breadcrumb-item active","aria-current":"page"},vGe={class:"row"},hGe={class:"col-12"},yGe={class:"card card-one"},gGe={class:"card-header d-flex justify-content-between"},fGe={key:0,class:"card-title"},LGe={key:1,class:"card-title"},CGe={class:"card-body"},wGe={class:"row g-2"},EGe={class:"col-md-3"},xGe={class:"form-label"},XGe={key:0},PGe={class:"text-danger"},$Ge={class:"col-md-3"},SGe=["disabled"],AGe={key:0,class:"invalid-feedback"},DGe={class:"col-md-3"},TGe={key:0,class:"invalid-feedback"},QGe={class:"col-md-3"},VGe={key:0,class:"invalid-feedback"},FGe={key:0,class:"col-md-4"},UGe=["value"],jGe={key:0,class:"invalid-feedback"},zGe={key:1,class:"col-md-4"},WGe={key:0,class:"invalid-feedback"},RGe={class:"col-md-4"},qGe={key:0,class:"invalid-feedback"},IGe={class:"col-md-4"},NGe={key:0,class:"invalid-feedback"},MGe={class:"card-footer text-end"},KGe={type:"submit",class:"btn btn-primary"},JGe={key:0},BGe={key:1};function OGe(e,a,t,l,i,o){const d=(0,r.g2)("router-link"),c=(0,r.g2)("MultiSelect");return(0,r.uX)(),(0,r.CE)("div",cGe,[(0,r.Lk)("div",uGe,[(0,r.Lk)("div",null,[(0,r.Lk)("ol",_Ge,[(0,r.Lk)("li",pGe,[(0,r.bF)(d,{to:"/dashboard"},{default:(0,r.k6)((()=>a[9]||(a[9]=[(0,r.eW)("Dashboard")]))),_:1})]),a[11]||(a[11]=(0,r.Lk)("li",{class:"breadcrumb-item","aria-current":"page"},[(0,r.Lk)("a",{href:"javascript:void(0)"},"Attributes")],-1)),(0,r.Lk)("li",mGe,[(0,r.bF)(d,{to:"/break_down_attributes"},{default:(0,r.k6)((()=>a[10]||(a[10]=[(0,r.eW)("Break Down Attributes")]))),_:1})]),i.status?((0,r.uX)(),(0,r.CE)("li",bGe,"New Break Down Attribute")):((0,r.uX)(),(0,r.CE)("li",kGe,"Update Break Down Attribute"))]),a[12]||(a[12]=(0,r.Lk)("h4",{class:"main-title mb-0"}," Break Down Attribute",-1))]),(0,r.bF)(d,{to:"/break_down_attributes",type:"submit",class:"btn btn-primary",style:{float:"right"}},{default:(0,r.k6)((()=>a[13]||(a[13]=[(0,r.Lk)("i",{class:"ri-list-check"},null,-1),(0,r.eW)(" BREAK DOWN ATTRIBUTES")]))),_:1})]),(0,r.Lk)("div",vGe,[(0,r.Lk)("div",hGe,[(0,r.Lk)("form",{onSubmit:a[8]||(a[8]=(0,s.D$)(((...e)=>o.submitForm&&o.submitForm(...e)),["prevent"]))},[(0,r.Lk)("div",yGe,[(0,r.Lk)("div",gGe,[i.status?((0,r.uX)(),(0,r.CE)("h6",fGe,"New Break Down Attribute")):((0,r.uX)(),(0,r.CE)("h6",LGe,"Update Break Down Attribute"))]),(0,r.Lk)("div",CGe,[(0,r.Lk)("div",wGe,[(0,r.Lk)("div",EGe,[(0,r.Lk)("div",xGe,[a[14]||(a[14]=(0,r.Lk)("label",{class:"form-label"},"Break Down Type",-1)),a[15]||(a[15]=(0,r.Lk)("span",{class:"text-danger"}," *",-1)),(0,r.bF)(c,{modelValue:i.break_down_attribute.break_down_types_obj,"onUpdate:modelValue":a[0]||(a[0]=e=>i.break_down_attribute.break_down_types_obj=e),filter:"",optionLabel:"break_down_type_name",options:i.break_down_types,placeholder:"Select Break Down Type",maxSelectedLabels:3,style:(0,n.Tr)([{width:"100%",height:"37px"},i.errors?.break_down_types?i.error_style:""])},null,8,["modelValue","options","style"]),i.errors?.break_down_types?((0,r.uX)(),(0,r.CE)("span",XGe,[(0,r.Lk)("small",PGe,(0,n.v_)(i.errors?.break_down_types[0]),1)])):(0,r.Q3)("",!0)])]),(0,r.Lk)("div",$Ge,[a[16]||(a[16]=(0,r.Lk)("label",{class:"form-label"},"Field Name",-1)),a[17]||(a[17]=(0,r.Lk)("span",{class:"text-danger"}," *",-1)),(0,r.bo)((0,r.Lk)("input",{type:"text",placeholder:"Field Name ",class:(0,n.C4)(["form-control",{"is-invalid":i.errors.field_name}]),"onUpdate:modelValue":a[1]||(a[1]=e=>i.break_down_attribute.field_name=e),disabled:!i.status},null,10,SGe),[[s.Jo,i.break_down_attribute.field_name]]),i.errors.field_name?((0,r.uX)(),(0,r.CE)("span",AGe,(0,n.v_)(i.errors.field_name[0]),1)):(0,r.Q3)("",!0)]),(0,r.Lk)("div",DGe,[a[18]||(a[18]=(0,r.Lk)("label",{class:"form-label"},"Display Name",-1)),a[19]||(a[19]=(0,r.Lk)("span",{class:"text-danger"}," *",-1)),(0,r.bo)((0,r.Lk)("input",{type:"text",placeholder:"Display Name ",class:(0,n.C4)(["form-control",{"is-invalid":i.errors.display_name}]),"onUpdate:modelValue":a[2]||(a[2]=e=>i.break_down_attribute.display_name=e)},null,2),[[s.Jo,i.break_down_attribute.display_name]]),i.errors.display_name?((0,r.uX)(),(0,r.CE)("span",TGe,(0,n.v_)(i.errors.display_name[0]),1)):(0,r.Q3)("",!0)]),(0,r.Lk)("div",QGe,[a[21]||(a[21]=(0,r.Lk)("label",{class:"form-label"},"Field Type",-1)),a[22]||(a[22]=(0,r.Lk)("span",{class:"text-danger"}," *",-1)),(0,r.bo)((0,r.Lk)("select",{class:(0,n.C4)(["form-control",{"is-invalid":i.errors.field_type}]),"onUpdate:modelValue":a[3]||(a[3]=e=>i.break_down_attribute.field_type=e)},a[20]||(a[20]=[(0,r.Fv)('<option value="" data-v-5f35a950>Select Field Type</option><option value="Text" data-v-5f35a950>Text </option><option value="Dropdown" data-v-5f35a950>Dropdown </option><option value="Number" data-v-5f35a950>Number </option><option value="Date" data-v-5f35a950>Date </option><option value="Date&amp;Time" data-v-5f35a950>Date&amp;Time </option><option value="Color" data-v-5f35a950>Color</option><option value="List" data-v-5f35a950>List</option>',8)]),2),[[s.u1,i.break_down_attribute.field_type]]),i.errors.field_type?((0,r.uX)(),(0,r.CE)("span",VGe,(0,n.v_)(i.errors.field_type[0]),1)):(0,r.Q3)("",!0)]),i.list_parameters.length?((0,r.uX)(),(0,r.CE)("div",FGe,[a[24]||(a[24]=(0,r.Lk)("label",{class:"form-label"},"List",-1)),a[25]||(a[25]=(0,r.Lk)("span",{class:"text-danger"}," *",-1)),(0,r.bo)((0,r.Lk)("select",{class:(0,n.C4)(["form-control",{"is-invalid":i.errors.list_parameter_id}]),"onUpdate:modelValue":a[4]||(a[4]=e=>i.break_down_attribute.list_parameter_id=e)},[a[23]||(a[23]=(0,r.Lk)("option",{value:""},"Select List",-1)),((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(i.list_parameters,((e,a)=>((0,r.uX)(),(0,r.CE)("option",{key:a,value:e.list_parameter_id},(0,n.v_)(e.list_parameter_name),9,UGe)))),128))],2),[[s.u1,i.break_down_attribute.list_parameter_id]]),i.errors.list_parameter_id?((0,r.uX)(),(0,r.CE)("span",jGe,(0,n.v_)(i.errors.list_parameter_id[0]),1)):(0,r.Q3)("",!0)])):(0,r.Q3)("",!0),"Dropdown"===i.break_down_attribute.field_type?((0,r.uX)(),(0,r.CE)("div",zGe,[a[26]||(a[26]=(0,r.Lk)("label",{class:"form-label"},"Field Value",-1)),a[27]||(a[27]=(0,r.Lk)("span",{class:"text-danger"}," *",-1)),(0,r.bo)((0,r.Lk)("input",{type:"text",placeholder:"Field Value",class:(0,n.C4)(["form-control",{"is-invalid":i.errors.field_values}]),"onUpdate:modelValue":a[5]||(a[5]=e=>i.break_down_attribute.field_values=e)},null,2),[[s.Jo,i.break_down_attribute.field_values]]),i.errors.field_values?((0,r.uX)(),(0,r.CE)("span",WGe,(0,n.v_)(i.errors.field_values[0]),1)):(0,r.Q3)("",!0)])):(0,r.Q3)("",!0),(0,r.Lk)("div",RGe,[a[28]||(a[28]=(0,r.Lk)("label",{class:"form-label"},"Field Length",-1)),a[29]||(a[29]=(0,r.Lk)("span",{class:"text-danger"}," *",-1)),(0,r.bo)((0,r.Lk)("input",{type:"number",placeholder:"Maximum Length",class:(0,n.C4)(["form-control",{"is-invalid":i.errors.field_length}]),"onUpdate:modelValue":a[6]||(a[6]=e=>i.break_down_attribute.field_length=e)},null,2),[[s.Jo,i.break_down_attribute.field_length]]),i.errors.field_length?((0,r.uX)(),(0,r.CE)("span",qGe,(0,n.v_)(i.errors.field_length[0]),1)):(0,r.Q3)("",!0)]),(0,r.Lk)("div",IGe,[a[31]||(a[31]=(0,r.Lk)("label",{class:"form-label"},"Is Required",-1)),a[32]||(a[32]=(0,r.Lk)("span",{class:"text-danger"}," *",-1)),(0,r.bo)((0,r.Lk)("select",{class:(0,n.C4)(["form-control",{"is-invalid":i.errors.is_required}]),"onUpdate:modelValue":a[7]||(a[7]=e=>i.break_down_attribute.is_required=e)},a[30]||(a[30]=[(0,r.Lk)("option",{value:""},"Select Is Required",-1),(0,r.Lk)("option",{value:"1"},"Yes ",-1),(0,r.Lk)("option",{value:"0"},"No ",-1)]),2),[[s.u1,i.break_down_attribute.is_required]]),i.errors.is_required?((0,r.uX)(),(0,r.CE)("span",NGe,(0,n.v_)(i.errors.is_required[0]),1)):(0,r.Q3)("",!0)])])]),(0,r.Lk)("div",MGe,[(0,r.bF)(d,{type:"button",class:"btn btn-danger me-2",to:"/break_down_attributes"},{default:(0,r.k6)((()=>a[33]||(a[33]=[(0,r.Lk)("i",{class:"ri-close-line fs-18 lh-1"},null,-1),(0,r.eW)(" Discard")]))),_:1}),(0,r.Lk)("button",KGe,[i.status?((0,r.uX)(),(0,r.CE)("span",JGe,a[34]||(a[34]=[(0,r.Lk)("i",{class:"ri-save-line fs-18 lh-1"},null,-1),(0,r.eW)(" Submit")]))):((0,r.uX)(),(0,r.CE)("span",BGe,a[35]||(a[35]=[(0,r.Lk)("i",{class:"ri-save-line fs-18 lh-1"},null,-1),(0,r.eW)(" Update")])))])])])],32)])])])}var HGe={components:{MultiSelect:Ru.A},name:"BreakDownAttributes.Create",data(){return{break_down_attribute:{field_name:"",display_name:"",field_type:"",field_values:"",field_length:"",is_required:"",break_down_type_id:"",break_down_types_obj:[],break_down_types:[],list_parameter_id:"",deleted_break_down_attribute_types:[]},deleted_break_down_attribute_types:[],break_down_types:[],break_down_attributes:[],list_parameters:[],errors:[],status:!0,break_down_type_status:!1,error_style:{"border-color":"#dc3545","padding-right":"calc(1.5em + 0.812rem)","background-image":"url(\"data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 12 12' width='12' height='12' fill='none' stroke='%23dc3545'%3e%3ccircle cx='6' cy='6' r='4.5'/%3e%3cpath stroke-linejoin='round' d='M5.8 3.6h.4L6 6.5z'/%3e%3ccircle cx='6' cy='8.2' r='.6' fill='%23dc3545' stroke='none'/%3e%3c/svg%3e\")","background-repeat":"no-repeat","background-position":"right calc(0.375em + 0.203rem) center","background-size":"calc(0.75em + 0.406rem) calc(0.75em + 0.406rem)"}}},beforeRouteEnter(e,a,t){t((a=>{if(a.getBreakDownTypes(),"BreakDownAttributes.Create"==e.name);else{a.status=!1;let t={uri:"getBreakDownAttribute",data:{break_down_attribute_id:e.params.break_down_attribute_id}};a.$store.dispatch("post",t).then((function(e){a.break_down_attribute=e.data.data,a.break_down_attribute.deleted_break_down_attribute_types=[],a.break_down_attribute.break_down_types_obj=[],a.break_down_attribute.break_down_attribute_types.map((function(e){a.break_down_attribute.break_down_types_obj.push({break_down_type_code:e.break_down_type.break_down_type_code,break_down_type_id:e.break_down_type.break_down_type_id,status:e.break_down_type.status,break_down_type_name:e.break_down_type.break_down_type_name})}))})).catch((function(e){a.errors=e.response.data.errors,a.$store.dispatch("error",e.response.data.message)}))}}))},watch:{"break_down_attribute.field_type":function(){"List"==this.break_down_attribute.field_type?this.getListParameters():(this.list_parameters=[],this.break_down_attribute.list_parameter_id="")}},methods:{updateActivityType(e,a){let t=this;const s=e.target.checked;let r=a?.break_down_attribute_types?.filter((function(a){return a.break_down_type_id==e.target.value}));if(r?.length){let e=r[0].break_down_attribute_type_id;if(s){if(t.break_down_attribute.deleted_break_down_attribute_types.includes(e)){let a=this.break_down_attribute.deleted_break_down_attribute_types.filter((function(a){return a!=e}));t.break_down_attribute.deleted_break_down_attribute_types=a}}else t.break_down_attribute.deleted_break_down_attribute_types.includes(e)||t.break_down_attribute.deleted_break_down_attribute_types.push(e)}},toggleBreakDownTypeStatus(){this.break_down_type_status=!this.break_down_type_status},submitForm(){let e=this;e.status?e.addBreakDownAttribute():e.updateBreakDownAttribute()},getBreakDownTypes(){let e=this,a=e.$loading.show();e.$store.dispatch("post",{uri:"getBreakDownTypes"}).then((t=>{a.hide(),e.break_down_types=t.data.data,console.log(e.break_down_types)})).catch((function(t){a.hide(),e.errors=t.response.data.errors,e.$store.dispatch("error",t.response.data.message)}))},addBreakDownAttribute(){let e=this,a=e.$loading.show();e.break_down_attribute.break_down_types_obj.map((function(a){e.break_down_attribute.break_down_types.push(a.break_down_type_id)})),e.$store.dispatch("post",{uri:"addBreakDownAttribute",data:e.break_down_attribute}).then((t=>{a.hide(),e.$store.dispatch("success","Break Down Attribute Created Successfully"),e.$router.push("/break_down_attributes")})).catch((function(t){a.hide(),e.errors=t.response.data.errors,e.$store.dispatch("error",t.response.data.message)}))},updateBreakDownAttribute(){let e=this,a=e.$loading.show();e.break_down_attribute.deleted_break_down_attribute_types=e.break_down_attribute?.break_down_attribute_types.filter((a=>!e.break_down_attribute.break_down_types_obj.some((e=>a.break_down_type_id===e.break_down_type_id)))),e.break_down_attribute.break_down_types=e.break_down_attribute.break_down_types_obj.map((e=>e.break_down_type_id)),e.break_down_attribute.deleted_break_down_attribute_types=e.break_down_attribute.deleted_break_down_attribute_types.map((e=>e.break_down_attribute_type_id)),e.$store.dispatch("post",{uri:"updateBreakDownAttribute",data:e.break_down_attribute}).then((t=>{a.hide(),e.$store.dispatch("success","Break Down Attribute Updated Successfully"),e.$router.push("/break_down_attributes")})).catch((function(t){a.hide(),e.errors=t.response.data.errors,e.$store.dispatch("error",t.response.data.message)}))},getListParameters(){let e=this,a=this.$loading.show();e.$store.dispatch("post",{uri:"getListParameters"}).then((t=>{a.hide(),e.list_parameters=t.data.data})).catch((function(t){a.hide(),e.errors=t.response.data.errors,e.$store.dispatch("error",t.response.data.message)}))},getBreakDownAttribute(){let e=this,a=this.$loading.show();this.$store.dispatch("post",{uri:"getBreakDownAttribute",data:this.break_down_attribute}).then((e=>{a.hide(),this.break_down_attributes=e.data.data})).catch((function(t){a.hide(),e.errors=t.response.data.errors,e.$store.dispatch("error",t.response.data.message)}))},discard(){let e=this;e.break_down_attribute.field_name="",e.break_down_attribute.field_type="",e.break_down_attribute.display_name="",e.break_down_attribute.field_values="",e.break_down_attribute.field_length="",e.break_down_attribute.is_required="",e.break_down_attribute.break_down_type_id="",e.break_down_attribute.list_parameter_id="",e.break_down_attribute.break_down_types=[],e.errors=[],e.status=!0}}};const YGe=(0,Ze.A)(HGe,[["render",OGe],["__scopeId","data-v-5f35a950"]]);var ZGe=YGe;const GGe={class:""},e0e={class:"d-sm-flex align-items-center justify-content-between mb-2"},a0e={class:"breadcrumb fs-sm mb-1"},t0e={class:"breadcrumb-item","aria-current":"page"},s0e={class:"row"},r0e={class:"col-12"},l0e={class:"card card-one"},i0e={class:"card-body"},o0e={class:"table-responsive table-responsive-sm"},d0e={class:"table table-sm text-nowrap table-striped table-bordered mb-0"},n0e={style:{"background-color":"#9b9b9b",color:"white"}},c0e={key:0,class:"ri-arrow-up-line"},u0e={key:1,class:"ri-arrow-down-line"},_0e={key:2,class:"fas fa-sort"},p0e={key:0,class:"ri-arrow-up-line"},m0e={key:1,class:"ri-arrow-down-line"},b0e={key:2,class:"fas fa-sort"},k0e={key:0,class:"ri-arrow-up-line"},v0e={key:1,class:"ri-arrow-down-line"},h0e={key:2,class:"fas fa-sort"},y0e={key:0,class:"ri-arrow-up-line"},g0e={key:1,class:"ri-arrow-down-line"},f0e={key:2,class:"fas fa-sort"},L0e={key:0,class:"ri-arrow-up-line"},C0e={key:1,class:"ri-arrow-down-line"},w0e={key:2,class:"fas fa-sort"},E0e={key:0,class:"ri-arrow-up-line"},x0e={key:1,class:"ri-arrow-down-line"},X0e={key:2,class:"fas fa-sort"},P0e={class:"text-center"},$0e={class:"text-center"},S0e={key:0},A0e={class:"text-center"},D0e={class:"text-center"},T0e={class:"form-switch"},Q0e=["id","checked","value","onChange"],V0e=["for"],F0e={class:"text-center"},U0e=["onClick"],j0e={class:"card-footer"},z0e={class:"d-flex justify-content-between align-items-center"};function W0e(e,a,t,l,i,o){const d=(0,r.g2)("router-link"),c=(0,r.g2)("Pagination"),u=(0,r.gN)("can");return(0,r.uX)(),(0,r.CE)("div",GGe,[(0,r.Lk)("div",e0e,[(0,r.Lk)("div",null,[(0,r.Lk)("ol",a0e,[(0,r.Lk)("li",t0e,[(0,r.bF)(d,{to:"/dashboard"},{default:(0,r.k6)((()=>a[10]||(a[10]=[(0,r.eW)("Dashboard")]))),_:1})]),a[11]||(a[11]=(0,r.Lk)("li",{class:"breadcrumb-item","aria-current":"page"},[(0,r.Lk)("a",{href:"javascript:void(0)"},"Attributes")],-1)),a[12]||(a[12]=(0,r.Lk)("li",{class:"breadcrumb-item active","aria-current":"page"},[(0,r.Lk)("a",{href:"javascript:void(0)"},"Break Down Attributes")],-1))]),a[13]||(a[13]=(0,r.Lk)("h4",{class:"main-title mb-0"},"Break Down Attributes",-1))]),(0,r.bo)(((0,r.uX)(),(0,r.Wv)(d,{to:"/break_down_attributes/create",class:"btn btn-primary",style:{float:"right"}},{default:(0,r.k6)((()=>a[14]||(a[14]=[(0,r.Lk)("i",{class:"ri-list-check"},null,-1),(0,r.eW)(" ADD BREAK DOWN ATTRIBUTE")]))),_:1})),[[u,"break_down_attributes.create"]])]),(0,r.Lk)("div",s0e,[(0,r.Lk)("div",r0e,[(0,r.Lk)("div",l0e,[a[28]||(a[28]=(0,r.Lk)("div",{class:"card-header d-flex justify-content-between"},[(0,r.Lk)("h6",{class:"card-title"},"Break Down Attributes")],-1)),(0,r.Lk)("div",i0e,[(0,r.bo)((0,r.Lk)("input",{class:"form-control form-control-sm mb-2",type:"text",placeholder:"Type keyword and press enter key","onUpdate:modelValue":a[0]||(a[0]=e=>i.meta.search=e),onKeypress:a[1]||(a[1]=(0,s.jR)((e=>o.search()),["enter"]))},null,544),[[s.Jo,i.meta.search]]),(0,r.Lk)("div",o0e,[(0,r.Lk)("table",d0e,[(0,r.Lk)("thead",null,[(0,r.Lk)("tr",n0e,[a[23]||(a[23]=(0,r.Lk)("th",{class:"text-center"},"#",-1)),(0,r.Lk)("th",{onClick:a[2]||(a[2]=e=>o.sort("field_name"))},[a[15]||(a[15]=(0,r.eW)(" Field Name ")),(0,r.Lk)("span",null,["field_name"==i.meta.keyword&&"asc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",c0e)):"field_name"==i.meta.keyword&&"desc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",u0e)):((0,r.uX)(),(0,r.CE)("i",_0e))])]),(0,r.Lk)("th",{onClick:a[3]||(a[3]=e=>o.sort("display_name"))},[a[16]||(a[16]=(0,r.eW)(" Display Name ")),(0,r.Lk)("span",null,["display_name"==i.meta.keyword&&"asc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",p0e)):"display_name"==i.meta.keyword&&"desc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",m0e)):((0,r.uX)(),(0,r.CE)("i",b0e))])]),(0,r.Lk)("th",{onClick:a[4]||(a[4]=e=>o.sort("field_type"))},[a[17]||(a[17]=(0,r.eW)(" Field Type ")),(0,r.Lk)("span",null,["field_type"==i.meta.keyword&&"asc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",k0e)):"field_type"==i.meta.keyword&&"desc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",v0e)):((0,r.uX)(),(0,r.CE)("i",h0e))])]),(0,r.Lk)("th",{onClick:a[5]||(a[5]=e=>o.sort("field_values"))},[a[18]||(a[18]=(0,r.eW)(" Field Values ")),(0,r.Lk)("span",null,["field_values"==i.meta.keyword&&"asc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",y0e)):"field_values"==i.meta.keyword&&"desc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",g0e)):((0,r.uX)(),(0,r.CE)("i",f0e))])]),(0,r.Lk)("th",{onClick:a[6]||(a[6]=e=>o.sort("field_length"))},[a[19]||(a[19]=(0,r.eW)(" Field Length ")),(0,r.Lk)("span",null,["field_length"==i.meta.keyword&&"asc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",L0e)):"field_length"==i.meta.keyword&&"desc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",C0e)):((0,r.uX)(),(0,r.CE)("i",w0e))])]),(0,r.Lk)("th",{onClick:a[7]||(a[7]=e=>o.sort("is_required"))},[a[20]||(a[20]=(0,r.eW)(" Is Required ")),(0,r.Lk)("span",null,["is_required"==i.meta.keyword&&"asc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",E0e)):"is_required"==i.meta.keyword&&"desc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",x0e)):((0,r.uX)(),(0,r.CE)("i",X0e))])]),a[24]||(a[24]=(0,r.Lk)("th",null,"Break Down Type",-1)),(0,r.bo)(((0,r.uX)(),(0,r.CE)("th",P0e,a[21]||(a[21]=[(0,r.eW)("Status")]))),[[u,"break_down_attributes.delete"]]),(0,r.bo)(((0,r.uX)(),(0,r.CE)("th",$0e,a[22]||(a[22]=[(0,r.eW)("Actions")]))),[[u,"break_down_attributes.update"]])])]),(0,r.Lk)("tbody",null,[0==i.break_down_attributes.length?((0,r.uX)(),(0,r.CE)("tr",S0e,a[25]||(a[25]=[(0,r.Lk)("td",{colspan:"10",class:"text-center"},"No records found",-1)]))):(0,r.Q3)("",!0),((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(i.break_down_attributes,((e,t)=>((0,r.uX)(),(0,r.CE)("tr",{key:t},[(0,r.Lk)("td",A0e,(0,n.v_)(i.meta.from+t),1),(0,r.Lk)("td",null,(0,n.v_)(e.field_name),1),(0,r.Lk)("td",null,(0,n.v_)(e.display_name),1),(0,r.Lk)("td",null,(0,n.v_)(e.field_type),1),(0,r.Lk)("td",null,(0,n.v_)(e.field_values),1),(0,r.Lk)("td",null,(0,n.v_)(e.field_length),1),(0,r.Lk)("td",null,(0,n.v_)(1==e?.is_required?"Yes":"No"),1),(0,r.Lk)("td",null,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(e.break_down_attribute_types,((e,a)=>((0,r.uX)(),(0,r.CE)("span",{key:a},(0,n.v_)(e?.break_down_type?.break_down_type_name)+", ",1)))),128))]),(0,r.bo)(((0,r.uX)(),(0,r.CE)("td",D0e,[(0,r.Lk)("div",T0e,[(0,r.Lk)("input",{class:"form-check-input",type:"checkbox",role:"switch",id:"break_down_attribute"+e.break_down_attribute_id,checked:e.status,value:e.status,onChange:a=>o.deleteBreakDownAttribute(e)},null,40,Q0e),(0,r.Lk)("label",{class:"custom-control-label",for:"user"+e.break_down_attribute_id},null,8,V0e)])])),[[u,"break_down_attributes.delete"]]),(0,r.bo)(((0,r.uX)(),(0,r.CE)("td",F0e,[e.status?((0,r.uX)(),(0,r.CE)("a",{key:0,href:"javascript:void(0)",class:"text-success",onClick:a=>o.editBreakDownAttribute(e)},a[26]||(a[26]=[(0,r.Lk)("i",{class:"ri-pencil-line fs-18 lh-1"},null,-1)]),8,U0e)):(0,r.Q3)("",!0)])),[[u,"break_down_attributes.update"]])])))),128))])])])]),(0,r.Lk)("div",j0e,[(0,r.Lk)("div",z0e,[(0,r.bo)((0,r.Lk)("select",{class:"form-select from-select-sm width-75","onUpdate:modelValue":a[8]||(a[8]=e=>i.meta.per_page=e),onChange:a[9]||(a[9]=(...e)=>o.onPerPageChange&&o.onPerPageChange(...e))},a[27]||(a[27]=[(0,r.Lk)("option",null,"10",-1),(0,r.Lk)("option",null,"15",-1),(0,r.Lk)("option",null,"20",-1),(0,r.Lk)("option",null,"25",-1),(0,r.Lk)("option",null,"30",-1)]),544),[[s.u1,i.meta.per_page]]),(0,r.Lk)("span",null,"Showing "+(0,n.v_)(i.meta.from)+" to "+(0,n.v_)(i.meta.to)+" of "+(0,n.v_)(i.meta.totalRows)+" entries",1),(0,r.bF)(c,{maxPage:i.meta.maxPage,totalPages:i.meta.lastPage,currentPage:parseInt(i.meta.page),onPagechanged:o.onPageChange},null,8,["maxPage","totalPages","currentPage","onPagechanged"])])])])])])])}var R0e={components:{Pagination:md},data(){return{meta:{search:"",order_by:"desc",keyword:"break_down_attribute_id",per_page:10,totalRows:0,page:1,lastPage:1,from:1,to:1,maxPage:1,trashed:!1},break_down_attributes:[],errors:[],status:!0}},beforeRouteEnter(e,a,t){t((e=>{"BreakDownAttributes.Edit"==a.name?e.meta.page=e.$store.getters.current_page:e.meta.page=1}))},mounted(){this.index()},methods:{index(){let e=this,a=this.$loading.show();this.$store.dispatch("post",{uri:"paginateBreakDownAttributes",data:e.meta}).then((t=>{a.hide(),e.break_down_attributes=t.data.data,e.meta.totalRows=t.data.meta.total,e.meta.from=t.data.meta.from,e.meta.to=t.data.meta.to,e.meta.lastPage=t.data.meta.last_page,e.meta.maxPage=e.meta.lastPage>=3?3:e.meta.lastPage})).catch((function(t){a.hide(),e.errors=t.response.data.errors,e.$store.dispatch("error",t.response.data.message)}))},editBreakDownAttribute(e){this.$store.commit("setCurrentPage",parseInt(this.meta.page)),this.$router.push("/break_down_attributes/"+e.break_down_attribute_id+"/edit")},deleteBreakDownAttribute(e){let a=this,t=a.$loading.show();a.$store.dispatch("post",{uri:"deleteBreakDownAttribute",data:e}).then((e=>{t.hide(),a.$store.dispatch("success",e.data.message),a.index()})).catch((function(e){t.hide(),a.errors=e.response.data.errors,a.$store.dispatch("error",e.response.data.message)}))},search(){let e=this;e.meta.page=1,e.index()},onPageChange(e){this.meta.page=e,this.index()},sort(e){this.meta.keyword=e,this.meta.order_by="asc"==this.meta.order_by?"desc":"asc",this.index()},onPerPageChange(){let e=this;e.meta.page=1,e.index()}}};const q0e=(0,Ze.A)(R0e,[["render",W0e]]);var I0e=q0e;const N0e={class:""},M0e={class:"d-sm-flex align-items-center justify-content-between mb-2"},K0e={class:"breadcrumb fs-sm mb-1"},J0e={class:"breadcrumb-item","aria-current":"page"},B0e={class:"breadcrumb-item","aria-current":"page"},O0e={key:0,class:"breadcrumb-item","aria-current":"page"},H0e={key:1,class:"breadcrumb-item active","aria-current":"page"},Y0e={class:"row"},Z0e={class:"col-12"},G0e={class:"card card-one"},e1e={class:"card-header d-flex justify-content-between"},a1e={key:0,class:"card-title"},t1e={key:1,class:"card-title"},s1e={class:"card-body"},r1e={class:"row g-2"},l1e={class:"col-md-3"},i1e={class:"form-label"},o1e={key:0},d1e={class:"text-danger"},n1e={class:"col-md-3"},c1e=["disabled"],u1e={key:0,class:"invalid-feedback"},_1e={class:"col-md-3"},p1e={key:0,class:"invalid-feedback"},m1e={class:"col-md-3"},b1e={key:0,class:"invalid-feedback"},k1e={key:0,class:"col-md-4"},v1e=["value"],h1e={key:0,class:"invalid-feedback"},y1e={key:1,class:"col-md-4"},g1e={key:0,class:"invalid-feedback"},f1e={class:"col-md-4"},L1e={key:0,class:"invalid-feedback"},C1e={class:"col-md-4"},w1e={key:0,class:"invalid-feedback"},E1e={class:"card-footer text-end"},x1e={type:"submit",class:"btn btn-primary"},X1e={key:0},P1e={key:1};function $1e(e,a,t,l,i,o){const d=(0,r.g2)("router-link"),c=(0,r.g2)("MultiSelect");return(0,r.uX)(),(0,r.CE)("div",N0e,[(0,r.Lk)("div",M0e,[(0,r.Lk)("div",null,[(0,r.Lk)("ol",K0e,[(0,r.Lk)("li",J0e,[(0,r.bF)(d,{to:"/dashboard"},{default:(0,r.k6)((()=>a[9]||(a[9]=[(0,r.eW)("Dashboard")]))),_:1})]),a[11]||(a[11]=(0,r.Lk)("li",{class:"breadcrumb-item","aria-current":"page"},[(0,r.Lk)("a",{href:"javascript:void(0)"},"Attributes")],-1)),(0,r.Lk)("li",B0e,[(0,r.bF)(d,{to:"/activity_attributes"},{default:(0,r.k6)((()=>a[10]||(a[10]=[(0,r.eW)("Activity Attributes")]))),_:1})]),i.status?((0,r.uX)(),(0,r.CE)("li",O0e,"New Activity Attribute")):((0,r.uX)(),(0,r.CE)("li",H0e,"Update Activity Attribute"))]),a[12]||(a[12]=(0,r.Lk)("h4",{class:"main-title mb-0"}," Activity Attribute",-1))]),(0,r.bF)(d,{to:"/activity_attributes",type:"submit",class:"btn btn-primary",style:{float:"right"}},{default:(0,r.k6)((()=>a[13]||(a[13]=[(0,r.Lk)("i",{class:"ri-list-check"},null,-1),(0,r.eW)(" ACTIVITY ATTRIBUTES")]))),_:1})]),(0,r.Lk)("div",Y0e,[(0,r.Lk)("div",Z0e,[(0,r.Lk)("form",{onSubmit:a[8]||(a[8]=(0,s.D$)(((...e)=>o.submitForm&&o.submitForm(...e)),["prevent"]))},[(0,r.Lk)("div",G0e,[(0,r.Lk)("div",e1e,[i.status?((0,r.uX)(),(0,r.CE)("h6",a1e,"New Activity Attribute")):((0,r.uX)(),(0,r.CE)("h6",t1e,"Update Activity Attribute"))]),(0,r.Lk)("div",s1e,[(0,r.Lk)("div",r1e,[(0,r.Lk)("div",l1e,[(0,r.Lk)("div",i1e,[a[14]||(a[14]=(0,r.Lk)("label",{class:"form-label"},"Activity Type",-1)),a[15]||(a[15]=(0,r.Lk)("span",{class:"text-danger"}," *",-1)),(0,r.bF)(c,{modelValue:i.activity_attribute.activity_types_obj,"onUpdate:modelValue":a[0]||(a[0]=e=>i.activity_attribute.activity_types_obj=e),filter:"",optionLabel:"reason_name",options:i.activity_types,placeholder:"Select Activity Type",maxSelectedLabels:3,style:(0,n.Tr)([{width:"100%",height:"37px"},i.errors?.activity_types?i.error_style:""])},null,8,["modelValue","options","style"]),i.errors?.activity_types?((0,r.uX)(),(0,r.CE)("span",o1e,[(0,r.Lk)("small",d1e,(0,n.v_)(i.errors?.activity_types[0]),1)])):(0,r.Q3)("",!0)])]),(0,r.Lk)("div",n1e,[a[16]||(a[16]=(0,r.Lk)("label",{class:"form-label"},"Field Name",-1)),a[17]||(a[17]=(0,r.Lk)("span",{class:"text-danger"}," *",-1)),(0,r.bo)((0,r.Lk)("input",{type:"text",placeholder:"Field Name ",class:(0,n.C4)(["form-control",{"is-invalid":i.errors.field_name}]),"onUpdate:modelValue":a[1]||(a[1]=e=>i.activity_attribute.field_name=e),disabled:!i.status},null,10,c1e),[[s.Jo,i.activity_attribute.field_name]]),i.errors.field_name?((0,r.uX)(),(0,r.CE)("span",u1e,(0,n.v_)(i.errors.field_name[0]),1)):(0,r.Q3)("",!0)]),(0,r.Lk)("div",_1e,[a[18]||(a[18]=(0,r.Lk)("label",{class:"form-label"},"Display Name",-1)),a[19]||(a[19]=(0,r.Lk)("span",{class:"text-danger"}," *",-1)),(0,r.bo)((0,r.Lk)("input",{type:"text",placeholder:"Display Name ",class:(0,n.C4)(["form-control",{"is-invalid":i.errors.display_name}]),"onUpdate:modelValue":a[2]||(a[2]=e=>i.activity_attribute.display_name=e)},null,2),[[s.Jo,i.activity_attribute.display_name]]),i.errors.display_name?((0,r.uX)(),(0,r.CE)("span",p1e,(0,n.v_)(i.errors.display_name[0]),1)):(0,r.Q3)("",!0)]),(0,r.Lk)("div",m1e,[a[21]||(a[21]=(0,r.Lk)("label",{class:"form-label"},"Field Type",-1)),a[22]||(a[22]=(0,r.Lk)("span",{class:"text-danger"}," *",-1)),(0,r.bo)((0,r.Lk)("select",{class:(0,n.C4)(["form-control",{"is-invalid":i.errors.field_type}]),"onUpdate:modelValue":a[3]||(a[3]=e=>i.activity_attribute.field_type=e)},a[20]||(a[20]=[(0,r.Fv)('<option value="" data-v-0c0b6b47>Select Field Type</option><option value="Text" data-v-0c0b6b47>Text </option><option value="Dropdown" data-v-0c0b6b47>Dropdown </option><option value="Number" data-v-0c0b6b47>Number </option><option value="Date" data-v-0c0b6b47>Date </option><option value="Date&amp;Time" data-v-0c0b6b47>Date&amp;Time </option><option value="Color" data-v-0c0b6b47>Color</option><option value="List" data-v-0c0b6b47>List</option>',8)]),2),[[s.u1,i.activity_attribute.field_type]]),i.errors.field_type?((0,r.uX)(),(0,r.CE)("span",b1e,(0,n.v_)(i.errors.field_type[0]),1)):(0,r.Q3)("",!0)]),i.list_parameters.length?((0,r.uX)(),(0,r.CE)("div",k1e,[a[24]||(a[24]=(0,r.Lk)("label",{class:"form-label"},"List",-1)),a[25]||(a[25]=(0,r.Lk)("span",{class:"text-danger"}," *",-1)),(0,r.bo)((0,r.Lk)("select",{class:(0,n.C4)(["form-control",{"is-invalid":i.errors.list_parameter_id}]),"onUpdate:modelValue":a[4]||(a[4]=e=>i.activity_attribute.list_parameter_id=e)},[a[23]||(a[23]=(0,r.Lk)("option",{value:""},"Select List",-1)),((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(i.list_parameters,((e,a)=>((0,r.uX)(),(0,r.CE)("option",{key:a,value:e.list_parameter_id},(0,n.v_)(e.list_parameter_name),9,v1e)))),128))],2),[[s.u1,i.activity_attribute.list_parameter_id]]),i.errors.list_parameter_id?((0,r.uX)(),(0,r.CE)("span",h1e,(0,n.v_)(i.errors.list_parameter_id[0]),1)):(0,r.Q3)("",!0)])):(0,r.Q3)("",!0),"Dropdown"===i.activity_attribute.field_type?((0,r.uX)(),(0,r.CE)("div",y1e,[a[26]||(a[26]=(0,r.Lk)("label",{class:"form-label"},"Field Value",-1)),a[27]||(a[27]=(0,r.Lk)("span",{class:"text-danger"}," *",-1)),(0,r.bo)((0,r.Lk)("input",{type:"text",placeholder:"Field Value",class:(0,n.C4)(["form-control",{"is-invalid":i.errors.field_values}]),"onUpdate:modelValue":a[5]||(a[5]=e=>i.activity_attribute.field_values=e)},null,2),[[s.Jo,i.activity_attribute.field_values]]),i.errors.field_values?((0,r.uX)(),(0,r.CE)("span",g1e,(0,n.v_)(i.errors.field_values[0]),1)):(0,r.Q3)("",!0)])):(0,r.Q3)("",!0),(0,r.Lk)("div",f1e,[a[28]||(a[28]=(0,r.Lk)("label",{class:"form-label"},"Field Length",-1)),a[29]||(a[29]=(0,r.Lk)("span",{class:"text-danger"}," *",-1)),(0,r.bo)((0,r.Lk)("input",{type:"number",placeholder:"Maximum Length",class:(0,n.C4)(["form-control",{"is-invalid":i.errors.field_length}]),"onUpdate:modelValue":a[6]||(a[6]=e=>i.activity_attribute.field_length=e)},null,2),[[s.Jo,i.activity_attribute.field_length]]),i.errors.field_length?((0,r.uX)(),(0,r.CE)("span",L1e,(0,n.v_)(i.errors.field_length[0]),1)):(0,r.Q3)("",!0)]),(0,r.Lk)("div",C1e,[a[31]||(a[31]=(0,r.Lk)("label",{class:"form-label"},"Is Required",-1)),a[32]||(a[32]=(0,r.Lk)("span",{class:"text-danger"}," *",-1)),(0,r.bo)((0,r.Lk)("select",{class:(0,n.C4)(["form-control",{"is-invalid":i.errors.is_required}]),"onUpdate:modelValue":a[7]||(a[7]=e=>i.activity_attribute.is_required=e)},a[30]||(a[30]=[(0,r.Lk)("option",{value:""},"Select Is Required",-1),(0,r.Lk)("option",{value:"1"},"Yes ",-1),(0,r.Lk)("option",{value:"0"},"No ",-1)]),2),[[s.u1,i.activity_attribute.is_required]]),i.errors.is_required?((0,r.uX)(),(0,r.CE)("span",w1e,(0,n.v_)(i.errors.is_required[0]),1)):(0,r.Q3)("",!0)])])]),(0,r.Lk)("div",E1e,[(0,r.bF)(d,{type:"button",class:"btn btn-danger me-2",to:"/activity_attributes"},{default:(0,r.k6)((()=>a[33]||(a[33]=[(0,r.Lk)("i",{class:"ri-close-line fs-18 lh-1"},null,-1),(0,r.eW)(" Discard")]))),_:1}),(0,r.Lk)("button",x1e,[i.status?((0,r.uX)(),(0,r.CE)("span",X1e,a[34]||(a[34]=[(0,r.Lk)("i",{class:"ri-save-line fs-18 lh-1"},null,-1),(0,r.eW)(" Submit")]))):((0,r.uX)(),(0,r.CE)("span",P1e,a[35]||(a[35]=[(0,r.Lk)("i",{class:"ri-save-line fs-18 lh-1"},null,-1),(0,r.eW)(" Update")])))])])])],32)])])])}var S1e={components:{MultiSelect:Ru.A},name:"ActivityAttributes.Create",data(){return{activity_attribute:{field_name:"",display_name:"",field_type:"",field_values:"",field_length:"",is_required:"",activity_type_id:"",activity_types_obj:[],activity_types:[],list_parameter_id:"",deleted_activity_types:[]},deleted_activity_types:[],activity_types:[],activity_attributes:[],list_parameters:[],errors:[],status:!0,activity_type_status:!1,error_style:{"border-color":"#dc3545","padding-right":"calc(1.5em + 0.812rem)","background-image":"url(\"data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 12 12' width='12' height='12' fill='none' stroke='%23dc3545'%3e%3ccircle cx='6' cy='6' r='4.5'/%3e%3cpath stroke-linejoin='round' d='M5.8 3.6h.4L6 6.5z'/%3e%3ccircle cx='6' cy='8.2' r='.6' fill='%23dc3545' stroke='none'/%3e%3c/svg%3e\")","background-repeat":"no-repeat","background-position":"right calc(0.375em + 0.203rem) center","background-size":"calc(0.75em + 0.406rem) calc(0.75em + 0.406rem)"}}},beforeRouteEnter(e,a,t){t((a=>{if(a.getActivityTypes(),"ActivityAttributes.Create"==e.name);else{a.status=!1;let t={uri:"getActivityAttribute",data:{activity_attribute_id:e.params.activity_attribute_id}};a.$store.dispatch("post",t).then((function(e){a.activity_attribute=e.data.data,a.activity_attribute.deleted_activity_types=[],a.activity_attribute.activity_types_obj=[],a.activity_attribute.activity_attribute_types.map((function(e){a.activity_attribute.activity_types_obj.push({reason_code:e.activity_type.reason_code,reason_id:e.activity_type.reason_id,status:e.activity_type.status,reason_name:e.activity_type.reason_name})}))})).catch((function(e){a.errors=e.response.data.errors,a.$store.dispatch("error",e.response.data.message)}))}}))},watch:{"activity_attribute.field_type":function(){"List"==this.activity_attribute.field_type?this.getListParameters():(this.list_parameters=[],this.activity_attribute.list_parameter_id="")}},methods:{updateActivityType(e,a){let t=this;const s=e.target.checked;let r=a?.activity_attribute_types?.filter((function(a){return a.reason_id==e.target.value}));if(r?.length){let e=r[0].activity_attribute_type_id;if(s){if(t.activity_attribute.deleted_activity_types.includes(e)){let a=this.activity_attribute.deleted_activity_types.filter((function(a){return a!=e}));t.activity_attribute.deleted_activity_types=a}}else t.activity_attribute.deleted_activity_types.includes(e)||(console.log(e),t.activity_attribute.deleted_activity_types.push(e))}console.log("Checked IDs:",this.activity_attribute.activity_types),console.log("Unchecked IDs:",t.activity_attribute.deleted_activity_types)},toggleActivityTypeStatus(){this.activity_type_status=!this.activity_type_status},submitForm(){let e=this;e.status?e.addActivityAttribute():e.updateActivityAttribute()},getActivityTypes(){let e=this,a=e.$loading.show();e.$store.dispatch("post",{uri:"getReasons"}).then((t=>{a.hide(),e.activity_types=t.data.data})).catch((function(t){a.hide(),e.errors=t.response.data.errors,e.$store.dispatch("error",t.response.data.message)}))},addActivityAttribute(){let e=this,a=e.$loading.show();e.activity_attribute.activity_types_obj.map((function(a){e.activity_attribute.activity_types.push(a.reason_id)})),e.$store.dispatch("post",{uri:"addActivityAttribute",data:e.activity_attribute}).then((t=>{a.hide(),e.$store.dispatch("success","Break Down Attribute Created Successfully"),e.$router.push("/activity_attributes")})).catch((function(t){a.hide(),e.errors=t.response.data.errors,e.$store.dispatch("error",t.response.data.message)}))},updateActivityAttribute(){let e=this,a=e.$loading.show();e.activity_attribute.deleted_activity_types=e.activity_attribute?.activity_attribute_types.filter((a=>!e.activity_attribute.activity_types_obj.some((e=>a.reason_id===e.reason_id)))),e.activity_attribute.activity_types=e.activity_attribute.activity_types_obj.map((e=>e.reason_id)),e.activity_attribute.deleted_activity_types=e.activity_attribute.deleted_activity_types.map((e=>e.activity_attribute_type_id)),e.$store.dispatch("post",{uri:"updateActivityAttribute",data:e.activity_attribute}).then((t=>{a.hide(),e.$store.dispatch("success","Break Down Attribute Updated Successfully"),e.$router.push("/activity_attributes")})).catch((function(t){a.hide(),e.errors=t.response.data.errors,e.$store.dispatch("error",t.response.data.message)}))},getListParameters(){let e=this,a=this.$loading.show();e.$store.dispatch("post",{uri:"getListParameters"}).then((t=>{a.hide(),e.list_parameters=t.data.data})).catch((function(t){a.hide(),e.errors=t.response.data.errors,e.$store.dispatch("error",t.response.data.message)}))},getActivityAttribute(){let e=this,a=this.$loading.show();this.$store.dispatch("post",{uri:"getActivityAttribute",data:this.activity_attribute}).then((e=>{a.hide(),this.activity_attributes=e.data.data})).catch((function(t){a.hide(),e.errors=t.response.data.errors,e.$store.dispatch("error",t.response.data.message)}))},discard(){let e=this;e.activity_attribute.field_name="",e.activity_attribute.field_type="",e.activity_attribute.display_name="",e.activity_attribute.field_values="",e.activity_attribute.field_length="",e.activity_attribute.is_required="",e.activity_attribute.activity_type_id="",e.activity_attribute.list_parameter_id="",e.activity_attribute.activity_types=[],e.errors=[],e.status=!0}}};const A1e=(0,Ze.A)(S1e,[["render",$1e],["__scopeId","data-v-0c0b6b47"]]);var D1e=A1e;const T1e={class:""},Q1e={class:"d-sm-flex align-items-center justify-content-between mb-2"},V1e={class:"breadcrumb fs-sm mb-1"},F1e={class:"breadcrumb-item","aria-current":"page"},U1e={class:"row"},j1e={class:"col-12"},z1e={class:"card card-one"},W1e={class:"card-body"},R1e={class:"table-responsive table-responsive-sm"},q1e={class:"table table-sm text-nowrap table-striped table-bordered mb-0"},I1e={style:{"background-color":"#9b9b9b",color:"white"}},N1e={key:0,class:"ri-arrow-up-line"},M1e={key:1,class:"ri-arrow-down-line"},K1e={key:2,class:"fas fa-sort"},J1e={key:0,class:"ri-arrow-up-line"},B1e={key:1,class:"ri-arrow-down-line"},O1e={key:2,class:"fas fa-sort"},H1e={key:0,class:"ri-arrow-up-line"},Y1e={key:1,class:"ri-arrow-down-line"},Z1e={key:2,class:"fas fa-sort"},G1e={key:0,class:"ri-arrow-up-line"},e2e={key:1,class:"ri-arrow-down-line"},a2e={key:2,class:"fas fa-sort"},t2e={key:0,class:"ri-arrow-up-line"},s2e={key:1,class:"ri-arrow-down-line"},r2e={key:2,class:"fas fa-sort"},l2e={key:0,class:"ri-arrow-up-line"},i2e={key:1,class:"ri-arrow-down-line"},o2e={key:2,class:"fas fa-sort"},d2e={class:"text-center"},n2e={class:"text-center"},c2e={key:0},u2e={class:"text-center"},_2e={class:"text-center"},p2e={class:"form-switch"},m2e=["id","checked","value","onChange"],b2e=["for"],k2e={class:"text-center"},v2e=["onClick"],h2e={class:"card-footer"},y2e={class:"d-flex justify-content-between align-items-center"};function g2e(e,a,t,l,i,o){const d=(0,r.g2)("router-link"),c=(0,r.g2)("Pagination"),u=(0,r.gN)("can");return(0,r.uX)(),(0,r.CE)("div",T1e,[(0,r.Lk)("div",Q1e,[(0,r.Lk)("div",null,[(0,r.Lk)("ol",V1e,[(0,r.Lk)("li",F1e,[(0,r.bF)(d,{to:"/dashboard"},{default:(0,r.k6)((()=>a[10]||(a[10]=[(0,r.eW)("Dashboard")]))),_:1})]),a[11]||(a[11]=(0,r.Lk)("li",{class:"breadcrumb-item","aria-current":"page"},[(0,r.Lk)("a",{href:"javascript:void(0)"},"Attributes")],-1)),a[12]||(a[12]=(0,r.Lk)("li",{class:"breadcrumb-item active","aria-current":"page"},[(0,r.Lk)("a",{href:"javascript:void(0)"},"Activity Attributes")],-1))]),a[13]||(a[13]=(0,r.Lk)("h4",{class:"main-title mb-0"},"Activity Attributes",-1))]),(0,r.bo)(((0,r.uX)(),(0,r.Wv)(d,{to:"/activity_attributes/create",class:"btn btn-primary",style:{float:"right"}},{default:(0,r.k6)((()=>a[14]||(a[14]=[(0,r.Lk)("i",{class:"ri-list-check"},null,-1),(0,r.eW)(" ADD ACTIVITY ATTRIBUTE")]))),_:1})),[[u,"activity_attributes.create"]])]),(0,r.Lk)("div",U1e,[(0,r.Lk)("div",j1e,[(0,r.Lk)("div",z1e,[a[28]||(a[28]=(0,r.Lk)("div",{class:"card-header d-flex justify-content-between"},[(0,r.Lk)("h6",{class:"card-title"},"Activity Attributes")],-1)),(0,r.Lk)("div",W1e,[(0,r.bo)((0,r.Lk)("input",{class:"form-control form-control-sm mb-2",type:"text",placeholder:"Type keyword and press enter key","onUpdate:modelValue":a[0]||(a[0]=e=>i.meta.search=e),onKeypress:a[1]||(a[1]=(0,s.jR)((e=>o.search()),["enter"]))},null,544),[[s.Jo,i.meta.search]]),(0,r.Lk)("div",R1e,[(0,r.Lk)("table",q1e,[(0,r.Lk)("thead",null,[(0,r.Lk)("tr",I1e,[a[23]||(a[23]=(0,r.Lk)("th",{class:"text-center"},"#",-1)),(0,r.Lk)("th",{onClick:a[2]||(a[2]=e=>o.sort("field_name"))},[a[15]||(a[15]=(0,r.eW)(" Field Name ")),(0,r.Lk)("span",null,["field_name"==i.meta.keyword&&"asc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",N1e)):"field_name"==i.meta.keyword&&"desc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",M1e)):((0,r.uX)(),(0,r.CE)("i",K1e))])]),(0,r.Lk)("th",{onClick:a[3]||(a[3]=e=>o.sort("display_name"))},[a[16]||(a[16]=(0,r.eW)(" Display Name ")),(0,r.Lk)("span",null,["display_name"==i.meta.keyword&&"asc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",J1e)):"display_name"==i.meta.keyword&&"desc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",B1e)):((0,r.uX)(),(0,r.CE)("i",O1e))])]),(0,r.Lk)("th",{onClick:a[4]||(a[4]=e=>o.sort("field_type"))},[a[17]||(a[17]=(0,r.eW)(" Field Type ")),(0,r.Lk)("span",null,["field_type"==i.meta.keyword&&"asc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",H1e)):"field_type"==i.meta.keyword&&"desc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",Y1e)):((0,r.uX)(),(0,r.CE)("i",Z1e))])]),(0,r.Lk)("th",{onClick:a[5]||(a[5]=e=>o.sort("field_values"))},[a[18]||(a[18]=(0,r.eW)(" Field Values ")),(0,r.Lk)("span",null,["field_values"==i.meta.keyword&&"asc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",G1e)):"field_values"==i.meta.keyword&&"desc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",e2e)):((0,r.uX)(),(0,r.CE)("i",a2e))])]),(0,r.Lk)("th",{onClick:a[6]||(a[6]=e=>o.sort("field_length"))},[a[19]||(a[19]=(0,r.eW)(" Field Length ")),(0,r.Lk)("span",null,["field_length"==i.meta.keyword&&"asc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",t2e)):"field_length"==i.meta.keyword&&"desc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",s2e)):((0,r.uX)(),(0,r.CE)("i",r2e))])]),(0,r.Lk)("th",{onClick:a[7]||(a[7]=e=>o.sort("is_required"))},[a[20]||(a[20]=(0,r.eW)(" Is Required ")),(0,r.Lk)("span",null,["is_required"==i.meta.keyword&&"asc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",l2e)):"is_required"==i.meta.keyword&&"desc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",i2e)):((0,r.uX)(),(0,r.CE)("i",o2e))])]),a[24]||(a[24]=(0,r.Lk)("th",null," Activity Type ",-1)),(0,r.bo)(((0,r.uX)(),(0,r.CE)("th",d2e,a[21]||(a[21]=[(0,r.eW)("Status")]))),[[u,"activity_attributes.delete"]]),(0,r.bo)(((0,r.uX)(),(0,r.CE)("th",n2e,a[22]||(a[22]=[(0,r.eW)("Actions")]))),[[u,"activity_attributes.update"]])])]),(0,r.Lk)("tbody",null,[0==i.activity_attributes.length?((0,r.uX)(),(0,r.CE)("tr",c2e,a[25]||(a[25]=[(0,r.Lk)("td",{colspan:"10",class:"text-center"},"No records found",-1)]))):(0,r.Q3)("",!0),((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(i.activity_attributes,((e,t)=>((0,r.uX)(),(0,r.CE)("tr",{key:t},[(0,r.Lk)("td",u2e,(0,n.v_)(i.meta.from+t),1),(0,r.Lk)("td",null,(0,n.v_)(e.field_name),1),(0,r.Lk)("td",null,(0,n.v_)(e.display_name),1),(0,r.Lk)("td",null,(0,n.v_)(e.field_type),1),(0,r.Lk)("td",null,(0,n.v_)(e.field_values),1),(0,r.Lk)("td",null,(0,n.v_)(e.field_length),1),(0,r.Lk)("td",null,(0,n.v_)(1==e?.is_required?"Yes":"No"),1),(0,r.Lk)("td",null,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(e.activity_attribute_types,((e,a)=>((0,r.uX)(),(0,r.CE)("span",{key:a},(0,n.v_)(e?.activity_type?.reason_name)+", ",1)))),128))]),(0,r.bo)(((0,r.uX)(),(0,r.CE)("td",_2e,[(0,r.Lk)("div",p2e,[(0,r.Lk)("input",{class:"form-check-input",type:"checkbox",role:"switch",id:"activity_attribute"+e.activity_attribute_id,checked:e.status,value:e.status,onChange:a=>o.deleteActivityAttribute(e)},null,40,m2e),(0,r.Lk)("label",{class:"custom-control-label",for:"user"+e.activity_attribute_id},null,8,b2e)])])),[[u,"activity_attributes.delete"]]),(0,r.bo)(((0,r.uX)(),(0,r.CE)("td",k2e,[e.status?((0,r.uX)(),(0,r.CE)("a",{key:0,href:"javascript:void(0)",class:"text-success",onClick:a=>o.editActivityAttribute(e)},a[26]||(a[26]=[(0,r.Lk)("i",{class:"ri-pencil-line fs-18 lh-1"},null,-1)]),8,v2e)):(0,r.Q3)("",!0)])),[[u,"activity_attributes.update"]])])))),128))])])])]),(0,r.Lk)("div",h2e,[(0,r.Lk)("div",y2e,[(0,r.bo)((0,r.Lk)("select",{class:"form-select from-select-sm width-75","onUpdate:modelValue":a[8]||(a[8]=e=>i.meta.per_page=e),onChange:a[9]||(a[9]=(...e)=>o.onPerPageChange&&o.onPerPageChange(...e))},a[27]||(a[27]=[(0,r.Lk)("option",null,"10",-1),(0,r.Lk)("option",null,"15",-1),(0,r.Lk)("option",null,"20",-1),(0,r.Lk)("option",null,"25",-1),(0,r.Lk)("option",null,"30",-1)]),544),[[s.u1,i.meta.per_page]]),(0,r.Lk)("span",null,"Showing "+(0,n.v_)(i.meta.from)+" to "+(0,n.v_)(i.meta.to)+" of "+(0,n.v_)(i.meta.totalRows)+" entries",1),(0,r.bF)(c,{maxPage:i.meta.maxPage,totalPages:i.meta.lastPage,currentPage:parseInt(i.meta.page),onPagechanged:o.onPageChange},null,8,["maxPage","totalPages","currentPage","onPagechanged"])])])])])])])}var f2e={components:{Pagination:md},data(){return{meta:{search:"",order_by:"desc",keyword:"activity_attribute_id",per_page:10,totalRows:0,page:1,lastPage:1,from:1,to:1,maxPage:1,trashed:!1},activity_attributes:[],errors:[],status:!0}},mounted(){this.index()},beforeRouteEnter(e,a,t){t((e=>{"ActivityAttributes.Edit"==a.name?e.meta.page=e.$store.getters.current_page:e.meta.page=1}))},methods:{index(){let e=this,a=this.$loading.show();this.$store.dispatch("post",{uri:"paginateActivityAttributes",data:e.meta}).then((t=>{a.hide(),this.activity_attributes=t.data.data,this.meta.totalRows=t.data.meta.total,this.meta.from=t.data.meta.from,this.meta.to=t.data.meta.to,this.meta.lastPage=t.data.meta.last_page,this.meta.maxPage=e.meta.lastPage>=3?3:e.meta.lastPage})).catch((function(t){a.hide(),e.errors=t.response.data.errors,e.$store.dispatch("error",t.response.data.message)}))},editActivityAttribute(e){this.$store.commit("setCurrentPage",parseInt(this.meta.page)),this.$router.push("/activity_attributes/"+e.activity_attribute_id+"/edit")},deleteActivityAttribute(e){let a=this,t=a.$loading.show();a.$store.dispatch("post",{uri:"deleteActivityAttribute",data:e}).then((e=>{t.hide(),a.$store.dispatch("success",e.data.message),a.index()})).catch((function(e){t.hide(),a.errors=e.response.data.errors,a.$store.dispatch("error",e.response.data.message)}))},search(){let e=this;e.meta.page=1,e.index()},onPageChange(e){this.meta.page=e,this.index()},sort(e){this.meta.keyword=e,this.meta.order_by="asc"==this.meta.order_by?"desc":"asc",this.index()},onPerPageChange(){let e=this;e.meta.page=1,e.index()}}};const L2e=(0,Ze.A)(f2e,[["render",g2e]]);var C2e=L2e;const w2e={class:""},E2e={class:"d-sm-flex align-items-center justify-content-between mb-2"},x2e={class:"breadcrumb fs-sm mb-1"},X2e={class:"breadcrumb-item","aria-current":"page"},P2e={class:"breadcrumb-item active","aria-current":"page"},$2e={class:"row"},S2e={class:"col-12"},A2e={class:"card card-one mb-3"},D2e={class:"card-body p-0"},T2e={class:"setting-item"},Q2e={class:"row g-2 mb-4"},V2e={class:"col-md-4 mb-3"},F2e={class:"font"},U2e={class:"col-md-4 mb-3"},j2e={class:"font"},z2e={class:"col-md-4 mb-3"},W2e={class:"font"},R2e={class:"col-md-12 mt-1"},q2e={class:"table-responsive table-responsive-sm row"},I2e={key:0,class:"card"},N2e={class:"card-header"},M2e={class:"mb-0"},K2e={class:"card-body"},J2e={class:"table table-responsive table-responsive-sm table-sm text-nowrap table-bordered mb-0"};function B2e(e,a,t,s,l,i){const o=(0,r.g2)("router-link");return(0,r.uX)(),(0,r.CE)("div",w2e,[(0,r.Lk)("div",E2e,[(0,r.Lk)("div",null,[(0,r.Lk)("ol",x2e,[(0,r.Lk)("li",X2e,[(0,r.bF)(o,{to:"/dashboard"},{default:(0,r.k6)((()=>a[0]||(a[0]=[(0,r.eW)("Dashboard")]))),_:1})]),a[2]||(a[2]=(0,r.Lk)("li",{class:"breadcrumb-item"},[(0,r.Lk)("a",{href:"javascript:void(0)"},"Registers")],-1)),(0,r.Lk)("li",P2e,[(0,r.bF)(o,{to:"/process_registers"},{default:(0,r.k6)((()=>a[1]||(a[1]=[(0,r.eW)("Process Registers")]))),_:1})]),a[3]||(a[3]=(0,r.Lk)("li",{class:"breadcrumb-item","aria-current":"page"},"View",-1))]),a[4]||(a[4]=(0,r.Lk)("h4",{class:"main-title mb-0"},"View Process Register",-1))]),(0,r.bF)(o,{to:"/process_registers",type:"submit",class:"btn btn-primary",style:{float:"right"}},{default:(0,r.k6)((()=>a[5]||(a[5]=[(0,r.Lk)("i",{class:"ri-list-check"},null,-1),(0,r.eW)(" PROCESS REGISTERS")]))),_:1})]),(0,r.Lk)("div",$2e,[(0,r.Lk)("div",S2e,[(0,r.Lk)("div",A2e,[a[11]||(a[11]=(0,r.Lk)("div",{class:"card-header"},[(0,r.Lk)("h5",{class:"card-title"},"Process Register"),(0,r.Lk)("br")],-1)),(0,r.Lk)("div",D2e,[(0,r.Lk)("div",T2e,[(0,r.Lk)("div",Q2e,[(0,r.Lk)("div",V2e,[a[6]||(a[6]=(0,r.Lk)("h6",null,"Job Number",-1)),(0,r.Lk)("p",F2e,(0,n.v_)(l.user_variable.job_no),1)]),(0,r.Lk)("div",U2e,[a[7]||(a[7]=(0,r.Lk)("h6",null,"Asset Code",-1)),(0,r.Lk)("p",j2e,(0,n.v_)(l.user_variable?.asset?.asset_code),1)]),(0,r.Lk)("div",z2e,[a[8]||(a[8]=(0,r.Lk)("h6",null,"Job Date",-1)),(0,r.Lk)("p",W2e,(0,n.v_)(i.convertDateFormat(l.user_variable.job_date)),1)]),(0,r.Lk)("div",R2e,[a[10]||(a[10]=(0,r.Lk)("h6",{class:"mb-2"},"Asset Variables :",-1)),(0,r.Lk)("div",q2e,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(l.asset_zones,((e,t)=>((0,r.uX)(),(0,r.CE)("div",{class:"col-md-4",key:t},[l.user_variable.user_asset_variables[t]&&l.user_variable.user_asset_variables[t].some((e=>e?.variable?.variable_name))?((0,r.uX)(),(0,r.CE)("div",I2e,[(0,r.Lk)("div",N2e,[(0,r.Lk)("h6",M2e,(0,n.v_)(e.zone_name),1)]),(0,r.Lk)("div",K2e,[(0,r.Lk)("table",J2e,[a[9]||(a[9]=(0,r.Lk)("thead",null,[(0,r.Lk)("tr",null,[(0,r.Lk)("th",null,"Variable"),(0,r.Lk)("th",null,"Value")])],-1)),(0,r.Lk)("tbody",null,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(l.user_variable.user_asset_variables[t],((e,a)=>((0,r.uX)(),(0,r.CE)("tr",{key:a},[(0,r.Lk)("td",null,(0,n.v_)(e?.variable?.variable_name),1),(0,r.Lk)("td",null,(0,n.v_)(e.value),1)])))),128))])])])])):(0,r.Q3)("",!0)])))),128))])])])])])])])])])}var O2e={name:"ViewAsset",data(){return{user_variable:{user_variable_id:"",asset_id:"",reference_no:"",reference_date:"",note:"",status:"",asset_variables:[],user_asset_variables:[]},asset_zones:[]}},beforeRouteEnter(e,a,t){t((a=>{a.user_variable.user_variable_id=e.params.user_variable_id,a.getUserVariable()}))},methods:{getAssetZones(){let e=this,a=e.$loading.show();e.$store.dispatch("post",{uri:"getAssetZones",data:e.user_variable}).then((t=>{a.hide(),e.asset_zones=t.data.data})).catch((function(t){a.hide(),e.errors=t.response.data.errors,e.$store.dispatch("error",t.response.data.message)}))},getUserVariable(){let e=this,a=e.$loading.show(),t={uri:"getUserVariable",data:{user_variable_id:e.user_variable.user_variable_id}};e.$store.dispatch("post",t).then((function(t){a.hide(),e.user_variable=t.data.data,e.getAssetZones()})).catch((function(t){a.hide(),e.errors=t.response.data.errors,e.$store.dispatch("error",t.response.data.message)}))},showImage(e){document.getElementById("image").style.display="block",document.getElementById("btnID").style.display="none"},downloadImage(e){let a=this;window.open(a.$store.state.apiUrl+"downloadCheckAttachment?file_name="+e)},downloadEngineeringDetail(){let e=this;e.errors=[],""==e.engineering.project_id&&(e.engineering.project_id=["The project field is required."]),""==e.engineering.to_date&&(e.engineering.to_date=["The To Date field is required."]),e.engineering.project_id&&e.engineering.to_date&&window.open(e.$store.getters.apiUrl+"downloadElectricalDetailReport?project_id="+e.engineering.project_id+"&to_date="+e.engineering.to_date+"&from_date="+e.engineering.from_date+"&isDownload=true")},convertDateFormat(e){return sG()(e).format("yyyy-MM-DD HH:mm")}}};const H2e=(0,Ze.A)(O2e,[["render",B2e],["__scopeId","data-v-3bce5b14"]]);var Y2e=H2e;const Z2e={class:""},G2e={class:"d-sm-flex align-items-center justify-content-between mb-2"},e3e={class:"breadcrumb fs-sm mb-1"},a3e={class:"breadcrumb-item","aria-current":"page"},t3e={class:"breadcrumb-item","aria-current":"page"},s3e={key:0,class:"breadcrumb-item","aria-current":"page"},r3e={key:1,class:"breadcrumb-item active","aria-current":"page"},l3e={class:"row"},i3e={class:"col-12"},o3e={class:"card card-one"},d3e={class:"card-header d-flex justify-content-between"},n3e={key:0,class:"card-title"},c3e={key:1,class:"card-title"},u3e={class:"card-body"},_3e={class:"row g-2 mb-5"},p3e={class:"col-md-6"},m3e={key:0,class:"invalid-feedback"},b3e={class:"col-md-6"},k3e=["disabled"],v3e={key:0,class:"invalid-feedback"},h3e={class:"col-md-12"},y3e={key:0,class:"invalid-feedback"},g3e={key:0,class:"row g-2 mb-3"},f3e={key:0,class:"card"},L3e={class:"card-header"},C3e={class:"mb-0"},w3e={class:"card-body"},E3e={class:"table table-responsive table-responsive-sm table-sm text-nowrap table-bordered mb-0"},x3e=["onUpdate:modelValue"],X3e={key:0,class:"invalid-feedback"},P3e={key:1,class:"row g-2 mb-3"},$3e={key:0,class:"card"},S3e={class:"card-header"},A3e={class:"mb-0"},D3e={class:"card-body"},T3e={class:"table table-responsive table-responsive-sm table-sm text-nowrap table-bordered mb-0"},Q3e=["onUpdate:modelValue"],V3e={key:0,class:"invalid-feedback"},F3e={class:"card-footer text-end"},U3e={type:"submit",class:"btn btn-primary"},j3e={key:0},z3e={key:1};function W3e(e,a,t,l,i,o){const d=(0,r.g2)("router-link"),c=(0,r.g2)("search");return(0,r.uX)(),(0,r.CE)("div",Z2e,[(0,r.Lk)("div",G2e,[(0,r.Lk)("div",null,[(0,r.Lk)("ol",e3e,[(0,r.Lk)("li",a3e,[(0,r.bF)(d,{to:"/dashboard"},{default:(0,r.k6)((()=>a[4]||(a[4]=[(0,r.eW)("Dashboard")]))),_:1})]),a[6]||(a[6]=(0,r.Lk)("li",{class:"breadcrumb-item"},[(0,r.Lk)("a",{href:"javascript:void(0)"},"Registers")],-1)),(0,r.Lk)("li",t3e,[(0,r.bF)(d,{to:"/process_registers"},{default:(0,r.k6)((()=>a[5]||(a[5]=[(0,r.eW)("Process Registers")]))),_:1})]),i.status?((0,r.uX)(),(0,r.CE)("li",s3e,"New Process Register")):((0,r.uX)(),(0,r.CE)("li",r3e,"Update Process Register"))]),a[7]||(a[7]=(0,r.Lk)("h4",{class:"main-title mb-0"},"Process Register",-1))]),(0,r.bF)(d,{to:"/process_registers",type:"submit",class:"btn btn-primary",style:{float:"right"}},{default:(0,r.k6)((()=>a[8]||(a[8]=[(0,r.Lk)("i",{class:"ri-list-check"},null,-1),(0,r.eW)(" PROCESS REGISTERS ")]))),_:1})]),(0,r.Lk)("div",l3e,[(0,r.Lk)("div",i3e,[(0,r.Lk)("form",{onSubmit:a[3]||(a[3]=(0,s.D$)(((...e)=>o.submitForm&&o.submitForm(...e)),["prevent"]))},[(0,r.Lk)("div",o3e,[(0,r.Lk)("div",d3e,[i.status?((0,r.uX)(),(0,r.CE)("h6",n3e,"Add Process Register")):((0,r.uX)(),(0,r.CE)("h6",c3e,"Update Process Register"))]),(0,r.Lk)("div",u3e,[(0,r.Lk)("div",_3e,[(0,r.Lk)("div",p3e,[a[9]||(a[9]=(0,r.Lk)("label",{class:"form-label"},"Asset",-1)),a[10]||(a[10]=(0,r.Lk)("span",{class:"text-danger"}," *",-1)),(0,r.bF)(c,{class:(0,n.C4)({"is-invalid":i.errors.asset_id}),customClass:{"is-invalid":i.errors.asset_id},initialize:i.user_variable.asset_id,id:"asset_id",label:"asset_name",label2:"asset_code",placeholder:"Select Asset",data:i.assets,onInput:a[0]||(a[0]=e=>i.user_variable.asset_id=e),disabled:!i.status},null,8,["class","customClass","initialize","data","disabled"]),i.errors.asset_id?((0,r.uX)(),(0,r.CE)("span",m3e,(0,n.v_)(i.errors.asset_id[0]),1)):(0,r.Q3)("",!0)]),(0,r.Lk)("div",b3e,[a[11]||(a[11]=(0,r.Lk)("label",{class:"form-label"},"Job Date & Time",-1)),a[12]||(a[12]=(0,r.Lk)("span",{class:"text-danger"}," *",-1)),(0,r.bo)((0,r.Lk)("input",{type:"datetime-local",class:(0,n.C4)(["form-control",{"is-invalid":i.errors.job_date}]),placeholder:"Enter Job Date","onUpdate:modelValue":a[1]||(a[1]=e=>i.user_variable.job_date=e),ref:"job_date",disabled:!i.status},null,10,k3e),[[s.Jo,i.user_variable.job_date]]),i.errors.job_date?((0,r.uX)(),(0,r.CE)("span",v3e,(0,n.v_)(i.errors.job_date[0]),1)):(0,r.Q3)("",!0)]),(0,r.Lk)("div",h3e,[a[13]||(a[13]=(0,r.Lk)("label",{class:"form-label"},"Note",-1)),(0,r.bo)((0,r.Lk)("textarea",{type:"text",placeholder:"Enter Note",class:(0,n.C4)(["form-control",{"is-invalid":i.errors.note}]),"onUpdate:modelValue":a[2]||(a[2]=e=>i.user_variable.note=e)},null,2),[[s.Jo,i.user_variable.note]]),i.errors.note?((0,r.uX)(),(0,r.CE)("span",y3e,(0,n.v_)(i.errors.note[0]),1)):(0,r.Q3)("",!0)])]),i.status?((0,r.uX)(),(0,r.CE)("div",g3e,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(i.asset_zones,((e,t)=>((0,r.uX)(),(0,r.CE)("div",{class:"col-md-4",key:t},[i.user_variable.user_asset_variables[t]&&i.user_variable.user_asset_variables[t].some((e=>e.variable_name))?((0,r.uX)(),(0,r.CE)("div",f3e,[(0,r.Lk)("div",L3e,[(0,r.Lk)("h6",C3e,(0,n.v_)(e.zone_name),1)]),(0,r.Lk)("div",w3e,[(0,r.Lk)("table",E3e,[a[14]||(a[14]=(0,r.Lk)("thead",null,[(0,r.Lk)("tr",null,[(0,r.Lk)("th",null,"Variable"),(0,r.Lk)("th",null,"Value")])],-1)),(0,r.Lk)("tbody",null,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(i.user_variable.user_asset_variables[t],((e,a)=>((0,r.uX)(),(0,r.CE)("tr",{key:a},[(0,r.Lk)("td",null,(0,n.v_)(e.variable_name),1),(0,r.Lk)("td",null,[(0,r.bo)((0,r.Lk)("input",{type:"number",step:"any",class:(0,n.C4)(["form-control",{"is-invalid":i.errors[`user_asset_variables.${t}.${a}.value`]}]),placeholder:"Enter Value",min:"0","onUpdate:modelValue":a=>e.value=a},null,10,x3e),[[s.Jo,e.value]]),i.errors[`user_asset_variables.${t}.${a}.value`]?((0,r.uX)(),(0,r.CE)("span",X3e,(0,n.v_)(i.errors[`user_asset_variables.${t}.${a}.value`][0]),1)):(0,r.Q3)("",!0)])])))),128))])])])])):(0,r.Q3)("",!0)])))),128))])):((0,r.uX)(),(0,r.CE)("div",P3e,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(i.asset_zones,((e,t)=>((0,r.uX)(),(0,r.CE)("div",{class:"col-md-4",key:t},[i.user_variable.user_asset_variables[t]&&i.user_variable.user_asset_variables[t].some((e=>e?.variable?.variable_name))?((0,r.uX)(),(0,r.CE)("div",$3e,[(0,r.Lk)("div",S3e,[(0,r.Lk)("h6",A3e,(0,n.v_)(e.zone_name),1)]),(0,r.Lk)("div",D3e,[(0,r.Lk)("table",T3e,[a[15]||(a[15]=(0,r.Lk)("thead",null,[(0,r.Lk)("tr",null,[(0,r.Lk)("th",null,"Variable"),(0,r.Lk)("th",null,"Value")])],-1)),(0,r.Lk)("tbody",null,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(i.user_variable.user_asset_variables[t],((e,a)=>((0,r.uX)(),(0,r.CE)("tr",{key:a},[(0,r.Lk)("td",null,(0,n.v_)(e?.variable?.variable_name),1),(0,r.Lk)("td",null,[(0,r.bo)((0,r.Lk)("input",{type:"text",class:(0,n.C4)(["form-control",{"is-invalid":i.errors[`user_asset_variables.${t}.${a}.value`]}]),placeholder:"Enter Value",min:"0","onUpdate:modelValue":a=>e.value=a},null,10,Q3e),[[s.Jo,e.value]]),i.errors[`user_asset_variables.${t}.${a}.value`]?((0,r.uX)(),(0,r.CE)("span",V3e,(0,n.v_)(i.errors[`user_asset_variables.${t}.${a}.value`][0]),1)):(0,r.Q3)("",!0)])])))),128))])])])])):(0,r.Q3)("",!0)])))),128))]))]),(0,r.Lk)("div",F3e,[(0,r.bF)(d,{type:"button",to:"/process_registers",class:"btn btn-danger me-2"},{default:(0,r.k6)((()=>a[16]||(a[16]=[(0,r.Lk)("i",{class:"ri-arrow-left-line fs-18 lh-1"},null,-1),(0,r.eW)(" Back")]))),_:1}),(0,r.Lk)("button",U3e,[i.status?((0,r.uX)(),(0,r.CE)("span",j3e,a[17]||(a[17]=[(0,r.Lk)("i",{class:"ri-save-line fs-18 lh-1"},null,-1),(0,r.eW)(" Submit")]))):((0,r.uX)(),(0,r.CE)("span",z3e,a[18]||(a[18]=[(0,r.Lk)("i",{class:"ri-save-line fs-18 lh-1"},null,-1),(0,r.eW)(" Update")])))])])])],32)])])])}var R3e={name:"Assets.Create",components:{Search:It.A},data(){return{user_variable:{user_variable_id:"",variable_id:"",job_no:"",job_date:"",asset_id:"",asset_zone_id:"",note:"",status:!0,user_asset_variables:[]},user_variable_data:{user_variable_data_id:"",variable_id:"",variable:{variable_name:""},date_time:"",value:"",status:!0},deleted_spares:[],assets:[],variables:[],errors:[],asset_zones:[],status:!0}},watch:{"user_variable.asset_id":function(){this.getAssetZones(),this.status&&this.getVariables()}},beforeRouteEnter(e,a,t){t((a=>{if(a.getAssets(),"CreateProcessRegister.Create"==e.name)a.$store.getters.asset_id&&(a.user_variable.asset_id=a.$store.getters.asset_id),a.$refs.job_date.focus();else{a.status=!1;let t={uri:"getUserVariable",data:{user_variable_id:e.params.user_variable_id}};a.$store.dispatch("post",t).then((function(e){a.user_variable=e.data.data})).catch((function(e){console.log("error",e),a.errors=e.response.data.errors,a.$store.dispatch("error",e.response.data.message)}))}}))},mounted(){this.user_variable.job_date=sG()().format("yyyy-MM-DD HH:mm")},methods:{convertDateFormat(e){return sG()(e).format("yyyy-MM-DD HH:mm")},submitForm(){let e=this;e.status?e.addUserVariable():e.updateUserVariable()},getValue(e){let a=this,t=a.variables?.filter((function(a){return a.variable_id==e}));t.length&&(a.user_variable_data.variable.variable_name=t[0].variable_name)},getAssets(){let e=this,a=e.$loading.show();e.$store.dispatch("post",{uri:"getAssets"}).then((t=>{a.hide(),e.assets=t.data.data})).catch((function(t){a.hide(),e.errors=t.response.data.errors,e.$store.dispatch("error",t.response.data.message)}))},getVariables(){let e=this,a=e.$loading.show();e.$store.dispatch("post",{uri:"getAssetRegisterVariables",data:e.user_variable}).then((t=>{a.hide(),e.user_variable.user_asset_variables=t.data})).catch((function(t){a.hide(),e.errors=t.response.data.errors,e.$store.dispatch("error",t.response.data.message)}))},getAssetZones(){let e=this,a=e.$loading.show();e.$store.dispatch("post",{uri:"getAssetZones",data:e.user_variable}).then((t=>{a.hide(),e.asset_zones=t.data.data})).catch((function(t){a.hide(),e.errors=t.response.data.errors,e.$store.dispatch("error",t.response.data.message)}))},addUserVariable(){let e=this,a=e.$loading.show();for(let t=0;t<e.asset_zones.length;t++)if(e.user_variable?.user_asset_variables?.[t])for(let a=0;a<e.user_variable.user_asset_variables[t].length;a++)e.user_variable.user_asset_variables[t]?.[a]&&(e.user_variable.user_asset_variables[t][a].asset_zone_id=e.asset_zones[t].asset_zone_id);e.user_variable.job_date=e.convertDateFormat(e.user_variable.job_date),e.$store.dispatch("post",{uri:"addUserVariable",data:e.user_variable}).then((t=>{a.hide(),e.$store.dispatch("success",t.data.message),e.$router.push("/process_registers")})).catch((function(t){a.hide(),e.errors=t.response.data.errors,console.log("vm.errors:-----",e.errors),e.$store.dispatch("error",t.response.data.message)}))},updateUserVariable(){let e=this,a=e.$loading.show();e.$store.dispatch("post",{uri:"updateUserVariable",data:e.user_variable}).then((t=>{a.hide(),e.$store.dispatch("success",t.data.message),e.$router.push("/process_registers")})).catch((function(t){a.hide(),e.errors=t.response.data.errors,console.log("vm.errors:-----",e.errors),e.$store.dispatch("error",t.response.data.message)}))}}};const q3e=(0,Ze.A)(R3e,[["render",W3e],["__scopeId","data-v-1d3a52b4"]]);var I3e=q3e;const N3e={class:""},M3e={class:"d-sm-flex align-items-center justify-content-between mb-2"},K3e={class:"breadcrumb fs-sm mb-1"},J3e={class:"breadcrumb-item","aria-current":"page"},B3e={class:"row"},O3e={class:"col-12"},H3e={class:"card card-one"},Y3e={class:"card-body"},Z3e={class:"table-responsive table-responsive-sm"},G3e={class:"table table-sm text-nowrap table-striped table-bordered mb-0"},e4e={class:"",style:{"background-color":"#9b9b9b",color:"white"}},a4e={key:0,class:"ri-arrow-up-line"},t4e={key:1,class:"ri-arrow-down-line"},s4e={key:2,class:"fas fa-sort"},r4e={key:0,class:"ri-arrow-up-line"},l4e={key:1,class:"ri-arrow-down-line"},i4e={key:2,class:"fas fa-sort"},o4e={key:0,class:"ri-arrow-up-line"},d4e={key:1,class:"ri-arrow-down-line"},n4e={key:2,class:"fas fa-sort"},c4e={key:0,class:"ri-arrow-up-line"},u4e={key:1,class:"ri-arrow-down-line"},_4e={key:2,class:"fas fa-sort"},p4e={class:"text-center"},m4e={class:"text-center"},b4e=["onClick"],k4e=["onClick"],v4e=["onClick"],h4e={key:0},y4e={class:"card-footer"},g4e={class:"d-flex justify-content-between align-items-center"};function f4e(e,a,t,l,i,o){const d=(0,r.g2)("router-link"),c=(0,r.g2)("Pagination"),u=(0,r.gN)("can");return(0,r.uX)(),(0,r.CE)("div",N3e,[(0,r.Lk)("div",M3e,[(0,r.Lk)("div",null,[(0,r.Lk)("ol",K3e,[(0,r.Lk)("li",J3e,[(0,r.bF)(d,{to:"/dashboard"},{default:(0,r.k6)((()=>a[8]||(a[8]=[(0,r.eW)("Dashboard")]))),_:1})]),a[9]||(a[9]=(0,r.Lk)("li",{class:"breadcrumb-item"},[(0,r.Lk)("a",{href:"javascript:void(0)"},"Registers")],-1)),a[10]||(a[10]=(0,r.Lk)("li",{class:"breadcrumb-item active","aria-current":"page"},"Process Registers",-1))]),a[11]||(a[11]=(0,r.Lk)("h4",{class:"main-title mb-0"},"Process Registers",-1))]),(0,r.bo)(((0,r.uX)(),(0,r.Wv)(d,{to:"/process_registers/create",class:"btn btn-primary",style:{float:"right"}},{default:(0,r.k6)((()=>a[12]||(a[12]=[(0,r.Lk)("i",{class:"ri-list-check"},null,-1),(0,r.eW)(" ADD PROCESS REGISTER")]))),_:1})),[[u,"process_registers.create"]])]),(0,r.Lk)("div",B3e,[(0,r.Lk)("div",O3e,[(0,r.Lk)("div",H3e,[a[24]||(a[24]=(0,r.Lk)("div",{class:"card-header d-flex justify-content-between"},[(0,r.Lk)("h6",{class:"card-title"},"Process Registers")],-1)),(0,r.Lk)("div",Y3e,[(0,r.bo)((0,r.Lk)("input",{class:"form-control form-control-sm mb-2",type:"text",placeholder:"Type keyword and press enter key","onUpdate:modelValue":a[0]||(a[0]=e=>i.meta.search=e),onKeypress:a[1]||(a[1]=(0,s.jR)((e=>o.search()),["enter"]))},null,544),[[s.Jo,i.meta.search]]),(0,r.Lk)("div",Z3e,[(0,r.Lk)("table",G3e,[(0,r.Lk)("thead",null,[(0,r.Lk)("tr",e4e,[a[17]||(a[17]=(0,r.Lk)("th",{class:"text-center"},"#",-1)),(0,r.Lk)("th",{onClick:a[2]||(a[2]=e=>o.sort("asset_id"))},[a[13]||(a[13]=(0,r.eW)(" Asset ")),(0,r.Lk)("span",null,["asset_id"==i.meta.keyword&&"asc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",a4e)):"asset_id"==i.meta.keyword&&"desc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",t4e)):((0,r.uX)(),(0,r.CE)("i",s4e))])]),(0,r.Lk)("th",{onClick:a[3]||(a[3]=e=>o.sort("job_no"))},[a[14]||(a[14]=(0,r.eW)(" Job No. ")),(0,r.Lk)("span",null,["job_no"==i.meta.keyword&&"asc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",r4e)):"job_no"==i.meta.keyword&&"desc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",l4e)):((0,r.uX)(),(0,r.CE)("i",i4e))])]),(0,r.Lk)("th",{onClick:a[4]||(a[4]=e=>o.sort("job_date"))},[a[15]||(a[15]=(0,r.eW)(" Job Date & Time ")),(0,r.Lk)("span",null,["job_date"==i.meta.keyword&&"asc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",o4e)):"job_date"==i.meta.keyword&&"desc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",d4e)):((0,r.uX)(),(0,r.CE)("i",n4e))])]),(0,r.Lk)("th",{onClick:a[5]||(a[5]=e=>o.sort("log_id"))},[a[16]||(a[16]=(0,r.eW)(" Manual/Auto ")),(0,r.Lk)("span",null,["log_id"==i.meta.keyword&&"asc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",c4e)):"log_id"==i.meta.keyword&&"desc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",u4e)):((0,r.uX)(),(0,r.CE)("i",_4e))])]),a[18]||(a[18]=(0,r.Lk)("th",{class:"text-center"},"Actions",-1))])]),(0,r.Lk)("tbody",null,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(i.user_variables,((e,t)=>((0,r.uX)(),(0,r.CE)("tr",{key:t},[(0,r.Lk)("td",p4e,(0,n.v_)(i.meta.from+t),1),(0,r.Lk)("td",null,(0,n.v_)(e.asset?.asset_code),1),(0,r.Lk)("td",null,(0,n.v_)(e.job_no),1),(0,r.Lk)("td",null,(0,n.v_)(o.convertDateFormat(e.job_date)),1),(0,r.Lk)("td",null,(0,n.v_)(e.log_id?"Auto":"Manual"),1),(0,r.Lk)("td",m4e,[(0,r.bo)(((0,r.uX)(),(0,r.CE)("a",{title:"Edit",href:"javascript:void(0)",class:"text-success me-2",onClick:a=>o.editUserVariable(e)},a[19]||(a[19]=[(0,r.Lk)("i",{class:"ri-pencil-line fs-18 lh-1"},null,-1)]),8,b4e)),[[u,"process_registers.update"]]),(0,r.Lk)("a",{title:"View",href:"javascript:void(0)",onClick:a=>o.viewUserVariable(e),class:"text-primary me-2"},a[20]||(a[20]=[(0,r.Lk)("i",{class:"ri-eye-fill fs-18 lh-1"},null,-1)]),8,k4e),(0,r.bo)(((0,r.uX)(),(0,r.CE)("a",{title:"Delete",href:"javascript:void(0)",class:"text-danger me-2",onClick:(0,s.D$)((a=>o.deleteUserVariable(e)),["prevent"])},a[21]||(a[21]=[(0,r.Lk)("i",{class:"ri-delete-bin-6-line fs-18 lh-1"},null,-1)]),8,v4e)),[[u,"process_registers.delete"]])])])))),128)),0==i.user_variables.length?((0,r.uX)(),(0,r.CE)("tr",h4e,a[22]||(a[22]=[(0,r.Lk)("td",{colspan:"5",class:"text-center"},"No records found",-1)]))):(0,r.Q3)("",!0)])])])]),(0,r.Lk)("div",y4e,[(0,r.Lk)("div",g4e,[(0,r.bo)((0,r.Lk)("select",{class:"form-select from-select-sm width-75","onUpdate:modelValue":a[6]||(a[6]=e=>i.meta.per_page=e),onChange:a[7]||(a[7]=(...e)=>o.onPerPageChange&&o.onPerPageChange(...e))},a[23]||(a[23]=[(0,r.Lk)("option",null,"10",-1),(0,r.Lk)("option",null,"15",-1),(0,r.Lk)("option",null,"20",-1),(0,r.Lk)("option",null,"25",-1),(0,r.Lk)("option",null,"30",-1)]),544),[[s.u1,i.meta.per_page]]),(0,r.Lk)("span",null,"Showing "+(0,n.v_)(i.meta.from)+" to "+(0,n.v_)(i.meta.to)+" of "+(0,n.v_)(i.meta.totalRows)+" entries",1),(0,r.bF)(c,{maxPage:i.meta.maxPage,totalPages:i.meta.lastPage,currentPage:parseInt(i.meta.page),onPagechanged:o.onPageChange},null,8,["maxPage","totalPages","currentPage","onPagechanged"])])])])])])])}var L4e={name:"ProcessRegisters.Index",components:{Pagination:md},data(){return{status:!0,meta:{search:"",order_by:"desc",keyword:"user_variable_id",per_page:10,totalRows:0,page:1,lastPage:1,from:1,to:1,maxPage:1,trashed:!1},user_variables:[],errors:[],status:!0}},beforeRouteEnter(e,a,t){t((e=>{"UserChecks.Edit"!=a.name&&"UserChecks.View"!=a.name?e.$store.commit("setCurrentPage",e.meta.page):e.meta.page=e.$store.getters.current_page}))},mounted(){this.$store.commit("setAssetId",""),this.index()},methods:{index(){let e=this,a=e.$loading.show();e.$store.dispatch("post",{uri:"paginateUserVariables",data:e.meta}).then((t=>{a.hide(),e.user_variables=t.data.data,e.meta.totalRows=t.data.meta.total,e.meta.from=t.data.meta.from,e.meta.to=t.data.meta.to,e.meta.lastPage=t.data.meta.last_page,e.meta.maxPage=e.meta.lastPage>=3?3:e.meta.lastPage})).catch((function(t){a.hide(),e.errors=t.response.data.errors,e.$store.dispatch("error",t.response.data.message)}))},editUserVariable(e){this.$store.commit("setCurrentPage",parseInt(this.meta.page)),this.$router.push("/process_registers/"+e.user_variable_id+"/edit")},viewUserVariable(e){this.$store.commit("setCurrentPage",this.meta.page),this.$router.push("/process_registers/"+e.user_variable_id+"/view")},deleteUserVariable(e){const a=confirm("Are you sure you want to delete it ?");if(a){let a=this,t=a.$loading.show();a.$store.dispatch("post",{uri:"deleteUserVariable",data:e}).then((e=>{t.hide(),a.$store.dispatch("success",e.data.message),a.index()})).catch((function(e){t.hide(),a.errors=e.response.data.errors,a.$store.dispatch("error",e.response.data.message)}))}},convertDateFormat(e){return sG()(e).format("yyyy-MM-DD HH:mm")},search(){let e=this;e.meta.page=1,e.index()},onPageChange(e){this.meta.page=e,this.index()},sort(e){this.meta.keyword=e,this.meta.order_by="asc"==this.meta.order_by?"desc":"asc",this.index()},onPerPageChange(){let e=this;e.meta.page=1,e.index()}}};const C4e=(0,Ze.A)(L4e,[["render",f4e]]);var w4e=C4e;const E4e={class:""},x4e={class:"d-sm-flex align-items-center justify-content-between mb-2"},X4e={class:"breadcrumb fs-sm mb-1"},P4e={class:"breadcrumb-item"},$4e={class:"breadcrumb-item active","aria-current":"page"},S4e={key:0,class:"breadcrumb-item","aria-current":"page"},A4e={key:1,class:"breadcrumb-item active","aria-current":"page"},D4e={class:"row g-2"},T4e={class:"col-12"},Q4e={class:"card card-one"},V4e={class:"card-header d-flex justify-content-between"},F4e={key:0,class:"card-title"},U4e={key:1,class:"card-title"},j4e={class:"card-body"},z4e={class:"row g-2"},W4e={class:"col-md-4"},R4e={key:0,class:"invalid-feedback"},q4e={class:"col-md-4"},I4e={key:0},N4e={class:"text-danger"},M4e={class:"col-md-4"},K4e={key:0,class:"invalid-feedback"},J4e={key:0},B4e={class:"form-label"},O4e={key:0,class:"text-danger"},H4e=["placeholder","onUpdate:modelValue"],Y4e={key:1,class:"invalid-feedback"},Z4e={key:1},G4e={class:"form-label"},e5e={key:0,class:"text-danger"},a5e=["placeholder","onUpdate:modelValue"],t5e={key:1,class:"invalid-feedback"},s5e={key:2},r5e={class:"form-label"},l5e={key:0,class:"text-danger"},i5e=["placeholder","onUpdate:modelValue"],o5e={key:0,class:"invalid-feedback"},d5e={key:3},n5e={class:"form-label"},c5e={key:0,class:"text-danger"},u5e=["placeholder","onUpdate:modelValue"],_5e={key:0,class:"invalid-feedback"},p5e={key:4},m5e={class:"form-label"},b5e={key:0,class:"text-danger"},k5e=["onUpdate:modelValue"],v5e=["value"],h5e=["value"],y5e=["value"],g5e={key:1,class:"invalid-feedback"},f5e={key:5},L5e={class:"form-label"},C5e={key:0,class:"text-danger"},w5e=["onUpdate:modelValue"],E5e={key:0,class:"invalid-feedback"},x5e={key:6},X5e={class:"form-label"},P5e={key:0,class:"text-danger"},$5e=["onUpdate:modelValue"],S5e=["value"],A5e=["value"],D5e=["value"],T5e={key:1,class:"invalid-feedback"},Q5e={class:"col-md-12"},V5e={key:0,class:"invalid-feedback"},F5e={class:"card-footer text-end"},U5e={type:"submit",class:"btn btn-primary"},j5e={key:0},z5e={key:1};function W5e(e,a,t,l,i,o){const d=(0,r.g2)("router-link"),c=(0,r.g2)("search");return(0,r.uX)(),(0,r.CE)("div",E4e,[(0,r.Lk)("div",x4e,[(0,r.Lk)("div",null,[(0,r.Lk)("ol",X4e,[(0,r.Lk)("li",P4e,[(0,r.bF)(d,{to:"/dashboard"},{default:(0,r.k6)((()=>a[6]||(a[6]=[(0,r.eW)("Dashboard")]))),_:1})]),a[8]||(a[8]=(0,r.Lk)("li",{class:"breadcrumb-item"},[(0,r.Lk)("a",{href:"javascript:void(0)"},"Registers")],-1)),(0,r.Lk)("li",$4e,[(0,r.bF)(d,{to:"/break_down_lists"},{default:(0,r.k6)((()=>a[7]||(a[7]=[(0,r.eW)("Break Down Registers")]))),_:1})]),i.status?((0,r.uX)(),(0,r.CE)("li",S4e,"New Break Down List")):((0,r.uX)(),(0,r.CE)("li",A4e,"Update Break Down List"))]),a[9]||(a[9]=(0,r.Lk)("h4",{class:"main-title mb-0"},"Break Down Registers",-1))]),(0,r.bF)(d,{to:"/break_down_registers",type:"submit",class:"btn btn-primary",style:{float:"right"}},{default:(0,r.k6)((()=>a[10]||(a[10]=[(0,r.Lk)("i",{class:"ri-list-check"},null,-1),(0,r.eW)(" BREAK DOWN REGISTERS")]))),_:1})]),(0,r.Lk)("div",D4e,[(0,r.Lk)("div",T4e,[(0,r.Lk)("form",{onSubmit:a[5]||(a[5]=(0,s.D$)((e=>o.submitForm()),["prevent"]))},[(0,r.Lk)("div",Q4e,[(0,r.Lk)("div",V4e,[i.status?((0,r.uX)(),(0,r.CE)("h6",F4e,"Add Break Down Register")):((0,r.uX)(),(0,r.CE)("h6",U4e,"Update Break Down Register"))]),(0,r.Lk)("div",j4e,[(0,r.Lk)("div",z4e,[(0,r.Lk)("div",W4e,[a[11]||(a[11]=(0,r.Lk)("label",{class:"form-label"},"Asset",-1)),a[12]||(a[12]=(0,r.Lk)("span",{class:"text-danger"}," *",-1)),(0,r.bF)(c,{disabled:!i.status,class:(0,n.C4)({"is-invalid":i.errors.asset_id}),customClass:{"is-invalid":i.errors.asset_id},initialize:i.break_down.asset_id,id:"asset_id",label:"asset_name",label2:"asset_code",placeholder:"Select Asset",data:i.assets,onInput:a[0]||(a[0]=e=>i.break_down.asset_id=e)},null,8,["disabled","class","customClass","initialize","data"]),i.errors.asset_id?((0,r.uX)(),(0,r.CE)("span",R4e,(0,n.v_)(i.errors.asset_id[0]),1)):(0,r.Q3)("",!0)]),(0,r.Lk)("div",q4e,[a[13]||(a[13]=(0,r.Lk)("label",{class:"form-label"},"Break Down Types",-1)),a[14]||(a[14]=(0,r.Lk)("span",{class:"text-danger"}," *",-1)),(0,r.bF)(c,{disabled:!i.status,class:(0,n.C4)({"is-invalid":i.errors.break_down_type_id}),customClass:{"is-invalid":i.errors.break_down_type_id},initialize:i.break_down.break_down_type_id,id:"break_down_type_id",label:"break_down_type_name",placeholder:"Select Break Down Type",data:i.break_down_types,onInput:a[1]||(a[1]=e=>i.break_down.break_down_type_id=e),onSelectsearch:a[2]||(a[2]=e=>o.getBreakDownTypeFields(i.break_down.break_down_type_id))},null,8,["disabled","class","customClass","initialize","data"]),i.errors.break_down_type_id?((0,r.uX)(),(0,r.CE)("span",I4e,[(0,r.Lk)("small",N4e,(0,n.v_)(i.errors.break_down_type_id[0]),1)])):(0,r.Q3)("",!0)]),(0,r.Lk)("div",M4e,[a[15]||(a[15]=(0,r.Lk)("label",{class:"form-label"},"Job Date & Time",-1)),a[16]||(a[16]=(0,r.Lk)("span",{class:"text-danger"}," *",-1)),(0,r.bo)((0,r.Lk)("input",{type:"datetime-local",step:"any",placeholder:"Break Down List Code",class:(0,n.C4)(["form-control",{"is-invalid":i.errors.job_date}]),"onUpdate:modelValue":a[3]||(a[3]=e=>i.break_down.job_date=e)},null,2),[[s.Jo,i.break_down.job_date]]),i.errors.job_date?((0,r.uX)(),(0,r.CE)("span",K4e,(0,n.v_)(i.errors.job_date[0]),1)):(0,r.Q3)("",!0)]),((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(i.break_down.break_down_attributes,((e,a)=>((0,r.uX)(),(0,r.CE)("div",{class:"col-md-4",key:a},["Text"==e.field_type?((0,r.uX)(),(0,r.CE)("div",J4e,[(0,r.Lk)("label",B4e,(0,n.v_)(e.display_name),1),e.is_required?((0,r.uX)(),(0,r.CE)("span",O4e,"*")):(0,r.Q3)("",!0),(0,r.bo)((0,r.Lk)("input",{type:"text",class:(0,n.C4)(["form-control",{"is-invalid":i.errors[e.display_name]}]),placeholder:"Enter "+e.display_name,"onUpdate:modelValue":a=>e.break_down_attribute_value.field_value=a},null,10,H4e),[[s.Jo,e.break_down_attribute_value.field_value]]),i.errors[e.display_name]?((0,r.uX)(),(0,r.CE)("span",Y4e,(0,n.v_)(i.errors[e.display_name][0]),1)):(0,r.Q3)("",!0)])):(0,r.Q3)("",!0),"Number"==e.field_type?((0,r.uX)(),(0,r.CE)("div",Z4e,[(0,r.Lk)("label",G4e,(0,n.v_)(e.display_name),1),e.is_required?((0,r.uX)(),(0,r.CE)("span",e5e,"*")):(0,r.Q3)("",!0),(0,r.bo)((0,r.Lk)("input",{type:"number",class:(0,n.C4)(["form-control",{"is-invalid":i.errors[e.display_name]}]),min:"0",oninput:"validity.valid||(value='');",placeholder:"Enter "+e.display_name,"onUpdate:modelValue":a=>e.break_down_attribute_value.field_value=a},null,10,a5e),[[s.Jo,e.break_down_attribute_value.field_value]]),i.errors[e.display_name]?((0,r.uX)(),(0,r.CE)("span",t5e,(0,n.v_)(i.errors[e.display_name][0]),1)):(0,r.Q3)("",!0)])):(0,r.Q3)("",!0),"Date"===e.field_type?((0,r.uX)(),(0,r.CE)("div",s5e,[(0,r.Lk)("label",r5e,[(0,r.eW)((0,n.v_)(e.display_name)+" ",1),e.is_required?((0,r.uX)(),(0,r.CE)("span",l5e,"*")):(0,r.Q3)("",!0)]),(0,r.bo)((0,r.Lk)("input",{type:"date",class:(0,n.C4)(["form-control",{"is-invalid":i.errors[e.display_name]}]),placeholder:"Enter "+e.display_name,"onUpdate:modelValue":a=>e.break_down_attribute_value.field_value=a},null,10,i5e),[[s.Jo,e.break_down_attribute_value.field_value]]),i.errors[e.display_name]?((0,r.uX)(),(0,r.CE)("span",o5e,(0,n.v_)(i.errors[e.display_name][0]),1)):(0,r.Q3)("",!0)])):(0,r.Q3)("",!0),"Date&Time"===e.field_type?((0,r.uX)(),(0,r.CE)("div",d5e,[(0,r.Lk)("label",n5e,[(0,r.eW)((0,n.v_)(e.display_name)+" ",1),e.is_required?((0,r.uX)(),(0,r.CE)("span",c5e,"*")):(0,r.Q3)("",!0)]),(0,r.bo)((0,r.Lk)("input",{type:"datetime-local",class:(0,n.C4)(["form-control",{"is-invalid":i.errors[e.display_name]}]),placeholder:"Enter "+e.display_name,"onUpdate:modelValue":a=>e.break_down_attribute_value.field_value=a,step:"any"},null,10,u5e),[[s.Jo,e.break_down_attribute_value.field_value]]),i.errors[e.display_name]?((0,r.uX)(),(0,r.CE)("span",_5e,(0,n.v_)(i.errors[e.display_name][0]),1)):(0,r.Q3)("",!0)])):(0,r.Q3)("",!0),"Dropdown"==e.field_type?((0,r.uX)(),(0,r.CE)("div",p5e,[(0,r.Lk)("label",m5e,(0,n.v_)(e.display_name),1),e.is_required?((0,r.uX)(),(0,r.CE)("span",b5e,"*")):(0,r.Q3)("",!0),(0,r.bo)((0,r.Lk)("select",{class:(0,n.C4)(["form-control",{"is-invalid":i.errors[e.display_name]}]),"onUpdate:modelValue":a=>e.break_down_attribute_value.field_value=a},[e.break_down_attribute_value.field_value?((0,r.uX)(),(0,r.CE)("option",{key:0,value:e.break_down_attribute_value.field_value},(0,n.v_)(e.break_down_attribute_value.field_value),9,v5e)):((0,r.uX)(),(0,r.CE)("option",{key:1,value:e.break_down_attribute_value.field_value},"Select "+(0,n.v_)(e.display_name),9,h5e)),((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(e.field_values.split(","),((e,a)=>((0,r.uX)(),(0,r.CE)("option",{key:a,value:e},(0,n.v_)(e),9,y5e)))),128))],10,k5e),[[s.u1,e.break_down_attribute_value.field_value]]),i.errors[e.display_name]?((0,r.uX)(),(0,r.CE)("span",g5e,(0,n.v_)(i.errors[e.display_name][0]),1)):(0,r.Q3)("",!0)])):(0,r.Q3)("",!0),"Color"==e.field_type?((0,r.uX)(),(0,r.CE)("div",f5e,[(0,r.Lk)("label",L5e,[(0,r.eW)((0,n.v_)(e.display_name),1),e.is_required?((0,r.uX)(),(0,r.CE)("span",C5e,"*")):(0,r.Q3)("",!0)]),(0,r.bo)((0,r.Lk)("input",{type:"color",class:"form-control","onUpdate:modelValue":a=>e.break_down_attribute_value.field_value=a,style:{height:"2.2rem"}},null,8,w5e),[[s.Jo,e.break_down_attribute_value.field_value]]),i.errors[e.display_name]?((0,r.uX)(),(0,r.CE)("span",E5e,(0,n.v_)(i.errors[e.display_name][0]),1)):(0,r.Q3)("",!0)])):(0,r.Q3)("",!0),"List"==e.field_type?((0,r.uX)(),(0,r.CE)("div",x5e,[(0,r.Lk)("label",X5e,(0,n.v_)(e.display_name),1),e.is_required?((0,r.uX)(),(0,r.CE)("span",P5e,"*")):(0,r.Q3)("",!0),(0,r.bo)((0,r.Lk)("select",{class:(0,n.C4)(["form-control",{"is-invalid":i.errors[e.display_name]}]),"onUpdate:modelValue":a=>e.break_down_attribute_value.field_value=a},[e.break_down_attribute_value.field_value?((0,r.uX)(),(0,r.CE)("option",{key:0,value:e.break_down_attribute_value.field_value},(0,n.v_)(e.break_down_attribute_value.field_value),9,S5e)):((0,r.uX)(),(0,r.CE)("option",{key:1,value:e.break_down_attribute_value.field_value},"Select "+(0,n.v_)(e.display_name),9,A5e)),((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(e.list_parameter?.field_values.split(","),((e,a)=>((0,r.uX)(),(0,r.CE)("option",{key:a,value:e},(0,n.v_)(e),9,D5e)))),128))],10,$5e),[[s.u1,e.break_down_attribute_value.field_value]]),i.errors[e.display_name]?((0,r.uX)(),(0,r.CE)("span",T5e,(0,n.v_)(i.errors[e.display_name][0]),1)):(0,r.Q3)("",!0)])):(0,r.Q3)("",!0)])))),128)),(0,r.Lk)("div",Q5e,[a[17]||(a[17]=(0,r.Lk)("label",{class:"form-label"},"Note",-1)),(0,r.bo)((0,r.Lk)("textarea",{type:"text",rows:"2",placeholder:"Note",class:(0,n.C4)(["form-control",{"is-invalid":i.errors.note}]),"onUpdate:modelValue":a[4]||(a[4]=e=>i.break_down.note=e)},null,2),[[s.Jo,i.break_down.note]]),i.errors.note?((0,r.uX)(),(0,r.CE)("span",V5e,(0,n.v_)(i.errors.note[0]),1)):(0,r.Q3)("",!0)])])]),(0,r.Lk)("div",F5e,[i.status?((0,r.uX)(),(0,r.Wv)(d,{key:0,type:"button",class:"btn btn-danger me-2",to:"/break_down_registers"},{default:(0,r.k6)((()=>a[18]||(a[18]=[(0,r.Lk)("i",{class:"ri-close-line fs-18 lh-1"},null,-1),(0,r.eW)(" Discard")]))),_:1})):(0,r.Q3)("",!0),(0,r.Lk)("button",U5e,[i.status?((0,r.uX)(),(0,r.CE)("span",j5e,a[19]||(a[19]=[(0,r.Lk)("i",{class:"ri-save-line fs-18 lh-1"},null,-1),(0,r.eW)(" Submit")]))):((0,r.uX)(),(0,r.CE)("span",z5e,a[20]||(a[20]=[(0,r.Lk)("i",{class:"ri-save-line fs-18 lh-1"},null,-1),(0,r.eW)(" Update")])))])])])],32)])])])}var R5e={components:{Pagination:md,Search:It.A},data(){return{break_downs:[],break_down:{break_down_list_id:"",break_down_type_id:"",job_date:"",note:"",break_down_attributes:[],asset_types:[],assets:[],deleted_break_down_attribute_values:[]},status:!0,errors:[],deleted_break_down_attribute_values:[],break_down_types:[],asset_types:[],assets:[],show_break_downs:[],asset_type_status:!1}},beforeRouteEnter(e,a,t){t((a=>{if(a.getAssets(),"BreakDownRegister.Create"==e.name);else{a.status=!1;let t={uri:"getBreakDownData",data:{break_down_list_id:e.params.break_down_list_id}};a.$store.dispatch("post",t).then((function(e){a.break_down=e.data.data,a.break_down.job_date=sG()(a.break_down.job_date).format("yyyy-MM-DDTHH:mm"),a.break_down.break_down_attributes.map((function(e){a.deleted_break_down_attribute_values.push(e.break_down_attribute_value.break_down_attribute_value_id)})),a.break_down.deleted_break_down_attribute_values=[]})).catch((function(e){a.errors=e.response.data.errors,a.$store.dispatch("error",e.response.data.message)}))}}))},mounted(){this.break_down.job_date=sG()().format("yyyy-MM-DDTHH:mm")},methods:{toggleAssetTypeStatus(){this.asset_type_status=!this.asset_type_status},submitForm(){let e=this;e.status?e.addBreakDown():e.updateBreakDown()},validateFields(){let e=!0;this.errors={},this.break_down.asset_id||(this.errors.asset_id=["Asset is required"],e=!1),this.break_down.break_down_type_id||(this.errors.break_down_type_id=["Break Down Type is required"],e=!1),this.break_down.job_date||(this.errors.job_date=["Job Type is required"],e=!1);for(const a of Object.values(this.break_down.break_down_attributes))a.is_required&&!a.break_down_attribute_value.field_value&&(this.errors[a.display_name]=[`${a.display_name} is required`],e=!1);return console.log("errors",this.errors),e},addBreakDown(){if(!this.validateFields())return;let e=this,a=e.$loading.show();e.$store.dispatch("post",{uri:"addBreakDownList",data:e.break_down}).then((t=>{a.hide(),e.$store.dispatch("success",t.data.message),e.$router.push("/break_down_registers")})).catch((function(t){a.hide(),e.errors=t.response.data.errors,e.$store.dispatch("error",t.response.data.message)}))},getAssets(){let e=this,a=e.$loading.show();e.$store.dispatch("post",{uri:"getAssets"}).then((t=>{a.hide(),e.assets=t.data.data,e.getBreakDownTypes()})).catch((function(t){a.hide(),e.errors=t.response.data.errors,e.$store.dispatch("error",t.response.data.message)}))},updateBreakDown(){if(!this.validateFields())return;let e=this,a=e.$loading.show();e.$store.dispatch("post",{uri:"updateBreakDownList",data:e.break_down}).then((t=>{a.hide(),e.$store.dispatch("success",t.data.message),e.$router.push("/break_down_registers")})).catch((function(t){a.hide(),e.errors=t.response.data.errors,e.$store.dispatch("error",t.response.data.message)}))},getBreakDownTypes(){let e=this,a=e.$loading.show();e.$store.dispatch("post",{uri:"getBreakDownTypes"}).then((t=>{a.hide(),e.break_down_types=t.data.data})).catch((function(t){a.hide(),e.errors=t.response.data.errors,e.$store.dispatch("error",t.response.data.message)}))},getBreakDownTypeFields(e){let a=this,t=a.$loading.show();a.deleted_break_down_attribute_values.length&&(a.break_down.deleted_break_down_attribute_values=a.deleted_break_down_attribute_values),a.$store.dispatch("post",{uri:"getBreakDownsDropdown",data:{break_down_type_id:e}}).then((e=>{t.hide(),a.break_down.break_down_attributes=e.data.data})).catch((function(e){t.hide(),a.errors=e.response.data.errors,a.$store.dispatch("error",e.response.data.message)}))},discard(){let e=this;e.break_down.break_down_type_id="",e.break_down.asset_id="",e.break_down.job_date="",e.break_down.note="",e.show_break_downs=[],e.break_down.break_down_attributes=[],e.errors=[],e.status=!0}}};const q5e=(0,Ze.A)(R5e,[["render",W5e],["__scopeId","data-v-12c12987"]]);var I5e=q5e;const N5e={class:""},M5e={class:"d-sm-flex align-items-center justify-content-between mb-2"},K5e={class:"breadcrumb fs-sm mb-1"},J5e={class:"breadcrumb-item","aria-current":"page"},B5e={class:"row"},O5e={class:"col-12"},H5e={class:"card card-one"},Y5e={class:"card-body"},Z5e={class:"table-responsive table-responsive-sm"},G5e={class:"table table-sm text-nowrap table-striped table-bordered mb-0"},e8e={class:"",style:{"background-color":"#9b9b9b",color:"white"}},a8e={key:0,class:"ri-arrow-up-line"},t8e={key:1,class:"ri-arrow-down-line"},s8e={key:2,class:"fas fa-sort"},r8e={key:0,class:"ri-arrow-up-line"},l8e={key:1,class:"ri-arrow-down-line"},i8e={key:2,class:"fas fa-sort"},o8e={key:0,class:"ri-arrow-up-line"},d8e={key:1,class:"ri-arrow-down-line"},n8e={key:2,class:"fas fa-sort"},c8e={key:0,class:"ri-arrow-up-line"},u8e={key:1,class:"ri-arrow-down-line"},_8e={key:2,class:"fas fa-sort"},p8e={class:"text-center"},m8e={key:0},b8e={class:"text-center"},k8e={class:"text-center"},v8e=["onClick"],h8e=["onClick"],y8e={class:"card-footer"},g8e={class:"d-flex justify-content-between align-items-center"};function f8e(e,a,t,l,i,o){const d=(0,r.g2)("router-link"),c=(0,r.g2)("Pagination"),u=(0,r.gN)("can");return(0,r.uX)(),(0,r.CE)("div",N5e,[(0,r.Lk)("div",M5e,[(0,r.Lk)("div",null,[(0,r.Lk)("ol",K5e,[(0,r.Lk)("li",J5e,[(0,r.bF)(d,{to:"/dashboard"},{default:(0,r.k6)((()=>a[8]||(a[8]=[(0,r.eW)("Dashboard")]))),_:1})]),a[9]||(a[9]=(0,r.Lk)("li",{class:"breadcrumb-item"},[(0,r.Lk)("a",{href:"javascript:void(0)"},"Registers")],-1)),a[10]||(a[10]=(0,r.Lk)("li",{class:"breadcrumb-item active","aria-current":"page"},"Break Down Registers",-1))]),a[11]||(a[11]=(0,r.Lk)("h4",{class:"main-title mb-0"},"Break Down Registers",-1))]),(0,r.bo)(((0,r.uX)(),(0,r.Wv)(d,{to:"/break_down_registers/create",class:"btn btn-primary",style:{float:"right"}},{default:(0,r.k6)((()=>a[12]||(a[12]=[(0,r.Lk)("i",{class:"ri-list-check"},null,-1),(0,r.eW)(" ADD BREAK DOWN REGISTER")]))),_:1})),[[u,"break_down_registers.create"]])]),(0,r.Lk)("div",B5e,[(0,r.Lk)("div",O5e,[(0,r.Lk)("div",H5e,[a[25]||(a[25]=(0,r.Lk)("div",{class:"card-header d-flex justify-content-between"},[(0,r.Lk)("h6",{class:"card-title"},"Break Down Registers")],-1)),(0,r.Lk)("div",Y5e,[(0,r.bo)((0,r.Lk)("input",{class:"form-control mb-2",type:"text",placeholder:"Type keyword and press enter key","onUpdate:modelValue":a[0]||(a[0]=e=>i.meta.search=e),onKeypress:a[1]||(a[1]=(0,s.jR)((e=>o.search()),["enter"]))},null,544),[[s.Jo,i.meta.search]]),(0,r.Lk)("div",Z5e,[(0,r.Lk)("table",G5e,[(0,r.Lk)("thead",null,[(0,r.Lk)("tr",e8e,[a[18]||(a[18]=(0,r.Lk)("th",{class:"text-center"},"#",-1)),(0,r.Lk)("th",{onClick:a[2]||(a[2]=e=>o.sort("asset_name"))},[a[13]||(a[13]=(0,r.eW)(" Asset ")),(0,r.Lk)("span",null,["asset_name"==i.meta.keyword&&"asc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",a8e)):"asset_name"==i.meta.keyword&&"desc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",t8e)):((0,r.uX)(),(0,r.CE)("i",s8e))])]),(0,r.Lk)("th",{onClick:a[3]||(a[3]=e=>o.sort("break_down_type_name"))},[a[14]||(a[14]=(0,r.eW)(" Break Down Type ")),(0,r.Lk)("span",null,["break_down_type_name"==i.meta.keyword&&"asc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",r8e)):"break_down_type_name"==i.meta.keyword&&"desc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",l8e)):((0,r.uX)(),(0,r.CE)("i",i8e))])]),(0,r.Lk)("th",{onClick:a[4]||(a[4]=e=>o.sort("job_no"))},[a[15]||(a[15]=(0,r.eW)(" Job No. ")),(0,r.Lk)("span",null,["job_no"==i.meta.keyword&&"asc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",o8e)):"job_no"==i.meta.keyword&&"desc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",d8e)):((0,r.uX)(),(0,r.CE)("i",n8e))])]),(0,r.Lk)("th",{onClick:a[5]||(a[5]=e=>o.sort("job_date"))},[a[16]||(a[16]=(0,r.eW)(" Job Date & Time ")),(0,r.Lk)("span",null,["job_date"==i.meta.keyword&&"asc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",c8e)):"job_date"==i.meta.keyword&&"desc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",u8e)):((0,r.uX)(),(0,r.CE)("i",_8e))])]),a[19]||(a[19]=(0,r.Lk)("th",null,"Created By",-1)),(0,r.bo)(((0,r.uX)(),(0,r.CE)("th",p8e,a[17]||(a[17]=[(0,r.eW)("Actions")]))),[[u,["break_down_registers.update","break_down_registers.delete"]]])])]),(0,r.Lk)("tbody",null,[0==i.break_down_lists.length?((0,r.uX)(),(0,r.CE)("tr",m8e,a[20]||(a[20]=[(0,r.Lk)("td",{colspan:"7",class:"text-center"},"No records found",-1)]))):(0,r.Q3)("",!0),((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(i.break_down_lists,((e,t)=>((0,r.uX)(),(0,r.CE)("tr",{key:t},[(0,r.Lk)("td",b8e,(0,n.v_)(i.meta.from+t),1),(0,r.Lk)("td",null,(0,n.v_)(e.asset?.asset_name),1),(0,r.Lk)("td",null,(0,n.v_)(e.break_down_type?.break_down_type_name),1),(0,r.Lk)("td",null,(0,n.v_)(e.job_no),1),(0,r.Lk)("td",null,(0,n.v_)(o.convertDateFormat(e.job_date)),1),(0,r.Lk)("td",null,[(0,r.eW)((0,n.v_)(e?.user?.name)+" ",1),a[21]||(a[21]=(0,r.Lk)("br",null,null,-1)),(0,r.eW)(" "+(0,n.v_)(e?.created_at),1)]),(0,r.bo)(((0,r.uX)(),(0,r.CE)("td",k8e,[e.status?(0,r.bo)(((0,r.uX)(),(0,r.CE)("a",{key:0,title:"Edit",href:"javascript:void(0)",class:"text-success me-2",onClick:a=>o.editBreakDownList(e)},a[22]||(a[22]=[(0,r.Lk)("i",{class:"ri-pencil-line fs-18 lh-1"},null,-1)]),8,v8e)),[[u,"break_down_registers.update"]]):(0,r.Q3)("",!0),(0,r.bo)(((0,r.uX)(),(0,r.CE)("a",{title:"Delete",href:"javascript:void(0)",class:"text-danger me-2",onClick:(0,s.D$)((a=>o.deleteBreakDownList(e)),["prevent"])},a[23]||(a[23]=[(0,r.Lk)("i",{class:"ri-delete-bin-6-line fs-18 lh-1"},null,-1)]),8,h8e)),[[u,"break_down_registers.delete"]])])),[[u,["break_down_registers.update","break_down_registers.delete"]]])])))),128))])])])]),(0,r.Lk)("div",y8e,[(0,r.Lk)("div",g8e,[(0,r.bo)((0,r.Lk)("select",{class:"form-select from-select-sm width-75","onUpdate:modelValue":a[6]||(a[6]=e=>i.meta.per_page=e),onChange:a[7]||(a[7]=(...e)=>o.onPerPageChange&&o.onPerPageChange(...e))},a[24]||(a[24]=[(0,r.Lk)("option",null,"10",-1),(0,r.Lk)("option",null,"15",-1),(0,r.Lk)("option",null,"20",-1),(0,r.Lk)("option",null,"25",-1),(0,r.Lk)("option",null,"30",-1)]),544),[[s.u1,i.meta.per_page]]),(0,r.Lk)("span",null,"Showing "+(0,n.v_)(i.meta.from)+" to "+(0,n.v_)(i.meta.to)+" of "+(0,n.v_)(i.meta.totalRows)+" entries",1),(0,r.bF)(c,{maxPage:i.meta.maxPage,totalPages:i.meta.lastPage,currentPage:parseInt(i.meta.page),onPagechanged:o.onPageChange},null,8,["maxPage","totalPages","currentPage","onPagechanged"])])])])])])])}var L8e={components:{Pagination:md},data(){return{meta:{search:"",order_by:"desc",keyword:"break_down_list_id",per_page:10,totalRows:0,page:1,lastPage:1,from:1,to:1,maxPage:1},break_down_list:{break_down_list_id:""},break_down_lists:[],errors:[],update:!1}},beforeRouteEnter(e,a,t){t((e=>{"BreakDownRegisters.Edit"!=a.name?e.$store.commit("setCurrentPage",e.meta.page):e.meta.page=e.$store.getters.current_page}))},mounted(){this.index()},methods:{convertDateFormat(e){return sG()(e).format("yyyy-MM-DD HH:mm")},index(){let e=this,a=e.$loading.show();e.$store.dispatch("post",{uri:"paginateBreakDownLists",data:e.meta}).then((t=>{a.hide(),e.break_down_lists=t.data.data,e.meta.totalRows=t.data.meta.total,e.meta.from=t.data.meta.from,e.meta.to=t.data.meta.to,e.meta.lastPage=t.data.meta.last_page,e.meta.maxPage=e.meta.lastPage>=3?3:e.meta.lastPage})).catch((function(t){a.hide(),console.log("breakdown-error",t),e.errors=t.response.data.errors,e.$store.dispatch("error",t.response.data.message)}))},editBreakDownList(e){this.$store.commit("setCurrentPage",parseInt(this.meta.page)),this.$router.push("/break_down_registers/"+e.break_down_list_id+"/edit")},deleteBreakDownList(e){const a=confirm("Are you sure you want to delete it ?");if(a){let a=this,t=a.$loading.show();a.$store.dispatch("post",{uri:"deleteBreakDownList",data:e}).then((e=>{t.hide(),a.$store.dispatch("success",e.data.message),a.index()})).catch((function(e){t.hide(),a.errors=e.response.data.errors,a.$store.dispatch("error",e.response.data.message)}))}},onPageChange(e){this.meta.page=e,this.index()},sort(e){this.meta.keyword=e,this.meta.order_by="asc"==this.meta.order_by?"desc":"asc",this.index()},search(){let e=this;e.meta.page=1,e.index()},onPerPageChange(){let e=this;e.meta.page=1,e.index()}}};const C8e=(0,Ze.A)(L8e,[["render",f8e]]);var w8e=C8e;function E8e(e,a){return(0,r.uX)(),(0,r.CE)("div",null,a[0]||(a[0]=[(0,r.Lk)("div",{class:"d-sm-flex align-items-center justify-content-center"},[(0,r.Lk)("div",{class:"mt-5"},[(0,r.Lk)("h4",{class:"main-title mb-0 mt-10 text-danger"},"In Progress")])],-1)]))}const x8e={},X8e=(0,Ze.A)(x8e,[["render",E8e]]);var P8e=X8e;const $8e={class:""},S8e={class:"d-sm-flex align-items-center justify-content-between mb-2"},A8e={class:"breadcrumb fs-sm mb-1"},D8e={class:"breadcrumb-item","aria-current":"page"},T8e={class:"row"},Q8e={class:"col-12"},V8e={class:"card card-one"},F8e={class:"card-body"},U8e={class:"row mb-3"},j8e={class:"col-md-2"},z8e={key:0,class:"invalid-feedback"},W8e={class:"col-md-2"},R8e=["value"],q8e={key:0,class:"invalid-feedback"},I8e={class:"col-md-2"},N8e={key:0,class:"invalid-feedback"},M8e={class:"col-md-2"},K8e={key:0,class:"invalid-feedback"},J8e={class:"col-md-2"},B8e={key:0,class:"invalid-feedback"},O8e={class:"col-md-2 mt-4"},H8e={class:"table-responsive"},Y8e={class:"table table-bordered mb-0"},Z8e={key:0,class:"text-center"},G8e=["src"],e6e={key:0},a6e={key:1,class:"text-center"},t6e=["src"],s6e={key:0},r6e={key:0};function l6e(e,a,t,l,i,o){const d=(0,r.g2)("router-link"),c=(0,r.g2)("search");return(0,r.uX)(),(0,r.CE)("div",$8e,[(0,r.Lk)("div",S8e,[(0,r.Lk)("div",null,[(0,r.Lk)("ol",A8e,[(0,r.Lk)("li",D8e,[(0,r.bF)(d,{to:"/dashboard"},{default:(0,r.k6)((()=>a[8]||(a[8]=[(0,r.eW)("Dashboard")]))),_:1})]),a[9]||(a[9]=(0,r.Lk)("li",{class:"breadcrumb-item"},[(0,r.Lk)("a",{href:"javascript:void(0)"},"Review")],-1)),a[10]||(a[10]=(0,r.Lk)("li",{class:"breadcrumb-item active","aria-current":"page"},"Scanner Results",-1))]),a[11]||(a[11]=(0,r.Lk)("h4",{class:"main-title mb-0"},"Scanner Results",-1))])]),(0,r.Lk)("div",T8e,[(0,r.Lk)("div",Q8e,[(0,r.Lk)("div",V8e,[a[25]||(a[25]=(0,r.Lk)("div",{class:"card-header d-flex justify-content-between"},[(0,r.Lk)("h6",{class:"card-title"},"Scanner Results")],-1)),(0,r.Lk)("div",F8e,[(0,r.Lk)("div",U8e,[(0,r.Lk)("div",j8e,[a[12]||(a[12]=(0,r.Lk)("label",{class:"form-label"},"Asset",-1)),a[13]||(a[13]=(0,r.Lk)("span",{class:"text-danger"}," *",-1)),(0,r.bF)(c,{class:(0,n.C4)({"is-invalid":i.errors?.asset_id}),customClass:{"is-invalid":i.errors?.asset_id},initialize:i.spare?.asset_id,id:"asset_id",label:"asset_name",placeholder:"Select Asset",data:i.assets,onInput:a[0]||(a[0]=e=>i.spare.asset_id=e),onSelectsearch:a[1]||(a[1]=e=>o.getScripts())},null,8,["class","customClass","initialize","data"]),i.errors.asset_id?((0,r.uX)(),(0,r.CE)("span",z8e,(0,n.v_)(i.errors.asset_id[0]),1)):(0,r.Q3)("",!0)]),(0,r.Lk)("div",W8e,[a[15]||(a[15]=(0,r.Lk)("label",{class:"form-label"},"Script",-1)),a[16]||(a[16]=(0,r.Lk)("span",{class:"text-danger"}," *",-1)),(0,r.bo)((0,r.Lk)("select",{class:(0,n.C4)(["form-control",{"is-invalid":i.errors.script}]),"onUpdate:modelValue":a[2]||(a[2]=e=>i.spare.script=e),onChange:a[3]||(a[3]=(...e)=>o.getAnalysis&&o.getAnalysis(...e))},[a[14]||(a[14]=(0,r.Lk)("option",{value:""},"Select Script",-1)),((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(i.scripts,((e,a)=>((0,r.uX)(),(0,r.CE)("option",{value:e,key:a},(0,n.v_)(e),9,R8e)))),128))],34),[[s.u1,i.spare.script]]),i.errors.script?((0,r.uX)(),(0,r.CE)("span",q8e,(0,n.v_)(i.errors.script[0]),1)):(0,r.Q3)("",!0)]),(0,r.Lk)("div",I8e,[a[17]||(a[17]=(0,r.Lk)("label",{class:"form-label"},"Analysis",-1)),(0,r.bF)(c,{class:(0,n.C4)({"is-invalid":i.errors?.location}),customClass:{"is-invalid":i.errors?.location},initialize:i.spare?.location,id:"location",label:"location",placeholder:"Select Analysis",data:i.locations,onInput:a[4]||(a[4]=e=>i.spare.location=e)},null,8,["class","customClass","initialize","data"]),i.errors.location?((0,r.uX)(),(0,r.CE)("span",N8e,(0,n.v_)(i.errors.location[0]),1)):(0,r.Q3)("",!0)]),(0,r.Lk)("div",M8e,[a[18]||(a[18]=(0,r.Lk)("label",{class:"form-label"},"From Date",-1)),a[19]||(a[19]=(0,r.Lk)("span",{class:"text-danger"}," *",-1)),(0,r.bo)((0,r.Lk)("input",{type:"date",class:(0,n.C4)(["form-control",{"is-invalid":i.errors.from_date}]),"onUpdate:modelValue":a[5]||(a[5]=e=>i.spare.from_date=e)},null,2),[[s.Jo,i.spare.from_date]]),i.errors.from_date?((0,r.uX)(),(0,r.CE)("span",K8e,(0,n.v_)(i.errors.from_date[0]),1)):(0,r.Q3)("",!0)]),(0,r.Lk)("div",J8e,[a[20]||(a[20]=(0,r.Lk)("label",{class:"form-label"},"To Date",-1)),a[21]||(a[21]=(0,r.Lk)("span",{class:"text-danger"}," *",-1)),(0,r.bo)((0,r.Lk)("input",{type:"date",class:(0,n.C4)(["form-control",{"is-invalid":i.errors.to_date}]),"onUpdate:modelValue":a[6]||(a[6]=e=>i.spare.to_date=e)},null,2),[[s.Jo,i.spare.to_date]]),i.errors.to_date?((0,r.uX)(),(0,r.CE)("span",B8e,(0,n.v_)(i.errors.to_date[0]),1)):(0,r.Q3)("",!0)]),(0,r.Lk)("div",O8e,[(0,r.Lk)("button",{class:"btn btn-primary",onClick:a[7]||(a[7]=(...e)=>o.search&&o.search(...e))},"Search")])]),(0,r.Lk)("div",H8e,[(0,r.Lk)("table",Y8e,[(0,r.Lk)("tbody",null,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(o.groupedResults,((e,t)=>((0,r.uX)(),(0,r.CE)("tr",{key:t},[e[0]?((0,r.uX)(),(0,r.CE)("td",Z8e,[(0,r.Lk)("h6",null,(0,n.v_)(o.dateFormat(e[0]?.campaign?.job_date_time)||""),1),(0,r.Lk)("img",{class:"mb-2",src:e[0]?.file,height:"180"},null,8,G8e),e[0]?.torpedo_values?((0,r.uX)(),(0,r.CE)("h6",e6e,[a[22]||(a[22]=(0,r.Lk)("b",null,"Top 10 Values:",-1)),(0,r.eW)(" "+(0,n.v_)(e[0]?.torpedo_values),1)])):(0,r.Q3)("",!0)])):(0,r.Q3)("",!0),e[1]?((0,r.uX)(),(0,r.CE)("td",a6e,[(0,r.Lk)("h6",null,(0,n.v_)(o.dateFormat(e[1]?.campaign?.job_date_time)||""),1),(0,r.Lk)("img",{class:"mb-2",src:e[1]?.file,height:"180"},null,8,t6e),e[1]?.torpedo_values?((0,r.uX)(),(0,r.CE)("h6",s6e,[a[23]||(a[23]=(0,r.Lk)("b",null,"Top 10 Values:",-1)),(0,r.eW)(" "+(0,n.v_)(e[1]?.torpedo_values),1)])):(0,r.Q3)("",!0)])):(0,r.Q3)("",!0)])))),128)),0==o.groupedResults.length?((0,r.uX)(),(0,r.CE)("tr",r6e,a[24]||(a[24]=[(0,r.Lk)("td",{colspan:"3",class:"text-center text-danger"},"No records found",-1)]))):(0,r.Q3)("",!0)])])])])])])])])}var i6e={components:{Search:It.A},data(){return{spare:{asset_id:"",script:"",location:"",from_date:"",to_date:"",datasource:""},assets:[],scripts:[],locations:[],campaign_results:[],wall:!1,bottom:!1,errors:[]}},mounted(){this.getAssets(),this.spare.from_date=sG()().subtract(1,"day").format("YYYY-MM-DD"),this.spare.to_date=sG()().format("yyyy-MM-DD")},computed:{groupedResults(){const e=this.campaign_results,a=[];for(let t=0;t<e.length;t+=2)a.push(e.slice(t,t+2));return a}},methods:{getAssets(){let e=this,a=e.$loading.show();e.$store.dispatch("post",{uri:"getAssets"}).then((t=>{a.hide(),e.assets=t.data.data})).catch((function(t){a.hide(),e.errors=t.response.data.errors,e.$store.dispatch("error",t.response.data.message)}))},getScripts(){let e=this,a=e.$loading.show();e.$store.dispatch("post",{uri:"getScripts",data:e.spare}).then((t=>{a.hide(),e.scripts=t.data,e.spare.script="",e.spare.location=""})).catch((function(t){a.hide(),e.errors=t.response.data.errors,e.$store.dispatch("error",t.response.data.message)}))},getAnalysis(){let e=this,a=e.$loading.show();e.$store.dispatch("post",{uri:"getLocations",data:e.spare}).then((t=>{a.hide(),e.locations=t.data})).catch((function(t){a.hide(),e.errors=t.response.data.errors,e.$store.dispatch("error",t.response.data.message)}))},search(){let e=this,a=e.$loading.show();e.$store.dispatch("post",{uri:"campaignResultImages",data:e.spare}).then((t=>{a.hide(),e.campaign_results=t.data.data,e.errors=[]})).catch((function(t){a.hide(),e.errors=t.response.data.errors,e.$store.dispatch("error",t.response.data.message)}))},dateFormat(e){return sG()(e).format("DD-MM-yyyy HH:mm")}}};const o6e=(0,Ze.A)(i6e,[["render",l6e]]);var d6e=o6e,n6e=t.p+"img/icosahedron.d59f354e.png";const c6e={class:""},u6e={class:"d-sm-flex align-items-center justify-content-between mb-2"},_6e={class:"breadcrumb fs-sm mb-1"},p6e={class:"breadcrumb-item","aria-current":"page"},m6e={class:"row"},b6e={class:"col-12"},k6e={class:"card card-one"},v6e={class:"card-body"},h6e={class:"table-responsive table-responsive-sm"},y6e={class:"table table-sm text-nowrap table-striped table-bordered mb-0"},g6e={class:"",style:{"background-color":"#9b9b9b",color:"white"}},f6e={key:0,class:"ri-arrow-up-line"},L6e={key:1,class:"ri-arrow-down-line"},C6e={key:2,class:"fas fa-sort"},w6e={key:0,class:"ri-arrow-up-line"},E6e={key:1,class:"ri-arrow-down-line"},x6e={key:2,class:"fas fa-sort"},X6e={key:0,class:"ri-arrow-up-line"},P6e={key:1,class:"ri-arrow-down-line"},$6e={key:2,class:"fas fa-sort"},S6e={key:0,class:"ri-arrow-up-line"},A6e={key:1,class:"ri-arrow-down-line"},D6e={key:2,class:"fas fa-sort"},T6e={key:0,class:"ri-arrow-up-line"},Q6e={key:1,class:"ri-arrow-down-line"},V6e={key:2,class:"fas fa-sort"},F6e={key:0,class:"ri-arrow-up-line"},U6e={key:1,class:"ri-arrow-down-line"},j6e={key:2,class:"fas fa-sort"},z6e={key:0,class:"ri-arrow-up-line"},W6e={key:1,class:"ri-arrow-down-line"},R6e={key:2,class:"fas fa-sort"},q6e={class:"text-center"},I6e={class:"text-center"},N6e={class:"text-center"},M6e=["onClick"],K6e=["onClick"],J6e=["onClick"],B6e={key:0},O6e={class:"card-footer"},H6e={class:"d-flex justify-content-between align-items-center"};function Y6e(e,a,t,l,i,o){const d=(0,r.g2)("router-link"),c=(0,r.g2)("Pagination"),u=(0,r.gN)("can");return(0,r.uX)(),(0,r.CE)("div",c6e,[(0,r.Lk)("div",u6e,[(0,r.Lk)("div",null,[(0,r.Lk)("ol",_6e,[(0,r.Lk)("li",p6e,[(0,r.bF)(d,{to:"/dashboard"},{default:(0,r.k6)((()=>a[11]||(a[11]=[(0,r.eW)("Dashboard")]))),_:1})]),a[12]||(a[12]=(0,r.Lk)("li",{class:"breadcrumb-item"},[(0,r.Lk)("a",{href:"javascript:void(0)"},"Reviews")],-1)),a[13]||(a[13]=(0,r.Lk)("li",{class:"breadcrumb-item active","aria-current":"page"},"Asset Details",-1))]),a[14]||(a[14]=(0,r.Lk)("h4",{class:"main-title mb-0"},"Asset Details",-1))])]),(0,r.Lk)("div",m6e,[(0,r.Lk)("div",b6e,[(0,r.Lk)("div",k6e,[a[29]||(a[29]=(0,r.Lk)("div",{class:"card-header d-flex justify-content-between"},[(0,r.Lk)("h6",{class:"card-title"},"Assets")],-1)),(0,r.Lk)("div",v6e,[(0,r.bo)((0,r.Lk)("input",{class:"form-control form-control-sm mb-2",type:"text",placeholder:"Type keyword and press enter key","onUpdate:modelValue":a[0]||(a[0]=e=>i.meta.search=e),onKeypress:a[1]||(a[1]=(0,s.jR)((e=>o.search()),["enter"]))},null,544),[[s.Jo,i.meta.search]]),(0,r.Lk)("div",h6e,[(0,r.Lk)("table",y6e,[(0,r.Lk)("thead",null,[(0,r.Lk)("tr",g6e,[a[23]||(a[23]=(0,r.Lk)("th",{class:"text-center"},"#",-1)),(0,r.Lk)("th",{onClick:a[2]||(a[2]=e=>o.sort("asset_type_id"))},[a[15]||(a[15]=(0,r.eW)(" Asset Type ")),(0,r.Lk)("span",null,["asset_type_name"==i.meta.keyword&&"asc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",f6e)):"asset_type_name"==i.meta.keyword&&"desc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",L6e)):((0,r.uX)(),(0,r.CE)("i",C6e))])]),(0,r.Lk)("th",{onClick:a[3]||(a[3]=e=>o.sort("asset_code"))},[a[16]||(a[16]=(0,r.eW)(" Asset Code ")),(0,r.Lk)("span",null,["asset_code"==i.meta.keyword&&"asc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",w6e)):"asset_code"==i.meta.keyword&&"desc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",E6e)):((0,r.uX)(),(0,r.CE)("i",x6e))])]),(0,r.Lk)("th",{onClick:a[4]||(a[4]=e=>o.sort("asset_name"))},[a[17]||(a[17]=(0,r.eW)(" Asset Name ")),(0,r.Lk)("span",null,["asset_name"==i.meta.keyword&&"asc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",X6e)):"asset_name"==i.meta.keyword&&"desc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",P6e)):((0,r.uX)(),(0,r.CE)("i",$6e))])]),(0,r.Lk)("th",{onClick:a[5]||(a[5]=e=>o.sort("geometry_type"))},[a[18]||(a[18]=(0,r.eW)(" Geometry Type ")),(0,r.Lk)("span",null,["geometry_type"==i.meta.keyword&&"asc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",S6e)):"geometry_type"==i.meta.keyword&&"desc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",A6e)):((0,r.uX)(),(0,r.CE)("i",D6e))])]),(0,r.Lk)("th",{onClick:a[6]||(a[6]=e=>o.sort("latitude"))},[a[19]||(a[19]=(0,r.eW)(" Latitude ")),(0,r.Lk)("span",null,["latitude"==i.meta.keyword&&"asc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",T6e)):"latitude"==i.meta.keyword&&"desc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",Q6e)):((0,r.uX)(),(0,r.CE)("i",V6e))])]),(0,r.Lk)("th",{onClick:a[7]||(a[7]=e=>o.sort("longitude"))},[a[20]||(a[20]=(0,r.eW)(" Longitude ")),(0,r.Lk)("span",null,["longitude"==i.meta.keyword&&"asc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",F6e)):"longitude"==i.meta.keyword&&"desc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",U6e)):((0,r.uX)(),(0,r.CE)("i",j6e))])]),(0,r.Lk)("th",{onClick:a[8]||(a[8]=e=>o.sort("radius"))},[a[21]||(a[21]=(0,r.eW)(" Radius ")),(0,r.Lk)("span",null,["radius"==i.meta.keyword&&"asc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",z6e)):"radius"==i.meta.keyword&&"desc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",W6e)):((0,r.uX)(),(0,r.CE)("i",R6e))])]),(0,r.bo)(((0,r.uX)(),(0,r.CE)("th",q6e,a[22]||(a[22]=[(0,r.eW)("GoTo")]))),[[u,["asset_accessories.view","asset_details.geometry_types"]]])])]),(0,r.Lk)("tbody",null,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(i.assets,((e,t)=>((0,r.uX)(),(0,r.CE)("tr",{key:t},[(0,r.Lk)("td",I6e,(0,n.v_)(i.meta.from+t),1),(0,r.Lk)("td",null,(0,n.v_)(e.asset_type.asset_type_name),1),(0,r.Lk)("td",null,(0,n.v_)(e.asset_code),1),(0,r.Lk)("td",null,(0,n.v_)(e.asset_name),1),(0,r.Lk)("td",null,(0,n.v_)(e?.geometry_type),1),(0,r.Lk)("td",null,(0,n.v_)(e.latitude),1),(0,r.Lk)("td",null,(0,n.v_)(e.longitude),1),(0,r.Lk)("td",null,(0,n.v_)(e.radius),1),(0,r.bo)(((0,r.uX)(),(0,r.CE)("td",N6e,[e.status?(0,r.bo)(((0,r.uX)(),(0,r.CE)("a",{key:0,title:"Asset Accessories",href:"javascript:void(0)",class:"text-primary me-2",onClick:(0,s.D$)((a=>o.viewRegister(e,"/asset/accessories/"+e.asset_id)),["prevent"])},a[24]||(a[24]=[(0,r.Lk)("i",{class:"ri-survey-line fs-18 lh-1"},null,-1)]),8,M6e)),[[u,"asset_accessories.view"]]):(0,r.Q3)("",!0),(0,r.bo)(((0,r.uX)(),(0,r.CE)("span",null,[e.status&&"V-Cylindrical"===e.geometry_type?((0,r.uX)(),(0,r.CE)("a",{key:0,title:"Vertical Geometric Type",href:"javascript:void(0)",class:"text-primary me-2",onClick:(0,s.D$)((a=>o.viewVGeometric(e)),["prevent"])},a[25]||(a[25]=[(0,r.Lk)("img",{src:n6e,style:{width:"18px",height:"18px"}},null,-1)]),8,K6e)):e.status&&"H-Cylindrical"===e.geometry_type?((0,r.uX)(),(0,r.CE)("a",{key:1,title:"Horizontal Geometric Type",href:"javascript:void(0)",class:"text-primary me-2",onClick:(0,s.D$)((a=>o.viewHGeometric(e)),["prevent"])},a[26]||(a[26]=[(0,r.Lk)("img",{src:n6e,style:{width:"18px",height:"18px"}},null,-1)]),8,J6e)):(0,r.Q3)("",!0)])),[[u,"asset_details.geometry_types"]])])),[[u,["asset_accessories.view","asset_details.geometry_types"]]])])))),128)),0==i.assets.length?((0,r.uX)(),(0,r.CE)("tr",B6e,a[27]||(a[27]=[(0,r.Lk)("td",{colspan:"8",class:"text-center"},"No records found",-1)]))):(0,r.Q3)("",!0)])])])]),(0,r.Lk)("div",O6e,[(0,r.Lk)("div",H6e,[(0,r.bo)((0,r.Lk)("select",{class:"form-select from-select-sm width-75","onUpdate:modelValue":a[9]||(a[9]=e=>i.meta.per_page=e),onChange:a[10]||(a[10]=(...e)=>o.onPerPageChange&&o.onPerPageChange(...e))},a[28]||(a[28]=[(0,r.Lk)("option",null,"10",-1),(0,r.Lk)("option",null,"15",-1),(0,r.Lk)("option",null,"20",-1),(0,r.Lk)("option",null,"25",-1),(0,r.Lk)("option",null,"30",-1)]),544),[[s.u1,i.meta.per_page]]),(0,r.Lk)("span",null,"Showing "+(0,n.v_)(i.meta.from)+" to "+(0,n.v_)(i.meta.to)+" of "+(0,n.v_)(i.meta.totalRows)+" entries",1),(0,r.bF)(c,{maxPage:i.meta.maxPage,totalPages:i.meta.lastPage,currentPage:parseInt(i.meta.page),onPagechanged:o.onPageChange},null,8,["maxPage","totalPages","currentPage","onPagechanged"])])])])])])])}var Z6e={components:{Pagination:md},data(){return{meta:{search:"",order_by:"desc",keyword:"asset_id",per_page:10,totalRows:0,page:1,lastPage:1,from:1,to:1,maxPage:1,trashed:!1},get_assetviews:[],get_asset:[],assets:[],errors:[],status:!0}},beforeRouteEnter(e,a,t){t((e=>{"Assets.Edit"!=a.name&&"Assets.View"!=a.name?e.$store.commit("setCurrentPage",e.meta.page):e.meta.page=e.$store.getters.current_page}))},mounted(){this.assetviews=this.$store.getters.permissions.filter((function(e){return e.ability.ability.includes("assetviews.view")})),this.get_asset=this.$store.getters.permissions.filter((function(e){return e.ability.ability.includes("assets.update")})),document.body.classList.remove("sidebar-hide"),this.$store.commit("setAssetId",""),this.index()},methods:{index(){let e=this,a=e.$loading.show();e.$store.dispatch("post",{uri:"paginateAssets",data:e.meta}).then((t=>{a.hide(),e.assets=t.data.data,e.meta.totalRows=t.data.meta.total,e.meta.from=t.data.meta.from,e.meta.to=t.data.meta.to,e.meta.lastPage=t.data.meta.last_page,e.meta.maxPage=e.meta.lastPage>=3?3:e.meta.lastPage})).catch((function(t){a.hide(),e.errors=t.response.data.errors,e.$store.dispatch("error",t.response.data.message)}))},editAsset(e){this.$store.commit("setCurrentPage",parseInt(this.meta.page)),this.$router.push("/asset/"+e.asset_id+"/edit")},viewAsset(e){document.body.classList.add("sidebar-hide"),this.$store.commit("setCurrentPage",this.meta.page),this.$router.push("/asset/"+e.asset_id+"/view")},viewRegister(e,a){this.$store.commit("setCurrentPage",this.meta.page),this.$store.commit("setAssetId",e.asset_id),this.$router.push(a)},getQRCode(e){this.$router.push("/QR_code/"+e.asset_id+"/get")},deleteAsset(e){let a=this,t=a.$loading.show();a.$store.dispatch("post",{uri:"deleteAsset",data:e}).then((e=>{t.hide(),a.$store.dispatch("success",e.data.message),a.index()})).catch((function(e){t.hide(),a.errors=e.response.data.errors,a.$store.dispatch("error",e.response.data.message)}))},search(){let e=this;e.meta.page=1,e.index()},onPageChange(e){this.meta.page=e,this.index()},sort(e){this.meta.keyword=e,this.meta.order_by="asc"==this.meta.order_by?"desc":"asc",this.index()},onPerPageChange(){let e=this;e.meta.page=1,e.index()},viewVGeometric(e){this.$store.commit("setCurrentPage",parseInt(this.meta.page)),this.$router.push("/geometric/"+e.asset_id)},viewHGeometric(e){this.$store.commit("setCurrentPage",parseInt(this.meta.page)),this.$router.push("/horizontal_geometric/"+e.asset_id)}}};const G6e=(0,Ze.A)(Z6e,[["render",Y6e]]);var e9e=G6e;const a9e={key:0,class:"card card-one"},t9e={class:"card-header text-center"},s9e={class:"card-title"},r9e={class:"card-body"},l9e={class:"mb-3"},i9e={class:"col-md-3 mb-4"},o9e={class:"row"},d9e={class:"col-md-12 mb-4 ss align-items-center justify-content-center"},n9e={class:"row"},c9e={class:"col-2 d-flex align-items-center justify-content-center"},u9e={class:"vertical-text mr-0"},_9e={class:"col-10"},p9e=["title"],m9e={key:0,class:"col-md-12 ss"},b9e={class:"zone-name-container",style:{"text-align":"center","align-items":"center"}},k9e={style:{"writing-mode":"vertical-lr"}},v9e={class:"vertical-text1"},h9e=["title"],y9e={style:{position:"absolute",left:"-10px",transform:"translateX(-100%)",color:"#41505f",fontWeight:"bold",fontSize:"12px",whiteSpace:"nowrap"}},g9e={class:"col-12 mt-4"},f9e={class:"card card-one"},L9e={class:"card-body"},C9e={class:"row g-2"},w9e={class:"col-12"},E9e={class:"table-responsive table-responsive-sm"},x9e={class:"table table-sm text-nowrap table-striped table-bordered mb-0"},X9e={class:""},P9e={key:0,class:"ri-arrow-up-line"},$9e={key:1,class:"ri-arrow-down-line"},S9e={key:2,class:"fas fa-sort"},A9e={key:0,class:"ri-arrow-up-line"},D9e={key:1,class:"ri-arrow-down-line"},T9e={key:2,class:"fas fa-sort"},Q9e={key:0,class:"ri-arrow-up-line"},V9e={key:1,class:"ri-arrow-down-line"},F9e={key:2,class:"fas fa-sort"},U9e={key:0,class:"ri-arrow-up-line"},j9e={key:1,class:"ri-arrow-down-line"},z9e={key:2,class:"fas fa-sort"},W9e={key:0,class:"ri-arrow-up-line"},R9e={key:1,class:"ri-arrow-down-line"},q9e={key:2,class:"fas fa-sort"},I9e={key:0,class:"ri-arrow-up-line"},N9e={key:1,class:"ri-arrow-down-line"},M9e={key:2,class:"fas fa-sort"},K9e={key:0},J9e={class:"text-center"},B9e={class:"card-footer"},O9e={class:"d-flex justify-content-between align-items-center"};function H9e(e,a,t,l,i,o){const d=(0,r.g2)("Pagination");return i.assets?((0,r.uX)(),(0,r.CE)("div",a9e,[(0,r.Lk)("div",t9e,[(0,r.Lk)("h6",s9e,(0,n.v_)(i.assets.asset_name),1)]),(0,r.Lk)("div",r9e,[(0,r.Lk)("h6",l9e,[a[4]||(a[4]=(0,r.Lk)("span",{class:"text-primary"},"Note:",-1)),(0,r.eW)(" 1 meter="+(0,n.v_)(i.meter)+"px",1)]),(0,r.Lk)("div",i9e,[(0,r.bo)((0,r.Lk)("input",{class:"form-control",type:"number","onUpdate:modelValue":a[0]||(a[0]=e=>i.meter=e)},null,512),[[s.Jo,i.meter]])]),(0,r.Lk)("div",o9e,[(0,r.Lk)("div",d9e,[(0,r.Lk)("h6",{class:"text-center",style:(0,n.Tr)(`width:${Number(i.assets.diameter*i.meter)}px;margin-left:35px;`)},"Dia="+(0,n.v_)(Number(i.assets.diameter))+" (m)",5),(0,r.Lk)("div",{class:"dimensions-x mb-3",style:(0,n.Tr)(`width:${Number(i.assets.diameter*i.meter)}px; margin-left:35px;`)},a[5]||(a[5]=[(0,r.Lk)("span",{class:"arrow-left"},null,-1),(0,r.Lk)("span",{class:"arrow-right"},null,-1)]),4),(0,r.Lk)("div",n9e,[(0,r.Lk)("div",c9e,[(0,r.Lk)("div",{class:"dimensions-y",style:(0,n.Tr)(`height:${Number(i.assets.height*i.meter)}px;`)},a[6]||(a[6]=[(0,r.Lk)("span",{class:"arrow-top"},null,-1),(0,r.Lk)("span",{class:"arrow-bottom"},null,-1)]),4),(0,r.Lk)("h6",u9e,"Heigth="+(0,n.v_)(Number(i.assets.height))+" (m)",1)]),(0,r.Lk)("div",_9e,[(0,r.Lk)("div",{title:i.assets.asset_name,class:"",style:(0,n.Tr)(`height:${Number(i.assets.height*i.meter)}px; width:${Number(i.assets.diameter*i.meter)}px; border:2px solid gray`),onClick:a[1]||(a[1]=e=>o.showAssetZones())},null,12,p9e)])])]),i.display_asset_zone?((0,r.uX)(),(0,r.CE)("div",m9e,[(0,r.Lk)("h6",{class:"text-center",style:(0,n.Tr)(`width:${Number(i.assets.diameter*i.meter)}px;`)}," Dia="+(0,n.v_)(Number(i.assets.diameter))+" (m) ",5),(0,r.Lk)("div",{class:"dimensions-x mb-3",style:(0,n.Tr)(`width:${Number(i.assets.diameter*i.meter)}px;`)},a[7]||(a[7]=[(0,r.Lk)("span",{class:"arrow-left"},null,-1),(0,r.Lk)("span",{class:"arrow-right"},null,-1)]),4),((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(i.assets.zone_name,((e,t)=>((0,r.uX)(),(0,r.CE)("div",{key:t,class:"zone-container",style:(0,n.Tr)(`height:${Number(e.height*i.meter)}px; width:${Number(i.assets.diameter*i.meter)}px; border-left:1px solid gray; border-right:1px solid gray;`)},[(0,r.Lk)("div",b9e,[(0,r.Lk)("span",k9e,(0,n.v_)(Number(e.height))+" (m)",1),(0,r.Lk)("span",v9e,"Â Â "+(0,n.v_)(e.zone_name),1)]),((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(e.asset_spares,((t,s)=>((0,r.uX)(),(0,r.CE)("div",{key:s,title:`${t?.spare?.spare_name} :: (${t.quantity}) :: (${t.asset_service.service.service_name})`,style:(0,n.Tr)({height:`${parseFloat(t.quantity/o.totalQuantity(e.asset_spares)*Number(e.height)*i.meter)}px`,width:i.assets.diameter*i.meter+"px",cursor:"pointer",textAlign:"center",alignContent:"center",display:"flex",position:"relative"})},[(0,r.Lk)("div",y9e,(0,n.v_)((100*parseFloat(t.quantity/o.totalQuantity(e.asset_spares))).toFixed(2))+" % ",1),(0,r.Lk)("div",{style:(0,n.Tr)({width:"5%",height:"100%",backgroundColor:o.spareColorCode(t)})},null,4),a[8]||(a[8]=(0,r.Lk)("div",{style:{width:"90%",height:"100%",backgroundColor:"white",display:"flex",alignItems:"center",justifyContent:"center"}},null,-1)),(0,r.Lk)("div",{style:(0,n.Tr)({width:"5%",height:"100%",backgroundColor:o.spareColorCode(t)})},null,4)],12,h9e)))),128))],4)))),128))])):(0,r.Q3)("",!0),(0,r.Lk)("div",g9e,[(0,r.Lk)("div",f9e,[a[18]||(a[18]=(0,r.Lk)("div",{class:"card-header d-flex justify-content-between"},[(0,r.Lk)("h6",{class:"card-title"},"Spares")],-1)),(0,r.Lk)("div",L9e,[(0,r.Lk)("div",C9e,[(0,r.Lk)("div",w9e,[(0,r.Lk)("div",E9e,[(0,r.Lk)("table",x9e,[(0,r.Lk)("thead",null,[(0,r.Lk)("tr",X9e,[a[15]||(a[15]=(0,r.Lk)("th",{class:"text-center"},"#",-1)),(0,r.Lk)("th",null,[a[9]||(a[9]=(0,r.eW)(" Asset Zone ")),(0,r.Lk)("span",null,["asset_zone_id"==i.meta.keyword&&"asc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",P9e)):"asset_zone_id"==i.meta.keyword&&"desc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",$9e)):((0,r.uX)(),(0,r.CE)("i",S9e))])]),(0,r.Lk)("th",null,[a[10]||(a[10]=(0,r.eW)(" Service ")),(0,r.Lk)("span",null,["asset_zone_id"==i.meta.keyword&&"asc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",A9e)):"asset_zone_id"==i.meta.keyword&&"desc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",D9e)):((0,r.uX)(),(0,r.CE)("i",T9e))])]),(0,r.Lk)("th",null,[a[11]||(a[11]=(0,r.eW)(" Spare Type ")),(0,r.Lk)("span",null,["spare_type_id"==i.meta.keyword&&"asc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",Q9e)):"spare_type_id"==i.meta.keyword&&"desc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",V9e)):((0,r.uX)(),(0,r.CE)("i",F9e))])]),(0,r.Lk)("th",null,[a[12]||(a[12]=(0,r.eW)(" Spare Code ")),(0,r.Lk)("span",null,["spare_code"==i.meta.keyword&&"asc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",U9e)):"spare_code"==i.meta.keyword&&"desc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",j9e)):((0,r.uX)(),(0,r.CE)("i",z9e))])]),(0,r.Lk)("th",null,[a[13]||(a[13]=(0,r.eW)(" Spare Name ")),(0,r.Lk)("span",null,["spare_name"==i.meta.keyword&&"asc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",W9e)):"spare_name"==i.meta.keyword&&"desc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",R9e)):((0,r.uX)(),(0,r.CE)("i",q9e))])]),(0,r.Lk)("th",null,[a[14]||(a[14]=(0,r.eW)(" Quantity ")),(0,r.Lk)("span",null,["quantity"==i.meta.keyword&&"asc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",I9e)):"quantity"==i.meta.keyword&&"desc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",N9e)):((0,r.uX)(),(0,r.CE)("i",M9e))])])])]),(0,r.Lk)("tbody",null,[0==i.asset_spares?.length?((0,r.uX)(),(0,r.CE)("tr",K9e,a[16]||(a[16]=[(0,r.Lk)("td",{colspan:"7",class:"text-center"},"No records found",-1)]))):(0,r.Q3)("",!0),((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(i.asset_spares,((e,a)=>((0,r.uX)(),(0,r.CE)("tr",{key:a},[(0,r.Lk)("td",J9e,(0,n.v_)((i.meta.page-1)*i.meta.per_page+a+1),1),(0,r.Lk)("td",null,(0,n.v_)(e.asset_zone?.zone_name),1),(0,r.Lk)("td",null,(0,n.v_)(e?.asset_service?.service?.service_name),1),(0,r.Lk)("td",null,(0,n.v_)(e.spare?.spare_type?.spare_type_name),1),(0,r.Lk)("td",null,(0,n.v_)(e.spare?.spare_code),1),(0,r.Lk)("td",null,(0,n.v_)(e.spare?.spare_name),1),(0,r.Lk)("td",null,(0,n.v_)(e.quantity),1)])))),128))])])])])])]),(0,r.Lk)("div",B9e,[(0,r.Lk)("div",O9e,[(0,r.bo)((0,r.Lk)("select",{class:"form-select from-select-sm width-75","onUpdate:modelValue":a[2]||(a[2]=e=>i.meta.per_page=e),onChange:a[3]||(a[3]=e=>o.onPerPageChange("Spares"))},a[17]||(a[17]=[(0,r.Lk)("option",null,"5",-1),(0,r.Lk)("option",null,"10",-1),(0,r.Lk)("option",null,"15",-1),(0,r.Lk)("option",null,"20",-1),(0,r.Lk)("option",null,"25",-1),(0,r.Lk)("option",null,"30",-1)]),544),[[s.u1,i.meta.per_page]]),(0,r.Lk)("span",null,"Showing "+(0,n.v_)(i.meta.from)+" to "+(0,n.v_)(i.meta.to)+" of "+(0,n.v_)(i.meta.totalRows)+" entries",1),(0,r.bF)(d,{maxPage:i.meta.maxPage,totalPages:i.meta.lastPage,currentPage:i.meta.page,onPagechanged:o.onPageChange,from:"Spares"},null,8,["maxPage","totalPages","currentPage","onPagechanged"])])])])])])])])):(0,r.Q3)("",!0)}var Y9e={name:"Geometric",components:{Pagination:md},data(){return{meta:{search:"",order_by:"asc",keyword:"spare_id",per_page:5,totalRows:0,page:1,lastPage:1,from:1,to:1,maxPage:1,trashed:!1,asset_id:""},asset:{asset_id:""},assets:"",meter:null,display_asset_zone:!1,asset_spares:[]}},mounted(){this.meter=this.$store.state.meter,this.meta.asset_id&&this.getAssetSpares()},beforeRouteEnter(e,a,t){t((a=>{let t={uri:"getAssetReview",data:{asset_id:e.params.asset_id}};a.$store.dispatch("post",t).then((function(t){a.assets=t.data.asset,a.meta.asset_id=e.params.asset_id,console.log("assets:----",a.assets),a.getAssetSpares()})).catch((function(e){a.errors=e.response.data.errors,a.$store.dispatch("error",e.response.data.message)}))}))},methods:{showAssetZones(){let e=this;e.display_asset_zone=!e.display_asset_zone},totalQuantity(e){return e.reduce(((e,a)=>e+parseFloat(a.quantity)),0)},spareColorCode(e){console.log("spare:----",e.asset_spare_value);for(let a=0;a<e.asset_spare_value.length;a++)if(e.asset_spare_value[a].field_value.includes("#"))return e.asset_spare_value[a].field_value},getAssetSpares(){let e=this;e.$store.dispatch("post",{uri:"paginateAssetSparesReview",data:this.meta}).then((a=>{e.asset_spares=a.data.paginate_spares,e.spares=a?.data?.spares,e.meta.totalRows=a.data.meta.total,e.meta.from=a.data.meta.from,e.meta.to=a.data.meta.to,e.meta.lastPage=a.data.meta.last_page,e.meta.maxPage=e.meta.lastPage>=3?3:e.meta.lastPage,e.initial_status&&e.getAssetChecks()})).catch((function(a){console.log("errors",a),e.errors=a.response.data.errors,e.$store.dispatch("error",a.response.data.message)}))},onPageChange(e){this.meta.page=e,this.getAssetSpares()},onPerPageChange(){let e=this;e.meta.page=1,e.getAssetSpares()}}};const Z9e=(0,Ze.A)(Y9e,[["render",H9e],["__scopeId","data-v-2ceff14e"]]);var G9e=Z9e;const e7e={key:0,class:"card card-one"},a7e={class:"card-header text-center"},t7e={class:"card-title"},s7e={class:"card-body"},r7e={class:"mb-3"},l7e={class:"col-md-3 mb-4"},i7e={class:"row"},o7e={class:"col-md-12 mb-4 d-flex justify-content-center align-items-center"},d7e={class:"d-flex align-items-center",style:{"margin-bottom":"auto"}},n7e={class:"text-center ms-2"},c7e={class:"d-flex flex-column align-items-center ms-4",style:{"margin-bottom":"auto"}},u7e=["title"],_7e={class:"text-center mt-1"},p7e={key:0,class:"col-md-12 d-flex flex-wrap1 justify-content-center"},m7e={class:"text-center mt-5"},b7e={class:"zone-text",style:{"font-weight":"bold"}},k7e=["title"],v7e={class:"spare-percentage"},h7e={key:2,class:"text-center mt-2"},y7e={class:"row"},g7e={class:"col-12 mt-4"},f7e={class:"card card-one"},L7e={class:"card-body"},C7e={class:"row g-2"},w7e={class:"col-12"},E7e={class:"table-responsive table-responsive-sm"},x7e={class:"table table-sm text-nowrap table-striped table-bordered mb-0"},X7e={class:""},P7e={key:0,class:"ri-arrow-up-line"},$7e={key:1,class:"ri-arrow-down-line"},S7e={key:2,class:"fas fa-sort"},A7e={key:0,class:"ri-arrow-up-line"},D7e={key:1,class:"ri-arrow-down-line"},T7e={key:2,class:"fas fa-sort"},Q7e={key:0,class:"ri-arrow-up-line"},V7e={key:1,class:"ri-arrow-down-line"},F7e={key:2,class:"fas fa-sort"},U7e={key:0,class:"ri-arrow-up-line"},j7e={key:1,class:"ri-arrow-down-line"},z7e={key:2,class:"fas fa-sort"},W7e={key:0,class:"ri-arrow-up-line"},R7e={key:1,class:"ri-arrow-down-line"},q7e={key:2,class:"fas fa-sort"},I7e={key:0,class:"ri-arrow-up-line"},N7e={key:1,class:"ri-arrow-down-line"},M7e={key:2,class:"fas fa-sort"},K7e={key:0},J7e={class:"text-center"},B7e={class:"card-footer"},O7e={class:"d-flex justify-content-between align-items-center"};function H7e(e,a,t,l,i,o){const d=(0,r.g2)("Pagination");return i.assets?((0,r.uX)(),(0,r.CE)("div",e7e,[(0,r.Lk)("div",a7e,[(0,r.Lk)("h6",t7e,(0,n.v_)(i.assets.asset_name),1)]),(0,r.Lk)("div",s7e,[(0,r.Lk)("h6",r7e,[a[4]||(a[4]=(0,r.Lk)("span",{class:"text-primary"},"Note:",-1)),(0,r.eW)(" 1 meter = "+(0,n.v_)(i.h_meter)+"px",1)]),(0,r.Lk)("div",l7e,[(0,r.bo)((0,r.Lk)("input",{class:"form-control",type:"number","onUpdate:modelValue":a[0]||(a[0]=e=>i.h_meter=e)},null,512),[[s.Jo,i.h_meter]])]),(0,r.Lk)("div",i7e,[(0,r.Lk)("div",o7e,[(0,r.Lk)("div",d7e,[(0,r.Lk)("h6",n7e,(0,n.v_)(Number(i.assets.diameter))+" (m)",1),(0,r.Lk)("div",{class:"dimensions-y",style:(0,n.Tr)(`height:${Math.min(Number(i.assets.diameter*i.h_meter),400)}px;`)},a[5]||(a[5]=[(0,r.Lk)("span",{class:"arrow-top"},null,-1),(0,r.Lk)("span",{class:"arrow-bottom"},null,-1)]),4)]),(0,r.Lk)("div",c7e,[(0,r.Lk)("div",{title:i.assets.asset_name,style:(0,n.Tr)(`height:${Number(i.assets.diameter*i.h_meter)}px; width:${Number(i.assets.height*i.h_meter)}px; border:2px solid gray`),onClick:a[1]||(a[1]=e=>o.showAssetZones())},null,12,u7e),(0,r.Lk)("div",{class:"dimensions-x mb-3",style:(0,n.Tr)(`width: ${Number(i.assets.height*i.h_meter)}px; margin-top: 10px;`)},a[6]||(a[6]=[(0,r.Lk)("span",{class:"arrow-left"},null,-1),(0,r.Lk)("span",{class:"arrow-right"},null,-1)]),4),(0,r.Lk)("h6",_7e,(0,n.v_)(Number(i.assets.height))+" (m)",1)])]),a[11]||(a[11]=(0,r.Lk)("br",null,null,-1)),a[12]||(a[12]=(0,r.Lk)("hr",{style:{border:"none",height:"1px","background-color":"white"}},null,-1)),a[13]||(a[13]=(0,r.Lk)("hr",{style:{border:"none",height:"1px","background-color":"white"}},null,-1)),a[14]||(a[14]=(0,r.Lk)("br",null,null,-1)),i.display_asset_zone?((0,r.uX)(),(0,r.CE)("div",p7e,[(0,r.Lk)("h6",m7e,(0,n.v_)(Number(i.assets.diameter))+" (m)",1),(0,r.Lk)("div",{class:"dimensions-y mt-1",style:(0,n.Tr)(`height:${Number(i.assets.diameter*i.h_meter)}px;`)},a[7]||(a[7]=[(0,r.Lk)("span",{class:"arrow-top"},null,-1),(0,r.Lk)("span",{class:"arrow-bottom"},null,-1)]),4),a[9]||(a[9]=(0,r.eW)(" Â Â Â Â  ")),((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(i.assets.zone_name,((e,t)=>((0,r.uX)(),(0,r.CE)("div",{key:t,class:"zone-container d-flex flex-row",style:(0,n.Tr)(`width:${Number(e.height*i.h_meter)}px; height:${Number(i.assets.diameter*i.h_meter)}px; position: relative; border-top: 1px solid gray;`)},[(0,r.Lk)("div",{class:"zone-name-container",style:(0,n.Tr)(`width:${Number(e.height*i.h_meter)}px;`)},[(0,r.Lk)("span",b7e,(0,n.v_)(e.zone_name),1),(0,r.Lk)("span",null," Â ("+(0,n.v_)(Number(e.height))+" m )",1),(0,r.Lk)("div",{class:"dimensions-x mb-1",style:(0,n.Tr)(`width: ${Number(e.height*i.h_meter)}px; margin-top: 10px;`)},a[8]||(a[8]=[(0,r.Lk)("span",{class:"arrow-left"},null,-1),(0,r.Lk)("span",{class:"arrow-right"},null,-1)]),4)],4),((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(e.asset_spares,((a,t)=>((0,r.uX)(),(0,r.CE)("div",{key:t,class:"spare-container",style:(0,n.Tr)({width:`${parseFloat(a.quantity/o.totalQuantity(e.asset_spares)*e.height*i.h_meter)}px`,height:`${Number(i.assets.diameter*i.h_meter)}px`,position:"relative"}),title:`${a?.spare?.spare_name} :: (${a.quantity}) :: (${a.asset_service.service.service_name})`},[(0,r.Lk)("div",{style:(0,n.Tr)({height:Number(i.assets.diameter*i.h_meter)/7+"px",width:"100%",backgroundColor:o.spareColorCode(a),position:"absolute",top:"0"})},null,4),(0,r.Lk)("div",{style:(0,n.Tr)({height:Number(i.assets.diameter*i.h_meter)/7+"px",width:"100%",backgroundColor:"white",position:"absolute",top:Number(i.assets.diameter*i.h_meter)/7+"px"})},null,4),(0,r.Lk)("div",{style:(0,n.Tr)({height:Number(i.assets.diameter*i.h_meter)/7+"px",width:"100%",backgroundColor:o.spareColorCode(a),position:"absolute",bottom:"0"})},null,4),(0,r.Lk)("div",v7e,(0,n.v_)((100*parseFloat(a.quantity/o.totalQuantity(e.asset_spares))).toFixed(2))+" % ",1)],12,k7e)))),128))],4)))),128))])):(0,r.Q3)("",!0),a[15]||(a[15]=(0,r.eW)(" Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â  ")),i.display_asset_zone?((0,r.uX)(),(0,r.CE)("div",{key:1,class:"dimensions-x mb-3",style:(0,n.Tr)(`width: ${Number(i.assets.height*i.h_meter)}px; margin-top: 10px;`)},a[10]||(a[10]=[(0,r.Lk)("span",{class:"arrow-left"},null,-1),(0,r.Lk)("span",{class:"arrow-right"},null,-1)]),4)):(0,r.Q3)("",!0),i.display_asset_zone?((0,r.uX)(),(0,r.CE)("h6",h7e,(0,n.v_)(Number(i.assets.height))+" (m)",1)):(0,r.Q3)("",!0)]),(0,r.Lk)("div",y7e,[(0,r.Lk)("div",g7e,[(0,r.Lk)("div",f7e,[a[25]||(a[25]=(0,r.Lk)("div",{class:"card-header d-flex justify-content-between"},[(0,r.Lk)("h6",{class:"card-title"},"Spares")],-1)),(0,r.Lk)("div",L7e,[(0,r.Lk)("div",C7e,[(0,r.Lk)("div",w7e,[(0,r.Lk)("div",E7e,[(0,r.Lk)("table",x7e,[(0,r.Lk)("thead",null,[(0,r.Lk)("tr",X7e,[a[22]||(a[22]=(0,r.Lk)("th",{class:"text-center"},"#",-1)),(0,r.Lk)("th",null,[a[16]||(a[16]=(0,r.eW)(" Asset Zone ")),(0,r.Lk)("span",null,["asset_zone_id"==i.meta.keyword&&"asc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",P7e)):"asset_zone_id"==i.meta.keyword&&"desc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",$7e)):((0,r.uX)(),(0,r.CE)("i",S7e))])]),(0,r.Lk)("th",null,[a[17]||(a[17]=(0,r.eW)(" Service ")),(0,r.Lk)("span",null,["asset_zone_id"==i.meta.keyword&&"asc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",A7e)):"asset_zone_id"==i.meta.keyword&&"desc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",D7e)):((0,r.uX)(),(0,r.CE)("i",T7e))])]),(0,r.Lk)("th",null,[a[18]||(a[18]=(0,r.eW)(" Spare Type ")),(0,r.Lk)("span",null,["spare_type_id"==i.meta.keyword&&"asc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",Q7e)):"spare_type_id"==i.meta.keyword&&"desc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",V7e)):((0,r.uX)(),(0,r.CE)("i",F7e))])]),(0,r.Lk)("th",null,[a[19]||(a[19]=(0,r.eW)(" Spare Code ")),(0,r.Lk)("span",null,["spare_code"==i.meta.keyword&&"asc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",U7e)):"spare_code"==i.meta.keyword&&"desc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",j7e)):((0,r.uX)(),(0,r.CE)("i",z7e))])]),(0,r.Lk)("th",null,[a[20]||(a[20]=(0,r.eW)(" Spare Name ")),(0,r.Lk)("span",null,["spare_name"==i.meta.keyword&&"asc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",W7e)):"spare_name"==i.meta.keyword&&"desc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",R7e)):((0,r.uX)(),(0,r.CE)("i",q7e))])]),(0,r.Lk)("th",null,[a[21]||(a[21]=(0,r.eW)(" Quantity ")),(0,r.Lk)("span",null,["quantity"==i.meta.keyword&&"asc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",I7e)):"quantity"==i.meta.keyword&&"desc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",N7e)):((0,r.uX)(),(0,r.CE)("i",M7e))])])])]),(0,r.Lk)("tbody",null,[0==i.asset_spares?.length?((0,r.uX)(),(0,r.CE)("tr",K7e,a[23]||(a[23]=[(0,r.Lk)("td",{colspan:"7",class:"text-center"},"No records found",-1)]))):(0,r.Q3)("",!0),((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(i.asset_spares,((e,a)=>((0,r.uX)(),(0,r.CE)("tr",{key:a},[(0,r.Lk)("td",J7e,(0,n.v_)((i.meta.page-1)*i.meta.per_page+a+1),1),(0,r.Lk)("td",null,(0,n.v_)(e.asset_zone?.zone_name),1),(0,r.Lk)("td",null,(0,n.v_)(e?.asset_service?.service?.service_name),1),(0,r.Lk)("td",null,(0,n.v_)(e.spare?.spare_type?.spare_type_name),1),(0,r.Lk)("td",null,(0,n.v_)(e.spare?.spare_code),1),(0,r.Lk)("td",null,(0,n.v_)(e.spare?.spare_name),1),(0,r.Lk)("td",null,(0,n.v_)(e.quantity),1)])))),128))])])])])])]),(0,r.Lk)("div",B7e,[(0,r.Lk)("div",O7e,[(0,r.bo)((0,r.Lk)("select",{class:"form-select from-select-sm width-75","onUpdate:modelValue":a[2]||(a[2]=e=>i.meta.per_page=e),onChange:a[3]||(a[3]=e=>o.onPerPageChange("Spares"))},a[24]||(a[24]=[(0,r.Lk)("option",null,"5",-1),(0,r.Lk)("option",null,"10",-1),(0,r.Lk)("option",null,"15",-1),(0,r.Lk)("option",null,"20",-1),(0,r.Lk)("option",null,"25",-1),(0,r.Lk)("option",null,"30",-1)]),544),[[s.u1,i.meta.per_page]]),(0,r.Lk)("span",null,"Showing "+(0,n.v_)(i.meta.from)+" to "+(0,n.v_)(i.meta.to)+" of "+(0,n.v_)(i.meta.totalRows)+" entries",1),(0,r.bF)(d,{maxPage:i.meta.maxPage,totalPages:i.meta.lastPage,currentPage:i.meta.page,onPagechanged:o.onPageChange,from:"Spares"},null,8,["maxPage","totalPages","currentPage","onPagechanged"])])])])])])])])):(0,r.Q3)("",!0)}var Y7e={name:"Geometric",components:{Pagination:md},data(){return{meta:{search:"",order_by:"asc",keyword:"spare_id",per_page:5,totalRows:0,page:1,lastPage:1,from:1,to:1,maxPage:1,trashed:!1,asset_id:""},asset:{asset_id:""},assets:"",h_meter:null,display_asset_zone:!1,asset_spares:[]}},mounted(){this.h_meter=this.$store.state.h_meter,this.meta.asset_id&&this.getAssetSpares()},beforeRouteEnter(e,a,t){t((a=>{let t={uri:"getAssetReview",data:{asset_id:e.params.asset_id}};a.$store.dispatch("post",t).then((function(t){a.assets=t.data.asset,a.meta.asset_id=e.params.asset_id,a.getAssetSpares()})).catch((function(e){a.errors=e.response.data.errors,a.$store.dispatch("error",e.response.data.message)}))}))},methods:{showAssetZones(){this.display_asset_zone=!this.display_asset_zone},totalQuantity(e){return e.reduce(((e,a)=>e+parseFloat(a.quantity)),0)},spareColorCode(e){for(let a=0;a<e.asset_spare_value.length;a++)if(e.asset_spare_value[a].field_value.includes("#"))return e.asset_spare_value[a].field_value},getAssetSpares(){let e=this;e.$store.dispatch("post",{uri:"paginateAssetSparesReview",data:this.meta}).then((a=>{e.asset_spares=a.data.paginate_spares,e.spares=a?.data?.spares,e.meta.totalRows=a.data.meta.total,e.meta.from=a.data.meta.from,e.meta.to=a.data.meta.to,e.meta.lastPage=a.data.meta.last_page,e.meta.maxPage=e.meta.lastPage>=3?3:e.meta.lastPage,e.initial_status&&e.getAssetChecks()})).catch((function(a){console.log("errors",a),e.errors=a.response.data.errors,e.$store.dispatch("error",a.response.data.message)}))},onPageChange(e){this.meta.page=e,this.getAssetSpares()},onPerPageChange(){let e=this;e.meta.page=1,e.getAssetSpares()}}};const Z7e=(0,Ze.A)(Y7e,[["render",H7e],["__scopeId","data-v-0e5cab42"]]);var G7e=Z7e;const eea={class:""},aea={class:"d-sm-flex align-items-center justify-content-between mb-2"},tea={class:"breadcrumb fs-sm mb-1"},sea={class:"breadcrumb-item","aria-current":"page"},rea={class:"row"},lea={class:"col-12"},iea={class:"card card-one"},oea={class:"card-body"},dea={class:"row mb-3"},nea={class:"col-md-3 mb-2"},cea={key:0},uea={class:"text-danger"},_ea={class:"col-md-3 mb-2"},pea={key:0},mea={class:"text-danger"},bea={key:0,class:"col-md-3 mb-2"},kea={key:0},vea={class:"text-danger"},hea={key:1,class:"col-md-3 mb-2"},yea={key:0},gea={class:"text-danger"},fea={class:"col-md-3 mb-2"},Lea={class:"col-md-3"},Cea={class:"col-md-3"},wea=["disabled"],Eea={key:0},xea={class:"text-danger"},Xea={class:"col-md-3"},Pea=["disabled"],$ea={key:0},Sea={class:"text-danger"},Aea={class:"col-md-3 my-auto mb-0"},Dea={key:0},Tea={key:3,class:"text-center text-muted py-4"};function Qea(e,a,t,l,i,o){const d=(0,r.g2)("router-link"),c=(0,r.g2)("MultiSelect"),u=(0,r.g2)("search"),_=(0,r.g2)("SingleAssetChart"),p=(0,r.g2)("MultipleAssetChart");return(0,r.uX)(),(0,r.CE)("div",eea,[(0,r.Lk)("div",aea,[(0,r.Lk)("div",null,[(0,r.Lk)("ol",tea,[(0,r.Lk)("li",sea,[(0,r.bF)(d,{to:"/dashboard"},{default:(0,r.k6)((()=>a[11]||(a[11]=[(0,r.eW)("Dashboard")]))),_:1})]),a[12]||(a[12]=(0,r.Lk)("li",{class:"breadcrumb-item"},[(0,r.Lk)("a",{href:"javascript:void(0)"},"Review")],-1)),a[13]||(a[13]=(0,r.Lk)("li",{class:"breadcrumb-item active","aria-current":"page"},"Process Trends",-1))]),a[14]||(a[14]=(0,r.Lk)("h4",{class:"main-title mb-0"},"Process Trends",-1))])]),(0,r.Lk)("div",rea,[(0,r.Lk)("div",lea,[(0,r.Lk)("div",iea,[a[27]||(a[27]=(0,r.Lk)("div",{class:"card-header d-flex justify-content-between"},[(0,r.Lk)("h6",{class:"card-title"},"Process Trends")],-1)),(0,r.Lk)("div",oea,[(0,r.Lk)("div",dea,[(0,r.Lk)("div",nea,[a[15]||(a[15]=(0,r.Lk)("label",null,"Assets",-1)),(0,r.bF)(c,{modelValue:i.process_trend.asset_id,"onUpdate:modelValue":a[0]||(a[0]=e=>i.process_trend.asset_id=e),filter:"",options:i.assets,optionLabel:"asset_name",optionValue:"asset_id",placeholder:"Select Assets",maxSelectedLabels:3,class:(0,n.C4)({"p-invalid":i.errors?.asset_id}),style:{width:"100%",height:"37px"}},null,8,["modelValue","options","class"]),i.errors?.asset_id?((0,r.uX)(),(0,r.CE)("span",cea,[(0,r.Lk)("small",uea,(0,n.v_)(i.errors.asset_id[0]),1)])):(0,r.Q3)("",!0)]),(0,r.Lk)("div",_ea,[a[16]||(a[16]=(0,r.Lk)("label",null,"Asset Zones",-1)),(0,r.bo)((0,r.Lk)("input",{type:"text",disabled:"",class:"form-control","onUpdate:modelValue":a[1]||(a[1]=e=>i.process_trend.asset_zone_id=e)},null,512),[[s.Jo,i.process_trend.asset_zone_id]]),i.errors?.asset_zone_id?((0,r.uX)(),(0,r.CE)("span",pea,[(0,r.Lk)("small",mea,(0,n.v_)(i.errors.asset_zone_id[0]),1)])):(0,r.Q3)("",!0)]),o.isSingleAsset?((0,r.uX)(),(0,r.CE)("div",bea,[a[17]||(a[17]=(0,r.Lk)("label",null,"Variables",-1)),(0,r.bF)(c,{modelValue:i.process_trend.variable_id,"onUpdate:modelValue":a[2]||(a[2]=e=>i.process_trend.variable_id=e),filter:"",options:i.variables,optionLabel:"variable_name",optionValue:"variable_id",placeholder:"Select Variables",maxSelectedLabels:3,style:(0,n.Tr)([{width:"100%",height:"37px"},i.errors?.variable_id?e.error_style:""]),class:(0,n.C4)({"is-invalid":i.errors?.variable_id})},null,8,["modelValue","options","style","class"]),i.errors?.variable_id?((0,r.uX)(),(0,r.CE)("span",kea,[(0,r.Lk)("small",vea,(0,n.v_)(i.errors.variable_id[0]),1)])):(0,r.Q3)("",!0)])):((0,r.uX)(),(0,r.CE)("div",hea,[a[18]||(a[18]=(0,r.Lk)("label",null,"Variables",-1)),(0,r.bF)(u,{class:(0,n.C4)({"is-invalid":i.errors?.variable_id}),customClass:{"is-invalid":i.errors?.variable_id},initialize:i.process_trend.variable_id,id:"variable_id",label:"variable_name",placeholder:"Select Variable",data:i.variables,onInput:a[3]||(a[3]=e=>i.process_trend.variable_id=e),disabled:!i.process_trend.asset_zone_id},null,8,["class","customClass","initialize","data","disabled"]),i.errors?.variable_id?((0,r.uX)(),(0,r.CE)("span",yea,[(0,r.Lk)("small",gea,(0,n.v_)(i.errors.variable_id[0]),1)])):(0,r.Q3)("",!0)])),(0,r.Lk)("div",fea,[a[20]||(a[20]=(0,r.Lk)("label",null,"Record",-1)),(0,r.bo)((0,r.Lk)("select",{class:"form-control","onUpdate:modelValue":a[4]||(a[4]=e=>i.process_trend.last_record=e)},a[19]||(a[19]=[(0,r.Fv)('<option value="">Select Record</option><option value="10">Last 10 Records</option><option value="50">Last 50 Records</option><option value="100">Last 100 Records</option><option value="last_compaign">Last Compaign</option><option value="last_patching">Last Patching</option>',6)]),512),[[s.u1,i.process_trend.last_record]])]),i.process_trend.last_record?(0,r.Q3)("",!0):((0,r.uX)(),(0,r.CE)(r.FK,{key:2},[(0,r.Lk)("div",Lea,[a[22]||(a[22]=(0,r.Lk)("label",null,"Time Period",-1)),(0,r.bo)((0,r.Lk)("select",{class:"form-control","onUpdate:modelValue":a[5]||(a[5]=e=>i.selectedTimePeriod=e),onChange:a[6]||(a[6]=(...e)=>o.handleTimePeriodChange&&o.handleTimePeriodChange(...e))},a[21]||(a[21]=[(0,r.Fv)('<option value="8_hours">8 Hours</option><option value="24_hours">24 Hours</option><option value="7_days">7 Days</option><option value="1_month">1 Month</option><option value="1_year">1 Year</option><option value="custom">Custom</option>',6)]),544),[[s.u1,i.selectedTimePeriod]])]),(0,r.Lk)("div",Cea,[a[23]||(a[23]=(0,r.Lk)("label",null,"From",-1)),(0,r.bo)((0,r.Lk)("input",{type:"datetime-local",class:(0,n.C4)(["form-control",{"is-invalid":i.errors?.from_date}]),"onUpdate:modelValue":a[7]||(a[7]=e=>i.process_trend.from_date=e),disabled:"custom"!==i.selectedTimePeriod},null,10,wea),[[s.Jo,i.process_trend.from_date]]),i.errors?.from_date?((0,r.uX)(),(0,r.CE)("span",Eea,[(0,r.Lk)("small",xea,(0,n.v_)(i.errors.from_date[0]),1)])):(0,r.Q3)("",!0)]),(0,r.Lk)("div",Xea,[a[24]||(a[24]=(0,r.Lk)("label",null,"To",-1)),(0,r.bo)((0,r.Lk)("input",{type:"datetime-local",class:(0,n.C4)(["form-control",{"is-invalid":i.errors?.to_date}]),"onUpdate:modelValue":a[8]||(a[8]=e=>i.process_trend.to_date=e),disabled:"custom"!==i.selectedTimePeriod},null,10,Pea),[[s.Jo,i.process_trend.to_date]]),i.errors?.to_date?((0,r.uX)(),(0,r.CE)("span",$ea,[(0,r.Lk)("small",Sea,(0,n.v_)(i.errors.to_date[0]),1)])):(0,r.Q3)("",!0)])],64)),(0,r.Lk)("div",Aea,[o.isSingleAsset?((0,r.uX)(),(0,r.CE)("button",{key:0,class:"btn btn-primary",onClick:a[9]||(a[9]=(...e)=>o.search&&o.search(...e))},"View")):((0,r.uX)(),(0,r.CE)("button",{key:1,class:"btn btn-primary",onClick:a[10]||(a[10]=(...e)=>o.searchMultiple&&o.searchMultiple(...e))},"View"))])]),a[26]||(a[26]=(0,r.Lk)("hr",null,null,-1)),i.hasSearched?((0,r.uX)(),(0,r.CE)("div",Dea,[o.isSingleAsset&&i.hasChartData&&1===i.process_trend.variable_id?.length?((0,r.uX)(),(0,r.Wv)(_,{key:0,seriesData:i.chartData,lcl:i.lcl,ucl:i.ucl},null,8,["seriesData","lcl","ucl"])):o.isSingleAsset&&i.hasChartData?((0,r.uX)(),(0,r.Wv)(_,{key:1,seriesData:i.chartData},null,8,["seriesData"])):!o.isSingleAsset&&i.hasChartData?((0,r.uX)(),(0,r.Wv)(p,{key:2,seriesData:i.chartData},null,8,["seriesData"])):((0,r.uX)(),(0,r.CE)("div",Tea,a[25]||(a[25]=[(0,r.Lk)("i",{class:"pi pi-info-circle",style:{"font-size":"2rem"}},null,-1),(0,r.Lk)("p",{class:"mb-0 mt-2 fw-bold text-danger"},"No records found",-1)])))])):(0,r.Q3)("",!0)])])])])])}var Vea=t(362),Fea=t.n(Vea);const Uea={key:0,id:"trendChartContainer",style:{height:"400px","margin-top":"30px"}};function jea(e,a,t,s,l,i){return i.hasChartData?((0,r.uX)(),(0,r.CE)("div",Uea)):(0,r.Q3)("",!0)}var zea=t(4115),Wea=t.n(zea),Rea=t(5144),qea=t.n(Rea),Iea=t(233),Nea=t.n(Iea),Mea=t(101),Kea=t.n(Mea);Wea()(Fea()),qea()(Fea()),Nea()(Fea()),Kea()(Fea());var Jea={data(){return{selectedDates:new Set}},props:{seriesData:{type:Array,required:!0}},computed:{hasChartData(){return this.seriesData.length>0}},watch:{seriesData:{handler(e){e.length&&this.$nextTick((()=>{this.renderChart(e)}))},deep:!0,immediate:!0}},methods:{renderChart(e){this.chart&&this.chart.destroy();const a=new Set;e.forEach((e=>{e.data.forEach((e=>{a.add(sG().utc(e.x).format("YYYY-MM-DD HH:mm:ss"))}))}));const t=[...new Set(e.map((e=>e.name)))],s=Fea().getOptions().colors,r={};t.forEach(((e,a)=>{r[e]=s[a%s.length]}));const l=t.map(((e,a)=>({title:{text:e,style:{color:r[e]}},labels:{style:{color:r[e]}},opposite:a%2===1})));this.chart=Fea().chart("trendChartContainer",{chart:{type:"line"},title:{text:"Job Date Vs Value"},xAxis:{type:"linear",title:{text:"Index"},labels:{rotation:0,formatter:function(){return`<b>${this.value}</b>`}}},yAxis:l,tooltip:{useHTML:!0,formatter:function(){const e=this.y,a=this.point.job_date;return`\n                                <b>${this.series.name}</b><br/>\n                                <b>Index:</b> ${this.x}<br/>\n                                <b>Date:</b> ${sG().utc(a).format("YYYY-MM-DD HH:mm:ss")}<br/>\n                                <b>Value:</b> ${e}\n                            `}},series:e.map((e=>({date:e.x,name:e.name,yAxis:t.indexOf(e.name),color:r[e.name],data:e.data.map(((e,a)=>({x:a,y:parseFloat(e.y),job_date:e.x})))}))),exporting:{enabled:!0,buttons:{contextButton:{menuItems:["viewFullscreen","printChart","separator","downloadPNG","downloadJPEG","downloadPDF","downloadSVG","separator","downloadCSV","downloadXLS"]}}}})}}};const Bea=(0,Ze.A)(Jea,[["render",jea]]);var Oea=Bea;const Hea={key:0,id:"trendChartContainer",style:{height:"400px","margin-top":"30px"}};function Yea(e,a,t,s,l,i){return i.hasChartData?((0,r.uX)(),(0,r.CE)("div",Hea)):(0,r.Q3)("",!0)}Wea()(Fea()),qea()(Fea()),Nea()(Fea()),Kea()(Fea());var Zea={data(){return{selectedDates:new Set}},props:{seriesData:{type:Array,required:!0},lcl:{type:Number,required:!1},ucl:{type:Number,required:!1}},computed:{hasChartData(){return console.log("seriesData",this.seriesData),this.seriesData.length>0}},watch:{seriesData:{handler(e){e.length&&this.$nextTick((()=>{this.renderChart(e)}))},deep:!0,immediate:!0}},methods:{renderChart(e){this.chart&&this.chart.destroy();const a=this.lcl,t=this.ucl;console.log("lcl----",a),console.log("ucl----",t);const s=new Set;e.forEach((e=>{e.data.forEach((e=>{s.add(sG().utc(e.x).format("YYYY-MM-DD HH:mm:ss"))}))}));const r=[...s].sort(((e,a)=>sG()(e,"YYYY-MM-DD HH:mm:ss")-sG()(a,"YYYY-MM-DD HH:mm:ss"))),l={};r.forEach(((e,a)=>{l[e]=a}));const i=[...new Set(e.map((e=>e.name)))],o=Fea().getOptions().colors,d={};i.forEach(((e,a)=>{d[e]=o[a%o.length]}));const n=i.map(((e,a)=>({title:{text:e,style:{color:d[e]}},labels:{style:{color:d[e]}},opposite:a%2===1}))),c=[];void 0!==a&&c.push({name:"LCL",type:"line",dashStyle:"Dot",color:"red",yAxis:0,data:r.map(((e,t)=>[t,a])),marker:{enabled:!1}}),void 0!==t&&c.push({name:"UCL",type:"line",dashStyle:"Dot",color:"red",yAxis:0,data:r.map(((e,a)=>[a,t])),marker:{enabled:!1}});const u=new Set;e.forEach((e=>{e.data.forEach((e=>{if(e&&e.spares&&e.spares.length>0){const a=sG().utc(e.x).format("YYYY-MM-DD HH:mm");u.add(a)}}))})),this.chart=Fea().chart("trendChartContainer",{chart:{type:"line"},title:{text:"Job Date Vs Value"},xAxis:{type:"category",categories:r.map((e=>sG().utc(e,"YYYY-MM-DD HH:mm:ss").format("DD / M / YYYY HH:mm"))),title:{text:""},labels:{rotation:90,useHTML:!0,formatter:function(){return`<b>${this.value}</b>`}}},yAxis:n,tooltip:{useHTML:!0,formatter:function(){return`\n                    <b>${this.series.name}</b><br/>\n                    <b>Date:</b> ${this.x}<br/>\n                    <b>Value:</b> ${this.y}`}},series:[...e.map((e=>({name:e.name,yAxis:i.indexOf(e.name),color:d[e.name],data:e.data.map((e=>{const a=isNaN(e.y)?0:parseFloat(e.y),t=l[sG().utc(e.x).format("YYYY-MM-DD HH:mm:ss")],s=void 0!==this.lcl&&a<this.lcl||void 0!==this.ucl&&a>this.ucl;return{x:t,y:a,marker:s?{enabled:!0,fillColor:"red",radius:5,symbol:"circle"}:{},original:e.spares||{}}}))}))),...c],exporting:{enabled:!0,buttons:{contextButton:{menuItems:["viewFullscreen","printChart","separator","downloadPNG","downloadJPEG","downloadPDF","downloadSVG","separator","downloadCSV","downloadXLS"]}}}}),r.forEach(((e,a)=>{const t=sG().utc(e,"YYYY-MM-DD HH:mm:ss").format("YYYY-MM-DD HH:mm");if(u.has(t)){const e=this.chart.xAxis[0].toPixels(a),t=this.chart.chartHeight-this.chart.marginBottom+5;this.chart.renderer.text("â",e-8,t).attr({zIndex:5,fill:"gold"}).css({fontSize:"25px"}).add()}}))}}};const Gea=(0,Ze.A)(Zea,[["render",Yea]]);var eaa=Gea,aaa={components:{MultiSelect:Ru.A,MultipleAssetChart:Oea,SingleAssetChart:eaa,Search:It.A},data(){return{assets:[],asset_zones:[],variables:[],process_trend:{asset_id:[],asset_zone_id:"Overall",variable_id:[],from_date:null,to_date:null,last_record:""},selectedTimePeriod:"custom",hasChartData:!1,chartData:[],errors:{},hasSearched:!1,lcl:0,ucl:0}},computed:{isSingleAsset(){return 1===this.process_trend.asset_id.length}},watch:{"process_trend.asset_id":{handler(e){setTimeout((()=>{1===e.length?Array.isArray(this.process_trend.variable_id)||(this.process_trend.variable_id=this.process_trend.variable_id?[this.process_trend.variable_id]:[]):Array.isArray(this.process_trend.variable_id)&&(this.process_trend.variable_id=this.process_trend.variable_id[0]||"")}),50)},immediate:!0}},mounted(){this.getAssets()},methods:{getAssets(){let e=this,a=e.$loading.show();e.$store.dispatch("post",{uri:"getAssets"}).then((t=>{a.hide(),e.assets=t.data.data,e.getVariables()})).catch((function(t){a.hide(),e.errors=t.response.data.errors,e.$store.dispatch("error",t.response.data.message)}))},onAssetChange(){this.getAssetZones(),this.process_trend.variable_id=[]},getAssetZones(){let e=this,a=e.$loading.show();e.$store.dispatch("post",{uri:"getAssetZones",data:e.process_trend}).then((t=>{a.hide(),e.asset_zones=t.data.data})).catch((function(t){a.hide(),e.errors=t.response?.data?.errors||[],e.$store.dispatch("error",t.response?.data?.message||"An error occurred")}))},getVariables(){let e=this,a=e.$loading.show();e.$store.dispatch("post",{uri:"getZoneUserVariables",data:e.process_trend}).then((t=>{a.hide(),e.variables=t.data.data})).catch((function(t){a.hide(),e.errors=t.response?.data?.errors||[],e.$store.dispatch("error",t.response?.data?.message||"An error occurred")}))},search(){this.errors={};const e={...this.process_trend,variable_id:Array.isArray(this.process_trend.variable_id)?this.process_trend.variable_id:[this.process_trend.variable_id]};let a=this,t=a.$loading.show();a.$store.dispatch("post",{uri:"getProcessTrendValues",data:e}).then((e=>{t.hide();const s=e.data,r={};s.forEach((e=>{a.lcl=parseInt(e?.lcl,10),a.ucl=parseInt(e?.ucl,10),e.trend_values.forEach((a=>{const t=`${a.asset_name} - ${e.variable.variable_name}`;r[t]||(r[t]=[]),r[t].push({x:sG().utc(a.job_date,"YYYY-MM-DD HH:mm:ss").local().valueOf(),y:parseFloat(a.value),variable_name:e.variable.variable_name,spares:a.spares})}))}));const l=Fea().getOptions().colors,i=Object.entries(r).map((([e,a],t)=>({name:e,data:a,color:l[t%l.length]})));a.hasChartData=i.length>0,a.chartData=i,this.hasSearched=!0})).catch((e=>{t.hide(),console.log("Error fetching data: ",e),a.errors=e.response?.data?.errors||[],a.$store.dispatch("error",e.response?.data?.message||"An error occurred")}))},searchMultiple(){this.errors={};const e={...this.process_trend,variable_id:Array.isArray(this.process_trend.variable_id)?this.process_trend.variable_id:[this.process_trend.variable_id]};let a=this,t=a.$loading.show();a.$store.dispatch("post",{uri:"getProcessTrendValueAssets",data:e}).then((e=>{t.hide();const s=e.data,r={};s.forEach((e=>{e.trend_values.forEach((a=>{const t=`${a.asset_name} - ${e.variable.variable_name}`;r[t]||(r[t]=[]),r[t].push({x:a.job_date,y:parseFloat(a.value),variable_name:e.variable.variable_name})}))}));const l=Fea().getOptions().colors,i=Object.entries(r).map((([e,a],t)=>({name:e,data:a,color:l[t%l.length]})));a.hasChartData=i.length>0,a.chartData=i,this.hasSearched=!0})).catch((e=>{t.hide(),console.log("Error fetching data: ",e),a.errors=e.response?.data?.errors||[],a.$store.dispatch("error",e.response?.data?.message||"An error occurred")}))},handleTimePeriodChange(){const e=sG()();if(console.log("selectedTimePeriod",this.selectedTimePeriod),"8_hours"===this.selectedTimePeriod){const a=sG()().subtract(8,"hours");this.process_trend.from_date=a.format("YYYY-MM-DDTHH:mm"),this.process_trend.to_date=e.format("YYYY-MM-DDTHH:mm")}else if("24_hours"===this.selectedTimePeriod){const a=sG()().subtract(24,"hours");this.process_trend.from_date=a.format("YYYY-MM-DDTHH:mm"),this.process_trend.to_date=e.format("YYYY-MM-DDTHH:mm")}else if("7_days"===this.selectedTimePeriod){const a=sG()().subtract(7,"days");this.process_trend.from_date=a.format("YYYY-MM-DDTHH:mm"),this.process_trend.to_date=e.format("YYYY-MM-DDTHH:mm")}else if("1_month"===this.selectedTimePeriod){const a=sG()().subtract(1,"months");this.process_trend.from_date=a.format("YYYY-MM-DDTHH:mm"),this.process_trend.to_date=e.format("YYYY-MM-DDTHH:mm")}else if("1_year"===this.selectedTimePeriod){const e=sG()().subtract(1,"years");this.process_trend.from_date=e.format("YYYY-MM-DDTHH:mm"),this.process_trend.to_date=sG()().format("YYYY-MM-DDTHH:mm")}else"custom"===this.selectedTimePeriod&&(this.process_trend.from_date=null,this.process_trend.to_date=null)}}};const taa=(0,Ze.A)(aaa,[["render",Qea]]);var saa=taa,raa=t(144);const laa={class:""},iaa={class:"row"},oaa={class:"col-12"},daa={class:"card card-one"},naa={class:"card-header d-flex justify-content-between"},caa={class:"card-body"},uaa={class:"row"},_aa={class:"col-3"},paa=["value"],maa={class:"col-3"},baa={class:"col-3"},kaa={class:"col-3"},vaa={class:"table-responsive table-responsive-sm"},haa={class:"table table-sm text-nowrap table-striped table-bordered mb-0"},yaa={style:{"background-color":"#9b9b9b",color:"white"}},gaa={key:0,class:"ri-arrow-up-line"},faa={key:1,class:"ri-arrow-down-line"},Laa={key:2,class:"fas fa-sort"},Caa={key:0,class:"ri-arrow-up-line"},waa={key:1,class:"ri-arrow-down-line"},Eaa={key:2,class:"fas fa-sort"},xaa={key:0,class:"ri-arrow-up-line"},Xaa={key:1,class:"ri-arrow-down-line"},Paa={key:2,class:"fas fa-sort"},$aa={key:0,class:"ri-arrow-up-line"},Saa={key:1,class:"ri-arrow-down-line"},Aaa={key:2,class:"fas fa-sort"},Daa={key:0,class:"ri-arrow-up-line"},Taa={key:1,class:"ri-arrow-down-line"},Qaa={key:2,class:"fas fa-sort"},Vaa={key:0,class:"ri-arrow-up-line"},Faa={key:1,class:"ri-arrow-down-line"},Uaa={key:2,class:"fas fa-sort"},jaa={key:0,class:"ri-arrow-up-line"},zaa={key:1,class:"ri-arrow-down-line"},Waa={key:2,class:"fas fa-sort"},Raa={key:0,class:"ri-arrow-up-line"},qaa={key:1,class:"ri-arrow-down-line"},Iaa={key:2,class:"fas fa-sort"},Naa={key:0,class:"ri-arrow-up-line"},Maa={key:1,class:"ri-arrow-down-line"},Kaa={key:2,class:"fas fa-sort"},Jaa={key:0,class:"ri-arrow-up-line"},Baa={key:1,class:"ri-arrow-down-line"},Oaa={key:2,class:"fas fa-sort"},Haa={key:0,class:"ri-arrow-up-line"},Yaa={key:1,class:"ri-arrow-down-line"},Zaa={key:2,class:"fas fa-sort"},Gaa={key:0,class:"ri-arrow-up-line"},eta={key:1,class:"ri-arrow-down-line"},ata={key:2,class:"fas fa-sort"},tta={key:0,class:"ri-arrow-up-line"},sta={key:1,class:"ri-arrow-down-line"},rta={key:2,class:"fas fa-sort"},lta={key:0,class:"ri-arrow-up-line"},ita={key:1,class:"ri-arrow-down-line"},ota={key:2,class:"fas fa-sort"},dta={key:0,class:"ri-arrow-up-line"},nta={key:1,class:"ri-arrow-down-line"},cta={key:2,class:"fas fa-sort"},uta={key:0,class:"ri-arrow-up-line"},_ta={key:1,class:"ri-arrow-down-line"},pta={key:2,class:"fas fa-sort"},mta={key:0,class:"ri-arrow-up-line"},bta={key:1,class:"ri-arrow-down-line"},kta={key:2,class:"fas fa-sort"},vta={key:0,class:"ri-arrow-up-line"},hta={key:1,class:"ri-arrow-down-line"},yta={key:2,class:"fas fa-sort"},gta={key:0,class:"ri-arrow-up-line"},fta={key:1,class:"ri-arrow-down-line"},Lta={key:2,class:"fas fa-sort"},Cta={key:0,class:"ri-arrow-up-line"},wta={key:1,class:"ri-arrow-down-line"},Eta={key:2,class:"fas fa-sort"},xta={key:0,class:"ri-arrow-up-line"},Xta={key:1,class:"ri-arrow-down-line"},Pta={key:2,class:"fas fa-sort"},$ta={key:0,class:"ri-arrow-up-line"},Sta={key:1,class:"ri-arrow-down-line"},Ata={key:2,class:"fas fa-sort"},Dta={class:"text-center"},Tta={key:0},Qta={class:"card-footer"},Vta={class:"d-flex justify-content-between align-items-center"};function Fta(e,a,t,l,i,o){const d=(0,r.g2)("Pagination");return(0,r.uX)(),(0,r.CE)("div",laa,[(0,r.Lk)("div",iaa,[(0,r.Lk)("div",oaa,[(0,r.Lk)("div",daa,[(0,r.Lk)("div",naa,[a[34]||(a[34]=(0,r.Lk)("h6",{class:"card-title"},"STL PPMS Data",-1)),(0,r.Lk)("button",{class:"btn btn-success btn-sm",onClick:a[0]||(a[0]=(...e)=>o.downloadExcel&&o.downloadExcel(...e))},a[33]||(a[33]=[(0,r.Lk)("i",{class:"ri-download-line"},null,-1),(0,r.eW)(" Download Excel ")]))]),(0,r.Lk)("div",caa,[(0,r.Lk)("div",uaa,[(0,r.Lk)("div",_aa,[(0,r.bo)((0,r.Lk)("select",{class:"form-control form-control-sm mb-2","onUpdate:modelValue":a[1]||(a[1]=e=>i.meta.ladle_number=e),onChange:a[2]||(a[2]=e=>o.search())},[a[35]||(a[35]=(0,r.Lk)("option",{value:""},"Select Ladle No",-1)),((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(i.ladle_numbers,(e=>((0,r.uX)(),(0,r.CE)("option",{key:e,value:e},(0,n.v_)(e),9,paa)))),128))],544),[[s.u1,i.meta.ladle_number]])]),(0,r.Lk)("div",maa,[(0,r.bo)((0,r.Lk)("input",{class:"form-control form-control-sm mb-2",type:"datetime-local",placeholder:"From Date & Time","onUpdate:modelValue":a[3]||(a[3]=e=>i.meta.from_date=e),onChange:a[4]||(a[4]=e=>o.search())},null,544),[[s.Jo,i.meta.from_date]])]),(0,r.Lk)("div",baa,[(0,r.bo)((0,r.Lk)("input",{class:"form-control form-control-sm mb-2",type:"datetime-local",placeholder:"To Date & Time","onUpdate:modelValue":a[5]||(a[5]=e=>i.meta.to_date=e),onChange:a[6]||(a[6]=e=>o.search())},null,544),[[s.Jo,i.meta.to_date]])]),(0,r.Lk)("div",kaa,[(0,r.bo)((0,r.Lk)("input",{class:"form-control form-control-sm mb-2",type:"text",placeholder:"Type keyword and press enter key","onUpdate:modelValue":a[7]||(a[7]=e=>i.meta.search=e),onKeypress:a[8]||(a[8]=(0,s.jR)((e=>o.search()),["enter"]))},null,544),[[s.Jo,i.meta.search]])])]),(0,r.Lk)("div",vaa,[(0,r.Lk)("table",haa,[(0,r.Lk)("thead",null,[(0,r.Lk)("tr",yaa,[a[58]||(a[58]=(0,r.Lk)("th",{class:"text-center"},"#",-1)),(0,r.Lk)("th",{onClick:a[9]||(a[9]=e=>o.sort("ladle_number"))},[a[36]||(a[36]=(0,r.eW)(" Ladle No. ")),(0,r.Lk)("span",null,["ladle_number"==i.meta.keyword&&"asc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",gaa)):"ladle_number"==i.meta.keyword&&"desc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",faa)):((0,r.uX)(),(0,r.CE)("i",Laa))])]),(0,r.Lk)("th",{onClick:a[10]||(a[10]=e=>o.sort("insert_date"))},[a[37]||(a[37]=(0,r.eW)(" Date ")),(0,r.Lk)("span",null,["insert_date"==i.meta.keyword&&"asc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",Caa)):"insert_date"==i.meta.keyword&&"desc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",waa)):((0,r.uX)(),(0,r.CE)("i",Eaa))])]),(0,r.Lk)("th",{onClick:a[11]||(a[11]=e=>o.sort("heat_no"))},[a[38]||(a[38]=(0,r.eW)(" Heat No. ")),(0,r.Lk)("span",null,["heat_no"==i.meta.keyword&&"asc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",xaa)):"heat_no"==i.meta.keyword&&"desc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",Xaa)):((0,r.uX)(),(0,r.CE)("i",Paa))])]),(0,r.Lk)("th",{onClick:a[12]||(a[12]=e=>o.sort("grade"))},[a[39]||(a[39]=(0,r.eW)(" Grade ")),(0,r.Lk)("span",null,["grade"==i.meta.keyword&&"asc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",$aa)):"grade"==i.meta.keyword&&"desc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",Saa)):((0,r.uX)(),(0,r.CE)("i",Aaa))])]),(0,r.Lk)("th",{onClick:a[13]||(a[13]=e=>o.sort("re_treat"))},[a[40]||(a[40]=(0,r.eW)(" Re Treat ")),(0,r.Lk)("span",null,["re_treat"==i.meta.keyword&&"asc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",Daa)):"re_treat"==i.meta.keyword&&"desc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",Taa)):((0,r.uX)(),(0,r.CE)("i",Qaa))])]),(0,r.Lk)("th",{onClick:a[14]||(a[14]=e=>o.sort("holding_time"))},[a[41]||(a[41]=(0,r.eW)(" Holding Time ")),(0,r.Lk)("span",null,["holding_time"==i.meta.keyword&&"asc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",Vaa)):"holding_time"==i.meta.keyword&&"desc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",Faa)):((0,r.uX)(),(0,r.CE)("i",Uaa))])]),(0,r.Lk)("th",{onClick:a[15]||(a[15]=e=>o.sort("processing_time"))},[a[42]||(a[42]=(0,r.eW)(" Processing Time ")),(0,r.Lk)("span",null,["processing_time"==i.meta.keyword&&"asc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",jaa)):"processing_time"==i.meta.keyword&&"desc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",zaa)):((0,r.uX)(),(0,r.CE)("i",Waa))])]),(0,r.Lk)("th",{onClick:a[16]||(a[16]=e=>o.sort("o2_ppm"))},[a[43]||(a[43]=(0,r.eW)(" O2 PPM ")),(0,r.Lk)("span",null,["o2_ppm"==i.meta.keyword&&"asc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",Raa)):"o2_ppm"==i.meta.keyword&&"desc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",qaa)):((0,r.uX)(),(0,r.CE)("i",Iaa))])]),(0,r.Lk)("th",{onClick:a[17]||(a[17]=e=>o.sort("oxygen_after_celoxa"))},[a[44]||(a[44]=(0,r.eW)(" Oxygen After Celoxa ")),(0,r.Lk)("span",null,["oxygen_after_celoxa"==i.meta.keyword&&"asc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",Naa)):"oxygen_after_celoxa"==i.meta.keyword&&"desc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",Maa)):((0,r.uX)(),(0,r.CE)("i",Kaa))])]),(0,r.Lk)("th",{onClick:a[18]||(a[18]=e=>o.sort("heat_size"))},[a[45]||(a[45]=(0,r.eW)(" Heat Size ")),(0,r.Lk)("span",null,["heat_size"==i.meta.keyword&&"asc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",Jaa)):"heat_size"==i.meta.keyword&&"desc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",Baa)):((0,r.uX)(),(0,r.CE)("i",Oaa))])]),(0,r.Lk)("th",{onClick:a[19]||(a[19]=e=>o.sort("al2_addition_bar"))},[a[46]||(a[46]=(0,r.eW)(" Al2 Addition Bar ")),(0,r.Lk)("span",null,["al2_addition_bar"==i.meta.keyword&&"asc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",Haa)):"al2_addition_bar"==i.meta.keyword&&"desc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",Yaa)):((0,r.uX)(),(0,r.CE)("i",Zaa))])]),(0,r.Lk)("th",{onClick:a[20]||(a[20]=e=>o.sort("al2_addition_coil"))},[a[47]||(a[47]=(0,r.eW)(" Al2 Addition Coil ")),(0,r.Lk)("span",null,["al2_addition_coil"==i.meta.keyword&&"asc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",Gaa)):"al2_addition_coil"==i.meta.keyword&&"desc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",eta)):((0,r.uX)(),(0,r.CE)("i",ata))])]),(0,r.Lk)("th",{onClick:a[21]||(a[21]=e=>o.sort("tapping_temperature"))},[a[48]||(a[48]=(0,r.eW)(" Tapping Temperature ")),(0,r.Lk)("span",null,["tapping_temperature"==i.meta.keyword&&"asc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",tta)):"tapping_temperature"==i.meta.keyword&&"desc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",sta)):((0,r.uX)(),(0,r.CE)("i",rta))])]),(0,r.Lk)("th",{onClick:a[22]||(a[22]=e=>o.sort("lf_in_sulphur"))},[a[49]||(a[49]=(0,r.eW)(" Lf In Sulphur ")),(0,r.Lk)("span",null,["lf_in_sulphur"==i.meta.keyword&&"asc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",lta)):"lf_in_sulphur"==i.meta.keyword&&"desc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",ita)):((0,r.uX)(),(0,r.CE)("i",ota))])]),(0,r.Lk)("th",{onClick:a[23]||(a[23]=e=>o.sort("lf_in_temperature"))},[a[50]||(a[50]=(0,r.eW)(" Lf In Temperature ")),(0,r.Lk)("span",null,["lf_in_temperature"==i.meta.keyword&&"asc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",dta)):"lf_in_temperature"==i.meta.keyword&&"desc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",nta)):((0,r.uX)(),(0,r.CE)("i",cta))])]),(0,r.Lk)("th",{onClick:a[24]||(a[24]=e=>o.sort("lime_consumption"))},[a[51]||(a[51]=(0,r.eW)(" Lime Consumption ")),(0,r.Lk)("span",null,["lime_consumption"==i.meta.keyword&&"asc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",uta)):"lime_consumption"==i.meta.keyword&&"desc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",_ta)):((0,r.uX)(),(0,r.CE)("i",pta))])]),(0,r.Lk)("th",{onClick:a[25]||(a[25]=e=>o.sort("tundish_temperature"))},[a[52]||(a[52]=(0,r.eW)(" Tundish Temperature ")),(0,r.Lk)("span",null,["tundish_temperature"==i.meta.keyword&&"asc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",mta)):"tundish_temperature"==i.meta.keyword&&"desc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",bta)):((0,r.uX)(),(0,r.CE)("i",kta))])]),(0,r.Lk)("th",{onClick:a[26]||(a[26]=e=>o.sort("super_heat_avg"))},[a[53]||(a[53]=(0,r.eW)(" Super Heat Avg ")),(0,r.Lk)("span",null,["super_heat_avg"==i.meta.keyword&&"asc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",vta)):"super_heat_avg"==i.meta.keyword&&"desc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",hta)):((0,r.uX)(),(0,r.CE)("i",yta))])]),(0,r.Lk)("th",{onClick:a[27]||(a[27]=e=>o.sort("super_heat_max"))},[a[54]||(a[54]=(0,r.eW)(" Super Heat Max ")),(0,r.Lk)("span",null,["super_heat_max"==i.meta.keyword&&"asc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",gta)):"super_heat_max"==i.meta.keyword&&"desc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",fta)):((0,r.uX)(),(0,r.CE)("i",Lta))])]),(0,r.Lk)("th",{onClick:a[28]||(a[28]=e=>o.sort("lifting_temperature"))},[a[55]||(a[55]=(0,r.eW)(" Lifting Temperature ")),(0,r.Lk)("span",null,["lifting_temperature"==i.meta.keyword&&"asc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",Cta)):"lifting_temperature"==i.meta.keyword&&"desc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",wta)):((0,r.uX)(),(0,r.CE)("i",Eta))])]),(0,r.Lk)("th",{onClick:a[29]||(a[29]=e=>o.sort("lf_slag_report"))},[a[56]||(a[56]=(0,r.eW)(" Lf Slag Report ")),(0,r.Lk)("span",null,["lf_slag_report"==i.meta.keyword&&"asc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",xta)):"lf_slag_report"==i.meta.keyword&&"desc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",Xta)):((0,r.uX)(),(0,r.CE)("i",Pta))])]),(0,r.Lk)("th",{onClick:a[30]||(a[30]=e=>o.sort("created_at"))},[a[57]||(a[57]=(0,r.eW)(" Created At ")),(0,r.Lk)("span",null,["created_at"==i.meta.keyword&&"asc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",$ta)):"created_at"==i.meta.keyword&&"desc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",Sta)):((0,r.uX)(),(0,r.CE)("i",Ata))])])])]),(0,r.Lk)("tbody",null,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(i.ppms_datas,((e,a)=>((0,r.uX)(),(0,r.CE)("tr",{key:a},[(0,r.Lk)("td",Dta,(0,n.v_)(i.meta.from+a),1),(0,r.Lk)("td",null,(0,n.v_)(e?.ladle_number),1),(0,r.Lk)("td",null,(0,n.v_)(e?.insert_date),1),(0,r.Lk)("td",null,(0,n.v_)(e?.heat_no),1),(0,r.Lk)("td",null,(0,n.v_)(e?.grade),1),(0,r.Lk)("td",null,(0,n.v_)(e?.re_treat),1),(0,r.Lk)("td",null,(0,n.v_)(e?.holding_time),1),(0,r.Lk)("td",null,(0,n.v_)(e?.processing_time),1),(0,r.Lk)("td",null,(0,n.v_)(e?.o2_ppm),1),(0,r.Lk)("td",null,(0,n.v_)(e?.oxygen_after_celoxa),1),(0,r.Lk)("td",null,(0,n.v_)(e?.heat_size),1),(0,r.Lk)("td",null,(0,n.v_)(e?.al2_addition_bar),1),(0,r.Lk)("td",null,(0,n.v_)(e?.al2_addition_coil),1),(0,r.Lk)("td",null,(0,n.v_)(e?.tapping_temperature),1),(0,r.Lk)("td",null,(0,n.v_)(e?.lf_in_sulphur),1),(0,r.Lk)("td",null,(0,n.v_)(e?.lf_in_temperature),1),(0,r.Lk)("td",null,(0,n.v_)(e?.lime_consumption),1),(0,r.Lk)("td",null,(0,n.v_)(e?.tundish_temperature),1),(0,r.Lk)("td",null,(0,n.v_)(e?.super_heat_avg),1),(0,r.Lk)("td",null,(0,n.v_)(e?.super_heat_max),1),(0,r.Lk)("td",null,(0,n.v_)(e?.lifting_temperature),1),(0,r.Lk)("td",null,(0,n.v_)(e?.lf_slag_report),1),(0,r.Lk)("td",null,(0,n.v_)(e?.created_at),1)])))),128)),0==i.ppms_datas.length?((0,r.uX)(),(0,r.CE)("tr",Tta,a[59]||(a[59]=[(0,r.Lk)("td",{colspan:"23",class:"text-center"},"No records found",-1)]))):(0,r.Q3)("",!0)])])])]),(0,r.Lk)("div",Qta,[(0,r.Lk)("div",Vta,[(0,r.bo)((0,r.Lk)("select",{class:"form-select form-select-sm width-75","onUpdate:modelValue":a[31]||(a[31]=e=>i.meta.per_page=e),onChange:a[32]||(a[32]=(...e)=>o.onPerPageChange&&o.onPerPageChange(...e))},a[60]||(a[60]=[(0,r.Lk)("option",null,"10",-1),(0,r.Lk)("option",null,"15",-1),(0,r.Lk)("option",null,"20",-1),(0,r.Lk)("option",null,"25",-1),(0,r.Lk)("option",null,"30",-1),(0,r.Lk)("option",null,"200",-1),(0,r.Lk)("option",null,"500",-1)]),544),[[s.u1,i.meta.per_page]]),(0,r.Lk)("span",null,"Showing "+(0,n.v_)(i.meta.from)+" to "+(0,n.v_)(i.meta.to)+" of "+(0,n.v_)(i.meta.totalRows)+" entries",1),(0,r.bF)(d,{maxPage:i.meta.maxPage,totalPages:i.meta.lastPage,currentPage:parseInt(i.meta.page),onPagechanged:o.onPageChange},null,8,["maxPage","totalPages","currentPage","onPagechanged"])])])])])])])}var Uta={components:{Pagination:md},data(){return{meta:{search:"",order_by:"desc",keyword:"ppms_data_id",per_page:25,totalRows:0,page:1,lastPage:1,from:1,to:1,maxPage:1,trashed:!1,ladle_number:"",from_date:"",to_date:""},ppms_datas:[],ladle_numbers:[],errors:[],status:!0}},mounted(){this.index(),this.ppmsLadleNos()},methods:{index(){let e=this,a=e.$loading.show();e.$store.dispatch("post",{uri:"paginatePPMSDatas",data:e.meta}).then((t=>{a.hide(),e.ppms_datas=t.data.data,e.meta.totalRows=t.data.meta.total,e.meta.from=t.data.meta.from,e.meta.to=t.data.meta.to,e.meta.lastPage=t.data.meta.last_page,e.meta.maxPage=e.meta.lastPage>=3?3:e.meta.lastPage})).catch((function(t){a.hide(),e.errors=t.response?.data?.errors,e.$store.dispatch("error",t?.response?.data?.message)}))},ppmsLadleNos(){let e=this,a=e.$loading.show();e.$store.dispatch("post",{uri:"ppmsLadleNos"}).then((t=>{a.hide(),e.ladle_numbers=t.data.data})).catch((function(t){a.hide(),e.errors=t.response?.data?.errors,e.$store.dispatch("error",t?.response?.data?.message)}))},search(){this.meta.page=1,this.index()},onPageChange(e){this.meta.page=e,this.index()},sort(e){this.meta.keyword=e,this.meta.order_by="asc"==this.meta.order_by?"desc":"asc",this.index()},onPerPageChange(){this.meta.page=1,this.index()},downloadExcel(){let e=this,a=e.$loading.show(),t={ladle_number:e.meta.ladle_number,from_date:e.meta.from_date,to_date:e.meta.to_date,search:e.meta.search,order_by:e.meta.order_by,keyword:e.meta.keyword,per_page:1e4,page:1};e.$store.dispatch("post",{uri:"paginatePPMSDatas",data:t}).then((t=>{a.hide();const s=e.createCSVContent(t.data.data),r=new Blob([s],{type:"text/csv;charset=utf-8;"}),l=document.createElement("a"),i=URL.createObjectURL(r);l.setAttribute("href",i);const o=(new Date).toISOString().slice(0,19).replace(/:/g,"-");l.setAttribute("download",`ppms_data_${o}.csv`),l.style.visibility="hidden",document.body.appendChild(l),l.click(),document.body.removeChild(l),e.$store.dispatch("success","Excel file downloaded successfully!")})).catch((function(t){a.hide(),e.$store.dispatch("error",t?.response?.data?.message||"Failed to fetch data for Excel")}))},createCSVContent(e){const a=["Ladle No.","Date","Heat No.","Grade","Re Treat","Holding Time","Processing Time","O2 PPM","Oxygen After Celoxa","Heat Size","Al2 Addition Bar","Al2 Addition Coil","Tapping Temperature","Lf In Sulphur","Lf In Temperature","Lime Consumption","Tundish Temperature","Super Heat Avg","Super Heat Max","Lifting Temperature","Lf Slag Report","Created At"],t=e.map((e=>[e.ladle_number||"",e.insert_date||"",e.heat_no||"",e.grade||"",e.re_treat||"",e.holding_time||"",e.processing_time||"",e.o2_ppm||"",e.oxygen_after_celoxa||"",e.heat_size||"",e.al2_addition_bar||"",e.al2_addition_coil||"",e.tapping_temperature||"",e.lf_in_sulphur||"",e.lf_in_temperature||"",e.lime_consumption||"",e.tundish_temperature||"",e.super_heat_avg||"",e.super_heat_max||"",e.lifting_temperature||"",e.lf_slag_report||"",e.created_at||""])),s=[a,...t].map((e=>e.map((e=>`"${e}"`)).join(","))).join("\n");return s}}};const jta=(0,Ze.A)(Uta,[["render",Fta]]);var zta=jta;const Wta={class:"row"},Rta={class:"col-12"},qta={class:"card card-one"},Ita={class:"card-header d-flex justify-content-between"},Nta={class:"card-body"},Mta={class:"row mb-3"},Kta={class:"col-3"},Jta=["value"],Bta={class:"col-3"},Ota={class:"col-3"},Hta={class:"col-3"},Yta={class:"table-responsive"},Zta={class:"table table-sm table-striped table-bordered text-nowrap"},Gta={style:{"background-color":"#9b9b9b",color:"white"}},esa={class:"text-center"},asa={key:0},tsa={class:"card-footer"},ssa={class:"d-flex justify-content-between align-items-center"};function rsa(e,a,t,l,i,o){const d=(0,r.g2)("sort-icon"),c=(0,r.g2)("Pagination");return(0,r.uX)(),(0,r.CE)("div",null,[(0,r.Lk)("div",Wta,[(0,r.Lk)("div",Rta,[(0,r.Lk)("div",qta,[(0,r.Lk)("div",Ita,[a[22]||(a[22]=(0,r.Lk)("h6",{class:"card-title"},"TLC PPMS Data",-1)),(0,r.Lk)("button",{class:"btn btn-success btn-sm",onClick:a[0]||(a[0]=(...e)=>o.downloadExcel&&o.downloadExcel(...e))},a[21]||(a[21]=[(0,r.Lk)("i",{class:"ri-download-line"},null,-1),(0,r.eW)(" Download Excel ")]))]),(0,r.Lk)("div",Nta,[(0,r.Lk)("div",Mta,[(0,r.Lk)("div",Kta,[(0,r.bo)((0,r.Lk)("select",{class:"form-control form-control-sm","onUpdate:modelValue":a[1]||(a[1]=e=>i.meta.torpedo_no=e),onChange:a[2]||(a[2]=(...e)=>o.search&&o.search(...e))},[a[23]||(a[23]=(0,r.Lk)("option",{disabled:"",value:""},"Select Torpedo No",-1)),a[24]||(a[24]=(0,r.Lk)("option",{value:""},"ALL",-1)),((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(i.torpedo_numbers,(e=>((0,r.uX)(),(0,r.CE)("option",{key:e,value:e},(0,n.v_)(e),9,Jta)))),128))],544),[[s.u1,i.meta.torpedo_no]])]),(0,r.Lk)("div",Bta,[(0,r.bo)((0,r.Lk)("input",{class:"form-control form-control-sm",type:"datetime-local",placeholder:"From Date & Time","onUpdate:modelValue":a[3]||(a[3]=e=>i.meta.from_date=e),onChange:a[4]||(a[4]=(...e)=>o.search&&o.search(...e))},null,544),[[s.Jo,i.meta.from_date]])]),(0,r.Lk)("div",Ota,[(0,r.bo)((0,r.Lk)("input",{class:"form-control form-control-sm",type:"datetime-local",placeholder:"To Date & Time","onUpdate:modelValue":a[5]||(a[5]=e=>i.meta.to_date=e),onChange:a[6]||(a[6]=(...e)=>o.search&&o.search(...e))},null,544),[[s.Jo,i.meta.to_date]])]),(0,r.Lk)("div",Hta,[(0,r.bo)((0,r.Lk)("input",{class:"form-control form-control-sm",type:"text",placeholder:"Type keyword and press enter key","onUpdate:modelValue":a[7]||(a[7]=e=>i.meta.search=e),onKeypress:a[8]||(a[8]=(0,s.jR)(((...e)=>o.search&&o.search(...e)),["enter"]))},null,544),[[s.Jo,i.meta.search]])])]),(0,r.Lk)("div",Yta,[(0,r.Lk)("table",Zta,[(0,r.Lk)("thead",Gta,[(0,r.Lk)("tr",null,[a[35]||(a[35]=(0,r.Lk)("th",{class:"text-center"},"#",-1)),(0,r.Lk)("th",{onClick:a[9]||(a[9]=e=>o.sort("torpedo_no")),class:"pointer"},[a[25]||(a[25]=(0,r.eW)(" Torpedo No ")),(0,r.bF)(d,{field:"torpedo_no"})]),(0,r.Lk)("th",{onClick:a[10]||(a[10]=e=>o.sort("proddate")),class:"pointer"},[a[26]||(a[26]=(0,r.eW)(" Prod Date ")),(0,r.bF)(d,{field:"proddate"})]),(0,r.Lk)("th",{onClick:a[11]||(a[11]=e=>o.sort("shift")),class:"pointer"},[a[27]||(a[27]=(0,r.eW)(" Shift ")),(0,r.bF)(d,{field:"shift"})]),(0,r.Lk)("th",{onClick:a[12]||(a[12]=e=>o.sort("hot_metal_qty")),class:"pointer"},[a[28]||(a[28]=(0,r.eW)(" Hot Metal Qty ")),(0,r.bF)(d,{field:"hot_metal_qty"})]),(0,r.Lk)("th",{onClick:a[13]||(a[13]=e=>o.sort("gross_weight")),class:"pointer"},[a[29]||(a[29]=(0,r.eW)(" Gross Weight ")),(0,r.bF)(d,{field:"gross_weight"})]),(0,r.Lk)("th",{onClick:a[14]||(a[14]=e=>o.sort("tare_wt")),class:"pointer"},[a[30]||(a[30]=(0,r.eW)(" Tare Weight ")),(0,r.bF)(d,{field:"tare_wt"})]),(0,r.Lk)("th",{onClick:a[15]||(a[15]=e=>o.sort("mat_type")),class:"pointer"},[a[31]||(a[31]=(0,r.eW)(" Mat Type ")),(0,r.bF)(d,{field:"mat_type"})]),(0,r.Lk)("th",{onClick:a[16]||(a[16]=e=>o.sort("hm_source")),class:"pointer"},[a[32]||(a[32]=(0,r.eW)(" HM Source ")),(0,r.bF)(d,{field:"hm_source"})]),(0,r.Lk)("th",{onClick:a[17]||(a[17]=e=>o.sort("supply_area")),class:"pointer"},[a[33]||(a[33]=(0,r.eW)(" Supply Area ")),(0,r.bF)(d,{field:"supply_area"})]),(0,r.Lk)("th",{onClick:a[18]||(a[18]=e=>o.sort("bf_cast_no")),class:"pointer"},[a[34]||(a[34]=(0,r.eW)(" BF Cast No ")),(0,r.bF)(d,{field:"bf_cast_no"})])])]),(0,r.Lk)("tbody",null,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(i.ppms_datas,((e,a)=>((0,r.uX)(),(0,r.CE)("tr",{key:e.tlc_ppms_data_id},[(0,r.Lk)("td",esa,(0,n.v_)(i.meta.from+a),1),(0,r.Lk)("td",null,(0,n.v_)(e.torpedo_no),1),(0,r.Lk)("td",null,(0,n.v_)(e.proddate),1),(0,r.Lk)("td",null,(0,n.v_)(e.shift),1),(0,r.Lk)("td",null,(0,n.v_)(e.hot_metal_qty),1),(0,r.Lk)("td",null,(0,n.v_)(e.gross_weight),1),(0,r.Lk)("td",null,(0,n.v_)(e.tare_wt),1),(0,r.Lk)("td",null,(0,n.v_)(e.mat_type),1),(0,r.Lk)("td",null,(0,n.v_)(e.hm_source),1),(0,r.Lk)("td",null,(0,n.v_)(e.supply_area),1),(0,r.Lk)("td",null,(0,n.v_)(e.bf_cast_no),1)])))),128)),i.ppms_datas.length?(0,r.Q3)("",!0):((0,r.uX)(),(0,r.CE)("tr",asa,a[36]||(a[36]=[(0,r.Lk)("td",{colspan:"11",class:"text-center"},"No records found",-1)])))])])])]),(0,r.Lk)("div",tsa,[(0,r.Lk)("div",ssa,[(0,r.bo)((0,r.Lk)("select",{class:"form-select form-select-sm",style:{width:"75px"},"onUpdate:modelValue":a[19]||(a[19]=e=>i.meta.per_page=e),onChange:a[20]||(a[20]=(...e)=>o.onPerPageChange&&o.onPerPageChange(...e))},a[37]||(a[37]=[(0,r.Lk)("option",null,"10",-1),(0,r.Lk)("option",null,"15",-1),(0,r.Lk)("option",null,"20",-1),(0,r.Lk)("option",null,"25",-1),(0,r.Lk)("option",null,"30",-1),(0,r.Lk)("option",null,"200",-1),(0,r.Lk)("option",null,"500",-1)]),544),[[s.u1,i.meta.per_page,void 0,{number:!0}]]),(0,r.Lk)("span",null," Showing "+(0,n.v_)(i.meta.from)+" to "+(0,n.v_)(i.meta.to)+" of "+(0,n.v_)(i.meta.totalRows)+" entries ",1),(0,r.bF)(c,{maxPage:i.meta.maxPage,totalPages:i.meta.lastPage,currentPage:i.meta.page,onPagechanged:o.onPageChange},null,8,["maxPage","totalPages","currentPage","onPagechanged"])])])])])])])}var lsa={components:{Pagination:md},data(){return{meta:{search:"",order_by:"desc",keyword:"tlc_ppms_data_id",per_page:25,totalRows:0,page:1,lastPage:1,from:1,to:1,maxPage:1,torpedo_no:"",from_date:"",to_date:""},ppms_datas:[],torpedo_numbers:[]}},mounted(){this.loadTorpedoNumbers(),this.index()},methods:{index(){const e=this.$loading.show();this.$store.dispatch("post",{uri:"paginateTLCPPMSDatas",data:this.meta}).then((e=>{this.ppms_datas=e.data.data;const a=e.data.meta;this.meta.totalRows=a.total,this.meta.from=a.from,this.meta.to=a.to,this.meta.lastPage=a.last_page,this.meta.maxPage=a.last_page>=3?3:a.last_page})).catch((()=>this.$store.dispatch("error","Failed to load data"))).finally((()=>e.hide()))},loadTorpedoNumbers(){const e=this.$loading.show();this.$store.dispatch("post",{uri:"ppmsTLCLadleNos"}).then((e=>this.torpedo_numbers=e.data.data)).catch((()=>this.$store.dispatch("error","Failed to load torpedo numbers"))).finally((()=>e.hide()))},sort(e){this.meta.keyword===e?this.meta.order_by="asc"===this.meta.order_by?"desc":"asc":(this.meta.keyword=e,this.meta.order_by="asc"),this.index()},search(){this.meta.page=1,this.index()},onPerPageChange(){this.meta.page=1,this.index()},onPageChange(e){this.meta.page=e,this.index()},downloadExcel(){if(!this.ppms_datas.length&&0===this.meta.totalRows)return void alert("No data to export");const e=this.$loading.show(),a={...this.meta,per_page:1e4,page:1};this.$store.dispatch("post",{uri:"paginateTLCPPMSDatas",data:a}).then((e=>{const a=this.buildCSV(e.data.data);this.triggerDownload(a),this.$store.dispatch("success","CSV downloaded")})).catch((()=>this.$store.dispatch("error","Export failed"))).finally((()=>e.hide()))},buildCSV(e){const a=["#","Torpedo No","Prod Date","Shift","Hot Metal Qty","Gross Weight","Tare Weight","Mat Type","HM Source","Supply Area","BF Cast No"],t=e.map(((e,a)=>[a+1,e.torpedo_no??"",e.proddate??"",e.shift??"",e.hot_metal_qty??"",e.gross_weight??"",e.tare_wt??"",e.mat_type??"",e.hm_source??"",e.supply_area??"",e.bf_cast_no??""])),s=[a,...t].map((e=>e.map((e=>`"${e}"`)).join(","))).join("\n");return"\ufeff"+s},triggerDownload(e){const a=new Blob([e],{type:"text/csv;charset=utf-8;"}),t=URL.createObjectURL(a),s=document.createElement("a");s.href=t;const r=(new Date).toISOString().slice(0,19).replace(/:/g,"-");s.download=`tlc_ppms_data_${r}.csv`,document.body.appendChild(s),s.click(),setTimeout((()=>{URL.revokeObjectURL(t),s.remove()}),100)}}};const isa=(0,Ze.A)(lsa,[["render",rsa],["__scopeId","data-v-3a47658e"]]);var osa=isa;const dsa={class:"d-sm-flex align-items-center justify-content-between mb-2"},nsa={class:"breadcrumb fs-sm mb-1"},csa={class:"breadcrumb-item","aria-current":"page"},usa={class:"row mb-3"},_sa={class:"col-12"},psa={class:"nav nav-tabs",role:"tablist"},msa={class:"nav-item",role:"presentation"},bsa={class:"nav-item",role:"presentation"},ksa={class:"row"},vsa={class:"col-12"};var hsa={__name:"PpmsData",setup(e){const a=(0,raa.KR)("STLPPMSData"),t=(0,r.EW)((()=>"STLPPMSData"===a.value?zta:"TLCPPMSData"===a.value?osa:zta));function s(){}return(e,l)=>{const i=(0,r.g2)("router-link");return(0,r.uX)(),(0,r.CE)("div",null,[(0,r.Lk)("div",dsa,[(0,r.Lk)("div",null,[(0,r.Lk)("ol",nsa,[(0,r.Lk)("li",csa,[(0,r.bF)(i,{to:"/dashboard"},{default:(0,r.k6)((()=>l[2]||(l[2]=[(0,r.eW)("Dashboard")]))),_:1})]),l[3]||(l[3]=(0,r.Lk)("li",{class:"breadcrumb-item"},[(0,r.Lk)("a",{href:"javascript:void(0)"},"Reviews")],-1)),l[4]||(l[4]=(0,r.Lk)("li",{class:"breadcrumb-item active","aria-current":"page"},"PPMS Data",-1))]),l[5]||(l[5]=(0,r.Lk)("h4",{class:"main-title mb-0"},"PPMS Data",-1))])]),(0,r.Lk)("div",usa,[(0,r.Lk)("div",_sa,[(0,r.Lk)("ul",psa,[(0,r.Lk)("li",msa,[(0,r.Lk)("button",{class:(0,n.C4)(["nav-link",{active:"STLPPMSData"===a.value,"tab-blue":"STLPPMSData"===a.value}]),onClick:l[0]||(l[0]=e=>a.value="STLPPMSData"),type:"button",role:"tab"}," Steel Ladle (STL) ",2)]),(0,r.Lk)("li",bsa,[(0,r.Lk)("button",{class:(0,n.C4)(["nav-link",{active:"TLCPPMSData"===a.value,"tab-blue":"TLCPPMSData"===a.value}]),onClick:l[1]||(l[1]=e=>a.value="TLCPPMSData"),type:"button",role:"tab"}," Torpedo Ladle Car (TLC) ",2)])])])]),(0,r.Lk)("div",ksa,[(0,r.Lk)("div",vsa,[((0,r.uX)(),(0,r.Wv)(r.PR,null,[((0,r.uX)(),(0,r.Wv)((0,r.$y)(t.value),{onDownloadExcel:s},null,32))],1024))])])])}}};const ysa=(0,Ze.A)(hsa,[["__scopeId","data-v-5209bb54"]]);var gsa=ysa;const fsa={class:""},Lsa={class:"d-sm-flex align-items-center justify-content-between mb-2"},Csa={class:"breadcrumb fs-sm mb-1"},wsa={class:"breadcrumb-item","aria-current":"page"},Esa={class:"row"},xsa={class:"col-12"},Xsa={class:"card card-one"},Psa={class:"card-body"},$sa={class:"table-responsive table-responsive-sm"},Ssa={class:"table table-sm text-nowrap table-striped table-bordered mb-0"},Asa={style:{"background-color":"#9b9b9b",color:"white"}},Dsa={class:"text-center"},Tsa={key:1},Qsa={key:2,class:"invalid-feedback"},Vsa={key:1},Fsa={key:2,class:"invalid-feedback"},Usa={key:1},jsa={key:2,class:"invalid-feedback"},zsa={key:1},Wsa={key:2,class:"invalid-feedback"},Rsa={key:1},qsa={key:2,class:"invalid-feedback"},Isa={key:1},Nsa={key:2,class:"invalid-feedback"},Msa={key:1},Ksa={key:2,class:"invalid-feedback"},Jsa={class:"text-center"},Bsa=["onClick","title"],Osa={key:0},Hsa={class:"card-footer"},Ysa={class:"d-flex justify-content-between align-items-center"};function Zsa(e,a,t,l,i,o){const d=(0,r.g2)("router-link"),c=(0,r.g2)("Pagination");return(0,r.uX)(),(0,r.CE)("div",fsa,[(0,r.Lk)("div",Lsa,[(0,r.Lk)("div",null,[(0,r.Lk)("ol",Csa,[(0,r.Lk)("li",wsa,[(0,r.bF)(d,{to:"/dashboard"},{default:(0,r.k6)((()=>a[22]||(a[22]=[(0,r.eW)("Dashboard")]))),_:1})]),a[23]||(a[23]=(0,r.Lk)("li",{class:"breadcrumb-item"},[(0,r.Lk)("a",{href:"javascript:void(0)"},"Reviews")],-1)),a[24]||(a[24]=(0,r.Lk)("li",{class:"breadcrumb-item active","aria-current":"page"},"Running Life Summary",-1))]),a[25]||(a[25]=(0,r.Lk)("h4",{class:"main-title mb-0"},"Running Life Summary",-1))])]),(0,r.Lk)("div",Esa,[(0,r.Lk)("div",xsa,[(0,r.Lk)("div",Xsa,[a[41]||(a[41]=(0,r.Lk)("div",{class:"card-header d-flex justify-content-between"},[(0,r.Lk)("h6",{class:"card-title"},"Running Life Summary")],-1)),(0,r.Lk)("div",Psa,[(0,r.bo)((0,r.Lk)("input",{class:"form-control form-control-sm mb-2",type:"text",placeholder:"Type keyword and press enter key","onUpdate:modelValue":a[0]||(a[0]=e=>i.meta.search=e),onKeypress:a[1]||(a[1]=(0,s.jR)(((...e)=>o.search&&o.search(...e)),["enter"]))},null,544),[[s.Jo,i.meta.search]]),(0,r.Lk)("div",$sa,[(0,r.Lk)("table",Ssa,[(0,r.Lk)("thead",null,[(0,r.Lk)("tr",Asa,[a[36]||(a[36]=(0,r.Lk)("th",{class:"text-center"},"#",-1)),(0,r.Lk)("th",{onClick:a[2]||(a[2]=e=>o.sort("asset_id"))},[a[26]||(a[26]=(0,r.eW)(" Asset ")),(0,r.Lk)("span",null,[(0,r.Lk)("i",{class:(0,n.C4)(o.sortIcon("asset_id"))},null,2)])]),(0,r.Lk)("th",{onClick:a[3]||(a[3]=e=>o.sort("date_time"))},[a[27]||(a[27]=(0,r.eW)(" Date Time ")),(0,r.Lk)("span",null,[(0,r.Lk)("i",{class:(0,n.C4)(o.sortIcon("date_time"))},null,2)])]),(0,r.Lk)("th",{onClick:a[4]||(a[4]=e=>o.sort("activity"))},[a[28]||(a[28]=(0,r.eW)(" Activity ")),(0,r.Lk)("span",null,[(0,r.Lk)("i",{class:(0,n.C4)(o.sortIcon("activity"))},null,2)])]),(0,r.Lk)("th",{onClick:a[5]||(a[5]=e=>o.sort("campaign_no"))},[a[29]||(a[29]=(0,r.eW)(" Campaign No. ")),(0,r.Lk)("span",null,[(0,r.Lk)("i",{class:(0,n.C4)(o.sortIcon("campaign_no"))},null,2)])]),(0,r.Lk)("th",{onClick:a[6]||(a[6]=e=>o.sort("running_life"))},[a[30]||(a[30]=(0,r.eW)(" Full Ladle Life ")),(0,r.Lk)("span",null,[(0,r.Lk)("i",{class:(0,n.C4)(o.sortIcon("running_life"))},null,2)])]),(0,r.Lk)("th",{onClick:a[7]||(a[7]=e=>o.sort("repair_life"))},[a[31]||(a[31]=(0,r.eW)(" Repair Life ")),(0,r.Lk)("span",null,[(0,r.Lk)("i",{class:(0,n.C4)(o.sortIcon("repair_life"))},null,2)])]),(0,r.Lk)("th",{onClick:a[8]||(a[8]=e=>o.sort("process_time"))},[a[32]||(a[32]=(0,r.eW)(" Process Time ")),(0,r.Lk)("span",null,[(0,r.Lk)("i",{class:(0,n.C4)(o.sortIcon("process_time"))},null,2)])]),(0,r.Lk)("th",{onClick:a[9]||(a[9]=e=>o.sort("total_billets"))},[a[33]||(a[33]=(0,r.eW)(" Total Billets ")),(0,r.Lk)("span",null,[(0,r.Lk)("i",{class:(0,n.C4)(o.sortIcon("total_billets"))},null,2)])]),(0,r.Lk)("th",{onClick:a[10]||(a[10]=e=>o.sort("billet_repair_heats"))},[a[34]||(a[34]=(0,r.eW)(" Billet Repair Heats ")),(0,r.Lk)("span",null,[(0,r.Lk)("i",{class:(0,n.C4)(o.sortIcon("billet_repair_heats"))},null,2)])]),(0,r.Lk)("th",{onClick:a[11]||(a[11]=e=>o.sort("continuous_billets"))},[a[35]||(a[35]=(0,r.eW)(" Continuous Billets ")),(0,r.Lk)("span",null,[(0,r.Lk)("i",{class:(0,n.C4)(o.sortIcon("continuous_billets"))},null,2)])]),a[37]||(a[37]=(0,r.Lk)("th",null,"Action",-1))])]),(0,r.Lk)("tbody",null,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(i.ppms_statistics,((e,t)=>((0,r.uX)(),(0,r.CE)("tr",{key:e.ppms_statistic_id},[(0,r.Lk)("td",Dsa,(0,n.v_)(i.meta.from+t),1),(0,r.Lk)("td",null,(0,n.v_)(e?.asset?.asset_code||""),1),(0,r.Lk)("td",null,(0,n.v_)(e?.date_time||""),1),(0,r.Lk)("td",null,(0,n.v_)(e?.activity||""),1),(0,r.Lk)("td",null,[i.editRowIndex===t?(0,r.bo)(((0,r.uX)(),(0,r.CE)("input",{key:0,"onUpdate:modelValue":a[12]||(a[12]=e=>i.editData.campaign_no=e),class:(0,n.C4)(["form-control form-control-sm",{"is-invalid":i.errors.campaign_no}]),type:"text"},null,2)),[[s.Jo,i.editData.campaign_no]]):((0,r.uX)(),(0,r.CE)("span",Tsa,(0,n.v_)(e?.campaign_no||""),1)),i.errors.campaign_no?((0,r.uX)(),(0,r.CE)("div",Qsa,(0,n.v_)(i.errors.campaign_no),1)):(0,r.Q3)("",!0)]),(0,r.Lk)("td",null,[i.editRowIndex===t?(0,r.bo)(((0,r.uX)(),(0,r.CE)("input",{key:0,"onUpdate:modelValue":a[13]||(a[13]=e=>i.editData.running_life=e),class:(0,n.C4)(["form-control form-control-sm",{"is-invalid":i.errors.running_life}]),type:"text"},null,2)),[[s.Jo,i.editData.running_life]]):((0,r.uX)(),(0,r.CE)("span",Vsa,(0,n.v_)(e?.running_life||""),1)),i.errors.running_life?((0,r.uX)(),(0,r.CE)("div",Fsa,(0,n.v_)(i.errors.running_life),1)):(0,r.Q3)("",!0)]),(0,r.Lk)("td",null,[i.editRowIndex===t?(0,r.bo)(((0,r.uX)(),(0,r.CE)("input",{key:0,"onUpdate:modelValue":a[14]||(a[14]=e=>i.editData.repair_life=e),class:(0,n.C4)(["form-control form-control-sm",{"is-invalid":i.errors.repair_life}]),type:"text"},null,2)),[[s.Jo,i.editData.repair_life]]):((0,r.uX)(),(0,r.CE)("span",Usa,(0,n.v_)(e?.repair_life||""),1)),i.errors.repair_life?((0,r.uX)(),(0,r.CE)("div",jsa,(0,n.v_)(i.errors.repair_life),1)):(0,r.Q3)("",!0)]),(0,r.Lk)("td",null,[i.editRowIndex===t?(0,r.bo)(((0,r.uX)(),(0,r.CE)("input",{key:0,"onUpdate:modelValue":a[15]||(a[15]=e=>i.editData.process_time=e),class:(0,n.C4)(["form-control form-control-sm",{"is-invalid":i.errors.process_time}]),type:"text"},null,2)),[[s.Jo,i.editData.process_time]]):((0,r.uX)(),(0,r.CE)("span",zsa,(0,n.v_)(e?.process_time||""),1)),i.errors.process_time?((0,r.uX)(),(0,r.CE)("div",Wsa,(0,n.v_)(i.errors.process_time),1)):(0,r.Q3)("",!0)]),(0,r.Lk)("td",null,[i.editRowIndex===t?(0,r.bo)(((0,r.uX)(),(0,r.CE)("input",{key:0,"onUpdate:modelValue":a[16]||(a[16]=e=>i.editData.total_billets=e),class:(0,n.C4)(["form-control form-control-sm",{"is-invalid":i.errors.total_billets}]),type:"text"},null,2)),[[s.Jo,i.editData.total_billets]]):((0,r.uX)(),(0,r.CE)("span",Rsa,(0,n.v_)(e?.total_billets||""),1)),i.errors.total_billets?((0,r.uX)(),(0,r.CE)("div",qsa,(0,n.v_)(i.errors.total_billets),1)):(0,r.Q3)("",!0)]),(0,r.Lk)("td",null,[i.editRowIndex===t?(0,r.bo)(((0,r.uX)(),(0,r.CE)("input",{key:0,"onUpdate:modelValue":a[17]||(a[17]=e=>i.editData.billet_repair_heats=e),class:(0,n.C4)(["form-control form-control-sm",{"is-invalid":i.errors.billet_repair_heats}]),type:"text"},null,2)),[[s.Jo,i.editData.billet_repair_heats]]):((0,r.uX)(),(0,r.CE)("span",Isa,(0,n.v_)(e?.billet_repair_heats||""),1)),i.errors.billet_repair_heats?((0,r.uX)(),(0,r.CE)("div",Nsa,(0,n.v_)(i.errors.billet_repair_heats),1)):(0,r.Q3)("",!0)]),(0,r.Lk)("td",null,[i.editRowIndex===t?(0,r.bo)(((0,r.uX)(),(0,r.CE)("input",{key:0,"onUpdate:modelValue":a[18]||(a[18]=e=>i.editData.continuous_billets=e),class:(0,n.C4)(["form-control form-control-sm",{"is-invalid":i.errors.continuous_billets}]),type:"text"},null,2)),[[s.Jo,i.editData.continuous_billets]]):((0,r.uX)(),(0,r.CE)("span",Msa,(0,n.v_)(e?.continuous_billets||""),1)),i.errors.continuous_billets?((0,r.uX)(),(0,r.CE)("div",Ksa,(0,n.v_)(i.errors.continuous_billets),1)):(0,r.Q3)("",!0)]),(0,r.Lk)("td",Jsa,[(0,r.Lk)("a",{href:"javascript:void(0)",class:(0,n.C4)(i.editRowIndex===t?"text-primary":"text-success"),style:{"margin-right":"8px"},onClick:a=>i.editRowIndex===t?o.updateStatistic(t):o.editStatistic(e,t),title:i.editRowIndex===t?"Update Statistics":"Edit Statistics"},[(0,r.Lk)("i",{class:(0,n.C4)(i.editRowIndex===t?"ri-save-line fs-18 lh-1":"ri-pencil-line fs-18 lh-1")},null,2)],10,Bsa),i.editRowIndex===t?((0,r.uX)(),(0,r.CE)("a",{key:0,href:"javascript:void(0)",class:"text-danger",onClick:a[19]||(a[19]=(...e)=>o.cancelEdit&&o.cancelEdit(...e)),title:"Cancel Edit"},a[38]||(a[38]=[(0,r.Lk)("i",{class:"ri-close-line fs-18 lh-1"},null,-1)]))):(0,r.Q3)("",!0)])])))),128)),0===i.ppms_statistics.length?((0,r.uX)(),(0,r.CE)("tr",Osa,a[39]||(a[39]=[(0,r.Lk)("td",{colspan:"12",class:"text-center"},"No records found",-1)]))):(0,r.Q3)("",!0)])])])]),(0,r.Lk)("div",Hsa,[(0,r.Lk)("div",Ysa,[(0,r.bo)((0,r.Lk)("select",{class:"form-select form-select-sm width-75","onUpdate:modelValue":a[20]||(a[20]=e=>i.meta.per_page=e),onChange:a[21]||(a[21]=(...e)=>o.onPerPageChange&&o.onPerPageChange(...e))},a[40]||(a[40]=[(0,r.Lk)("option",null,"10",-1),(0,r.Lk)("option",null,"15",-1),(0,r.Lk)("option",null,"20",-1),(0,r.Lk)("option",null,"25",-1),(0,r.Lk)("option",null,"30",-1),(0,r.Lk)("option",null,"200",-1),(0,r.Lk)("option",null,"500",-1)]),544),[[s.u1,i.meta.per_page]]),(0,r.Lk)("span",null,"Showing "+(0,n.v_)(i.meta.from)+" to "+(0,n.v_)(i.meta.to)+" of "+(0,n.v_)(i.meta.totalRows)+" entries",1),(0,r.bF)(c,{maxPage:i.meta.maxPage,totalPages:i.meta.lastPage,currentPage:parseInt(i.meta.page),onPagechanged:o.onPageChange},null,8,["maxPage","totalPages","currentPage","onPagechanged"])])])])])])])}var Gsa={components:{Pagination:md},data(){return{meta:{search:"",order_by:"desc",keyword:"ppms_statistic_id",per_page:15,totalRows:0,page:1,lastPage:1,from:1,to:1,maxPage:1,trashed:!1},ppms_statistics:[],errors:{},status:!0,editRowIndex:null,editData:{}}},mounted(){this.index()},methods:{index(){let e=this.$loading.show();this.$store.dispatch("post",{uri:"getLatestPpmsStatistics",data:this.meta}).then((a=>{e.hide(),this.ppms_statistics=a.data.data,this.meta.totalRows=a.data.meta.total,this.meta.from=a.data.meta.from,this.meta.to=a.data.meta.to,this.meta.lastPage=a.data.meta.last_page,this.meta.maxPage=this.meta.lastPage>=3?3:this.meta.lastPage})).catch((a=>{e.hide(),this.errors=a.response?.data?.errors||{},this.$store.dispatch("error",a?.response?.data?.message||"Failed to load data")}))},search(){this.meta.page=1,this.index()},onPageChange(e){this.meta.page=e,this.index()},sort(e){this.meta.keyword=e,this.meta.order_by="asc"===this.meta.order_by?"desc":"asc",this.index()},onPerPageChange(){this.meta.page=1,this.index()},sortIcon(e){return this.meta.keyword===e?"asc"===this.meta.order_by?"ri-arrow-up-line":"ri-arrow-down-line":"fas fa-sort"},editStatistic(e,a){this.editRowIndex=a,this.errors={},this.editData={ppms_statistic_id:e.ppms_statistic_id,date_time:e.date_time,activity:e.activity,campaign_no:e.campaign_no,running_life:e.running_life,repair_life:e.repair_life,total_billets:e.total_billets,continuous_billets:e.continuous_billets,asset:e.asset?{...e.asset}:null,process_time:e.process_time,billet_repair_heats:e.billet_repair_heats}},cancelEdit(){this.editRowIndex=null,this.editData={},this.errors={}},updateStatistic(e){let a={ppms_statistic_id:this.editData.ppms_statistic_id,date_time:this.editData.date_time,activity:this.editData.activity,campaign_no:this.editData.campaign_no,running_life:this.editData.running_life,repair_life:this.editData.repair_life,total_billets:this.editData.total_billets,continuous_billets:this.editData.continuous_billets,asset_id:this.editData.asset?.asset_id||null,process_time:this.editData.process_time,billet_repair_heats:this.editData.billet_repair_heats},t=this.$loading.show();this.$store.dispatch("post",{uri:"updatePpmsStatistic",data:a}).then((s=>{t.hide(),this.editRowIndex=null,this.editData={},this.errors={},this.$store.dispatch("success",s.data.message),this.ppms_statistics[e]={...this.ppms_statistics[e],...a}})).catch((e=>{t.hide(),this.errors=e.response?.data?.errors||{},this.$store.dispatch("error",e?.response?.data?.message||"Failed to update record")}))}}};const era=(0,Ze.A)(Gsa,[["render",Zsa],["__scopeId","data-v-5feb1f62"]]);var ara=era;const tra={key:0,class:""},sra={class:"d-sm-flex align-items-center justify-content-between mb-2"},rra={class:"breadcrumb fs-sm mb-1"},lra={class:"breadcrumb-item","aria-current":"page"},ira={class:"row"},ora={class:"col-12"},dra={class:"card card-one"},nra={class:"card-body"},cra={class:"row g-2"},ura={class:"col-md-4"},_ra=["value"],pra={key:0,class:"invalid-feedback"},mra={class:"col-md-4"},bra=["value"],kra={key:0,class:"invalid-feedback"},vra={class:"col-md-4"},hra={key:0,class:"invalid-feedback"},yra={key:0},gra={class:"form-label"},fra={key:0,class:"text-danger"},Lra=["placeholder","onUpdate:modelValue"],Cra={key:1,class:"invalid-feedback"},wra={key:1},Era={class:"form-label"},xra={key:0,class:"text-danger"},Xra=["placeholder","onUpdate:modelValue"],Pra={key:1,class:"invalid-feedback"},$ra={key:2},Sra={class:"form-label"},Ara={key:0,class:"text-danger"},Dra=["placeholder","onUpdate:modelValue"],Tra={key:0,class:"invalid-feedback"},Qra={key:3},Vra={class:"form-label"},Fra={key:0,class:"text-danger"},Ura=["placeholder","onUpdate:modelValue"],jra={key:0,class:"invalid-feedback"},zra={key:4},Wra={class:"form-label"},Rra={key:0,class:"text-danger"},qra=["onUpdate:modelValue"],Ira=["value"],Nra=["value"],Mra=["value"],Kra={key:1,class:"invalid-feedback"},Jra={key:5},Bra={class:"form-label"},Ora={key:0,class:"text-danger"},Hra=["onUpdate:modelValue"],Yra={key:0,class:"invalid-feedback"},Zra={key:6},Gra={class:"form-label"},ela={key:0,class:"text-danger"},ala=["onUpdate:modelValue"],tla=["value"],sla=["value"],rla=["value"],lla={key:1,class:"invalid-feedback"},ila={class:"col-md-4"},ola={key:0,class:"invalid-feedback"},dla={class:"col-md-12"},nla={key:0,class:"invalid-feedback"},cla={key:1,class:""},ula={class:"d-sm-flex align-items-center justify-content-between mb-2"},_la={class:"breadcrumb fs-sm mb-1"},pla={class:"breadcrumb-item","aria-current":"page"},mla={class:"row"},bla={class:"col-12"},kla={class:"card card-one"},vla={class:"card-body"},hla={class:"row g-2 mb-5"},yla={class:"col-md-4"},gla=["value"],fla={key:0,class:"invalid-feedback"},Lla={class:"col-md-4"},Cla=["value"],wla={key:0,class:"invalid-feedback"},Ela={class:"col-md-4"},xla=["value"],Xla={key:0,class:"invalid-feedback"},Pla={class:"col-md-12"},$la={key:0,class:"invalid-feedback"},Sla={class:"row g-2"},Ala={class:"table-responsive table-responsive-sm"},Dla={class:"table table-sm text-nowrap table-bordered mb-0"},Tla={key:2,class:""},Qla={class:"d-sm-flex align-items-center justify-content-between mb-2"},Vla={class:"breadcrumb fs-sm mb-1"},Fla={class:"breadcrumb-item","aria-current":"page"},Ula={class:"row"},jla={class:"col-12"},zla={class:"card card-one mb-3"},Wla={class:"card-body p-0"},Rla={class:"setting-item"},qla={class:"row g-2 mb-4"},Ila={class:"col-md-4 mb-3"},Nla=["value"],Mla={class:"col-md-4 mb-3"},Kla=["value"],Jla={class:"col-md-4 mb-3"},Bla=["value"],Ola={class:"col-md-4 mb-3"},Hla=["value"],Yla={class:"col-md-4 mb-3"},Zla=["value"],Gla={class:"col-md-12 mt-1"},eia={class:"table-responsive table-responsive-sm"},aia={class:"table table-sm table-striped text-nowrap table-bordered mb-0"},tia={class:"text-center"},sia={class:"row g-2"},ria=["href"],lia=["src","href"],iia={key:3,class:""},oia={class:"d-sm-flex align-items-center justify-content-between mb-2"},dia={class:"breadcrumb fs-sm mb-1"},nia={class:"breadcrumb-item","aria-current":"page"},cia={class:"row"},uia={class:"col-12"},_ia={class:"card card-one mb-3"},pia={class:"card-body p-0"},mia={class:"setting-item"},bia={class:"row g-2 mb-4"},kia={class:"col-md-4 mb-3"},via=["value"],hia={class:"col-md-4 mb-3"},yia=["value"],gia={class:"col-md-4 mb-3"},fia=["value"],Lia={class:"col-md-4 mb-3"},Cia=["value"],wia={class:"col-md-12 mt-1"},Eia={class:"table-responsive table-responsive-sm row"},xia={key:0,class:"card"},Xia={class:"card-header"},Pia={class:"mb-0"},$ia={class:"card-body"},Sia={class:"table-responsive"},Aia={class:"table text-nowrap table-bordered mb-0"};function Dia(e,a,t,l,i,o){const d=(0,r.g2)("router-link");return(0,r.uX)(),(0,r.CE)(r.FK,null,[i.show_activity?((0,r.uX)(),(0,r.CE)("div",tra,[(0,r.Lk)("div",sra,[(0,r.Lk)("div",null,[(0,r.Lk)("ol",rra,[(0,r.Lk)("li",lra,[(0,r.bF)(d,{to:"/dashboard"},{default:(0,r.k6)((()=>a[8]||(a[8]=[(0,r.eW)("Dashboard")]))),_:1})]),a[9]||(a[9]=(0,r.Fv)('<li class="breadcrumb-item" data-v-a951ba64><a href="javascript:void(0)" data-v-a951ba64>Reports</a></li><li class="breadcrumb-item" aria-current="page" data-v-a951ba64><a href="javascript:void(0)" data-v-a951ba64>Asset Reports</a></li><li class="breadcrumb-item active" aria-current="page" data-v-a951ba64>View Activity</li>',3))]),a[10]||(a[10]=(0,r.Lk)("h4",{class:"main-title mb-0"},"Activity",-1))]),(0,r.bF)(d,{to:"/asset_reports",type:"submit",class:"btn btn-primary"},{default:(0,r.k6)((()=>a[11]||(a[11]=[(0,r.Lk)("i",{class:"ri-arrow-left-line"},null,-1),(0,r.eW)(" BACK")]))),_:1})]),(0,r.Lk)("div",ira,[(0,r.Lk)("div",ora,[(0,r.Lk)("form",{onSubmit:a[3]||(a[3]=(0,s.D$)(((...a)=>e.submitForm&&e.submitForm(...a)),["prevent"]))},[(0,r.Lk)("div",dra,[a[20]||(a[20]=(0,r.Lk)("div",{class:"card-header d-flex justify-content-between"},[(0,r.Lk)("h6",{class:"card-title"},"Activity")],-1)),(0,r.Lk)("div",nra,[(0,r.Lk)("div",cra,[(0,r.Lk)("div",ura,[a[12]||(a[12]=(0,r.Lk)("label",{class:"form-label"},"Asset",-1)),a[13]||(a[13]=(0,r.Lk)("span",{class:"text-danger"}," *",-1)),(0,r.Lk)("input",{type:"text",disabled:"",class:"form-control",value:i.activity.asset?.asset_code+" :: "+i.activity.asset?.asset_name},null,8,_ra),i.errors.asset_id?((0,r.uX)(),(0,r.CE)("span",pra,(0,n.v_)(i.errors.asset_id[0]),1)):(0,r.Q3)("",!0)]),(0,r.Lk)("div",mra,[a[14]||(a[14]=(0,r.Lk)("label",{class:"form-label"},"Activity Type",-1)),a[15]||(a[15]=(0,r.Lk)("span",{class:"text-danger"}," *",-1)),(0,r.Lk)("input",{type:"text",disabled:"",class:"form-control",value:i.activity.reason?.reason_code+" :: "+i.activity.reason?.reason_name},null,8,bra),i.errors.reason_id?((0,r.uX)(),(0,r.CE)("span",kra,"Activity type field is required")):(0,r.Q3)("",!0)]),(0,r.Lk)("div",vra,[a[16]||(a[16]=(0,r.Lk)("label",{class:"form-label"},"Activity Date & Time",-1)),a[17]||(a[17]=(0,r.Lk)("span",{class:"text-danger"}," *",-1)),(0,r.bo)((0,r.Lk)("input",{type:"datetime-local",disabled:"",class:(0,n.C4)(["form-control",{"is-invalid":i.errors.activity_date}]),placeholder:"Enter Activity Date",ref:"activity_date",step:"any","onUpdate:modelValue":a[0]||(a[0]=e=>i.activity.activity_date=e)},null,2),[[s.Jo,i.activity.activity_date]]),i.errors.activity_date?((0,r.uX)(),(0,r.CE)("span",hra,(0,n.v_)(i.errors.activity_date[0]),1)):(0,r.Q3)("",!0)]),((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(i.activity.activity_attributes,((e,a)=>((0,r.uX)(),(0,r.CE)("div",{class:"col-md-4",key:a},["Text"==e.field_type?((0,r.uX)(),(0,r.CE)("div",yra,[(0,r.Lk)("label",gra,(0,n.v_)(e.display_name),1),e.is_required?((0,r.uX)(),(0,r.CE)("span",fra,"*")):(0,r.Q3)("",!0),(0,r.bo)((0,r.Lk)("input",{disabled:"",type:"text",class:(0,n.C4)(["form-control",{"is-invalid":i.errors[e.display_name]}]),placeholder:"Enter "+e.display_name,"onUpdate:modelValue":a=>e.activity_attribute_value.field_value=a},null,10,Lra),[[s.Jo,e.activity_attribute_value.field_value]]),i.errors[e.display_name]?((0,r.uX)(),(0,r.CE)("span",Cra,(0,n.v_)(i.errors[e.display_name][0]),1)):(0,r.Q3)("",!0)])):(0,r.Q3)("",!0),"Number"==e.field_type?((0,r.uX)(),(0,r.CE)("div",wra,[(0,r.Lk)("label",Era,(0,n.v_)(e.display_name),1),e.is_required?((0,r.uX)(),(0,r.CE)("span",xra,"*")):(0,r.Q3)("",!0),(0,r.bo)((0,r.Lk)("input",{type:"number",disabled:"",class:(0,n.C4)(["form-control",{"is-invalid":i.errors[e.display_name]}]),min:"0",oninput:"validity.valid||(value='');",placeholder:"Enter "+e.display_name,"onUpdate:modelValue":a=>e.activity_attribute_value.field_value=a},null,10,Xra),[[s.Jo,e.activity_attribute_value.field_value]]),i.errors[e.display_name]?((0,r.uX)(),(0,r.CE)("span",Pra,(0,n.v_)(i.errors[e.display_name][0]),1)):(0,r.Q3)("",!0)])):(0,r.Q3)("",!0),"Date"===e.field_type?((0,r.uX)(),(0,r.CE)("div",$ra,[(0,r.Lk)("label",Sra,[(0,r.eW)((0,n.v_)(e.display_name)+" ",1),e.is_required?((0,r.uX)(),(0,r.CE)("span",Ara,"*")):(0,r.Q3)("",!0)]),(0,r.bo)((0,r.Lk)("input",{disabled:"",type:"date",class:(0,n.C4)(["form-control",{"is-invalid":i.errors[e.display_name]}]),placeholder:"Enter "+e.display_name,"onUpdate:modelValue":a=>e.activity_attribute_value.field_value=a},null,10,Dra),[[s.Jo,e.activity_attribute_value.field_value]]),i.errors[e.display_name]?((0,r.uX)(),(0,r.CE)("span",Tra,(0,n.v_)(i.errors[e.display_name][0]),1)):(0,r.Q3)("",!0)])):(0,r.Q3)("",!0),"Date&Time"===e.field_type?((0,r.uX)(),(0,r.CE)("div",Qra,[(0,r.Lk)("label",Vra,[(0,r.eW)((0,n.v_)(e.display_name)+" ",1),e.is_required?((0,r.uX)(),(0,r.CE)("span",Fra,"*")):(0,r.Q3)("",!0)]),(0,r.bo)((0,r.Lk)("input",{disabled:"",type:"datetime-local",class:(0,n.C4)(["form-control",{"is-invalid":i.errors[e.display_name]}]),placeholder:"Enter "+e.display_name,"onUpdate:modelValue":a=>e.activity_attribute_value.field_value=a,step:"1"},null,10,Ura),[[s.Jo,e.activity_attribute_value.field_value]]),i.errors[e.display_name]?((0,r.uX)(),(0,r.CE)("span",jra,(0,n.v_)(i.errors[e.display_name][0]),1)):(0,r.Q3)("",!0)])):(0,r.Q3)("",!0),"Dropdown"==e.field_type?((0,r.uX)(),(0,r.CE)("div",zra,[(0,r.Lk)("label",Wra,(0,n.v_)(e.display_name),1),e.is_required?((0,r.uX)(),(0,r.CE)("span",Rra,"*")):(0,r.Q3)("",!0),(0,r.bo)((0,r.Lk)("select",{disabled:"",class:(0,n.C4)(["form-control",{"is-invalid":i.errors[e.display_name]}]),"onUpdate:modelValue":a=>e.activity_attribute_value.field_value=a},[e.activity_attribute_value.field_value?((0,r.uX)(),(0,r.CE)("option",{key:0,value:e.activity_attribute_value.field_value},(0,n.v_)(e.activity_attribute_value.field_value),9,Ira)):((0,r.uX)(),(0,r.CE)("option",{key:1,value:e.activity_attribute_value.field_value},"Select "+(0,n.v_)(e.display_name),9,Nra)),((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(e.field_values.split(","),((e,a)=>((0,r.uX)(),(0,r.CE)("option",{key:a,value:e},(0,n.v_)(e),9,Mra)))),128))],10,qra),[[s.u1,e.activity_attribute_value.field_value]]),i.errors[e.display_name]?((0,r.uX)(),(0,r.CE)("span",Kra,(0,n.v_)(i.errors[e.display_name][0]),1)):(0,r.Q3)("",!0)])):(0,r.Q3)("",!0),"Color"==e.field_type?((0,r.uX)(),(0,r.CE)("div",Jra,[(0,r.Lk)("label",Bra,[(0,r.eW)((0,n.v_)(e.display_name),1),e.is_required?((0,r.uX)(),(0,r.CE)("span",Ora,"*")):(0,r.Q3)("",!0)]),(0,r.bo)((0,r.Lk)("input",{disabled:"",type:"color",class:"form-control","onUpdate:modelValue":a=>e.activity_attribute_value.field_value=a,style:{height:"2.2rem"}},null,8,Hra),[[s.Jo,e.activity_attribute_value.field_value]]),i.errors[e.display_name]?((0,r.uX)(),(0,r.CE)("span",Yra,(0,n.v_)(i.errors[e.display_name][0]),1)):(0,r.Q3)("",!0)])):(0,r.Q3)("",!0),"List"==e.field_type?((0,r.uX)(),(0,r.CE)("div",Zra,[(0,r.Lk)("label",Gra,(0,n.v_)(e.display_name),1),e.is_required?((0,r.uX)(),(0,r.CE)("span",ela,"*")):(0,r.Q3)("",!0),(0,r.bo)((0,r.Lk)("select",{disabled:"",class:(0,n.C4)(["form-control",{"is-invalid":i.errors[e.display_name]}]),"onUpdate:modelValue":a=>e.activity_attribute_value.field_value=a},[e.activity_attribute_value.field_value?((0,r.uX)(),(0,r.CE)("option",{key:0,value:e.activity_attribute_value.field_value},(0,n.v_)(e.activity_attribute_value.field_value),9,tla)):((0,r.uX)(),(0,r.CE)("option",{key:1,value:e.activity_attribute_value.field_value},"Select "+(0,n.v_)(e.display_name),9,sla)),((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(e.list_parameter?.field_values.split(","),((e,a)=>((0,r.uX)(),(0,r.CE)("option",{key:a,value:e},(0,n.v_)(e),9,rla)))),128))],10,ala),[[s.u1,e.activity_attribute_value.field_value]]),i.errors[e.display_name]?((0,r.uX)(),(0,r.CE)("span",lla,(0,n.v_)(i.errors[e.display_name][0]),1)):(0,r.Q3)("",!0)])):(0,r.Q3)("",!0)])))),128)),(0,r.Lk)("div",ila,[a[18]||(a[18]=(0,r.Lk)("label",{class:"form-label"},"Cost",-1)),(0,r.bo)((0,r.Lk)("input",{disabled:"",type:"number",placeholder:"Enter Cost",class:(0,n.C4)(["form-control",{"is-invalid":i.errors.cost}]),"onUpdate:modelValue":a[1]||(a[1]=e=>i.activity.cost=e)},null,2),[[s.Jo,i.activity.cost]]),i.errors.cost?((0,r.uX)(),(0,r.CE)("span",ola,(0,n.v_)(i.errors.cost[0]),1)):(0,r.Q3)("",!0)]),(0,r.Lk)("div",dla,[a[19]||(a[19]=(0,r.Lk)("label",{class:"form-label"},"Note",-1)),(0,r.bo)((0,r.Lk)("textarea",{disabled:"",type:"text",placeholder:"Enter Note",class:(0,n.C4)(["form-control",{"is-invalid":i.errors.note}]),"onUpdate:modelValue":a[2]||(a[2]=e=>i.activity.note=e)},null,2),[[s.Jo,i.activity.note]]),i.errors.note?((0,r.uX)(),(0,r.CE)("span",nla,(0,n.v_)(i.errors.note[0]),1)):(0,r.Q3)("",!0)])])])])],32)])])])):(0,r.Q3)("",!0),i.show_service?((0,r.uX)(),(0,r.CE)("div",cla,[(0,r.Lk)("div",ula,[(0,r.Lk)("div",null,[(0,r.Lk)("ol",_la,[(0,r.Lk)("li",pla,[(0,r.bF)(d,{to:"/dashboard"},{default:(0,r.k6)((()=>a[21]||(a[21]=[(0,r.eW)("Dashboard")]))),_:1})]),a[22]||(a[22]=(0,r.Fv)('<li class="breadcrumb-item" data-v-a951ba64><a href="javascript:void(0)" data-v-a951ba64>Reports</a></li><li class="breadcrumb-item" aria-current="page" data-v-a951ba64><a href="javascript:void(0)" data-v-a951ba64>Asset Reports</a></li><li class="breadcrumb-item active" aria-current="page" data-v-a951ba64>View Spare Register</li>',3))]),a[23]||(a[23]=(0,r.Lk)("h4",{class:"main-title mb-0"},"Spare Register",-1))]),(0,r.bF)(d,{to:"/asset_reports",type:"submit",class:"btn btn-primary"},{default:(0,r.k6)((()=>a[24]||(a[24]=[(0,r.Lk)("i",{class:"ri-arrow-left-line"},null,-1),(0,r.eW)(" BACK")]))),_:1})]),(0,r.Lk)("div",mla,[(0,r.Lk)("div",bla,[(0,r.Lk)("form",{onSubmit:a[7]||(a[7]=(0,s.D$)(((...a)=>e.submitForm&&e.submitForm(...a)),["prevent"]))},[(0,r.Lk)("div",kla,[a[33]||(a[33]=(0,r.Lk)("div",{class:"card-header d-flex justify-content-between"},[(0,r.Lk)("h6",{class:"card-title"},"Spare Register")],-1)),(0,r.Lk)("div",vla,[(0,r.Lk)("div",hla,[(0,r.Lk)("div",yla,[a[25]||(a[25]=(0,r.Lk)("label",{class:"form-label"},"Asset",-1)),a[26]||(a[26]=(0,r.Lk)("span",{class:"text-danger"}," *",-1)),(0,r.Lk)("input",{type:"text",disabled:"",class:"form-control",value:i.user_service.asset?.asset_code+" :: "+i.user_service.asset?.asset_name},null,8,gla),i.errors.asset_id?((0,r.uX)(),(0,r.CE)("span",fla,(0,n.v_)(i.errors.asset_id),1)):(0,r.Q3)("",!0)]),(0,r.Lk)("div",Lla,[a[27]||(a[27]=(0,r.Lk)("label",{class:"form-label"},"Service Date & Time",-1)),a[28]||(a[28]=(0,r.Lk)("span",{class:"text-danger"}," *",-1)),(0,r.bo)((0,r.Lk)("input",{disabled:"",type:"datetime-local",class:(0,n.C4)(["form-control",{"is-invalid":i.errors.service_date}]),value:o.convertDateFormat(i.user_service.service_date),"onUpdate:modelValue":a[4]||(a[4]=e=>i.user_service.service_date=e),ref:"service_date"},null,10,Cla),[[s.Jo,i.user_service.service_date]]),i.errors.service_date?((0,r.uX)(),(0,r.CE)("span",wla,(0,n.v_)(i.errors.service_date[0]),1)):(0,r.Q3)("",!0)]),(0,r.Lk)("div",Ela,[a[29]||(a[29]=(0,r.Lk)("label",{class:"form-label"},"Next Service Date & Time",-1)),a[30]||(a[30]=(0,r.Lk)("span",{class:"text-danger"}," *",-1)),(0,r.bo)((0,r.Lk)("input",{disabled:"",type:"datetime-local",class:(0,n.C4)(["form-control",{"is-invalid":i.errors.next_service_date}]),placeholder:"Enter Next Service Date",value:o.convertDateFormat(i.user_service.next_service_date),"onUpdate:modelValue":a[5]||(a[5]=e=>i.user_service.next_service_date=e)},null,10,xla),[[s.Jo,i.user_service.next_service_date]]),i.errors.next_service_date?((0,r.uX)(),(0,r.CE)("span",Xla,(0,n.v_)(i.errors.next_service_date[0]),1)):(0,r.Q3)("",!0)]),(0,r.Lk)("div",Pla,[a[31]||(a[31]=(0,r.Lk)("label",{class:"form-label"},"Note",-1)),(0,r.bo)((0,r.Lk)("textarea",{disabled:"",type:"text",placeholder:"Enter Note",class:(0,n.C4)(["form-control",{"is-invalid":i.errors.note}]),"onUpdate:modelValue":a[6]||(a[6]=e=>i.user_service.note=e)},null,2),[[s.Jo,i.user_service.note]]),i.errors.note?((0,r.uX)(),(0,r.CE)("span",$la,(0,n.v_)(i.errors.note[0]),1)):(0,r.Q3)("",!0)])]),(0,r.Lk)("div",Sla,[(0,r.Lk)("div",Ala,[(0,r.Lk)("table",Dla,[a[32]||(a[32]=(0,r.Lk)("thead",null,[(0,r.Lk)("tr",{style:{"background-color":"rgb(155, 155, 155)",color:"white"}},[(0,r.Lk)("th",null,"Asset Zone Repair"),(0,r.Lk)("th",null,"Spare"),(0,r.Lk)("th",null,"Quantity"),(0,r.Lk)("th",null,"Spare Cost")])],-1)),(0,r.Lk)("tbody",null,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(i.user_service.user_spares,((e,a)=>((0,r.uX)(),(0,r.CE)("tr",{key:a},[(0,r.Lk)("td",null,(0,n.v_)(e?.asset_zone?.zone_name)+"::"+(0,n.v_)(e?.service?.service_name),1),(0,r.Lk)("td",null,(0,n.v_)(e?.spare?.spare_name),1),(0,r.Lk)("td",null,(0,n.v_)(e?.quantity),1),(0,r.Lk)("td",null,(0,n.v_)(e?.spare_cost),1)])))),128))])])])])])])],32)])])])):(0,r.Q3)("",!0),i.show_check?((0,r.uX)(),(0,r.CE)("div",Tla,[(0,r.Lk)("div",Qla,[(0,r.Lk)("div",null,[(0,r.Lk)("ol",Vla,[(0,r.Lk)("li",Fla,[(0,r.bF)(d,{to:"/dashboard"},{default:(0,r.k6)((()=>a[34]||(a[34]=[(0,r.eW)("Dashboard")]))),_:1})]),a[35]||(a[35]=(0,r.Fv)('<li class="breadcrumb-item" data-v-a951ba64><a href="javascript:void(0)" data-v-a951ba64>Reports</a></li><li class="breadcrumb-item" aria-current="page" data-v-a951ba64><a href="javascript:void(0)" data-v-a951ba64>Asset Reports</a></li><li class="breadcrumb-item active" aria-current="page" data-v-a951ba64>View Inspection Register</li>',3))]),a[36]||(a[36]=(0,r.Lk)("h4",{class:"main-title mb-0"},"Inspection Register",-1))]),(0,r.bF)(d,{to:"/asset_reports",type:"submit",class:"btn btn-primary"},{default:(0,r.k6)((()=>a[37]||(a[37]=[(0,r.Lk)("i",{class:"ri-arrow-left-line"},null,-1),(0,r.eW)(" BACK")]))),_:1})]),(0,r.Lk)("div",Ula,[(0,r.Lk)("div",jla,[(0,r.Lk)("div",zla,[a[46]||(a[46]=(0,r.Lk)("div",{class:"card-header"},[(0,r.Lk)("h5",{class:"card-title"},"Inspection Register"),(0,r.Lk)("br")],-1)),(0,r.Lk)("div",Wla,[(0,r.Lk)("div",Rla,[(0,r.Lk)("div",qla,[(0,r.Lk)("div",Ila,[a[38]||(a[38]=(0,r.Lk)("label",{class:"form-label"},"Reference Number",-1)),(0,r.Lk)("input",{type:"text",disabled:"",class:"form-control",value:i.user_check.reference_no},null,8,Nla)]),(0,r.Lk)("div",Mla,[a[39]||(a[39]=(0,r.Lk)("label",{class:"form-label"},"Asset Code",-1)),(0,r.Lk)("input",{type:"text",disabled:"",class:"form-control",value:i.user_check?.asset?.asset_code},null,8,Kla)]),(0,r.Lk)("div",Jla,[a[40]||(a[40]=(0,r.Lk)("label",{class:"form-label"},"Department",-1)),(0,r.Lk)("input",{type:"text",disabled:"",class:"form-control",value:i.user_check?.department?.department_name},null,8,Bla)]),(0,r.Lk)("div",Ola,[a[41]||(a[41]=(0,r.Lk)("label",{class:"form-label"},"Asset Zone Service",-1)),(0,r.Lk)("input",{type:"text",disabled:"",class:"form-control",value:`${i.user_check?.asset_zone?.zone_name||"Undefined"} :: ${i.user_check?.asset_service?.service?.service_name||"Undefined"}`},null,8,Hla)]),(0,r.Lk)("div",Yla,[a[42]||(a[42]=(0,r.Lk)("label",{class:"form-label"},"Reference Date",-1)),(0,r.Lk)("input",{type:"text",disabled:"",class:"form-control",value:o.convertDateFormat(i.user_check.reference_date)},null,8,Zla)]),(0,r.Lk)("div",Gla,[a[44]||(a[44]=(0,r.Lk)("h6",{class:"mb-2"},"Asset Checks :",-1)),(0,r.Lk)("div",eia,[(0,r.Lk)("table",aia,[a[43]||(a[43]=(0,r.Lk)("thead",null,[(0,r.Lk)("tr",{style:{"background-color":"rgb(155, 155, 155)",color:"white"}},[(0,r.Lk)("th",{class:"text-center"},"#"),(0,r.Lk)("th",null,"Field name"),(0,r.Lk)("th",null,"Field Type"),(0,r.Lk)("th",null,"Default Value"),(0,r.Lk)("th",null,"Is Required"),(0,r.Lk)("th",null,"Field Values"),(0,r.Lk)("th",null,"LCL"),(0,r.Lk)("th",null,"UCL"),(0,r.Lk)("th",null,"Value")])],-1)),(0,r.Lk)("tbody",null,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(i.user_check.asset_checks,((e,a)=>((0,r.uX)(),(0,r.CE)("tr",{key:a},[(0,r.Lk)("td",tia,(0,n.v_)(a+1),1),(0,r.Lk)("td",null,(0,n.v_)(e.field_name),1),(0,r.Lk)("td",null,(0,n.v_)(e.field_type),1),(0,r.Lk)("td",null,(0,n.v_)(e.default_value),1),(0,r.Lk)("td",null,(0,n.v_)(1==e.is_required?"Yes":"No"),1),(0,r.Lk)("td",null,(0,n.v_)(e.field_values),1),(0,r.Lk)("td",null,(0,n.v_)(e.lcl),1),(0,r.Lk)("td",null,(0,n.v_)(e.ucl),1),(0,r.Lk)("td",null,(0,n.v_)(e.value),1)])))),128))])])])])]),(0,r.Lk)("div",sia,[a[45]||(a[45]=(0,r.Lk)("h6",null,"Attachments :",-1)),((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(i.user_check.user_attachments,((a,t)=>((0,r.uX)(),(0,r.CE)("div",{class:"col-2 mb-2 imageContainer",key:t},[(0,r.Lk)("a",{href:e.$store.state.apiUrl+"downloadCheckAttachment?file_name="+a.file_name},[(0,r.Lk)("img",{src:a.attachments,class:"img-fluid1",alt:"",href:a.attachments,style:{width:"120px",height:"120px"}},null,8,lia)],8,ria)])))),128))])])])])])])])):(0,r.Q3)("",!0),i.show_process?((0,r.uX)(),(0,r.CE)("div",iia,[(0,r.Lk)("div",oia,[(0,r.Lk)("div",null,[(0,r.Lk)("ol",dia,[(0,r.Lk)("li",nia,[(0,r.bF)(d,{to:"/dashboard"},{default:(0,r.k6)((()=>a[47]||(a[47]=[(0,r.eW)("Dashboard")]))),_:1})]),a[48]||(a[48]=(0,r.Fv)('<li class="breadcrumb-item" data-v-a951ba64><a href="javascript:void(0)" data-v-a951ba64>Reports</a></li><li class="breadcrumb-item" aria-current="page" data-v-a951ba64><a href="javascript:void(0)" data-v-a951ba64>Asset Reports</a></li><li class="breadcrumb-item active" aria-current="page" data-v-a951ba64>View Process Register</li>',3))]),a[49]||(a[49]=(0,r.Lk)("h4",{class:"main-title mb-0"},"Process Register",-1))]),(0,r.bF)(d,{to:"/asset_reports",type:"submit",class:"btn btn-primary"},{default:(0,r.k6)((()=>a[50]||(a[50]=[(0,r.Lk)("i",{class:"ri-arrow-left-line"},null,-1),(0,r.eW)(" BACK")]))),_:1})]),(0,r.Lk)("div",cia,[(0,r.Lk)("div",uia,[(0,r.Lk)("div",_ia,[a[57]||(a[57]=(0,r.Lk)("div",{class:"card-header"},[(0,r.Lk)("h5",{class:"card-title"},"Process Register"),(0,r.Lk)("br")],-1)),(0,r.Lk)("div",pia,[(0,r.Lk)("div",mia,[(0,r.Lk)("div",bia,[(0,r.Lk)("div",kia,[a[51]||(a[51]=(0,r.Lk)("label",{class:"form-label"},"Job Number",-1)),(0,r.Lk)("input",{type:"text",disabled:"",class:"form-control",value:i.user_variable.job_no},null,8,via)]),(0,r.Lk)("div",hia,[a[52]||(a[52]=(0,r.Lk)("label",{class:"form-label"},"Asset Code",-1)),(0,r.Lk)("input",{type:"text",disabled:"",class:"form-control",value:i.user_variable?.asset?.asset_code},null,8,yia)]),(0,r.Lk)("div",gia,[a[53]||(a[53]=(0,r.Lk)("label",{class:"form-label"},"Job Date",-1)),(0,r.Lk)("input",{type:"text",disabled:"",class:"form-control",value:o.convertDateFormat(i.user_variable.reference_date)},null,8,fia)]),(0,r.Lk)("div",Lia,[a[54]||(a[54]=(0,r.Lk)("label",{class:"form-label"},"Manual/Auto",-1)),(0,r.Lk)("input",{type:"text",class:"form-control",value:i.user_variable.log_id?"Auto":"Manual",disabled:""},null,8,Cia)]),(0,r.Lk)("div",wia,[a[56]||(a[56]=(0,r.Lk)("h6",{class:"mb-2"},"Asset Variables :",-1)),(0,r.Lk)("div",Eia,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(i.asset_zones,((e,t)=>((0,r.uX)(),(0,r.CE)("div",{class:"col-md-4",key:t},[i.user_variable.user_asset_variables[t]&&i.user_variable.user_asset_variables[t].some((e=>e?.variable?.variable_name))?((0,r.uX)(),(0,r.CE)("div",xia,[(0,r.Lk)("div",Xia,[(0,r.Lk)("h6",Pia,(0,n.v_)(e.zone_name),1)]),(0,r.Lk)("div",$ia,[(0,r.Lk)("div",Sia,[(0,r.Lk)("table",Aia,[a[55]||(a[55]=(0,r.Lk)("thead",null,[(0,r.Lk)("tr",{style:{"background-color":"rgb(155, 155, 155)",color:"white"}},[(0,r.Lk)("th",null,"Variable"),(0,r.Lk)("th",null,"Value")])],-1)),(0,r.Lk)("tbody",null,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(i.user_variable.user_asset_variables[t],((e,a)=>((0,r.uX)(),(0,r.CE)("tr",{key:a},[(0,r.Lk)("td",null,(0,n.v_)(e?.variable?.variable_name),1),(0,r.Lk)("td",null,(0,n.v_)(e.value),1)])))),128))])])])])])):(0,r.Q3)("",!0)])))),128))])])])])])])])])])):(0,r.Q3)("",!0)],64)}var Tia={components:{Search:It.A},data(){return{activity:{},user_service:{},user_check:{},user_variable:{},asset_zones:[],errors:[],show_activity:!1,show_service:!1,show_check:!1,show_process:!1}},beforeRouteEnter(e,a,t){t((a=>{if("activity"==e.params.type){a.show_activity=!0;let t={uri:"getUserActivity",data:{user_activity_id:e.params.id}};a.$store.dispatch("post",t).then((function(e){a.activity=e.data.data})).catch((function(e){a.errors=e.response.data.errors,a.$store.dispatch("error",e.response.data.message)}))}if("service"==e.params.type){a.show_service=!0;let t={uri:"getUserService",data:{user_service_id:e.params.id}};a.$store.dispatch("post",t).then((function(e){a.user_service=e.data.data})).catch((function(e){a.errors=e.response.data.errors,a.$store.dispatch("error",e.response.data.message)}))}if("user_check"==e.params.type){a.show_check=!0;let t={uri:"getUserCheck",data:{user_check_id:e.params.id}};a.$store.dispatch("post",t).then((function(e){a.user_check=e.data.data})).catch((function(e){a.errors=e.response.data.errors,a.$store.dispatch("error",e.response.data.message)}))}if("process"==e.params.type){a.show_process=!0;let t={uri:"getUserVariable",data:{user_variable_id:e.params.id}};a.$store.dispatch("post",t).then((function(e){a.user_variable=e.data.data,a.getAssetZones()})).catch((function(e){console.log("error",e),a.errors=e.response.data.errors,a.$store.dispatch("error",e.response.data.message)}))}}))},methods:{convertDateFormat(e){return sG()(e).format("YYYY-MM-DDTHH:mm")},getAssetZones(){let e=this,a=e.$loading.show();e.$store.dispatch("post",{uri:"getAssetZones",data:e.user_variable}).then((t=>{a.hide(),e.asset_zones=t.data.data})).catch((function(t){a.hide(),e.errors=t.response.data.errors,e.$store.dispatch("error",t.response.data.message)}))}}};const Qia=(0,Ze.A)(Tia,[["render",Dia],["__scopeId","data-v-a951ba64"]]);var Via=Qia;const Fia={class:"d-sm-flex align-items-center justify-content-between mb-2"},Uia={class:"breadcrumb fs-sm mb-1"},jia={class:"breadcrumb-item"},zia={class:"card card-one"},Wia={class:"card-header"},Ria={class:"nav nav-tabs card-header-tabs",id:"vendorTabs",role:"tablist"},qia={class:"nav-item",role:"presentation"},Iia={class:"nav-item",role:"presentation"},Nia={class:"card-body"},Mia={class:"tab-content",id:"vendorTabsContent"},Kia={class:"row g-3"},Jia={class:"col-md-6"},Bia=["value"],Oia={key:0,class:"text-danger"},Hia={class:"col-md-6"},Yia={key:0,class:"text-danger"},Zia={class:"col-12"},Gia={key:0,class:"row g-2"},eoa={class:"d-flex align-items-center"},aoa=["value"],toa={key:1,class:"text-muted"},soa={key:2,class:"text-danger"},roa={class:"text-end mt-4"},loa={class:"row g-3"},ioa={class:"col-md-4"},ooa=["value"],doa={key:0,class:"text-danger"},noa={class:"col-md-4"},coa={key:0,class:"text-danger"},uoa={class:"col-md-4"},_oa={key:0,class:"text-danger"},poa={key:0,class:"col-12"},moa={class:"mb-3"},boa={class:"d-flex align-items-center fw-bold text-primary"},koa=["checked","indeterminate"],voa={class:"row g-2"},hoa={class:"d-flex align-items-center"},yoa=["value"],goa={class:"fw-medium"},foa={key:0,class:"text-danger"},Loa={key:1,class:"col-12 text-muted"},Coa={class:"text-end mt-4"};function woa(e,a,t,l,i,o){const d=(0,r.g2)("router-link"),c=(0,r.g2)("search"),u=(0,r.g2)("MultiSelect");return(0,r.uX)(),(0,r.CE)("div",null,[(0,r.Lk)("div",Fia,[(0,r.Lk)("div",null,[(0,r.Lk)("ol",Uia,[(0,r.Lk)("li",jia,[(0,r.bF)(d,{to:"/dashboard"},{default:(0,r.k6)((()=>a[12]||(a[12]=[(0,r.eW)("Dashboard")]))),_:1})]),a[13]||(a[13]=(0,r.Lk)("li",{class:"breadcrumb-item"},[(0,r.Lk)("a",{href:"javascript:void(0)"},"Registers")],-1)),a[14]||(a[14]=(0,r.Lk)("li",{class:"breadcrumb-item active","aria-current":"page"},"Update Vendors",-1))]),a[15]||(a[15]=(0,r.Lk)("h4",{class:"main-title mb-0"},"Update Vendors",-1))])]),(0,r.Lk)("div",zia,[(0,r.Lk)("div",Wia,[(0,r.Lk)("ul",Ria,[(0,r.Lk)("li",qia,[(0,r.Lk)("button",{class:(0,n.C4)(["nav-link",{active:"inspection"===i.activeTab}]),onClick:a[0]||(a[0]=e=>i.activeTab="inspection"),type:"button",role:"tab"}," Inspection Vendors ",2)]),(0,r.Lk)("li",Iia,[(0,r.Lk)("button",{class:(0,n.C4)(["nav-link",{active:"spare"===i.activeTab}]),onClick:a[1]||(a[1]=e=>i.activeTab="spare"),type:"button",role:"tab"}," Spare Vendors ",2)])])]),(0,r.Lk)("div",Nia,[(0,r.Lk)("div",Mia,[(0,r.Lk)("div",{class:(0,n.C4)(["tab-pane fade",{"show active":"inspection"===i.activeTab}]),role:"tabpanel"},[(0,r.Lk)("form",{onSubmit:a[5]||(a[5]=(0,s.D$)(((...e)=>o.submitInspectionForm&&o.submitInspectionForm(...e)),["prevent"]))},[(0,r.Lk)("div",Kia,[(0,r.Lk)("div",Jia,[a[17]||(a[17]=(0,r.Lk)("label",{class:"form-label"},[(0,r.eW)("Vendor "),(0,r.Lk)("span",{class:"text-danger"},"*")],-1)),(0,r.bo)((0,r.Lk)("select",{class:(0,n.C4)(["form-select align-control",{"is-invalid":i.inspectionErrors.vendor}]),"onUpdate:modelValue":a[2]||(a[2]=e=>i.inspection.vendor=e),id:"vendor_inspection"},[a[16]||(a[16]=(0,r.Lk)("option",{value:"",disabled:""},"Select Vendor",-1)),((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(i.vendors,(e=>((0,r.uX)(),(0,r.CE)("option",{key:e,value:e},(0,n.v_)(e),9,Bia)))),128))],2),[[s.u1,i.inspection.vendor]]),i.inspectionErrors.vendor?((0,r.uX)(),(0,r.CE)("small",Oia,(0,n.v_)(i.inspectionErrors.vendor[0]),1)):(0,r.Q3)("",!0)]),(0,r.Lk)("div",Hia,[a[18]||(a[18]=(0,r.Lk)("label",{class:"form-label"},[(0,r.eW)("Service "),(0,r.Lk)("span",{class:"text-danger"},"*")],-1)),(0,r.bF)(c,{class:(0,n.C4)({"is-invalid":i.inspectionErrors.service_id}),customClass:{"is-invalid":i.inspectionErrors.service_id},initialize:i.inspection.service_id,id:"service_id",label:"service_name",placeholder:"Select Service",data:i.services,onInput:o.onServiceSelect},null,8,["class","customClass","initialize","data","onInput"]),i.inspectionErrors.service_id?((0,r.uX)(),(0,r.CE)("small",Yia,(0,n.v_)(i.inspectionErrors.service_id[0]),1)):(0,r.Q3)("",!0)]),(0,r.Lk)("div",Zia,[a[19]||(a[19]=(0,r.Lk)("label",{class:"form-label"},[(0,r.eW)("Assets "),(0,r.Lk)("span",{class:"text-danger"},"*")],-1)),i.inspection_assets.length?((0,r.uX)(),(0,r.CE)("div",Gia,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(i.inspection_assets,(e=>((0,r.uX)(),(0,r.CE)("div",{key:e.asset_id,class:"col-md-4 col-sm-6"},[(0,r.Lk)("label",eoa,[(0,r.bo)((0,r.Lk)("input",{type:"checkbox","onUpdate:modelValue":a[3]||(a[3]=e=>i.inspection.assets_obj=e),value:e,class:"me-2 custom-checkbox"},null,8,aoa),[[s.lH,i.inspection.assets_obj]]),(0,r.eW)(" "+(0,n.v_)(e.asset_name),1)])])))),128))])):((0,r.uX)(),(0,r.CE)("div",toa,"No assets available. Please select a service.")),i.inspectionErrors.assets?((0,r.uX)(),(0,r.CE)("small",soa,(0,n.v_)(i.inspectionErrors.assets[0]),1)):(0,r.Q3)("",!0)])]),(0,r.Lk)("div",roa,[(0,r.Lk)("button",{type:"button",onClick:a[4]||(a[4]=(...e)=>o.resetInspection&&o.resetInspection(...e)),class:"btn btn-secondary me-2"},"Reset"),a[20]||(a[20]=(0,r.Lk)("button",{type:"submit",class:"btn btn-primary"},"Update Inspection Vendors",-1))])],32)],2),(0,r.Lk)("div",{class:(0,n.C4)(["tab-pane fade",{"show active":"spare"===i.activeTab}]),role:"tabpanel"},[(0,r.Lk)("form",{onSubmit:a[11]||(a[11]=(0,s.D$)(((...e)=>o.submitSpareForm&&o.submitSpareForm(...e)),["prevent"]))},[(0,r.Lk)("div",loa,[(0,r.Lk)("div",ioa,[a[22]||(a[22]=(0,r.Lk)("label",{class:"form-label"},[(0,r.eW)("Vendor "),(0,r.Lk)("span",{class:"text-danger"},"*")],-1)),(0,r.bo)((0,r.Lk)("select",{class:(0,n.C4)(["form-select align-control",{"is-invalid":i.spareErrors.vendor}]),"onUpdate:modelValue":a[6]||(a[6]=e=>i.spare_list.vendor=e),id:"vendor_spare"},[a[21]||(a[21]=(0,r.Lk)("option",{value:"",disabled:""},"Select Vendor",-1)),((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(i.vendors,(e=>((0,r.uX)(),(0,r.CE)("option",{key:e,value:e},(0,n.v_)(e),9,ooa)))),128))],2),[[s.u1,i.spare_list.vendor]]),i.spareErrors.vendor?((0,r.uX)(),(0,r.CE)("small",doa,(0,n.v_)(i.spareErrors.vendor[0]),1)):(0,r.Q3)("",!0)]),(0,r.Lk)("div",noa,[a[23]||(a[23]=(0,r.Lk)("label",{class:"form-label"},[(0,r.eW)("Service "),(0,r.Lk)("span",{class:"text-danger"},"*")],-1)),(0,r.bF)(c,{class:(0,n.C4)({"is-invalid":i.spareErrors.service_id}),customClass:{"is-invalid":i.spareErrors.service_id},initialize:i.spare_list.service_id,id:"service_id",label:"service_name",placeholder:"Select Service",data:i.spare_services,onInput:o.onSpareSelect},null,8,["class","customClass","initialize","data","onInput"]),i.spareErrors.service_id?((0,r.uX)(),(0,r.CE)("small",coa,(0,n.v_)(i.spareErrors.service_id[0]),1)):(0,r.Q3)("",!0)]),(0,r.Lk)("div",uoa,[a[24]||(a[24]=(0,r.Lk)("label",{class:"form-label"},[(0,r.eW)("Assets "),(0,r.Lk)("span",{class:"text-danger"},"*")],-1)),(0,r.bF)(u,{modelValue:i.spare_list.selected_assets,"onUpdate:modelValue":a[7]||(a[7]=e=>i.spare_list.selected_assets=e),options:i.spare_assets,optionLabel:"asset_name",optionValue:"asset_id",class:(0,n.C4)([{"is-invalid":i.spareErrors.selected_assets},"multiselect-fix"]),id:"assets_spare",placeholder:"Select Assets",dataKey:"asset_id",display:"chip",filter:!0,showClear:!0,maxSelectedLabels:2,selectedItemsLabel:"{0} assets selected",appendTo:"body",onChange:o.onMultiAssetsChange},null,8,["modelValue","options","class","onChange"]),i.spareErrors.selected_assets?((0,r.uX)(),(0,r.CE)("small",_oa,(0,n.v_)(i.spareErrors.selected_assets[0]),1)):(0,r.Q3)("",!0)]),i.asset_spares.length?((0,r.uX)(),(0,r.CE)("div",poa,[a[26]||(a[26]=(0,r.Lk)("label",{class:"form-label"},[(0,r.eW)("Select Spares "),(0,r.Lk)("span",{class:"text-danger"},"*")],-1)),(0,r.Lk)("div",moa,[(0,r.Lk)("label",boa,[(0,r.Lk)("input",{type:"checkbox",checked:o.allSparesSelected,indeterminate:o.someSparesSelected&&!o.allSparesSelected,onChange:a[8]||(a[8]=(...e)=>o.toggleSelectAll&&o.toggleSelectAll(...e)),class:"me-2 custom-checkbox"},null,40,koa),a[25]||(a[25]=(0,r.Lk)("span",null,"Select All Spares",-1))])]),(0,r.Lk)("div",voa,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(i.asset_spares,(e=>((0,r.uX)(),(0,r.CE)("div",{key:e.asset_spare_id,class:"col-md-4 col-sm-6"},[(0,r.Lk)("label",hoa,[(0,r.bo)((0,r.Lk)("input",{type:"checkbox","onUpdate:modelValue":a[9]||(a[9]=e=>i.spare_list.selected_spares=e),value:e,class:"me-2 custom-checkbox"},null,8,yoa),[[s.lH,i.spare_list.selected_spares]]),(0,r.Lk)("div",goa,(0,n.v_)(e.spare?.spare_name||"N/A"),1)])])))),128))]),i.spareErrors.selected_spares?((0,r.uX)(),(0,r.CE)("small",foa,(0,n.v_)(i.spareErrors.selected_spares[0]),1)):(0,r.Q3)("",!0)])):i.spare_list.selected_assets&&i.spare_list.selected_assets.length?((0,r.uX)(),(0,r.CE)("div",Loa," No spares available for the selected assets. ")):(0,r.Q3)("",!0)]),(0,r.Lk)("div",Coa,[(0,r.Lk)("button",{type:"button",onClick:a[10]||(a[10]=(...e)=>o.resetSpare&&o.resetSpare(...e)),class:"btn btn-secondary me-2"},"Reset"),a[27]||(a[27]=(0,r.Lk)("button",{type:"submit",class:"btn btn-primary"},"Update Spare Vendors",-1))])],32)],2)])])])])}var Eoa={components:{Search:It.A,MultiSelect:Ru.A},data(){return{activeTab:"inspection",vendors:[],services:[],spare_services:[],inspection:{vendor:"",service_id:"",assets_obj:[]},inspection_assets:[],inspectionErrors:{},spare_list:{vendor:"",service_id:"",selected_assets:[],selected_spares:[]},spare_assets:[],asset_spares:[],spareErrors:{},errors:""}},computed:{allSparesSelected(){return this.asset_spares.length>0&&this.asset_spares.every((e=>this.spare_list.selected_spares.some((a=>a.asset_spare_id===e.asset_spare_id))))},someSparesSelected(){return this.spare_list.selected_spares.length>0}},beforeRouteEnter(e,a,t){t((e=>e.userVendors()))},methods:{userVendors(){const e=this.$loading.show();this.$store.dispatch("post",{uri:"userVendors"}).then((a=>{e.hide(),this.vendors=a.data.vendors||[],this.getServices(),this.getSpares()})).catch((a=>{e.hide(),this.$store.dispatch("error",a?.response?.data?.message||"Failed")}))},getServices(){const e=this.$loading.show();this.$store.dispatch("post",{uri:"getAssetVendorServices"}).then((a=>{e.hide(),this.services=a.data.data||[]})).catch((a=>{e.hide(),this.$store.dispatch("error",a?.response?.data?.message||"Failed")}))},getSpares(){const e=this.$loading.show();this.$store.dispatch("post",{uri:"getAssetVendorSpares"}).then((a=>{e.hide(),this.spare_services=a.data.data||[]})).catch((a=>{e.hide(),this.$store.dispatch("error",a?.response?.data?.message||"Failed")}))},onServiceSelect(e){if(this.inspection.service_id=e,!e)return this.inspection_assets=[],void(this.inspection.assets_obj=[]);const a=this.$loading.show();this.$store.dispatch("post",{uri:"getAssetVendorServiceAssets",data:{service_id:e}}).then((e=>{a.hide(),this.inspection_assets=e.data.data||[],this.inspection.assets_obj=[]})).catch((e=>{a.hide(),this.$store.dispatch("error",e?.response?.data?.message||"Failed")}))},onSpareSelect(e){if(this.spare_list.service_id=e,!e)return this.spare_assets=[],this.spare_list.selected_assets=[],this.spare_list.selected_spares=[],void(this.asset_spares=[]);const a=this.$loading.show();this.$store.dispatch("post",{uri:"getAssetVendorSpareAssets",data:{service_id:e}}).then((e=>{a.hide(),this.spare_assets=e.data.data||[],this.spare_list.selected_assets=[],this.spare_list.selected_spares=[],this.asset_spares=[]})).catch((e=>{a.hide(),this.$store.dispatch("error",e?.response?.data?.message||"Failed")}))},onMultiAssetsChange(){if(!this.spare_list.selected_assets||!this.spare_list.selected_assets.length||!this.spare_list.service_id)return this.asset_spares=[],void(this.spare_list.selected_spares=[]);const e=this.spare_list.selected_assets,a=this.$loading.show();this.$store.dispatch("post",{uri:"getAssetVendorAssetspares",data:{asset_ids:e,service_id:this.spare_list.service_id}}).then((e=>{if(a.hide(),e.data&&e.data.asset_spares){const a=e.data.asset_spares.filter(((e,a,t)=>a===t.findIndex((a=>a.asset_spare_id===e.asset_spare_id))));this.asset_spares=a,this.spare_list.selected_spares=this.spare_list.selected_spares.filter((e=>a.some((a=>a.asset_spare_id===e.asset_spare_id))))}else this.asset_spares=[],this.spare_list.selected_spares=[]})).catch((e=>{a.hide(),this.$store.dispatch("error",e?.response?.data?.message||"Failed"),this.asset_spares=[],this.spare_list.selected_spares=[]}))},toggleSelectAll(e){const a=e.target.checked;if(a){const e=this.asset_spares.filter((e=>!this.spare_list.selected_spares.some((a=>a.asset_spare_id===e.asset_spare_id))));this.spare_list.selected_spares.push(...e)}else this.spare_list.selected_spares=this.spare_list.selected_spares.filter((e=>!this.asset_spares.some((a=>a.asset_spare_id===e.asset_spare_id))))},submitInspectionForm(){if(this.inspectionErrors={},!this.inspection.vendor||!this.inspection.service_id||!this.inspection.assets_obj.length)return this.inspectionErrors={vendor:this.inspection.vendor?void 0:["Vendor is required."],service_id:this.inspection.service_id?void 0:["Service is required."],assets:this.inspection.assets_obj.length?void 0:["At least one asset is required."]},void this.$store.dispatch("error","Please fill all required fields.");const e={vendor:this.inspection.vendor,service_id:this.inspection.service_id,assets:this.inspection.assets_obj.map((e=>e.asset_id))},a=this.$loading.show();this.$store.dispatch("post",{uri:"bulkUpdateInspectionVendors",data:e}).then((e=>{a.hide(),this.$store.dispatch("success",e.data.message||"Updated"),this.resetInspection()})).catch((e=>{a.hide(),this.$store.dispatch("error",e?.response?.data?.message||"Failed")}))},submitSpareForm(){if(this.spareErrors={},!this.spare_list.vendor||!this.spare_list.service_id||!this.spare_list.selected_assets||!this.spare_list.selected_assets.length||!this.spare_list.selected_spares.length)return this.spareErrors={vendor:this.spare_list.vendor?void 0:["Vendor is required."],service_id:this.spare_list.service_id?void 0:["Service is required."],selected_assets:this.spare_list.selected_assets&&this.spare_list.selected_assets.length?void 0:["At least one asset is required."],selected_spares:this.spare_list.selected_spares.length?void 0:["At least one spare must be selected."]},void this.$store.dispatch("error","Please fill all required fields.");const e={vendor:this.spare_list.vendor,service_id:this.spare_list.service_id,asset_ids:this.spare_list.selected_assets,asset_spare_ids:this.spare_list.selected_spares.map((e=>e.asset_spare_id)),spare_ids:this.spare_list.selected_spares.map((e=>e.spare_id))},a=this.$loading.show();this.$store.dispatch("post",{uri:"bulkUpdateSpareVendors",data:e}).then((e=>{a.hide(),this.$store.dispatch("success",e.data.message||"Updated"),this.resetSpare()})).catch((e=>{a.hide(),this.$store.dispatch("error",e?.response?.data?.message||"Failed")}))},resetInspection(){this.inspection={vendor:"",service_id:"",assets_obj:[]},this.inspection_assets=[],this.inspectionErrors={}},resetSpare(){this.spare_list={vendor:"",service_id:"",selected_assets:[],selected_spares:[]},this.spare_assets=[],this.asset_spares=[],this.spareErrors={}}}};const xoa=(0,Ze.A)(Eoa,[["render",woa],["__scopeId","data-v-1069e71e"]]);var Xoa=xoa;const Poa={class:""},$oa={class:"d-sm-flex align-items-center justify-content-between mb-2"},Soa={class:"breadcrumb fs-sm mb-1"},Aoa={class:"breadcrumb-item","aria-current":"page"},Doa={class:"row"},Toa={class:"col-12"},Qoa={class:"card card-one"},Voa={class:"card-body"},Foa={class:"table-responsive table-responsive-sm"},Uoa={class:"table table-sm text-nowrap table-striped table-bordered mb-0"},joa={style:{"background-color":"#9b9b9b",color:"white"}},zoa={class:"text-center"},Woa={class:"text-center"},Roa=["onClick"],qoa={class:"text-center"},Ioa=["onClick"],Noa=["onClick"],Moa=["onClick"],Koa={key:0},Joa={class:"card-footer"},Boa={class:"d-flex justify-content-between align-items-center"},Ooa={class:"modal fade",id:"alertModal",tabindex:"-1","aria-labelledby":"alertModalLabel","aria-hidden":"true"},Hoa={class:"modal-dialog modal-xl alert-modal-custom"},Yoa={class:"modal-content"},Zoa={class:"modal-header"},Goa={class:"modal-title",id:"alertModalLabel"},eda={class:"modal-body"},ada={class:"row g-3"},tda={class:"col-md-6"},sda=["value"],rda={key:2,class:"text-danger"},lda={class:"col-md-6"},ida=["readonly","disabled"],oda={key:0,class:"text-danger"},dda={class:"col-md-4"},nda=["readonly","disabled"],cda={key:0,class:"text-danger"},uda={class:"col-md-4"},_da=["readonly","disabled"],pda={key:0,class:"text-danger"},mda={class:"col-md-4"},bda=["readonly","disabled"],kda={key:0,class:"text-danger"},vda={class:"col-md-4"},hda=["readonly","disabled"],yda={key:0,class:"text-danger"},gda={class:"col-md-4"},fda=["readonly","disabled"],Lda={key:0,class:"text-danger"},Cda={class:"col-md-4"},wda=["readonly","disabled"],Eda={key:0,class:"text-danger"},xda={class:"col-md-4"},Xda=["readonly","disabled"],Pda={key:0,class:"text-danger"},$da={class:"col-md-4"},Sda=["readonly","disabled"],Ada={key:0,class:"text-danger"},Dda={class:"col-md-4"},Tda=["readonly","disabled"],Qda={key:0,class:"text-danger"},Vda={class:"modal-footer"},Fda={key:0},Uda={key:1};function jda(e,a,t,l,i,o){const d=(0,r.g2)("router-link"),c=(0,r.g2)("Pagination"),u=(0,r.g2)("search"),_=(0,r.gN)("can");return(0,r.uX)(),(0,r.CE)("div",Poa,[(0,r.Lk)("div",$oa,[(0,r.Lk)("div",null,[(0,r.Lk)("ol",Soa,[(0,r.Lk)("li",Aoa,[(0,r.bF)(d,{to:"/dashboard"},{default:(0,r.k6)((()=>a[20]||(a[20]=[(0,r.eW)("Dashboard")]))),_:1})]),a[21]||(a[21]=(0,r.Lk)("li",{class:"breadcrumb-item"},[(0,r.Lk)("a",{href:"javascript:void(0)"},"Reviews")],-1)),a[22]||(a[22]=(0,r.Lk)("li",{class:"breadcrumb-item active","aria-current":"page"},"Alerts",-1))]),a[23]||(a[23]=(0,r.Lk)("h4",{class:"main-title mb-0"},"Alerts",-1))]),(0,r.Lk)("div",null,[(0,r.bo)(((0,r.uX)(),(0,r.CE)("button",{type:"button",class:"btn btn-primary",onClick:a[0]||(a[0]=(...e)=>o.openCreateModal&&o.openCreateModal(...e))},a[24]||(a[24]=[(0,r.Lk)("i",{class:"ri-add-line fs-18 lh-1"},null,-1),(0,r.eW)(" Add Alert ")]))),[[_,"alerts.create"]])])]),(0,r.Lk)("div",Doa,[(0,r.Lk)("div",Toa,[(0,r.Lk)("div",Qoa,[a[37]||(a[37]=(0,r.Lk)("div",{class:"card-header d-flex justify-content-between"},[(0,r.Lk)("h6",{class:"card-title"},"Alerts")],-1)),(0,r.Lk)("div",Voa,[(0,r.bo)((0,r.Lk)("input",{class:"form-control form-control-sm mb-2",type:"text",placeholder:"Type keyword and press enter key","onUpdate:modelValue":a[1]||(a[1]=e=>i.meta.search=e),onKeypress:a[2]||(a[2]=(0,s.jR)(((...e)=>o.search&&o.search(...e)),["enter"]))},null,544),[[s.Jo,i.meta.search]]),(0,r.Lk)("div",Foa,[(0,r.Lk)("table",Uoa,[(0,r.Lk)("thead",null,[(0,r.Lk)("tr",joa,[a[28]||(a[28]=(0,r.Lk)("th",{class:"text-center"},"#",-1)),(0,r.Lk)("th",{onClick:a[3]||(a[3]=e=>o.sort("asset_type_id"))},[a[25]||(a[25]=(0,r.eW)(" Asset Type ")),(0,r.Lk)("span",null,[(0,r.Lk)("i",{class:(0,n.C4)(o.sortIcon("asset_type_id"))},null,2)])]),(0,r.Lk)("th",{onClick:a[4]||(a[4]=e=>o.sort("check"))},[a[26]||(a[26]=(0,r.eW)(" Check ")),(0,r.Lk)("span",null,[(0,r.Lk)("i",{class:(0,n.C4)(o.sortIcon("check"))},null,2)])]),a[29]||(a[29]=(0,r.Lk)("th",null,"Stage 1 Conditions",-1)),a[30]||(a[30]=(0,r.Lk)("th",null,"Stage 2 Conditions",-1)),a[31]||(a[31]=(0,r.Lk)("th",null,"Stage 3 Conditions",-1)),(0,r.bo)(((0,r.uX)(),(0,r.CE)("th",zoa,a[27]||(a[27]=[(0,r.eW)("Actions")]))),[[_,["alerts.update","alerts.delete","alerts.view"]]])])]),(0,r.Lk)("tbody",null,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(i.alerts,((e,t)=>((0,r.uX)(),(0,r.CE)("tr",{key:e.alert_id},[(0,r.Lk)("td",Woa,(0,n.v_)(i.meta.from+t),1),(0,r.Lk)("td",null,[(0,r.Lk)("a",{href:"javascript:void(0)",class:"text-primary",style:{cursor:"pointer","text-decoration":"none"},onClick:a=>o.openEditModal(e),title:"edit alert"},(0,n.v_)(e?.asset_type?.asset_type_name||""),9,Roa)]),(0,r.Lk)("td",null,(0,n.v_)(e?.check||""),1),(0,r.Lk)("td",null,(0,n.v_)(e?.stage_1_conditions||""),1),(0,r.Lk)("td",null,(0,n.v_)(e?.stage_2_conditions||""),1),(0,r.Lk)("td",null,(0,n.v_)(e?.stage_3_conditions||""),1),(0,r.bo)(((0,r.uX)(),(0,r.CE)("td",qoa,[(0,r.bo)(((0,r.uX)(),(0,r.CE)("a",{href:"javascript:void(0)",class:"text-success",style:{"margin-right":"8px"},onClick:a=>o.openEditModal(e),title:"Edit Alert"},a[32]||(a[32]=[(0,r.Lk)("i",{class:"ri-pencil-line fs-18 lh-1"},null,-1)]),8,Ioa)),[[_,"alerts.update"]]),(0,r.bo)(((0,r.uX)(),(0,r.CE)("a",{href:"javascript:void(0)",class:"text-primary me-2",style:{"margin-right":"8px"},onClick:a=>o.openViewModal(e),title:"View Alert"},a[33]||(a[33]=[(0,r.Lk)("i",{class:"ri-eye-fill fs-18 lh-1"},null,-1)]),8,Noa)),[[_,"alerts.view"]]),(0,r.bo)(((0,r.uX)(),(0,r.CE)("a",{href:"javascript:void(0)",class:"text-danger",onClick:a=>o.deleteAlert(e),title:"Delete Alert"},a[34]||(a[34]=[(0,r.Lk)("i",{class:"ri-delete-bin-line fs-18 lh-1"},null,-1)]),8,Moa)),[[_,"alerts.delete"]])])),[[_,["alerts.update","alerts.delete","alerts.view"]]])])))),128)),0===i.alerts.length?((0,r.uX)(),(0,r.CE)("tr",Koa,a[35]||(a[35]=[(0,r.Lk)("td",{colspan:"13",class:"text-center"},"No records found",-1)]))):(0,r.Q3)("",!0)])])])]),(0,r.Lk)("div",Joa,[(0,r.Lk)("div",Boa,[(0,r.bo)((0,r.Lk)("select",{class:"form-select form-select-sm width-75","onUpdate:modelValue":a[5]||(a[5]=e=>i.meta.per_page=e),onChange:a[6]||(a[6]=(...e)=>o.onPerPageChange&&o.onPerPageChange(...e))},a[36]||(a[36]=[(0,r.Lk)("option",null,"10",-1),(0,r.Lk)("option",null,"15",-1),(0,r.Lk)("option",null,"20",-1),(0,r.Lk)("option",null,"25",-1),(0,r.Lk)("option",null,"30",-1)]),544),[[s.u1,i.meta.per_page]]),(0,r.Lk)("span",null,"Showing "+(0,n.v_)(i.meta.from)+" to "+(0,n.v_)(i.meta.to)+" of "+(0,n.v_)(i.meta.totalRows)+" entries",1),(0,r.bF)(c,{maxPage:i.meta.maxPage,totalPages:i.meta.lastPage,currentPage:parseInt(i.meta.page),onPagechanged:o.onPageChange},null,8,["maxPage","totalPages","currentPage","onPagechanged"])])])])])]),(0,r.Lk)("div",Ooa,[(0,r.Lk)("div",Hoa,[(0,r.Lk)("div",Yoa,[(0,r.Lk)("div",Zoa,[(0,r.Lk)("h5",Goa,(0,n.v_)(i.viewMode?"View Alert":i.isEditMode?"Edit Alert":"Add Alert"),1),a[38]||(a[38]=(0,r.Lk)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1))]),(0,r.Lk)("div",eda,[(0,r.Lk)("form",{onSubmit:a[18]||(a[18]=(0,s.D$)(((...e)=>o.submitForm&&o.submitForm(...e)),["prevent"]))},[(0,r.Lk)("div",ada,[(0,r.Lk)("div",tda,[a[39]||(a[39]=(0,r.Lk)("label",{class:"form-label"},[(0,r.eW)("Asset Type "),(0,r.Lk)("span",{class:"text-danger"},"*")],-1)),i.viewMode||i.isEditMode?((0,r.uX)(),(0,r.CE)("input",{key:1,type:"text",class:"form-control",value:o.getAssetTypeName(i.form.asset_type_id),readonly:"",disabled:""},null,8,sda)):((0,r.uX)(),(0,r.Wv)(u,{key:0,class:(0,n.C4)({"is-invalid":i.errors?.asset_type_id}),customClass:{"is-invalid":i.errors?.asset_type_id},initialize:i.form.asset_type_id,id:"asset_type_id",label:"asset_type_name",placeholder:"Select Asset Type",data:i.asset_types,onInput:a[7]||(a[7]=e=>i.form.asset_type_id=e)},null,8,["class","customClass","initialize","data"])),i.errors?.asset_type_id?((0,r.uX)(),(0,r.CE)("small",rda,(0,n.v_)(i.errors.asset_type_id[0]),1)):(0,r.Q3)("",!0)]),(0,r.Lk)("div",lda,[a[40]||(a[40]=(0,r.Lk)("label",{class:"form-label"},[(0,r.eW)("Check "),(0,r.Lk)("span",{class:"text-danger"},"*")],-1)),(0,r.bo)((0,r.Lk)("input",{type:"text",class:(0,n.C4)(["form-control",{"is-invalid":i.errors?.check}]),"onUpdate:modelValue":a[8]||(a[8]=e=>i.form.check=e),placeholder:"Enter Check",readonly:i.viewMode||i.isEditMode,disabled:i.viewMode||i.isEditMode},null,10,ida),[[s.Jo,i.form.check]]),i.errors?.check?((0,r.uX)(),(0,r.CE)("small",oda,(0,n.v_)(i.errors.check[0]),1)):(0,r.Q3)("",!0)]),(0,r.Lk)("div",dda,[a[41]||(a[41]=(0,r.Lk)("label",{class:"form-label"},"Stage 1 Conditions",-1)),(0,r.bo)((0,r.Lk)("input",{type:"text",class:(0,n.C4)(["form-control",{"is-invalid":i.errors?.stage_1_conditions}]),"onUpdate:modelValue":a[9]||(a[9]=e=>i.form.stage_1_conditions=e),placeholder:"Enter Stage 1 Conditions",readonly:i.viewMode||i.isEditMode,disabled:i.viewMode||i.isEditMode},null,10,nda),[[s.Jo,i.form.stage_1_conditions]]),i.errors?.stage_1_conditions?((0,r.uX)(),(0,r.CE)("small",cda,(0,n.v_)(i.errors.stage_1_conditions[0]),1)):(0,r.Q3)("",!0)]),(0,r.Lk)("div",uda,[a[42]||(a[42]=(0,r.Lk)("label",{class:"form-label"},"Stage 2 Conditions",-1)),(0,r.bo)((0,r.Lk)("input",{type:"text",class:(0,n.C4)(["form-control",{"is-invalid":i.errors?.stage_2_conditions}]),"onUpdate:modelValue":a[10]||(a[10]=e=>i.form.stage_2_conditions=e),placeholder:"Enter Stage 2 Conditions",readonly:i.viewMode||i.isEditMode,disabled:i.viewMode||i.isEditMode},null,10,_da),[[s.Jo,i.form.stage_2_conditions]]),i.errors?.stage_2_conditions?((0,r.uX)(),(0,r.CE)("small",pda,(0,n.v_)(i.errors.stage_2_conditions[0]),1)):(0,r.Q3)("",!0)]),(0,r.Lk)("div",mda,[a[43]||(a[43]=(0,r.Lk)("label",{class:"form-label"},"Stage 3 Conditions",-1)),(0,r.bo)((0,r.Lk)("input",{type:"text",class:(0,n.C4)(["form-control",{"is-invalid":i.errors?.stage_3_conditions}]),"onUpdate:modelValue":a[11]||(a[11]=e=>i.form.stage_3_conditions=e),placeholder:"Enter Stage 3 Conditions",readonly:i.viewMode||i.isEditMode,disabled:i.viewMode||i.isEditMode},null,10,bda),[[s.Jo,i.form.stage_3_conditions]]),i.errors?.stage_3_conditions?((0,r.uX)(),(0,r.CE)("small",kda,(0,n.v_)(i.errors.stage_3_conditions[0]),1)):(0,r.Q3)("",!0)]),(0,r.Lk)("div",vda,[a[44]||(a[44]=(0,r.Lk)("label",{class:"form-label"},"Stage 1 Values",-1)),(0,r.bo)((0,r.Lk)("input",{type:"text",class:(0,n.C4)(["form-control",{"is-invalid":i.errors?.stage_1_values}]),"onUpdate:modelValue":a[12]||(a[12]=e=>i.form.stage_1_values=e),placeholder:"Enter Stage 1 Values",readonly:i.viewMode||i.isEditMode,disabled:i.viewMode||i.isEditMode},null,10,hda),[[s.Jo,i.form.stage_1_values]]),i.errors?.stage_1_values?((0,r.uX)(),(0,r.CE)("small",yda,(0,n.v_)(i.errors.stage_1_values[0]),1)):(0,r.Q3)("",!0)]),(0,r.Lk)("div",gda,[a[45]||(a[45]=(0,r.Lk)("label",{class:"form-label"},"Stage 2 Values",-1)),(0,r.bo)((0,r.Lk)("input",{type:"text",class:(0,n.C4)(["form-control",{"is-invalid":i.errors?.stage_2_values}]),"onUpdate:modelValue":a[13]||(a[13]=e=>i.form.stage_2_values=e),placeholder:"Enter Stage 2 Values",readonly:i.viewMode||i.isEditMode,disabled:i.viewMode||i.isEditMode},null,10,fda),[[s.Jo,i.form.stage_2_values]]),i.errors?.stage_2_values?((0,r.uX)(),(0,r.CE)("small",Lda,(0,n.v_)(i.errors.stage_2_values[0]),1)):(0,r.Q3)("",!0)]),(0,r.Lk)("div",Cda,[a[46]||(a[46]=(0,r.Lk)("label",{class:"form-label"},"Stage 3 Values",-1)),(0,r.bo)((0,r.Lk)("input",{type:"text",class:(0,n.C4)(["form-control",{"is-invalid":i.errors?.stage_3_values}]),"onUpdate:modelValue":a[14]||(a[14]=e=>i.form.stage_3_values=e),placeholder:"Enter Stage 3 Values",readonly:i.viewMode||i.isEditMode,disabled:i.viewMode||i.isEditMode},null,10,wda),[[s.Jo,i.form.stage_3_values]]),i.errors?.stage_3_values?((0,r.uX)(),(0,r.CE)("small",Eda,(0,n.v_)(i.errors.stage_3_values[0]),1)):(0,r.Q3)("",!0)]),(0,r.Lk)("div",xda,[a[47]||(a[47]=(0,r.Lk)("label",{class:"form-label"},"Stage 1 Emails",-1)),(0,r.bo)((0,r.Lk)("textarea",{class:(0,n.C4)(["form-control",{"is-invalid":i.errors?.stage_1_emails}]),"onUpdate:modelValue":a[15]||(a[15]=e=>i.form.stage_1_emails=e),placeholder:"Enter Stage 1 Emails",rows:"4",readonly:i.viewMode,disabled:i.viewMode},null,10,Xda),[[s.Jo,i.form.stage_1_emails]]),i.errors?.stage_1_emails?((0,r.uX)(),(0,r.CE)("small",Pda,(0,n.v_)(i.errors.stage_1_emails[0]),1)):(0,r.Q3)("",!0)]),(0,r.Lk)("div",$da,[a[48]||(a[48]=(0,r.Lk)("label",{class:"form-label"},"Stage 2 Emails",-1)),(0,r.bo)((0,r.Lk)("textarea",{class:(0,n.C4)(["form-control",{"is-invalid":i.errors?.stage_2_emails}]),"onUpdate:modelValue":a[16]||(a[16]=e=>i.form.stage_2_emails=e),placeholder:"Enter Stage 2 Emails",rows:"4",readonly:i.viewMode,disabled:i.viewMode},null,10,Sda),[[s.Jo,i.form.stage_2_emails]]),i.errors?.stage_2_emails?((0,r.uX)(),(0,r.CE)("small",Ada,(0,n.v_)(i.errors.stage_2_emails[0]),1)):(0,r.Q3)("",!0)]),(0,r.Lk)("div",Dda,[a[49]||(a[49]=(0,r.Lk)("label",{class:"form-label"},"Stage 3 Emails",-1)),(0,r.bo)((0,r.Lk)("textarea",{class:(0,n.C4)(["form-control",{"is-invalid":i.errors?.stage_3_emails}]),"onUpdate:modelValue":a[17]||(a[17]=e=>i.form.stage_3_emails=e),placeholder:"Enter Stage 3 Emails",rows:"4",readonly:i.viewMode,disabled:i.viewMode},null,10,Tda),[[s.Jo,i.form.stage_3_emails]]),i.errors?.stage_3_emails?((0,r.uX)(),(0,r.CE)("small",Qda,(0,n.v_)(i.errors.stage_3_emails[0]),1)):(0,r.Q3)("",!0)])])],32)]),(0,r.Lk)("div",Vda,[a[50]||(a[50]=(0,r.Lk)("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal"},"Close",-1)),i.viewMode?(0,r.Q3)("",!0):((0,r.uX)(),(0,r.CE)("button",{key:0,type:"button",class:"btn btn-primary",onClick:a[19]||(a[19]=(...e)=>o.submitForm&&o.submitForm(...e))},[i.isEditMode?((0,r.uX)(),(0,r.CE)("span",Fda,"Update")):((0,r.uX)(),(0,r.CE)("span",Uda,"Save"))]))])])])])])}var zda={components:{Pagination:md,Search:It.A},data(){return{meta:{search:"",order_by:"desc",keyword:"alert_id",per_page:15,totalRows:0,page:1,lastPage:1,from:1,to:1,maxPage:1,trashed:!1},alerts:[],asset_types:[],errors:{},isEditMode:!1,viewMode:!1,form:{alert_id:null,asset_type_id:"",check:"",stage_1_emails:"",stage_2_emails:"",stage_3_emails:"",stage_1_conditions:"",stage_2_conditions:"",stage_3_conditions:"",stage_1_values:"",stage_2_values:"",stage_3_values:""}}},mounted(){this.index(),this.loadAssetTypes()},methods:{index(){let e=this.$loading.show();this.$store.dispatch("post",{uri:"paginateAlerts",data:this.meta}).then((a=>{e.hide(),this.alerts=a.data.data,this.meta.totalRows=a.data.meta.total,this.meta.from=a.data.meta.from,this.meta.to=a.data.meta.to,this.meta.lastPage=a.data.meta.last_page,this.meta.maxPage=this.meta.lastPage>=3?3:this.meta.lastPage})).catch((a=>{e.hide(),this.errors=a.response?.data?.errors||{},this.$store.dispatch("error",a?.response?.data?.message||"Failed to load data")}))},loadAssetTypes(){this.$store.dispatch("post",{uri:"getAssetTypes",data:{}}).then((e=>{this.asset_types=e.data.data||[]})).catch((e=>{console.error("Failed to load asset types",e)}))},search(){this.meta.page=1,this.index()},onPageChange(e){this.meta.page=e,this.index()},sort(e){this.meta.keyword=e,this.meta.order_by="asc"===this.meta.order_by?"desc":"asc",this.index()},onPerPageChange(){this.meta.page=1,this.index()},sortIcon(e){return this.meta.keyword===e?"asc"===this.meta.order_by?"ri-arrow-up-line":"ri-arrow-down-line":"fas fa-sort"},openCreateModal(){this.isEditMode=!1,this.viewMode=!1,this.resetForm(),this.errors={};const e=new bootstrap.Modal(document.getElementById("alertModal"));e.show()},openViewModal(e){this.isEditMode=!1,this.viewMode=!0,this.errors={},this.form={alert_id:e.alert_id,asset_type_id:e.asset_type_id||"",check:e.check||"",stage_1_emails:e.stage_1_emails||"",stage_2_emails:e.stage_2_emails||"",stage_3_emails:e.stage_3_emails||"",stage_1_conditions:e.stage_1_conditions||"",stage_2_conditions:e.stage_2_conditions||"",stage_3_conditions:e.stage_3_conditions||"",stage_1_values:e.stage_1_values||"",stage_2_values:e.stage_2_values||"",stage_3_values:e.stage_3_values||""};const a=new bootstrap.Modal(document.getElementById("alertModal"));a.show()},openEditModal(e){this.isEditMode=!0,this.viewMode=!1,this.errors={},this.form={alert_id:e.alert_id,asset_type_id:e.asset_type_id||"",check:e.check||"",stage_1_emails:e.stage_1_emails||"",stage_2_emails:e.stage_2_emails||"",stage_3_emails:e.stage_3_emails||"",stage_1_conditions:e.stage_1_conditions||"",stage_2_conditions:e.stage_2_conditions||"",stage_3_conditions:e.stage_3_conditions||"",stage_1_values:e.stage_1_values||"",stage_2_values:e.stage_2_values||"",stage_3_values:e.stage_3_values||""};const a=new bootstrap.Modal(document.getElementById("alertModal"));a.show()},getAssetTypeName(e){if(!e)return"";const a=this.asset_types.find((a=>a.asset_type_id==e));return a?a.asset_type_name:""},resetForm(){this.form={alert_id:null,asset_type_id:"",check:"",stage_1_emails:"",stage_2_emails:"",stage_3_emails:"",stage_1_conditions:"",stage_2_conditions:"",stage_3_conditions:"",stage_1_values:"",stage_2_values:"",stage_3_values:""}},submitForm(){this.errors={};let e=this.$loading.show();const a=this.isEditMode?"updateAlert":"addAlert";this.$store.dispatch("post",{uri:a,data:this.form}).then((a=>{e.hide(),this.$store.dispatch("success",a.data.message);const t=bootstrap.Modal.getInstance(document.getElementById("alertModal"));t&&t.hide(),this.resetForm(),this.index()})).catch((a=>{e.hide(),this.errors=a.response?.data?.errors||{},this.$store.dispatch("error",a?.response?.data?.message||"Failed to save alert")}))},deleteAlert(e){if(confirm("Are you sure you want to delete this alert?")){let a=this.$loading.show();this.$store.dispatch("post",{uri:"deleteAlert",data:{alert_id:e.alert_id}}).then((e=>{a.hide(),this.$store.dispatch("success",e.data.message||"Alert deleted successfully"),this.index()})).catch((e=>{a.hide(),this.$store.dispatch("error",e?.response?.data?.message||"Failed to delete alert")}))}}}};const Wda=(0,Ze.A)(zda,[["render",jda],["__scopeId","data-v-6b663fa8"]]);var Rda=Wda;const qda={class:""},Ida={class:"d-sm-flex align-items-center justify-content-between mb-2"},Nda={class:"breadcrumb fs-sm mb-1"},Mda={class:"breadcrumb-item","aria-current":"page"},Kda={class:"row"},Jda={class:"col-12"},Bda={class:"card card-one"},Oda={class:"card-body"},Hda={class:"table-responsive table-responsive-sm"},Yda={class:"table table-sm text-nowrap table-striped table-bordered mb-0"},Zda={style:{"background-color":"#9b9b9b",color:"white"}},Gda={class:"text-center"},ena={key:0},ana={class:"card-footer"},tna={class:"d-flex justify-content-between align-items-center"};function sna(e,a,t,l,i,o){const d=(0,r.g2)("router-link"),c=(0,r.g2)("Pagination");return(0,r.uX)(),(0,r.CE)("div",qda,[(0,r.Lk)("div",Ida,[(0,r.Lk)("div",null,[(0,r.Lk)("ol",Nda,[(0,r.Lk)("li",Mda,[(0,r.bF)(d,{to:"/dashboard"},{default:(0,r.k6)((()=>a[28]||(a[28]=[(0,r.eW)("Dashboard")]))),_:1})]),a[29]||(a[29]=(0,r.Lk)("li",{class:"breadcrumb-item"},[(0,r.Lk)("a",{href:"javascript:void(0)"},"Reviews")],-1)),a[30]||(a[30]=(0,r.Lk)("li",{class:"breadcrumb-item active","aria-current":"page"},"Torpedo Lab Report",-1))]),a[31]||(a[31]=(0,r.Lk)("h4",{class:"main-title mb-0"},"Torpedo Lab Report",-1))])]),(0,r.Lk)("div",Kda,[(0,r.Lk)("div",Jda,[(0,r.Lk)("div",Bda,[a[59]||(a[59]=(0,r.Lk)("div",{class:"card-header d-flex justify-content-between"},[(0,r.Lk)("h6",{class:"card-title"},"Torpedo Lab Report")],-1)),(0,r.Lk)("div",Oda,[(0,r.bo)((0,r.Lk)("input",{class:"form-control form-control-sm mb-2",type:"text",placeholder:"Type keyword and press enter key","onUpdate:modelValue":a[0]||(a[0]=e=>i.meta.search=e),onKeypress:a[1]||(a[1]=(0,s.jR)(((...e)=>o.search&&o.search(...e)),["enter"]))},null,544),[[s.Jo,i.meta.search]]),(0,r.Lk)("div",Hda,[(0,r.Lk)("table",Yda,[(0,r.Lk)("thead",null,[(0,r.Lk)("tr",Zda,[a[56]||(a[56]=(0,r.Lk)("th",{class:"text-center"},"#",-1)),(0,r.Lk)("th",{onClick:a[2]||(a[2]=e=>o.sort("torpedo_ladle_no"))},[a[32]||(a[32]=(0,r.eW)(" Torpedo Ladle No ")),(0,r.Lk)("span",null,[(0,r.Lk)("i",{class:(0,n.C4)(o.sortIcon("torpedo_ladle_no"))},null,2)])]),(0,r.Lk)("th",{onClick:a[3]||(a[3]=e=>o.sort("bf_cast_no"))},[a[33]||(a[33]=(0,r.eW)(" BF Cast No ")),(0,r.Lk)("span",null,[(0,r.Lk)("i",{class:(0,n.C4)(o.sortIcon("bf_cast_no"))},null,2)])]),(0,r.Lk)("th",{onClick:a[4]||(a[4]=e=>o.sort("arrival"))},[a[34]||(a[34]=(0,r.eW)(" Arrival ")),(0,r.Lk)("span",null,[(0,r.Lk)("i",{class:(0,n.C4)(o.sortIcon("arrival"))},null,2)])]),(0,r.Lk)("th",{onClick:a[5]||(a[5]=e=>o.sort("hot_metal_report"))},[a[35]||(a[35]=(0,r.eW)(" Hot Metal Report ")),(0,r.Lk)("span",null,[(0,r.Lk)("i",{class:(0,n.C4)(o.sortIcon("hot_metal_report"))},null,2)])]),(0,r.Lk)("th",{onClick:a[6]||(a[6]=e=>o.sort("hot_metal_c"))},[a[36]||(a[36]=(0,r.eW)(" C ")),(0,r.Lk)("span",null,[(0,r.Lk)("i",{class:(0,n.C4)(o.sortIcon("hot_metal_c"))},null,2)])]),(0,r.Lk)("th",{onClick:a[7]||(a[7]=e=>o.sort("hot_metal_si"))},[a[37]||(a[37]=(0,r.eW)(" Si ")),(0,r.Lk)("span",null,[(0,r.Lk)("i",{class:(0,n.C4)(o.sortIcon("hot_metal_si"))},null,2)])]),(0,r.Lk)("th",{onClick:a[8]||(a[8]=e=>o.sort("hot_metal_mn"))},[a[38]||(a[38]=(0,r.eW)(" Mn ")),(0,r.Lk)("span",null,[(0,r.Lk)("i",{class:(0,n.C4)(o.sortIcon("hot_metal_mn"))},null,2)])]),(0,r.Lk)("th",{onClick:a[9]||(a[9]=e=>o.sort("hot_metal_s"))},[a[39]||(a[39]=(0,r.eW)(" S ")),(0,r.Lk)("span",null,[(0,r.Lk)("i",{class:(0,n.C4)(o.sortIcon("hot_metal_s"))},null,2)])]),(0,r.Lk)("th",{onClick:a[10]||(a[10]=e=>o.sort("hot_metal_p"))},[a[40]||(a[40]=(0,r.eW)(" P ")),(0,r.Lk)("span",null,[(0,r.Lk)("i",{class:(0,n.C4)(o.sortIcon("hot_metal_p"))},null,2)])]),(0,r.Lk)("th",{onClick:a[11]||(a[11]=e=>o.sort("hot_metal_ti"))},[a[41]||(a[41]=(0,r.eW)(" Ti ")),(0,r.Lk)("span",null,[(0,r.Lk)("i",{class:(0,n.C4)(o.sortIcon("hot_metal_ti"))},null,2)])]),(0,r.Lk)("th",{onClick:a[12]||(a[12]=e=>o.sort("hot_metal_zn"))},[a[42]||(a[42]=(0,r.eW)(" Zn ")),(0,r.Lk)("span",null,[(0,r.Lk)("i",{class:(0,n.C4)(o.sortIcon("hot_metal_zn"))},null,2)])]),(0,r.Lk)("th",{onClick:a[13]||(a[13]=e=>o.sort("temp"))},[a[43]||(a[43]=(0,r.eW)(" Temp ")),(0,r.Lk)("span",null,[(0,r.Lk)("i",{class:(0,n.C4)(o.sortIcon("temp"))},null,2)])]),(0,r.Lk)("th",{onClick:a[14]||(a[14]=e=>o.sort("bf_slag_report"))},[a[44]||(a[44]=(0,r.eW)(" BF Slag Report ")),(0,r.Lk)("span",null,[(0,r.Lk)("i",{class:(0,n.C4)(o.sortIcon("bf_slag_report"))},null,2)])]),(0,r.Lk)("th",{onClick:a[15]||(a[15]=e=>o.sort("bf_slag_cao"))},[a[45]||(a[45]=(0,r.eW)(" CaO ")),(0,r.Lk)("span",null,[(0,r.Lk)("i",{class:(0,n.C4)(o.sortIcon("bf_slag_cao"))},null,2)])]),(0,r.Lk)("th",{onClick:a[16]||(a[16]=e=>o.sort("bf_slag_mgo"))},[a[46]||(a[46]=(0,r.eW)(" MgO ")),(0,r.Lk)("span",null,[(0,r.Lk)("i",{class:(0,n.C4)(o.sortIcon("bf_slag_mgo"))},null,2)])]),(0,r.Lk)("th",{onClick:a[17]||(a[17]=e=>o.sort("bf_slag_sio2"))},[a[47]||(a[47]=(0,r.eW)(" SiO2 ")),(0,r.Lk)("span",null,[(0,r.Lk)("i",{class:(0,n.C4)(o.sortIcon("bf_slag_sio2"))},null,2)])]),(0,r.Lk)("th",{onClick:a[18]||(a[18]=e=>o.sort("bf_slag_al2o3"))},[a[48]||(a[48]=(0,r.eW)(" Al2O3 ")),(0,r.Lk)("span",null,[(0,r.Lk)("i",{class:(0,n.C4)(o.sortIcon("bf_slag_al2o3"))},null,2)])]),(0,r.Lk)("th",{onClick:a[19]||(a[19]=e=>o.sort("bf_slag_feo"))},[a[49]||(a[49]=(0,r.eW)(" FeO ")),(0,r.Lk)("span",null,[(0,r.Lk)("i",{class:(0,n.C4)(o.sortIcon("bf_slag_feo"))},null,2)])]),(0,r.Lk)("th",{onClick:a[20]||(a[20]=e=>o.sort("bf_slag_s"))},[a[50]||(a[50]=(0,r.eW)(" S ")),(0,r.Lk)("span",null,[(0,r.Lk)("i",{class:(0,n.C4)(o.sortIcon("bf_slag_s"))},null,2)])]),(0,r.Lk)("th",{onClick:a[21]||(a[21]=e=>o.sort("bf_slag_mno"))},[a[51]||(a[51]=(0,r.eW)(" MnO ")),(0,r.Lk)("span",null,[(0,r.Lk)("i",{class:(0,n.C4)(o.sortIcon("bf_slag_mno"))},null,2)])]),(0,r.Lk)("th",{onClick:a[22]||(a[22]=e=>o.sort("bf_slag_na2o"))},[a[52]||(a[52]=(0,r.eW)(" Na2O ")),(0,r.Lk)("span",null,[(0,r.Lk)("i",{class:(0,n.C4)(o.sortIcon("bf_slag_na2o"))},null,2)])]),(0,r.Lk)("th",{onClick:a[23]||(a[23]=e=>o.sort("bf_slag_k2o"))},[a[53]||(a[53]=(0,r.eW)(" K2O ")),(0,r.Lk)("span",null,[(0,r.Lk)("i",{class:(0,n.C4)(o.sortIcon("bf_slag_k2o"))},null,2)])]),(0,r.Lk)("th",{onClick:a[24]||(a[24]=e=>o.sort("bf_slag_tio2"))},[a[54]||(a[54]=(0,r.eW)(" TiO2 ")),(0,r.Lk)("span",null,[(0,r.Lk)("i",{class:(0,n.C4)(o.sortIcon("bf_slag_tio2"))},null,2)])]),(0,r.Lk)("th",{onClick:a[25]||(a[25]=e=>o.sort("basicity"))},[a[55]||(a[55]=(0,r.eW)(" Basicity ")),(0,r.Lk)("span",null,[(0,r.Lk)("i",{class:(0,n.C4)(o.sortIcon("basicity"))},null,2)])])])]),(0,r.Lk)("tbody",null,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(i.torpedoLabs,((e,a)=>((0,r.uX)(),(0,r.CE)("tr",{key:e.torpedo_lab_id},[(0,r.Lk)("td",Gda,(0,n.v_)(i.meta.from+a),1),(0,r.Lk)("td",null,(0,n.v_)(e?.torpedo_ladle_no||""),1),(0,r.Lk)("td",null,(0,n.v_)(e?.bf_cast_no||""),1),(0,r.Lk)("td",null,(0,n.v_)(e?.arrival||""),1),(0,r.Lk)("td",null,(0,n.v_)(e?.hot_metal_report||""),1),(0,r.Lk)("td",null,(0,n.v_)(e?.hot_metal_c||""),1),(0,r.Lk)("td",null,(0,n.v_)(e?.hot_metal_si||""),1),(0,r.Lk)("td",null,(0,n.v_)(e?.hot_metal_mn||""),1),(0,r.Lk)("td",null,(0,n.v_)(e?.hot_metal_s||""),1),(0,r.Lk)("td",null,(0,n.v_)(e?.hot_metal_p||""),1),(0,r.Lk)("td",null,(0,n.v_)(e?.hot_metal_ti||""),1),(0,r.Lk)("td",null,(0,n.v_)(e?.hot_metal_zn||""),1),(0,r.Lk)("td",null,(0,n.v_)(e?.temp||""),1),(0,r.Lk)("td",null,(0,n.v_)(e?.bf_slag_report||""),1),(0,r.Lk)("td",null,(0,n.v_)(e?.bf_slag_cao||""),1),(0,r.Lk)("td",null,(0,n.v_)(e?.bf_slag_mgo||""),1),(0,r.Lk)("td",null,(0,n.v_)(e?.bf_slag_sio2||""),1),(0,r.Lk)("td",null,(0,n.v_)(e?.bf_slag_al2o3||""),1),(0,r.Lk)("td",null,(0,n.v_)(e?.bf_slag_feo||""),1),(0,r.Lk)("td",null,(0,n.v_)(e?.bf_slag_s||""),1),(0,r.Lk)("td",null,(0,n.v_)(e?.bf_slag_mno||""),1),(0,r.Lk)("td",null,(0,n.v_)(e?.bf_slag_na2o||""),1),(0,r.Lk)("td",null,(0,n.v_)(e?.bf_slag_k2o||""),1),(0,r.Lk)("td",null,(0,n.v_)(e?.bf_slag_tio2||""),1),(0,r.Lk)("td",null,(0,n.v_)(e?.basicity||""),1)])))),128)),0===i.torpedoLabs.length?((0,r.uX)(),(0,r.CE)("tr",ena,a[57]||(a[57]=[(0,r.Lk)("td",{colspan:"27",class:"text-center"},"No records found",-1)]))):(0,r.Q3)("",!0)])])])]),(0,r.Lk)("div",ana,[(0,r.Lk)("div",tna,[(0,r.bo)((0,r.Lk)("select",{class:"form-select form-select-sm width-75","onUpdate:modelValue":a[26]||(a[26]=e=>i.meta.per_page=e),onChange:a[27]||(a[27]=(...e)=>o.onPerPageChange&&o.onPerPageChange(...e))},a[58]||(a[58]=[(0,r.Lk)("option",null,"10",-1),(0,r.Lk)("option",null,"15",-1),(0,r.Lk)("option",null,"20",-1),(0,r.Lk)("option",null,"25",-1),(0,r.Lk)("option",null,"30",-1),(0,r.Lk)("option",null,"200",-1),(0,r.Lk)("option",null,"500",-1)]),544),[[s.u1,i.meta.per_page]]),(0,r.Lk)("span",null,"Showing "+(0,n.v_)(i.meta.from)+" to "+(0,n.v_)(i.meta.to)+" of "+(0,n.v_)(i.meta.totalRows)+" entries",1),(0,r.bF)(c,{maxPage:i.meta.maxPage,totalPages:i.meta.lastPage,currentPage:parseInt(i.meta.page),onPagechanged:o.onPageChange},null,8,["maxPage","totalPages","currentPage","onPagechanged"])])])])])])])}var rna={components:{Pagination:md},data(){return{meta:{search:"",order_by:"desc",keyword:"torpedo_lab_id",per_page:15,totalRows:0,page:1,lastPage:1,from:1,to:1,maxPage:1,trashed:!1},torpedoLabs:[],errors:{}}},mounted(){this.index()},methods:{index(){let e=this.$loading.show();this.$store.dispatch("post",{uri:"paginateTLCLabReport",data:this.meta}).then((a=>{e.hide(),this.torpedoLabs=a.data.data,this.meta.totalRows=a.data.meta.total,this.meta.from=a.data.meta.from,this.meta.to=a.data.meta.to,this.meta.lastPage=a.data.meta.last_page,this.meta.maxPage=this.meta.lastPage>=3?3:this.meta.lastPage})).catch((a=>{e.hide(),this.errors=a.response?.data?.errors||{},this.$store.dispatch("error",a?.response?.data?.message||"Failed to load data")}))},search(){this.meta.page=1,this.index()},onPageChange(e){this.meta.page=e,this.index()},sort(e){this.meta.keyword=e,this.meta.order_by="asc"===this.meta.order_by?"desc":"asc",this.index()},onPerPageChange(){this.meta.page=1,this.index()},sortIcon(e){return this.meta.keyword===e?"asc"===this.meta.order_by?"ri-arrow-up-line":"ri-arrow-down-line":"fas fa-sort"}}};const lna=(0,Ze.A)(rna,[["render",sna],["__scopeId","data-v-24b787fc"]]);var ina=lna;const ona={class:""},dna={class:"d-sm-flex align-items-center justify-content-between mb-2"},nna={class:"breadcrumb fs-sm mb-1"},cna={class:"breadcrumb-item","aria-current":"page"},una={class:"row"},_na={class:"col-12"},pna={class:"card card-one"},mna={class:"card-body"},bna={class:"row"},kna={class:"col-12"},vna={class:"table-responsive table-responsive-sm"},hna={class:"table table-sm text-nowrap table-striped table-bordered mb-0"},yna={style:{"background-color":"#9b9b9b",color:"white"}},gna={key:0,class:"ri-arrow-up-line"},fna={key:1,class:"ri-arrow-down-line"},Lna={key:2,class:"fas fa-sort"},Cna={key:0,class:"ri-arrow-up-line"},wna={key:1,class:"ri-arrow-down-line"},Ena={key:2,class:"fas fa-sort"},xna={key:0,class:"ri-arrow-up-line"},Xna={key:1,class:"ri-arrow-down-line"},Pna={key:2,class:"fas fa-sort"},$na={class:"text-center"},Sna={key:0},Ana={class:"text-center"},Dna={class:"text-center"},Tna=["onClick"],Qna=["onClick"],Vna={class:"card-footer"},Fna={class:"d-flex justify-content-between align-items-center"};function Una(e,a,t,l,i,o){const d=(0,r.g2)("router-link"),c=(0,r.g2)("Pagination"),u=(0,r.gN)("can");return(0,r.uX)(),(0,r.CE)("div",ona,[(0,r.Lk)("div",dna,[(0,r.Lk)("div",null,[(0,r.Lk)("ol",nna,[(0,r.Lk)("li",cna,[(0,r.bF)(d,{to:"/dashboard"},{default:(0,r.k6)((()=>a[7]||(a[7]=[(0,r.eW)("Dashboard")]))),_:1})]),a[8]||(a[8]=(0,r.Lk)("li",{class:"breadcrumb-item","aria-current":"page"},[(0,r.Lk)("a",{href:"javascript:void(0)"},"Downloaded Reports")],-1))]),a[9]||(a[9]=(0,r.Lk)("h4",{class:"main-title mb-0"},"Downloaded Reports",-1))])]),(0,r.Lk)("div",una,[(0,r.Lk)("div",_na,[(0,r.Lk)("div",pna,[a[19]||(a[19]=(0,r.Lk)("div",{class:"card-header d-flex justify-content-between"},[(0,r.Lk)("h6",{class:"card-title"},"Downloaded Reports")],-1)),(0,r.Lk)("div",mna,[(0,r.Lk)("div",bna,[(0,r.Lk)("div",kna,[(0,r.bo)((0,r.Lk)("input",{class:"form-control form-control-sm mb-2",type:"text",placeholder:"Type keyword and press enter key","onUpdate:modelValue":a[0]||(a[0]=e=>i.meta.search=e),onKeypress:a[1]||(a[1]=(0,s.jR)((e=>o.search()),["enter"]))},null,544),[[s.Jo,i.meta.search]])])]),(0,r.Lk)("div",vna,[(0,r.Lk)("table",hna,[(0,r.Lk)("thead",null,[(0,r.Lk)("tr",yna,[a[14]||(a[14]=(0,r.Lk)("th",{class:"text-center"},"#",-1)),(0,r.Lk)("th",{onClick:a[2]||(a[2]=e=>o.sort("user_id"))},[a[10]||(a[10]=(0,r.eW)(" Name ")),(0,r.Lk)("span",null,["user_id"==i.meta.keyword&&"asc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",gna)):"user_id"==i.meta.keyword&&"desc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",fna)):((0,r.uX)(),(0,r.CE)("i",Lna))])]),(0,r.Lk)("th",{onClick:a[3]||(a[3]=e=>o.sort("report_name"))},[a[11]||(a[11]=(0,r.eW)(" Report Name ")),(0,r.Lk)("span",null,["report_name"==i.meta.keyword&&"asc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",Cna)):"report_name"==i.meta.keyword&&"desc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",wna)):((0,r.uX)(),(0,r.CE)("i",Ena))])]),(0,r.Lk)("th",{onClick:a[4]||(a[4]=e=>o.sort("date_time"))},[a[12]||(a[12]=(0,r.eW)(" Date & Time ")),(0,r.Lk)("span",null,["date_time"==i.meta.keyword&&"asc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",xna)):"date_time"==i.meta.keyword&&"desc"==i.meta.order_by?((0,r.uX)(),(0,r.CE)("i",Xna)):((0,r.uX)(),(0,r.CE)("i",Pna))])]),(0,r.bo)(((0,r.uX)(),(0,r.CE)("th",$na,a[13]||(a[13]=[(0,r.eW)("Action")]))),[[u,["downloaded_reports.download","downloaded_reports.delete"]]])])]),(0,r.Lk)("tbody",null,[0==i.downloaded_reports.length?((0,r.uX)(),(0,r.CE)("tr",Sna,a[15]||(a[15]=[(0,r.Lk)("td",{colspan:"10",class:"text-center"},"No records found",-1)]))):(0,r.Q3)("",!0),((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(i.downloaded_reports,((e,t)=>((0,r.uX)(),(0,r.CE)("tr",{key:t},[(0,r.Lk)("td",Ana,(0,n.v_)(i.meta.from+t),1),(0,r.Lk)("td",null,(0,n.v_)(e?.user?.name),1),(0,r.Lk)("td",null,(0,n.v_)(e?.report_name),1),(0,r.Lk)("td",null,(0,n.v_)(e?.date_time),1),(0,r.bo)(((0,r.uX)(),(0,r.CE)("td",Dna,[(0,r.bo)(((0,r.uX)(),(0,r.CE)("a",{href:"javascript:void(0)",class:"text-success",onClick:a=>o.downloadReport(e.file_name)},a[16]||(a[16]=[(0,r.Lk)("i",{class:"ri-download-line fs-18 lh-1 me-2"},null,-1)]),8,Tna)),[[u,"downloaded_reports.download"]]),(0,r.bo)(((0,r.uX)(),(0,r.CE)("a",{href:"javascript:void(0)",class:"text-danger",onClick:a=>o.deleteReport(e)},a[17]||(a[17]=[(0,r.Lk)("i",{class:"ri-delete-bin-6-line fs-18 lh-1"},null,-1)]),8,Qna)),[[u,"downloaded_reports.delete"]])])),[[u,["downloaded_reports.download","downloaded_reports.delete"]]])])))),128))])])])]),(0,r.Lk)("div",Vna,[(0,r.Lk)("div",Fna,[(0,r.bo)((0,r.Lk)("select",{class:"form-select from-select-sm width-75","onUpdate:modelValue":a[5]||(a[5]=e=>i.meta.per_page=e),onChange:a[6]||(a[6]=(...e)=>o.onPerPageChange&&o.onPerPageChange(...e))},a[18]||(a[18]=[(0,r.Lk)("option",null,"10",-1),(0,r.Lk)("option",null,"15",-1),(0,r.Lk)("option",null,"20",-1),(0,r.Lk)("option",null,"25",-1),(0,r.Lk)("option",null,"30",-1)]),544),[[s.u1,i.meta.per_page]]),(0,r.Lk)("span",null,"Showing "+(0,n.v_)(i.meta.from)+" to "+(0,n.v_)(i.meta.to)+" of "+(0,n.v_)(i.meta.totalRows)+" entries",1),(0,r.bF)(c,{maxPage:i.meta.maxPage,totalPages:i.meta.lastPage,currentPage:i.meta.page,onPagechanged:o.onPageChange},null,8,["maxPage","totalPages","currentPage","onPagechanged"])])])])])])])}var jna={components:{Pagination:md},data(){return{meta:{search:"",order_by:"desc",keyword:"download_report_id",per_page:10,totalRows:0,page:1,lastPage:1,from:1,to:1,maxPage:1},downloaded_reports:[],errors:[],status:!0}},mounted(){this.index()},methods:{index(){let e=this,a=this.$loading.show();this.$store.dispatch("post",{uri:"paginateDownloadReports",data:e.meta}).then((t=>{a.hide(),e.downloaded_reports=t.data.data,e.meta.totalRows=t.data.meta.total,e.meta.from=t.data.meta.from,e.meta.to=t.data.meta.to,e.meta.lastPage=t.data.meta.last_page,e.meta.maxPage=e.meta.lastPage>=3?3:e.meta.lastPage})).catch((function(t){a.hide(),e.errors=t.response.data.errors,e.$store.dispatch("error",t.response.data.message)}))},downloadReport(e){window.open(e)},deleteReport(e){let a=this,t=a.$loading.show();if(confirm("Do You want to Delete this Record?..")){let s={uri:"deleteDownloadReport",data:e};a.$store.dispatch("post",s).then((function(e){t.hide(),a.$store.dispatch("success",e.data.message),a.index()})).catch((function(e){t.hide(),a.errors=e.response.data.errors,a.$store.dispatch("error",e.response.data.message)}))}},search(){let e=this;e.meta.page=1,e.index()},onPageChange(e){this.meta.page=e,this.index()},onPerPageChange(){let e=this;e.meta.page=1,e.index()},sort(e){this.meta.keyword=e,this.meta.order_by="asc"==this.meta.order_by?"desc":"asc",this.index()}}};const zna=(0,Ze.A)(jna,[["render",Una]]);var Wna=zna;const Rna={class:"d-sm-flex align-items-center justify-content-between mb-2"},qna={class:"breadcrumb fs-sm mb-1"},Ina={class:"breadcrumb-item"},Nna={class:"card card-one"},Mna={class:"card-body"},Kna={class:"row"},Jna={class:"col-2"},Bna={class:"col-2"},Ona={class:"col-2"},Hna={class:"col-2"},Yna={class:"col-2"},Zna={class:"col-2"},Gna={class:"col-12 d-flex justify-content-end"},eca={class:"table-responsive"},aca={class:"table table-sm table-striped table-bordered text-nowrap mb-0"},tca={style:{"background-color":"#9b9b9b",color:"white"}},sca={key:0},rca={class:"text-center"},lca={class:"text-center"},ica=["onClick"],oca={class:"card-footer d-flex justify-content-between align-items-center"},dca={class:"modal fade",id:"logModal",tabindex:"-1","aria-labelledby":"logModalLabel","aria-hidden":"true"},nca={class:"modal-dialog modal-xl"},cca={class:"modal-content"},uca={class:"modal-body row"},_ca={class:"col-md-6"},pca={class:"card",style:{"max-height":"70vh","overflow-y":"auto"}},mca={class:"card-body"},bca={class:"col-md-6"},kca={class:"card",style:{"max-height":"70vh","overflow-y":"auto"}},vca={class:"card-body"};function hca(e,a,t,l,i,o){const d=(0,r.g2)("router-link"),c=(0,r.g2)("search"),u=(0,r.g2)("SortIcon"),_=(0,r.g2)("Pagination");return(0,r.uX)(),(0,r.CE)("div",null,[(0,r.Lk)("div",Rna,[(0,r.Lk)("div",null,[(0,r.Lk)("ol",qna,[(0,r.Lk)("li",Ina,[(0,r.bF)(d,{to:"/dashboard"},{default:(0,r.k6)((()=>a[18]||(a[18]=[(0,r.eW)("Dashboard")]))),_:1})]),a[19]||(a[19]=(0,r.Lk)("li",{class:"breadcrumb-item active"},"Uploaded Logs",-1))]),a[20]||(a[20]=(0,r.Lk)("h4",{class:"main-title mb-0"},"Uploaded Logs",-1))])]),(0,r.Lk)("div",Nna,[a[39]||(a[39]=(0,r.Lk)("div",{class:"card-header d-flex justify-content-between"},[(0,r.Lk)("h6",{class:"card-title"},"Uploaded Logs")],-1)),(0,r.Lk)("div",Mna,[(0,r.Lk)("div",Kna,[(0,r.Lk)("div",Jna,[a[21]||(a[21]=(0,r.Lk)("label",{class:"form-label"},"User",-1)),(0,r.bF)(c,{class:(0,n.C4)({"is-invalid":e.errors?.user_id}),customClass:{"is-invalid":e.errors?.user_id},initialize:i.meta.user_id,id:"user_id",label:"name",placeholder:"Select User",data:i.users,onInput:a[0]||(a[0]=e=>i.meta.user_id=e)},null,8,["class","customClass","initialize","data"])]),(0,r.Lk)("div",Bna,[a[22]||(a[22]=(0,r.Lk)("label",{class:"form-label"},"Asset",-1)),(0,r.bF)(c,{class:(0,n.C4)({"is-invalid":e.errors?.asset_id}),customClass:{"is-invalid":e.errors?.asset_id},initialize:i.meta.asset_id,id:"asset_id",label:"asset_name",placeholder:"Select Asset",data:i.assets,onInput:a[1]||(a[1]=e=>i.meta.asset_id=e)},null,8,["class","customClass","initialize","data"])]),(0,r.Lk)("div",Ona,[a[24]||(a[24]=(0,r.Lk)("label",{class:"form-label"},"Register",-1)),(0,r.bo)((0,r.Lk)("select",{class:"form-control mb-3","onUpdate:modelValue":a[2]||(a[2]=e=>i.meta.register=e)},a[23]||(a[23]=[(0,r.Lk)("option",{value:""},"Select Register",-1),(0,r.Lk)("option",{value:"Activity Register"},"Activity Register",-1),(0,r.Lk)("option",{value:"Inspection Register"},"Inspection Register",-1),(0,r.Lk)("option",{value:"Spare Register"},"Spare Register",-1)]),512),[[s.u1,i.meta.register]])]),(0,r.Lk)("div",Hna,[a[26]||(a[26]=(0,r.Lk)("label",{class:"form-label"},"Status",-1)),(0,r.bo)((0,r.Lk)("select",{class:"form-control mb-3","onUpdate:modelValue":a[3]||(a[3]=e=>i.meta.status=e)},a[25]||(a[25]=[(0,r.Lk)("option",{value:""},"Select Status",-1),(0,r.Lk)("option",{value:!0},"Success",-1),(0,r.Lk)("option",{value:!1},"Failed",-1)]),512),[[s.u1,i.meta.status]])]),(0,r.Lk)("div",Yna,[a[27]||(a[27]=(0,r.Lk)("label",{class:"form-label"},"From Date",-1)),(0,r.bo)((0,r.Lk)("input",{class:"form-control mb-3",type:"date","onUpdate:modelValue":a[4]||(a[4]=e=>i.meta.from_date=e)},null,512),[[s.Jo,i.meta.from_date]])]),(0,r.Lk)("div",Zna,[a[28]||(a[28]=(0,r.Lk)("label",{class:"form-label"},"To Date",-1)),(0,r.bo)((0,r.Lk)("input",{class:"form-control mb-3",type:"date","onUpdate:modelValue":a[5]||(a[5]=e=>i.meta.to_date=e)},null,512),[[s.Jo,i.meta.to_date]])]),(0,r.Lk)("div",Gna,[(0,r.Lk)("div",null,[(0,r.Lk)("button",{class:"btn btn-primary me-2",onClick:a[6]||(a[6]=(...e)=>o.search&&o.search(...e))},"Search"),(0,r.Lk)("button",{class:"btn btn-danger",onClick:a[7]||(a[7]=(...e)=>o.reset&&o.reset(...e))},"Reset")])])]),(0,r.Lk)("div",null,[(0,r.bo)((0,r.Lk)("input",{class:"form-control form-control-sm mb-2 mt-2",type:"text",placeholder:"Type keyword and press enter key","onUpdate:modelValue":a[8]||(a[8]=e=>i.meta.search=e),onKeypress:a[9]||(a[9]=(0,s.jR)(((...e)=>o.search&&o.search(...e)),["enter"]))},null,544),[[s.Jo,i.meta.search]])]),(0,r.Lk)("div",eca,[(0,r.Lk)("table",aca,[(0,r.Lk)("thead",null,[(0,r.Lk)("tr",tca,[a[35]||(a[35]=(0,r.Lk)("th",{class:"text-center"},"#",-1)),(0,r.Lk)("th",{onClick:a[10]||(a[10]=e=>o.sort("user_id"))},[a[29]||(a[29]=(0,r.eW)("User ")),(0,r.bF)(u,{field:"user_id",meta:i.meta},null,8,["meta"])]),(0,r.Lk)("th",{onClick:a[11]||(a[11]=e=>o.sort("asset_name"))},[a[30]||(a[30]=(0,r.eW)("Asset ")),(0,r.bF)(u,{field:"asset_name",meta:i.meta},null,8,["meta"])]),(0,r.Lk)("th",{onClick:a[12]||(a[12]=e=>o.sort("date_time"))},[a[31]||(a[31]=(0,r.eW)("Date & Time ")),(0,r.bF)(u,{field:"date_time",meta:i.meta},null,8,["meta"])]),(0,r.Lk)("th",{onClick:a[13]||(a[13]=e=>o.sort("register"))},[a[32]||(a[32]=(0,r.eW)("Register ")),(0,r.bF)(u,{field:"register",meta:i.meta},null,8,["meta"])]),(0,r.Lk)("th",{onClick:a[14]||(a[14]=e=>o.sort("log_type"))},[a[33]||(a[33]=(0,r.eW)("Log Type ")),(0,r.bF)(u,{field:"log_type",meta:i.meta},null,8,["meta"])]),(0,r.Lk)("th",{onClick:a[15]||(a[15]=e=>o.sort("status"))},[a[34]||(a[34]=(0,r.eW)("Status ")),(0,r.bF)(u,{field:"status",meta:i.meta},null,8,["meta"])]),a[36]||(a[36]=(0,r.Lk)("th",{class:"text-center"},"Details",-1))])]),(0,r.Lk)("tbody",null,[0===i.offline_logs.length?((0,r.uX)(),(0,r.CE)("tr",sca,a[37]||(a[37]=[(0,r.Lk)("td",{colspan:"7",class:"text-center"},"No records found",-1)]))):(0,r.Q3)("",!0),((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(i.offline_logs,((e,a)=>((0,r.uX)(),(0,r.CE)("tr",{key:a},[(0,r.Lk)("td",rca,(0,n.v_)(i.meta.from+a),1),(0,r.Lk)("td",null,(0,n.v_)(e.user?.name),1),(0,r.Lk)("td",null,(0,n.v_)(e.asset?.asset_name),1),(0,r.Lk)("td",null,(0,n.v_)(e?.date_time),1),(0,r.Lk)("td",null,(0,n.v_)(e?.register),1),(0,r.Lk)("td",null,(0,n.v_)(e?.log_type),1),(0,r.Lk)("td",{class:(0,n.C4)([e?.status?"text-success":"text-danger","text-center"])},(0,n.v_)(e?.status?"Success":"Failed"),3),(0,r.Lk)("td",lca,[(0,r.Lk)("i",{class:"ri-eye-line cursor-pointer text-primary",onClick:a=>o.openModal(e),"data-bs-toggle":"modal","data-bs-target":"#logModal"},null,8,ica)])])))),128))])])])]),(0,r.Lk)("div",oca,[(0,r.bo)((0,r.Lk)("select",{class:"form-select form-select-sm w-auto","onUpdate:modelValue":a[16]||(a[16]=e=>i.meta.per_page=e),onChange:a[17]||(a[17]=(...e)=>o.onPerPageChange&&o.onPerPageChange(...e))},a[38]||(a[38]=[(0,r.Lk)("option",null,"10",-1),(0,r.Lk)("option",null,"15",-1),(0,r.Lk)("option",null,"20",-1)]),544),[[s.u1,i.meta.per_page]]),(0,r.Lk)("span",null,"Showing "+(0,n.v_)(i.meta.from)+" to "+(0,n.v_)(i.meta.to)+" of "+(0,n.v_)(i.meta.totalRows)+" entries",1),(0,r.bF)(_,{maxPage:i.meta.maxPage,totalPages:i.meta.lastPage,currentPage:i.meta.page,onPagechanged:o.onPageChange},null,8,["maxPage","totalPages","currentPage","onPagechanged"])])]),(0,r.Lk)("div",dca,[(0,r.Lk)("div",nca,[(0,r.Lk)("div",cca,[a[42]||(a[42]=(0,r.Lk)("div",{class:"modal-header"},[(0,r.Lk)("h5",{class:"modal-title"},"Details"),(0,r.Lk)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close",style:{"background-color":"red"}})],-1)),(0,r.Lk)("div",uca,[(0,r.Lk)("div",_ca,[(0,r.Lk)("div",pca,[a[40]||(a[40]=(0,r.Lk)("div",{class:"card-header"},[(0,r.Lk)("strong",null,"Request Body")],-1)),(0,r.Lk)("div",mca,[(0,r.Lk)("pre",null,(0,n.v_)(o.formattedRequest),1)])])]),(0,r.Lk)("div",bca,[(0,r.Lk)("div",kca,[a[41]||(a[41]=(0,r.Lk)("div",{class:"card-header"},[(0,r.Lk)("strong",null,"Response Body")],-1)),(0,r.Lk)("div",vca,[(0,r.Lk)("pre",null,(0,n.v_)(o.formattedResponse),1)])])])]),a[43]||(a[43]=(0,r.Lk)("div",{class:"modal-footer"},[(0,r.Lk)("button",{type:"button",class:"btn btn-danger","data-bs-dismiss":"modal"},"Close")],-1))])])])])}const yca={props:["field","meta"]};var gca={components:{Pagination:md,SortIcon:yca,Search:It.A},data(){return{meta:{search:"",order_by:"desc",keyword:"offline_log_id",per_page:10,totalRows:0,page:1,lastPage:1,from:1,to:1,maxPage:1,user_id:"",asset_id:"",register:"",from_date:"",to_date:"",status:""},offline_logs:[],request_body_items:null,response_body_items:null,users:[],assets:[]}},computed:{formattedRequest(){return JSON.stringify(this.request_body_items,null,2)},formattedResponse(){return JSON.stringify(this.response_body_items,null,2)}},mounted(){this.index(),this.getUsers()},methods:{index(){const e=this.$loading.show();this.$store.dispatch("post",{uri:"offlineUploadedLogs",data:this.meta}).then((a=>{e.hide(),this.offline_logs=a.data.data;const t=a.data.meta;this.meta.totalRows=t.total,this.meta.from=t.from,this.meta.to=t.to,this.meta.lastPage=t.last_page,this.meta.maxPage=this.meta.lastPage>=3?3:this.meta.lastPage})).catch((a=>{e.hide(),this.$store.dispatch("error",a.response.data.message)}))},getUsers(){let e=this,a=e.$loading.show();e.$store.dispatch("post",{uri:"getUsers"}).then((t=>{a.hide(),e.users=t.data.data,e.getAssets()})).catch((function(t){a.hide(),e.errors=t.response.data.errors,e.$store.dispatch("error",t.response.data.message)}))},getAssets(){let e=this,a=e.$loading.show();e.$store.dispatch("post",{uri:"getAssets"}).then((t=>{a.hide(),e.assets=t.data.data})).catch((function(t){a.hide(),e.errors=t.response.data.errors,e.$store.dispatch("error",t.response.data.message)}))},search(){this.meta.page=1,this.index()},reset(){let e=this;e.meta.user_id="",e.meta.asset_id="",e.meta.status="",e.meta.register="",e.meta.from_date="",e.meta.to_date="",e.errors=[],e.index()},onPageChange(e){this.meta.page=e,this.index()},onPerPageChange(){this.meta.page=1,this.index()},sort(e){this.meta.keyword=e,this.meta.order_by="asc"===this.meta.order_by?"desc":"asc",this.index()},openModal(e){this.request_body_items=e.request,this.response_body_items=e.response}}};const fca=(0,Ze.A)(gca,[["render",hca]]);var Lca=fca,Cca=t.p+"img/AccessDeniedError.b048e36e.png";const wca={class:"content-wrapper"};function Eca(e,a){return(0,r.uX)(),(0,r.CE)("div",wca,a[0]||(a[0]=[(0,r.Fv)('<div class="content"><div class="container-fluid"><div style="text-align:center;"><h1>Error</h1><a href="#"><img src="'+Cca+'" alt="AccessDenied"></a></div></div></div>',1)]))}const xca={},Xca=(0,Ze.A)(xca,[["render",Eca]]);var Pca=Xca;const $ca=[{path:"/",name:"login",component:Ia,meta:{unAuth:!0,permission:"All"}},{path:"/signup",name:"Signup",component:Ha,meta:{unAuth:!0,permission:"All"}},{path:"/profile",name:"Profile",component:Ii,meta:{auth:!0,permission:"All"}},{path:"/dashboard",name:"Dashboard",component:ti,meta:{auth:!0,permission:"All"}},{path:"/forgot_password",name:"ForgotPassword",component:ao,meta:{unAuth:!0,permission:"All"}},{path:"/reset_password",name:"ResetPassword",component:ho,meta:{unAuth:!0,permission:"All"}},{path:"/permissions",name:"Permissions",component:Eye,meta:{auth:!0,permission:"All"}},{path:"/list_parameters",name:"Lists",component:vd,meta:{auth:!0,permission:"list_parameters.view"}},{path:"/equipment_types",name:"EquipmentType",component:MUe},{path:"/asset_types",name:"AssetType",component:jje,meta:{auth:!0,permission:"asset_types.view"}},{path:"/service_types",name:"ServiceType",component:Aze,meta:{auth:!0,permission:"service_types.view"}},{path:"/spare_types",name:"SpareType",component:xWe,meta:{auth:!0,permission:"spare_types.view"}},{path:"/activity_types",name:"ActivityTypes",component:yRe,meta:{auth:!0,permission:"activity_types.view"}},{path:"/data_source_type",name:"DataSourceTypes",component:_qe,meta:{auth:!0,permission:"data_source_types.view"}},{path:"/break_down_type",name:"BreakDownTypes",component:sIe,meta:{auth:!0,permission:"break_down_types.view"}},{path:"/accessory_type",name:"AccessoryTypes",component:HIe,meta:{auth:!0,permission:"accessory_types.view"}},{path:"/variable_type",name:"VariableTypes",component:INe,meta:{auth:!0,permission:"variable_types.view"}},{path:"/section",name:"Section",component:fee,meta:{auth:!0,permission:"sections.view"}},{path:"/areas",name:"Area",component:L6,meta:{auth:!0,permission:"areas.view"}},{path:"/phases",name:"Phase",component:b9,meta:{auth:!0,permission:"phases.view"}},{path:"/plants",name:"Plant",component:P7,meta:{auth:!0,permission:"shops.view"}},{path:"/frequency",name:"Frequency",component:uae},{path:"/department",name:"Department",component:rte,meta:{auth:!0,permission:"departments.view"}},{path:"/functional",name:"Functional",component:Yte,meta:{auth:!0,permission:"functionals.view"}},{path:"/equipment",name:"Equipment",component:gn},{path:"/assets",name:"Assets",component:q_,meta:{auth:!0,permission:"assets.view"}},{path:"/asset/create",name:"Assets.Create",component:Nu,meta:{auth:!0,permission:"assets.create"}},{path:"/asset/accessories/:asset_id",name:"Assets.accessories",component:WT,meta:{auth:!0,permission:"asset_accessories.view"}},{path:"/asset/:asset_id/edit",name:"Assets.Edit",component:Nu,meta:{auth:!0,permission:"assets.update"}},{path:"/asset/:asset_id/view",name:"Assets.View",component:v$,meta:{auth:!0,permission:"assets_views.details"}},{path:"/asset/:assets",name:"Assets.DynamicAssets",component:jD,meta:{auth:!0,permission:"All"}},{path:"/QR_code/:asset_id/get",name:"GenerateQR",component:tT,meta:{auth:!0,permission:"All"}},{path:"/asset_templates",name:"AssetTemplates",component:TQ,meta:{auth:!0,permission:"asset_templates.view"}},{path:"/asset_templates/create",name:"AssetTemplates.Create",component:HF,meta:{auth:!0,permission:"asset_templates.create"}},{path:"/asset_template/:asset_template_id/edit",name:"AssetTemplates.Edit",component:HF,meta:{auth:!0,permission:"asset_templates.update"}},{path:"/asset_template/:asset_template_id/view",name:"AssetTemplates.View",component:CZ,meta:{auth:!0,permission:"asset_template_views.details"}},{path:"/activities",name:"Activities.Index",component:iG,meta:{auth:!0,permission:"activity_registers.view"}},{path:"/activity/create",name:"Activity.Create",component:x0,meta:{auth:!0,permission:"activity_registers.create"}},{path:"/activity/:user_activity_id/edit",name:"Activity.Edit",component:x0,meta:{auth:!0,permission:"activity_registers.update"}},{path:"/health_checks",name:"HealthChecks.Index",component:B1,meta:{auth:!0,permission:"health_check_registers.view"}},{path:"/health_check/create",name:"HealthChecks.Create",component:c1,meta:{auth:!0,permission:"health_check_registers.create"}},{path:"/health_check/:health_check_id/edit",name:"HealthChecks.Edit",component:c1,meta:{auth:!0,permission:"health_check_registers.view"}},{path:"/health_check/:campaign_id/view",name:"HealthChecks.View",component:q2,meta:{auth:!0,permission:"health_check_registers.view"}},{path:"/user_services",name:"UserServices.Index",component:w3,meta:{auth:!0,permission:"service_registers.view"}},{path:"/user_service/create",name:"UserServices.Create",component:L4,meta:{auth:!0,permission:"service_registers.create"}},{path:"/user_service/:user_service_id/edit",name:"UserServices.Edit",component:L4,meta:{auth:!0,permission:"service_registers.update"}},{path:"/user_checks",name:"UserChecks.Index",component:o5,meta:{auth:!0,permission:"check_registers.view"}},{path:"/user_check/create",name:"UserChecks.Create",component:G5,meta:{auth:!0,permission:"check_registers.create"}},{path:"/user_check/:user_check_id/edit",name:"UserChecks.Edit",component:G5,meta:{auth:!0,permission:"check_registers.update"}},{path:"/user_check/:user_check_id/view",name:"UserChecks.View",component:$8,meta:{auth:!0,permission:"check_registers.view"}},{path:"/break_down_registers",name:"BreakDownRegisters.Index",component:w8e,meta:{auth:!0,permission:"break_down_registers.view"}},{path:"/break_down_registers/create",name:"BreakDownRegister.Create",component:I5e,meta:{auth:!0,permission:"break_down_registers.create"}},{path:"/break_down_registers/:break_down_list_id/edit",name:"BreakDownRegister.Edit",component:I5e,meta:{auth:!0,permission:"break_down_registers.view"}},{path:"/checks",name:"checks.Index",component:Bre,meta:{auth:!0,permission:"checks.view"}},{path:"/checks/create",name:"Checks.Create",component:Mse,meta:{auth:!0,permission:"checks.create"}},{path:"/checks/:check_id/edit",name:"Checks.Edit",component:Mse,meta:{auth:!0,permission:"checks.update"}},{path:"/components",name:"Componet.Index",component:ZQe},{path:"/components/create",name:"Componet.Create",component:BVe},{path:"/components/service",name:"Componet.Service",component:kFe},{path:"/components/inhouse_service",name:"Componet.Service2",component:GFe},{path:"/components/maintenance",name:"Componet.Maintenance",component:eMe},{path:"/assets/activity",name:"Asset.Activity",component:uFe},{path:"/role",name:"Role",component:Uke,meta:{auth:!0,permission:"roles.view"}},{path:"/users",name:"Users.Index",component:khe,meta:{auth:!0,permission:"users.view"}},{path:"/in_active_users",name:"InActiveUsers.Index",component:tye,meta:{auth:!0,permission:"All"}},{path:"/user/create",name:"Users.Create",component:xve,meta:{auth:!0,permission:"users.create"}},{path:"/users/:user_id/edit",name:"Users.Edit",component:xve,meta:{auth:!0,permission:"users.update"}},{path:"/asset_attributes",name:"AssetAttributes.Index",component:QKe,meta:{auth:!0,permission:"asset_attributes.view"}},{path:"/asset_attributes/create",name:"AssetAttributes.Create",component:IMe,meta:{auth:!0,permission:"asset_attributes.create"}},{path:"/asset_attributes/:asset_attribute_id/edit",name:"AssetAttributes.Edit",component:IMe,meta:{auth:!0,permission:"asset_attributes.update"}},{path:"/spare_attributes",name:"SpareAttributes.Index",component:mBe,meta:{auth:!0,permission:"spare_attributes.view"}},{path:"/spare_attributes/create",name:"SpareAttributes.Create",component:CJe,meta:{auth:!0,permission:"spare_attributes.create"}},{path:"/spare_attributes/:spare_attribute_id/edit",name:"SpareAttributes.Edit",component:CJe,meta:{auth:!0,permission:"spare_attributes.update"}},{path:"/data_source_attributes",name:"DataSourceAttributes.Index",component:BOe,meta:{auth:!0,permission:"data_source_attributes.view"}},{path:"/data_source_attributes/create",name:"DataSourceAttributes.Create",component:sOe,meta:{auth:!0,permission:"data_source_attributes.create"}},{path:"/data_source_attributes/:data_source_attribute_id/edit",name:"DataSourceAttributes.Edit",component:sOe,meta:{auth:!0,permission:"data_source_attributes.update"}},{path:"/variable_attributes",name:"VariableAttributes.Index",component:$Ye,meta:{auth:!0,permission:"variable_attributes.view"}},{path:"/variable_attributes/create",name:"VariableAttributes.Create",component:jHe,meta:{auth:!0,permission:"variable_attributes.create"}},{path:"/variable_attributes/:variable_attribute_id/edit",name:"VariableAttributes.Edit",component:jHe,meta:{auth:!0,permission:"variable_attributes.update"}},{path:"/service_attributes",name:"ServiceAttributes.Index",component:nGe,meta:{auth:!0,permission:"service_attributes.view"}},{path:"/service_attributes/create",name:"ServiceAttributes.Create",component:hZe,meta:{auth:!0,permission:"service_attributes.create"}},{path:"/service_attributes/:service_attribute_id/edit",name:"ServiceAttributes.Edit",component:hZe,meta:{auth:!0,permission:"service_attributes.update"}},{path:"/break_down_attributes",name:"BreakDownAttributes.Index",component:I0e,meta:{auth:!0,permission:"break_down_attributes.view"}},{path:"/break_down_attributes/create",name:"BreakDownAttributes.Create",component:ZGe,meta:{auth:!0,permission:"break_down_attributes.create"}},{path:"/break_down_attributes/:break_down_attribute_id/edit",name:"BreakDownAttributes.Edit",component:ZGe,meta:{auth:!0,permission:"break_down_attributes.update"}},{path:"/activity_attributes",name:"ActivityAttributes.Index",component:C2e,meta:{auth:!0,permission:"activity_attributes.view"}},{path:"/activity_attributes/create",name:"ActivityAttributes.Create",component:D1e,meta:{auth:!0,permission:"activity_attributes.create"}},{path:"/activity_attributes/:activity_attribute_id/edit",name:"ActivityAttributes.Edit",component:D1e,meta:{auth:!0,permission:"activity_attributes.update"}},{path:"/deviations",name:"Deviations.Index",component:LCe,meta:{auth:!0,permission:"All"}},{path:"/process_deviations",name:"ProcessDeviations.Index",component:BEe,meta:{auth:!0,permission:"All"}},{path:"/completed_process_deviations",name:"CompletedProcessDeviations.Index",component:Hxe,meta:{auth:!0,permission:"All"}},{path:"/completed_deviations",name:"CompletedDeviations",component:Fwe,meta:{auth:!0,permission:"All"}},{path:"/breakdown_reports",name:"BreakDownReports",component:tSe,meta:{auth:!0,permission:"break_down_reports.view"}},{path:"/pendings",name:"Pendings.Index",component:qXe,meta:{auth:!0,permission:"All"}},{path:"/UpcomingJobs",name:"UpcomingJobs.Index",component:APe,meta:{auth:!0,permission:"All"}},{path:"/vendor_list/:asset_id",name:"VendorList.Index",component:v$e,meta:{auth:!0,permission:"All"}},{path:"/downloaded_reports",name:"DownloadedReports",component:Wna,meta:{auth:!0,permission:"downloaded_reports.view"}},{path:"/asset_reports",name:"AssetReports.Index",component:Hfe,meta:{auth:!0,permission:"asset_reports.view"}},{path:"/asset_reports/:type/:id/view",name:"ViewAssetReport",component:Via,meta:{auth:!0,permission:"asset_reports.view"}},{path:"/spares",name:"Spares.Index",component:cne,meta:{auth:!0,permission:"spares.view"}},{path:"/spares/create",name:"Spares.Create",component:Ede,meta:{auth:!0,permission:"spares.create"}},{path:"/spares/:spare_id/edit",name:"Spares.Edit",component:Ede,meta:{auth:!0,permission:"spares.update"}},{path:"/services",name:"Services.Index",component:toe,meta:{auth:!0,permission:"services.view"}},{path:"/services/create",name:"Services.Create",component:vie,meta:{auth:!0,permission:"services.create"}},{path:"/services/:service_id/edit",name:"Services.Edit",component:vie,meta:{auth:!0,permission:"services.update"}},{path:"/variables",name:"Variables.Index",component:Pue,meta:{auth:!0,permission:"variables.view"}},{path:"/variables/create",name:"Variables.Create",component:Uce,meta:{auth:!0,permission:"variables.create"}},{path:"/variables/:variable_id/edit",name:"Varaibles.Edit",component:Uce,meta:{auth:!0,permission:"variables.update"}},{path:"/data_sources",name:"DataSources.Index",component:Fpe,meta:{auth:!0,permission:"data_sources.view"}},{path:"/data_sources/create",name:"DataSources.Create",component:Y_e,meta:{auth:!0,permission:"data_sources.create"}},{path:"/data_sources/:data_source_id/edit",name:"DataSources.Edit",component:Y_e,meta:{auth:!0,permission:"data_sources.update"}},{path:"/break_down_lists",name:"BreakDownLists.Index",component:Nbe,meta:{auth:!0,permission:"All"}},{path:"/break_down_lists/create",name:"BreakDownLists.Create",component:obe,meta:{auth:!0,permission:"All"}},{path:"/break_down_lists/:break_down_list_id/edit",name:"BreakDownLists.Edit",component:obe,meta:{auth:!0,permission:"All"}},{path:"/asset_attributes",name:"AssetAttributes",component:P8e,meta:{auth:!0,permission:"All"}},{path:"/spre_attributes",name:"SpareAttributes",component:P8e,meta:{auth:!0,permission:"All"}},{path:"/service_attributes",name:"ServiceAttributes",component:P8e,meta:{auth:!0,permission:"All"}},{path:"/break_down_attributes",name:"BreakDownAttributes",component:P8e,meta:{auth:!0,permission:"All"}},{path:"/break_down_lists",name:"BreakDownLists",component:P8e,meta:{auth:!0,permission:"All"}},{path:"/process_registers",name:"ProcessRegisters.Index",component:w4e,meta:{auth:!0,permission:"process_registers.view"}},{path:"/process_registers/create",name:"CreateProcessRegister.Create",component:I3e,meta:{auth:!0,permission:"process_registers.create"}},{path:"/process_registers/:user_variable_id/edit",name:"CreateProcessRegister.Edit",component:I3e,meta:{auth:!0,permission:"process_registers.update"}},{path:"/process_registers/:user_variable_id/view",name:"ViewProcessRegister",component:Y2e,meta:{auth:!0,permission:"process_registers.view"}},{path:"/spare_registers",name:"SpareRegisters",component:P8e},{path:"/qc_registers",name:"QCRegisters",component:P8e},{path:"/asset_details",name:"AssetDetails",component:e9e,meta:{auth:!0,permission:"asset_details.view"}},{path:"/geometric/:asset_id",name:"Geometric",component:G9e,meta:{auth:!0,permission:"asset_details.geometry_types"}},{path:"/horizontal_geometric/:asset_id",name:"Horizontal_Geometric",component:G7e,meta:{auth:!0,permission:"asset_details.geometry_types"}},{path:"/spare_campaigns",name:"SpareCompaingn",component:d6e,meta:{auth:!0,permission:"spare_campaigns.view"}},{path:"/process_trends",name:"ProcessTrends",component:saa,meta:{auth:!0,permission:"process_trends.view"}},{path:"/ppms_datas",name:"PpmsDatas",component:gsa,meta:{auth:!0,permission:"ppms_data.view"}},{path:"/ppms_statistics",name:"PpmsStatistics",component:ara,meta:{auth:!0,permission:"ppms_statistics.view"}},{path:"/bulk_vendors",name:"BulkUpdateVendors",component:Xoa,meta:{auth:!0,permission:"update_vendors.bulk"}},{path:"/check_alerts",name:"CheckAlert",component:Rda,meta:{auth:!0,permission:"alerts.view"}},{path:"/tlc_lab_report",name:"TLCLabReport",component:ina,meta:{auth:!0,permission:"tlc_lab_report.view"}},{path:"/compliance",name:"Compliance",component:P8e,meta:{auth:!0,permission:"All"}},{path:"/deviations_review",name:"Deviations",component:P8e,meta:{auth:!0,permission:"All"}},{path:"/alerts",name:"Alerts",component:P8e,meta:{auth:!0,permission:"All"}},{path:"/asset_life",name:"AssetLife",component:P8e,meta:{auth:!0,permission:"All"}},{path:"/upcoming_repairs",name:"UpcomingRepairs",component:P8e,meta:{auth:!0,permission:"All"}},{path:"/pending_jobs",name:"PendingJobs.Index",component:JSe,meta:{auth:!0,permission:"job_pending_reports.view"}},{path:"/deviation_reports",name:"DeviationReport.Index",component:YAe,meta:{auth:!0,permission:"deviation_reports.view"}},{path:"/refractory_consumption_reports",name:"RefractoryConsumptionReport.Index",component:eTe,meta:{auth:!0,permission:"refractory_consumption_reports.view"}},{path:"/stl_daily_reports",name:"StlDailyReport.Index",component:KTe,meta:{auth:!0,permission:"stl_daily_reports.view"}},{path:"/tlc_daily_reports",name:"TlcDailyReport.Index",component:jQe,meta:{auth:!0,permission:"tlc_daily_reports.view"}},{path:"/offline_logs",name:"OfflineLogs",component:Lca,meta:{auth:!0,permission:"uploaded_logs.view"}},{path:"/error",name:"Error",component:Pca,meta:{auth:!0,permission:"All"}}],Sca=(0,La.aE)({history:(0,La.Bt)(),routes:$ca,scrollBehavior(e,a,t){return{top:0}}});Sca.beforeEach((function(e,a,t){if("/error"!==e.path)if(e.meta.auth&&!xa.getters.user)t("/");else if(e.meta.unAuth&&xa.getters.user)t("/dashboard");else{let a=xa.getters.permissions;if("All"==e.meta.permission)t();else if(a.length>0){let s=a.filter((function(a){return a.ability.ability==e.meta.permission||"All"==e.meta.permission}));s.length>0?t():t("/error")}else t("/error")}else t()}));var Aca=Sca,Dca=t(3699),Tca=t(9119),Qca=t(5129),Vca=t.n(Qca);const Fca=(0,s.Ef)(fa);Fca.use(xa),Fca.use(Aca),Fca.use(Tca.Ay),Fca.use(Vca()),Fca.use(Dca.LoadingPlugin),Fca.directive("can",{mounted(e,a){let t=xa.getters.permissions,s=xa.getters.user;if(!t||0===t.length||!s)return void e.parentNode?.removeChild(e);let r=Array.isArray(a.value)?a.value:[a.value],l=r.some((e=>t.some((a=>a.ability?.ability===e))));l||e.parentNode?.removeChild(e)}}),Fca.mount("#app")},5751:function(e,a,t){"use strict";t.d(a,{A:function(){return v}});var s=t(6768),r=t(4232),l=t(5130);const i={class:"search-inner"},o=["tabindex","value","disabled"],d={key:0,class:"search-dropdown"},n={key:0,class:"table table-responsive-sm table-bordered table-striped table-sm search-list"},c=["onMousedown","onMouseover"],u={key:0},_={key:1};function p(e,a,t,p,m,b){return(0,s.uX)(),(0,s.CE)("div",{class:(0,r.C4)([m.isOpen?"search search-open":"search"])},[(0,s.Lk)("div",i,[(0,s.Lk)("input",{class:(0,r.C4)(["form-control search-selected",t.customClass]),ref:"toggle",tabindex:t.tabindex,value:b.selectedText,disabled:t.disabled,onClick:a[0]||(a[0]=(...e)=>b.onToggle&&b.onToggle(...e)),onKeydown:a[1]||(a[1]=(...e)=>b.onKey&&b.onKey(...e)),style:(0,r.Tr)(t.style)},null,46,o),(0,s.bF)(l.eB,{name:"fade",mode:"out-in"},{default:(0,s.k6)((()=>[m.isOpen?((0,s.uX)(),(0,s.CE)("div",d,[(0,s.Lk)("div",{class:"search-input_wrap",style:(0,r.Tr)(t.style)},[(0,s.Lk)("input",{type:"text",class:"form-control search-input",autocomplete:"off",placeholder:"Search...",ref:"search",onBlur:a[2]||(a[2]=(...e)=>b.onBlur&&b.onBlur(...e)),onInput:a[3]||(a[3]=(...e)=>b.onSearch&&b.onSearch(...e)),onKeydown:[a[4]||(a[4]=(0,l.jR)(((...e)=>b.onEsc&&b.onEsc(...e)),["esc"])),a[5]||(a[5]=(0,l.jR)(((...e)=>b.onUpKey&&b.onUpKey(...e)),["up"])),a[6]||(a[6]=(0,l.jR)(((...e)=>b.onDownKey&&b.onDownKey(...e)),["down"])),a[7]||(a[7]=(0,l.jR)(((...e)=>b.onEnterKey&&b.onEnterKey(...e)),["enter"]))]},null,544)],4),m.results?.length?((0,s.uX)(),(0,s.CE)("table",n,[(0,s.Lk)("tbody",null,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(m.results,((e,a)=>((0,s.uX)(),(0,s.CE)("tr",{class:(0,r.C4)(["search-item",["search-link",m.selectIndex===a?"search-active":""]]),onMousedown:(0,l.D$)((a=>b.select(e)),["prevent"]),onMouseover:(0,l.D$)((e=>b.onMouse(a)),["prevent"]),key:a},[e[t.label2]?((0,s.uX)(),(0,s.CE)("td",u,(0,r.v_)(e[t.label]+" :: "+e[t.label2]),1)):((0,s.uX)(),(0,s.CE)("td",_,(0,r.v_)(e[t.label]),1))],42,c)))),128))])])):(0,s.Q3)("",!0)])):(0,s.Q3)("",!0)])),_:1})])],2)}var m={props:{customClass:{default:""},initialize:{default:null},id:{default:null},label:{default:null},label2:{default:null},placeholder:{default:"Select One"},data:{default:null},tabindex:{default:0},disabled:{default:!1},style:{default:null}},data(){return{selectIndex:-1,isOpen:!1,search:"",results:[],query:{search:""},temp:[]}},computed:{selectedText(){let e=this;if(e.initialize){let a=e.data?.filter((function(a){return a[e.id]==e.initialize}));return a&&0!=a.length?a[0][e.label2]?a[0][e.label]+" :: "+a[0][e.label2]:a[0][e.label]:e.placeholder}return e.placeholder}},methods:{focus:function(){this.$refs.toggle.focus()},onToggle(){this.isOpen?this.isOpen=!1:this.open()},onKey(e){const a=e.KeyCode||e.which;e.shiftKey||9===a||this.isOpen||this.open()},open(){this.fetchData(""),this.isOpen=!0,this.$nextTick((()=>{this.$refs.search.focus()}))},fetchData(e){let a=this;a.results=""==e?a.data:a.data.filter((function(t){return t[a.label2]?t[a.label].toLowerCase().includes(e)||t[a.label2].toLowerCase().includes(e):t[a.label].toLowerCase().includes(e)}))},onBlur(){this.close()},onEsc(){this.close()},close(){this.results=[],this.isOpen=!1,this.search="",this.selectIndex=-1},onSearch(e){const a=e.target.value;this.selectIndex=0,this.fetchData(a)},onUpKey(){this.selectIndex>0&&this.selectIndex--},onDownKey(){this.results.length-1>this.selectIndex&&this.selectIndex++},onEnterKey(){const e=this.results[this.selectIndex];e&&this.select(e)},select(e){this.$emit("input",e[this.id]),this.$emit("selected",e[this.id]),this.$emit("input1",e[this.label]),this.$emit("selectsearch"),this.close()},onMouse(e){this.selectIndex=e}}},b=t(1241);const k=(0,b.A)(m,[["render",p]]);var v=k}},a={};function t(s){var r=a[s];if(void 0!==r)return r.exports;var l=a[s]={id:s,loaded:!1,exports:{}};return e[s].call(l.exports,l,l.exports,t),l.loaded=!0,l.exports}t.m=e,function(){var e=[];t.O=function(a,s,r,l){if(!s){var i=1/0;for(c=0;c<e.length;c++){s=e[c][0],r=e[c][1],l=e[c][2];for(var o=!0,d=0;d<s.length;d++)(!1&l||i>=l)&&Object.keys(t.O).every((function(e){return t.O[e](s[d])}))?s.splice(d--,1):(o=!1,l<i&&(i=l));if(o){e.splice(c--,1);var n=r();void 0!==n&&(a=n)}}return a}l=l||0;for(var c=e.length;c>0&&e[c-1][2]>l;c--)e[c]=e[c-1];e[c]=[s,r,l]}}(),function(){t.n=function(e){var a=e&&e.__esModule?function(){return e["default"]}:function(){return e};return t.d(a,{a:a}),a}}(),function(){t.d=function(e,a){for(var s in a)t.o(a,s)&&!t.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:a[s]})}}(),function(){t.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){t.o=function(e,a){return Object.prototype.hasOwnProperty.call(e,a)}}(),function(){t.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){t.nmd=function(e){return e.paths=[],e.children||(e.children=[]),e}}(),function(){t.p="/"}(),function(){var e={524:0};t.O.j=function(a){return 0===e[a]};var a=function(a,s){var r,l,i=s[0],o=s[1],d=s[2],n=0;if(i.some((function(a){return 0!==e[a]}))){for(r in o)t.o(o,r)&&(t.m[r]=o[r]);if(d)var c=d(t)}for(a&&a(s);n<i.length;n++)l=i[n],t.o(e,l)&&e[l]&&e[l][0](),e[l]=0;return t.O(c)},s=self["webpackChunkmotar_management_vue_js_app"]=self["webpackChunkmotar_management_vue_js_app"]||[];s.forEach(a.bind(null,0)),s.push=a.bind(null,s.push.bind(s))}();var s=t.O(void 0,[504],(function(){return t(1062)}));s=t.O(s)})();
//# sourceMappingURL=app.3fc06a06.js.map